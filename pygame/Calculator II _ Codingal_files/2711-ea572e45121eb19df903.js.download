"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2711],{74736:function(e,t,n){var r=n(94184),s=n.n(r),i=n(80628),o=n(85893);t.Z=function(e){var t=e.title,n=e.activeAccordion,r=e.setActiveAccordion,a=e.children,c=e.ButtonComponent,l=void 0===c?null:c,d=e.buttonComponentData,u=void 0===d?null:d,p=n===t,x=function(){return r(p?"":t)};return(0,o.jsxs)("div",{children:[l&&u?(0,o.jsx)(l,{data:u,isOpen:p,onClick:x}):(0,o.jsxs)("button",{className:"flex justify-between w-full py-3 group focus:outline-none",onClick:x,children:[(0,o.jsx)("span",{className:"text-grey font-600 group-hover:text-orange",children:t}),(0,o.jsx)(i.Z,{className:s()("text-grey-800 group-hover:text-orange transform duration-200 transition-all ease-in-out",{"rotate-90":p})})]}),(0,o.jsx)("div",{className:s()("text-sm duration-500 ease-in-out text-grey",{"border-b border-grey-500 overflow-x-hidden":!l},{"overflow-hidden":l}),style:{maxHeight:p?"100vh":"0px"},children:(0,o.jsx)("div",{children:a})})]})}},76938:function(e,t,n){var r=n(23634),s=n(31960),i=n(6661),o=n(8056),a=n(94184),c=n.n(a),l=n(85893),d=o.y7.MALE,u=o.y7.FEMALE,p=i.V.MALE_AVATAR,x=i.V.FEMALE_AVATAR,f=i.V.UNSPECIFIED_AVATAR;t.Z=function(e){var t=e.image,n=e.name,i=e.size,o=e.userGender,a=e.isNotCurrentUser,m=void 0!==a&&a,h=e.imageClass,v=void 0===h?"border-white":h,b=e.className,g="big"===i?"h-24 w-24":"medium"===i?"h-12 w-12":"tiny"===i?"h-6 w-6":"h-8 w-8",j=(0,s.T)(),N=j.avatar,y=j.gender,S=o||!m&&y,E=S===d?p:S===u?x:f,O=t||(m?E:N||E);return(0,l.jsxs)("div",{className:c()("flex-shrink-0 flex flex-col items-center justify-center",b),children:[(0,l.jsx)("img",{src:O,alt:n||r.ag._("Profile Image"),className:"".concat(g," rounded-full border ").concat(v)}),n&&(0,l.jsx)("span",{className:"text-grey-800 capitalize mt-2 text-center",children:n})]})}},38138:function(e,t,n){var r=n(92809),s=n(72262),i=n(2962),o=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t;return(0,o.jsx)(i.PB,c(c({},e),{},{title:(0,s.ZN)(null===e||void 0===e?void 0:e.title),description:(0,s.ZN)(null===e||void 0===e?void 0:e.description),openGraph:c(c({},null===e||void 0===e?void 0:e.openGraph),{},{title:(0,s.ZN)(null===e||void 0===e?void 0:e.openGraph.title),description:(0,s.ZN)(null===e||void 0===e||null===(t=e.openGraph)||void 0===t?void 0:t.description)})}))}},51947:function(e,t,n){var r=n(29238),s=n.n(r),i=n(67294),o=n(85893);t.Z=function(e){var t=e.className,n=e.content,r=e.options,a=void 0===r?{}:r,c=e.willOpenLinksInNewTab,l=void 0!==c&&c,d=(0,i.useRef)(null);return(0,i.useEffect)((function(){l&&d.current.querySelectorAll("a").forEach((function(e){return e.setAttribute("target","_blank")}))}),[l]),(0,o.jsx)("div",{ref:d,className:"rich-text-content ".concat(t),dangerouslySetInnerHTML:{__html:s().sanitize(n,a)}})}},20701:function(e,t,n){var r=n(67294),s=n(67631),i=n.n(s),o=n(92876),a=n(85893),c="application/vnd.apple.mpegurl",l=["video/mp4","video/webm",c];t.Z=function(e){var t=e.src,n=e.poster,s=e.autoplay,d=void 0!==s&&s,u=e.isVideoSourceMux,p=void 0!==u&&u,x=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=x.current;if(e){if(e.controls=!0,p?e.canPlayType(c):l.some((function(t){return e.canPlayType(t)})))e.src=t,e.autoplay=d;else if(i().isSupported()){var n=new(i());n.loadSource(t),n.attachMedia(e)}else o.uT("This is an old browser that does not support MSE https://developer.mozilla.org/en-US/docs/Web/API/Media_Source_Extensions_API");e.onplay=f}}),[t,x]);var f=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return(0,a.jsx)("video",{className:"max-w-full max-h-full rounded-lg focus:outline-none",ref:x,poster:n,onTouchEnd:f})}},63182:function(e,t,n){var r=n(20701),s=n(67294),i=n(85893),o="class-video-container";t.Z=function(e){var t=e.videoUploadData,n=(0,s.useState)(0),a=n[0],c=n[1],l=t.details.embed;return(0,s.useEffect)((function(){c(document.getElementById(o).offsetWidth)}),[]),(0,s.useEffect)((function(){if(l){document.getElementById(o).innerHTML=t.details.embed.html;var e=document.getElementById(o).firstChild;e.width=a,e.height=.5*a}}),[a,l]),(0,i.jsx)("div",{className:"flex items-center justify-center w-full",id:o,children:!l&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z,{src:t.link.replace("https://cdn.codingal.com/","https://codingal.s3.amazonaws.com/")})})})}},69982:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(92809),s=n(30266),i=n(809),o=n.n(i),a=n(67294),c=n(19889),l=n(81292),d=n(20640),u=n(36580),p=n(11031),x=n(92876),f=n(85893),m=function(e){var t=e.setIsOpen,n=e.onProjectSubmit,r=e.isOpen,i=e.studentId,m=e.classroomId,h=e.activityId,v=e.projectTitle,b=(0,a.useState)(""),g=b[0],j=b[1],N=(0,a.useState)(!1),y=N[0],S=N[1],E=function(){var e=(0,s.Z)(o().mark((function e(r){var s,a,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s=JSON.stringify({studentId:i,classroomId:m,activityId:h,projectUrl:g,projectTitle:v}),S(!0),e.prev=3,e.next=6,(0,l.CClient)("/api/v1/students/".concat(i,"/projects/"),{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 6:if(!(a=e.sent).ok){e.next=15;break}c.Z.success("Your project was successfully submitted!",{hideAfter:3}),S(!1),n(i,h,g),j(""),t(!1),e.next=25;break;case 15:if(400!==a.status){e.next=24;break}return e.next=18,a.json();case 18:d=e.sent,u=(0,l.flattenErrorsDictValues)(d),S(!1),(0,l.showErrorAlert)({text:u.join("\n")}),e.next=25;break;case 24:throw Error(a.statusText);case 25:e.next=32;break;case 27:e.prev=27,e.t0=e.catch(3),x.Tb(e.t0),S(!1),(0,l.showErrorAlert)({text:"There was an error submitting your project. Please try again!"});case 32:case"end":return e.stop()}}),e,null,[[3,27]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(p.Z,{id:v,isOpen:r,setIsOpen:t,children:(0,f.jsxs)("form",{className:"flex flex-col px-4 mb-2 overflow-hidden bg-white rounded",onSubmit:E,children:[(0,f.jsx)("h2",{className:"text-grey font-600",children:"Enter the project URL"}),(0,f.jsx)(d.Z,{id:"project-url",name:"project-url",placeholder:"Enter Here",autoComplete:"off",value:g,required:!0,onChange:function(e){return j(e.currentTarget.value)}}),(0,f.jsxs)("div",{className:"flex mt-5",children:[(0,f.jsx)("button",{className:"btn btn-orange",disabled:y,children:y?(0,f.jsx)(u.Z,{classes:"h-5 w-5 text-white"}):(0,f.jsx)(f.Fragment,{children:"Submit"})}),(0,f.jsx)("button",{className:"ml-6 font-500",onClick:function(){return t(!1)},children:"Cancel"})]})]})})},h=n(31960),v=n(74736),b=n(76938),g=n(94184),j=n.n(g),N=n(27434),y=function(e){var t=e.data,n=e.isOpen,r=e.onClick;return(0,f.jsxs)("button",{onClick:r,className:"flex items-center w-full px-5 py-3 mt-3 rounded-md focus:outline-none bg-grey-300 group",children:[(0,f.jsx)(b.Z,{isNotCurrentUser:!0,image:t.avatar}),(0,f.jsxs)("div",{className:"flex flex-col items-start ml-5 leading-tight",children:[(0,f.jsx)("span",{className:"text-orange font-600 group-hover:underline",children:t.name}),(0,f.jsx)("span",{className:"text-sm text-grey-800",children:t.grade})]}),(0,f.jsx)(N.Z,{className:j()("text-grey-800 group-hover:text-orange transform duration-300 transition-all ease-in-out ml-auto",{"rotate-180":n}),width:30})]})},S=function(e){var t=e.activity,n=e.index,r=e.isTeacher,s=e.handleProjectSubmitClick;return(0,f.jsxs)("div",{className:"py-4 border-b text-grey font-600 border-grey-500 last:border-0",children:[(0,f.jsxs)("p",{className:"text-lg",children:["Activity ",n+1]}),(0,f.jsx)("p",{className:"mt-3 text-base",children:t.title}),t.projectUrl&&(0,f.jsx)("a",{className:"text-base break-all text-orange hover:underline",href:t.projectUrl,target:"_blank",rel:"noreferrer",children:t.projectUrl}),!r&&!t.projectUrl&&(0,f.jsx)("button",{className:"px-4 py-1 mt-2 text-base border rounded text-orange font-600 border-orange focus:outline-none",onClick:function(){return s(t.id,t.title)},children:"Submit link"}),r&&!t.projectUrl&&(0,f.jsx)("div",{className:"px-4 py-2 mt-2 text-sm bg-orange-200 border-l-4 border-orange font-400",children:"Not submitted by student"})]})},E=n(35629),O=n(6463),T=n(73973);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.classroomActivities,n=e.submittedInClassroomAssignments,r=e.classroomId,s=e.isTeacher,i=void 0!==s&&s,o=e.students,c=void 0===o?[]:o,l=e.batchId,d=(0,h.T)(),u=d.student,p=d.name,x=d.avatar,b=(0,a.useState)(!1),g=b[0],N=b[1],w=(0,a.useState)([]),A=w[0],C=w[1],_=(0,a.useState)({activityId:null,activityTitle:""}),k=_[0],D=_[1],L=(0,a.useState)(""),R=L[0],P=L[1],U=(0,a.useState)(!1),Z=U[0],F=U[1],G=(0,a.useState)(null),z=G[0],M=G[1],V=function(e,t){D({activityId:e,activityTitle:t}),N(!0)};return(0,a.useEffect)((function(){!function(){var e=(u?[{name:p,grade:u.grade,studentId:u.id,avatar:x}]:c.map((function(e){return{name:e.name,grade:e.grade,studentId:e.id,avatar:e.avatar}}))).map((function(e){return{student:e,activities:t.map((function(e){return I(I({},e),{},{projectUrl:""})}))}}));null===n||void 0===n||n.forEach((function(t){var n,r,s=null===e||void 0===e?void 0:e.findIndex((function(e){var n=e.student;return(null===n||void 0===n?void 0:n.studentId)===(null===t||void 0===t?void 0:t.studentId)}));if(!("number"!==typeof s||s<0)){var i=null===e||void 0===e||null===(n=e[s])||void 0===n||null===(r=n.activities)||void 0===r?void 0:r.findIndex((function(e){return e.id===(null===t||void 0===t?void 0:t.activityId)}));"number"!==typeof i||i<0||(e[s].activities[i].projectUrl=t.projectUrl)}})),C(e)}()}),[]),(0,f.jsxs)("div",{className:j()("relative flex flex-col flex-1 bg-white rounded-lg shadow-md border-grey-400 border",{"p-5":A.length>1,"px-10 py-5":A.length<=1}),children:[(0,f.jsxs)("div",{className:"absolute w-full h-10",style:{marginLeft:A.length>1?"-24px":"-44px"},children:[(0,f.jsx)("div",{className:"w-0 h-0 -ml-2",style:{borderBottom:"10px solid #FF5A43",borderLeft:"12px solid transparent"}}),(0,f.jsx)("p",{className:"flex items-center w-full h-16 pl-8 -ml-2 space-x-2 text-xl text-white font-600 bg-orange",style:{left:"-12px",borderTop:"32px solid #ff5a44",borderBottom:"32px solid #ff5a44",borderRight:"15px solid #fff"},children:i?"Activities done by student in class":"Activites done by me in class"})]}),(0,f.jsxs)("div",{className:"flex flex-col mt-20",children:[A.length>1&&A.map((function(e){var t=e.activities,n=e.student;return(0,f.jsx)(v.Z,{title:n.name,activeAccordion:R,setActiveAccordion:P,ButtonComponent:y,buttonComponentData:n,children:(0,f.jsxs)("div",{className:"px-5",children:[(0,f.jsx)("div",{children:t.map((function(e,t){return(0,f.jsx)(S,{activity:e,handleProjectSubmitClick:V,index:t,isTeacher:i},e.id)}))}),i&&(0,f.jsxs)("div",{className:"pt-1 pb-4",children:[(0,f.jsxs)("p",{className:"text-orange inline-block font-600 cursor-pointer text-lg",onClick:function(){F(!0),M(n)},children:["Submit Activity"," "]}),(0,f.jsx)(E.Z,{className:"inline-block relative",showOnHover:!0,placement:"bottom-start",content:(0,f.jsxs)("p",{className:"p-2 text-grey w-64",children:["You are submitting this activity on behalf of"," ",n.name]}),children:(0,f.jsx)(T.Z,{className:"ml-2 -mb-1 text-grey-800",size:16})})]})]})},n.studentId)})),1===A.length&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:A[0].activities.map((function(e,t){return(0,f.jsx)(S,{activity:e,handleProjectSubmitClick:V,index:t,isTeacher:i},e.id)}))}),i&&(0,f.jsxs)("div",{className:"pt-2 pb-4",children:[(0,f.jsxs)("p",{className:"text-orange inline-block font-600 cursor-pointer text-lg",onClick:function(){F(!0),M(A[0].student)},children:["Submit Activity"," "]}),(0,f.jsx)(E.Z,{className:"inline-block relative",showOnHover:!0,placement:"bottom-start",content:(0,f.jsxs)("p",{className:"p-2 text-grey w-64",children:["You are submitting this activity on behalf of"," ",A[0].student.name]}),children:(0,f.jsx)(T.Z,{className:"ml-2 -mb-1 text-grey-800",size:16})})]})]}),!i&&(0,f.jsx)(m,{studentId:u.id,classroomId:r,activityId:k.activityId,projectTitle:k.activityTitle,isOpen:g,setIsOpen:N,onProjectSubmit:function(e,t,n){var r,s,i=null===A||void 0===A?void 0:A.findIndex((function(t){return t.student.studentId===e}));if(!("number"!==typeof i||i<0)){var o=null===A||void 0===A||null===(r=A[i])||void 0===r||null===(s=r.activities)||void 0===s?void 0:s.findIndex((function(e){return e.id===t}));if(!("number"!==typeof o||o<0)){var a=A;a[i].activities[o].projectUrl=n,C(a)}}}}),i&&z&&(0,f.jsx)(O.Z,{setIsOpen:F,isOpen:Z,classroomId:r,batchId:l,classroomActivities:t,studentDetails:z,isTeacher:i,isReload:!0})]})]})}},57904:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(88041),s=n(65988),i=n(51947),o=n(85893),a=function(e){var t=e.title,n=e.activity,r=n.title,a=n.outline,c=n.projectUrl,l=n.solution,d=n.assets;return(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col",children:[(0,o.jsx)("div",{className:"jsx-1279920130 relative h-10",children:(0,o.jsx)("p",{className:"jsx-1279920130 ribbon text-2xl font-600 flex items-center text-white bg-orange-400 w-64 h-10 px-10 absolute",children:(0,o.jsx)("span",{className:"jsx-1279920130",children:t})})}),(0,o.jsxs)("div",{className:"jsx-1279920130 text-grey-800 px-10 mt-5 flex flex-col space-y-4",children:[r&&(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col space-y-3",children:[(0,o.jsx)("span",{className:"jsx-1279920130 text-grey text-xl font-600",children:"Title"}),(0,o.jsx)("span",{className:"jsx-1279920130 text-grey-800",children:r})]}),a&&(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col space-y-3",children:[(0,o.jsx)("span",{className:"jsx-1279920130 text-grey text-xl font-600 ",children:"Short description:"}),(0,o.jsx)(i.Z,{className:"text-grey-800",content:a})]}),c&&(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col space-y-3",children:[(0,o.jsx)("span",{className:"jsx-1279920130 text-grey text-xl font-600",children:"Link"}),(0,o.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"jsx-1279920130 text-orange underline font-600",children:r})]}),l&&(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col space-y-3",children:[(0,o.jsx)("span",{className:"jsx-1279920130 text-grey text-xl font-600",children:"Solution"}),(0,o.jsx)(i.Z,{className:"text-grey-800",content:l})]}),d&&(0,o.jsxs)("div",{className:"jsx-1279920130 flex flex-col space-y-3 assets",children:[(0,o.jsx)("span",{className:"jsx-1279920130 text-grey text-xl font-600",children:"Activity screenshots"}),(0,o.jsx)(i.Z,{content:d})]})]}),(0,o.jsx)(s.default,{id:"1279920130",children:[".ribbon.jsx-1279920130{left:-10px;}",".ribbon.jsx-1279920130:before,.ribbon.jsx-1279920130:after{content:'';position:absolute;}",".ribbon.jsx-1279920130:before{height:0;width:0;top:-10px;left:0;border-bottom:10px solid #ff8375;border-left:10px solid transparent;}",".ribbon.jsx-1279920130:after{height:0;width:0;right:0;border-top:20px solid #ff8375;border-bottom:20px solid #ff8375;border-right:20px solid #fff;}"]})]})},c=function(e){var t=e.lesson;return(0,o.jsxs)("div",{className:"flex flex-col bg-white rounded-lg py-10 space-y-8 shadow-md border-grey-400 border",children:[t.overview&&(0,o.jsx)(r.Z,{title:"Overview",content:t.overview}),t.activities.map((function(e,t){return(0,o.jsx)(a,{title:"Activity ".concat(t+1),activity:e},e.title)})),t.outcome&&(0,o.jsx)(r.Z,{title:"Outcome",content:t.outcome}),t.agenda&&(0,o.jsx)(r.Z,{title:"Agenda",content:t.agenda})]})}},17048:function(e,t,n){var r=n(51947),s=n(85893);t.Z=function(e){var t=e.classDetails,n=e.isTeacher,i=void 0!==n&&n;return(0,s.jsxs)("div",{className:"flex flex-col bg-white rounded-lg p-10 select-none shadow-md border-grey-400 border",children:[(0,s.jsxs)("p",{className:"text-grey text-2xl font-600 mt-4",children:["Lesson : ",t.lesson.title]}),(0,s.jsx)(r.Z,{content:t.lesson.outline,className:"text-grey-800 mt-4"}),(0,s.jsxs)("div",{className:"flex space-x-4 md:space-x-10 mt-10",children:[i?(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-grey-700 text-sm",children:"Student name"}),(0,s.jsx)("p",{className:"text-orange font-500",children:t.batch.students[0].name})]}):(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-grey-700 text-sm",children:"Teacher name"}),(0,s.jsx)("p",{className:"text-orange font-500",children:t.teacher.name})]}),(0,s.jsx)("span",{className:"border border-grey-300"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-grey-700 text-sm",children:"Class date & time"}),(0,s.jsx)("p",{className:"text-orange font-500",children:t.startInUserTimezone})]}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"border border-grey-300"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-grey-700 text-sm",children:"Grade"}),(0,s.jsx)("p",{className:"text-orange font-500",children:t.batch.students[0].grade})]})]})]})]})}},21481:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(30266),s=n(809),i=n.n(s),o=n(81292),a=n(61399),c=n(63182),l=n(32044),d=n(66322),u=n(36580),p=(n(67294),n(86178)),x=n(78268),f=n(85893),m=function(e){var t,n=e.currentUploadState,s=e.onCancel,m=e.onRetry,h=e.uploadData,v=h.fileName,b=h.fileSize,g=h.progress,j=h.uploadSpeed,N=e.videoData,y=e.isLoading,S=e.onReplace,E=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"relative",children:[n===l.tS.SUCCESSFUL&&(0,f.jsxs)("div",{className:"w-full flex flex-col items-end",children:[(0,f.jsx)(c.Z,{videoUploadData:N}),(0,f.jsxs)("p",{onClick:S,className:"text-orange font-600 flex items-center cursor-pointer mt-5 mr-10 pr-4 self-end hover:underline",children:[(0,f.jsx)(p.Z,{className:"px-1"}),(0,f.jsx)("span",{children:y?"Loading...":"Replace video"})]})]}),n!==l.tS.SUCCESSFUL&&(0,f.jsxs)(f.Fragment,{children:[null===N||void 0===N||null===(t=N.details)||void 0===t||!t.pictures||N.details.pictures.sizes[8].link.includes("default")?(0,f.jsx)(a.wY,{path:"/images/teacher-dashboard/",name:"fallback-video-thumbnail-class-details",className:"mx-auto px-8 opacity-50 w-10/12",alt:"video fallback image"}):(0,f.jsx)("div",{className:"px-8 opacity-50 w-10/12 mx-auto",children:(0,f.jsx)("img",{src:N.details.pictures.sizes[8].link,className:"rounded-lg"})}),(0,f.jsxs)("div",{className:"absolute top-0 w-full h-full flex items-center justify-center",children:[n===l.tS.INITIAL&&(0,f.jsx)(u.Z,{classes:"w-10 text-orange"}),(n===l.tS.UPLOADING||n===l.tS.RETRY)&&(0,f.jsxs)("div",{className:"flex flex-col rounded-lg py-4 px-5 border w-96 border-grey-500 bg-white",children:[(0,f.jsxs)("div",{className:"flex justify-between mb-1",children:[y?(0,f.jsx)("p",{children:"Processing, please wait..."}):(0,f.jsxs)("div",{className:"flex items-center space-x-5 w-11/12 justify-start",children:[(0,f.jsx)("p",{className:"truncate max-w-3/5",children:v}),(0,f.jsx)("p",{className:"text-tiny text-grey-800",children:(0,o.handleByteConversion)(b,1)})]}),(0,f.jsx)(x.Z,{className:"pl-2 text-grey-800 cursor-pointer",onClick:E})]}),(0,f.jsx)(d.x1,{percent:g,strokeColor:"#FF5A43"}),(0,f.jsxs)("div",{className:"flex text-tiny text-grey-800 justify-between mt-1",children:[!y&&(0,f.jsxs)("p",{children:[g.toFixed(1),"% done"]}),n===l.tS.RETRY?(0,f.jsxs)("p",{onClick:m,className:"text-orange font-600 flex items-center cursor-pointer ml-auto",children:[(0,f.jsx)(p.Z,{className:"px-1"}),(0,f.jsx)("span",{children:"Retry"})]}):(0,f.jsxs)("p",{className:"ml-auto",children:[(0,o.handleByteConversion)(j,1),"/s"]})]})]}),n===l.tS.FAILED&&(0,f.jsxs)("p",{className:"rounded-lg p-6 border bg-white border-grey-500 max-w-3/5 leading-tight relative",children:["There was an error while uploading your video please"," ",(0,f.jsx)("span",{className:"text-orange font-600 inline cursor-pointer",onClick:S,children:"Upload again"}),(0,f.jsx)(x.Z,{className:"pl-2 text-grey-800 cursor-pointer absolute top-0 right-0 mr-2 mt-1",onClick:s})]})]})]})]})},h=n(14016),v=function(e){var t=e.isTeacher,n=void 0!==t&&t,r=e.classId,s=e.videoData;return(0,f.jsx)("div",{className:"flex flex-col bg-white rounded-lg py-10 space-y-8 shadow-md border-grey-400 border",children:(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsxs)("div",{className:"relative h-10 mb-5",children:[(0,f.jsx)("div",{className:"absolute h-0 w-0",style:{top:"-10px",left:"-10px",borderBottom:"10px solid #ff5a43",borderLeft:"10px solid transparent"}}),(0,f.jsx)("p",{className:"text-2xl font-600 flex items-center text-white bg-orange w-64 h-10 px-10 absolute",style:{left:"-10px",borderTop:"20px solid #ff5a43",borderBottom:"20px solid #ff5a43",borderRight:"20px solid #fff"},children:(0,f.jsx)("span",{children:"Class video"})})]}),n?(0,f.jsx)(h.Z,{classId:r,UploadUIComponent:m,videoData:s}):(0,f.jsx)(c.Z,{videoUploadData:s})]})})}},88041:function(e,t,n){var r=n(65988),s=n(51947),i=n(85893);t.Z=function(e){var t=e.title,n=e.content;return(0,i.jsxs)("div",{className:"jsx-4290750477 flex flex-col",children:[(0,i.jsx)("div",{className:"jsx-4290750477 relative h-10",children:(0,i.jsx)("p",{className:"jsx-4290750477 ribbon text-2xl font-600 flex items-center text-white bg-orange-400 w-64 h-10 px-10 absolute",children:(0,i.jsx)("span",{className:"jsx-4290750477",children:t})})}),(0,i.jsx)(s.Z,{content:n,className:"text-grey-800 px-10 mt-5",options:{ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder"]}}),(0,i.jsx)(r.default,{id:"4290750477",children:[".ribbon.jsx-4290750477{left:-10px;}",".ribbon.jsx-4290750477:before,.ribbon.jsx-4290750477:after{content:'';position:absolute;}",".ribbon.jsx-4290750477:before{height:0;width:0;top:-10px;left:0;border-bottom:10px solid #ff8375;border-left:10px solid transparent;}",".ribbon.jsx-4290750477:after{height:0;width:0;right:0;border-top:20px solid #ff8375;border-bottom:20px solid #ff8375;border-right:20px solid #fff;}"]})]})}},14016:function(e,t,n){var r=n(92809),s=n(30266),i=n(809),o=n.n(i),a=n(81292),c=n(32044),l=n(67294),d=n(46737),u=n.n(d),p=n(92876),x=n(50880),f=n(94637),m=n(59028),h=n(43532),v=n(9324),b=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=e.UploadUIComponent,n=e.classId,r=e.videoData,i=e.extraProps,d=(0,l.useState)(null),f=d[0],g=d[1],j=(0,l.useState)(!1),N=j[0],y=j[1],S=(0,l.useState)(null),E=S[0],O=S[1],T=(0,l.useState)(c.tS.INITIAL),w=T[0],I=T[1],A=(0,l.useState)(0),C=A[0],_=A[1],k=(0,l.useState)(0),D=k[0],L=k[1],R=(0,l.useState)("Loading..."),P=R[0],U=R[1],Z=(0,l.useState)(0),F=Z[0],G=Z[1],z=(0,l.useState)(null),M=z[0],V=z[1],B=(0,l.useState)(!1),J=B[0],H=B[1],Y=(0,x.IV)();(0,x.fc)(function(){var e=(0,s.Z)(o().mark((function e(t){var n,r,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.items,e.next=3,$(n);case 3:if(r=e.sent){e.next=7;break}return Y.abort(),e.abrupt("return",!1);case 7:return I(c.tS.UPLOADING),V(new Date),s=r.url,i=r.formFields,e.abrupt("return",{options:{params:i,sendWithFormData:!0,destination:{url:s}}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,x.UT)((function(e){L(e.completed),W(e.loaded)})),(0,x.h_)((function(){q(E)})),(0,x.A9)((function(e){I(c.tS.FAILED),u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Something went wrong, please contact support if error persists."}),p.Tb("uploadStatus: ".concat(e.uploadStatus,". Status text: ").concat(e.uploadResponse.statusText)),te()})),(0,x.zJ)((function(){te()})),(0,l.useEffect)((function(){return r&&g(r),null!==r&&void 0!==r&&r.uploadFinishedOn?I(c.tS.SUCCESSFUL):I(c.tS.INITIAL),null===(null===r||void 0===r?void 0:r.uploadFinishedOn)&&y(!0),function(){return Y.abort()}}),[n]);var W=function(e){var t=new Date;_(e/m.ZP.duration((0,m.ZP)(t).diff(M)).asSeconds())},q=function(){var e=(0,s.Z)(o().mark((function e(t){var r,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=1,e.next=4,(0,a.CClient)("/api/v1/classrooms/".concat(n,"/video/").concat(t,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({uploadFinishedOn:(0,m.ZP)().toISOString()})});case 4:if((r=e.sent).ok){e.next=10;break}return e.next=8,r.json();case 8:throw s=e.sent,new Error((0,a.flattenErrorsDictValues)(s).join("\n"));case 10:return e.next=12,r.json();case 12:i=e.sent,g(i),I(c.tS.SUCCESSFUL),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Something went wrong while verifying upload, please try again."}),I(c.tS.FAILED);case 21:H(!1);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){return Y.showFileUpload()},K=function(){u()({title:"Are you sure?",text:"On replacing the class video, the old video will be lost.",icon:"warning",buttons:[!0,!0],dangerMode:!1}).then((function(e){e&&(y(!0),Q())}))},$=function(){var e=(0,s.Z)(o().mark((function e(t){var r,s,i,l,d,x,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return",null);case 2:if(t&&0!==t.length){e.next=5;break}return u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Please select a file to upload."}),e.abrupt("return",null);case 5:if(!(t.length>1)){e.next=8;break}return u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Please select only one file for upload."}),e.abrupt("return",null);case 8:if((r=t[0].file).name.endsWith(".mp4")||r.name.endsWith(".webm")){e.next=12;break}return u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Video should be of format .mp4 or .webm"}),e.abrupt("return",null);case 12:if(!(r.size>v.zq.GB)){e.next=15;break}return u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"The video is too large. The size should be less than 1 GB."}),e.abrupt("return",null);case 15:if(U(r.name),G(r.size),!N){e.next=21;break}return e.next=20,te();case 20:y(!1);case 21:return w!==c.tS.INITIAL&&I(c.tS.INITIAL),H(!0),e.prev=23,e.next=26,(0,a.CClient)("/api/v1/classrooms/".concat(n,"/video/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileSize:r.size,fileFormat:r.type.split("/")[1]})});case 26:if(!(s=e.sent).ok){e.next=38;break}return e.next=30,s.json();case 30:return d=e.sent,x=null===d||void 0===d||null===(i=d.signedUrl)||void 0===i?void 0:i.url,f=null===d||void 0===d||null===(l=d.signedUrl)||void 0===l?void 0:l.fields,O(d.id),H(!1),e.abrupt("return",{url:x,formFields:f});case 38:return e.t0=Error,e.next=41,(0,h.flattenErrorsDictFromResponse)(s);case 41:throw e.t1=e.sent,new e.t0(e.t1);case 43:e.next=49;break;case 45:e.prev=45,e.t2=e.catch(23),u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Something went wrong, please contact support if error persists."}),p.Tb(e.t2);case 49:return H(!1),e.abrupt("return",null);case 51:case"end":return e.stop()}}),e,null,[[23,45]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.abort(),I(c.tS.INITIAL);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,s.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=1,e.next=4,(0,a.CClient)("/api/v1/classrooms/".concat(n,"/video/"));case 4:if(!(t=e.sent).ok){e.next=13;break}return e.next=8,t.json();case 8:return r=e.sent,H(!1),e.abrupt("return",r.id);case 13:if(404!==t.status){e.next=18;break}return H(!1),e.abrupt("return",null);case 18:return e.t0=Error,e.next=21,(0,h.flattenErrorsDictFromResponse)(t);case 21:throw e.t1=e.sent,new e.t0(e.t1);case 23:e.next=29;break;case 25:e.prev=25,e.t2=e.catch(1),u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Something went wrong, please contact support if error persists."}),p.Tb(e.t2);case 29:return H(!1),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,s.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return H(!0),e.prev=6,e.next=9,(0,a.CClient)("/api/v1/classrooms/".concat(n,"/video/").concat(t,"/"),{method:"DELETE"});case 9:if((r=e.sent).ok){e.next=16;break}return e.t0=Error,e.next=14,(0,h.flattenErrorsDictFromResponse)(r);case 14:throw e.t1=e.sent,new e.t0(e.t1);case 16:e.next=22;break;case 18:e.prev=18,e.t2=e.catch(6),u()({closeOnClickOutside:!1,closeOnEsc:!1,icon:"error",title:"Oops!",text:"Something went wrong, please contact support if error persists."}),p.Tb(e.t2);case 22:H(!1);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(t,{uploadData:{progress:D,fileName:P,fileSize:F,uploadSpeed:C},videoData:f,onUpload:Q,currentUploadState:w,onCancel:X,onRetry:function(){return K()},isLoading:J,onReplace:K,extraProps:i})})};t.Z=function(e){return(0,b.jsx)(f.ZP,{children:(0,b.jsx)(N,j({},e))})}},6661:function(e,t,n){n.d(t,{kS:function(){return r},Kr:function(){return s},kf:function(){return i},Hn:function(){return o},oG:function(){return a},op:function(){return c},V:function(){return l},x8:function(){return d},m:function(){return u},uf:function(){return p},zd:function(){return x},Fk:function(){return f},xZ:function(){return m},_S:function(){return h},TT:function(){return v},yv:function(){return b}});var r=5,s=[["Grade 1","Grade 2","Grade 3"],["Grade 4","Grade 5"],["Grade 6","Grade 7","Grade 8"],["Grade 9","Grade 10"],["Grade 11","Grade 12"],["Undergraduate"]],i={class:20,rescheduledClass:5,earlyClassReschedulePenalty:15,lateClassReschedulePenalty:50,didNotShowUpForTheClassPenalty:100,quizOnTimeSubmission:100,quizLateSubmission:50,projectOnTimeSubmission:100,projectLateSubmission:50},o=[{points:"+".concat(i.class," points"),description:"Attending classes"},{points:"+".concat(i.projectOnTimeSubmission," points"),description:"Project submission on time"},{points:"+".concat(i.projectLateSubmission," points"),description:"Project submission after due date"},{points:"+".concat(i.quizOnTimeSubmission," points"),description:"Quiz submission on time"},{points:"+".concat(i.quizLateSubmission," points"),description:"Quiz submission after due date"}],a={none:{lowest:Number.NEGATIVE_INFINITY,highest:-1},bronze:{lowest:0,highest:4999},silver:{lowest:5e3,highest:9999},gold:{lowest:1e4,highest:19999},diamond:{lowest:2e4,highest:Number.POSITIVE_INFINITY}},c={NONE:"None",BRONZE:"Bronze",SILVER:"Silver",GOLD:"Gold",DIAMOND:"Diamond"},l={MALE_AVATAR:"https://fastly.codingal.com/images/gamification/male_user.png",FEMALE_AVATAR:"https://fastly.codingal.com/images/gamification/female_user.png",UNSPECIFIED_AVATAR:"https://fastly.codingal.com/images/gamification/unspecified_user.png"},d="/images/gamification/fallback.jpg",u=50,p={none:{lowest:Number.NEGATIVE_INFINITY,highest:-1},bronze:{lowest:0,highest:24999},silver:{lowest:25e3,highest:74999},gold:{lowest:75e3,highest:149999},diamond:{lowest:15e4,highest:299999},platinum:{lowest:3e5,highest:499999},sapphire:{lowest:5e5,highest:799999},emerald:{lowest:8e5,highest:Number.POSITIVE_INFINITY}},x={NONE:"None",BRONZE:"Bronze",SILVER:"Silver",GOLD:"Gold",DIAMOND:"Diamond",PLATINUM:"Platinum",SAPPHIRE:"Sapphire",EMERALD:"Emerald"},f={none:0,bronze:1,silver:2,gold:3,diamond:4,platinum:5,sapphire:6,emerald:7},m={CLASS_JOIN_LATE:-100,DID_NOT_JOIN_CLASS:-200,CLASS_JOIN_ON_TIME_AND_COMPLETING_CLASS:50,CLASS_JOIN_ON_TIME_AND_NOT_COMPLETING_CLASS:20,STUDENT_ENROLLMENT:500,PROJECT_REVIEW_LATE:-100,PROJECT_REVIEW_ON_TIME:50,THREE_STAR_OR_BELOW_RATING:-200,FOUR_STAR_RATING:50,FIVE_STAR_RATING:100,INSTANT_CLASS_REQUEST_ACCEPTED:20},h=5,v=[{points:"+".concat(m.INSTANT_CLASS_REQUEST_ACCEPTED," points"),description:"Accepting an instant trial class request"},{points:"+".concat(m.CLASS_JOIN_ON_TIME_AND_COMPLETING_CLASS," points"),description:"Joining on time (before 1 min) and completing the class"},{points:"+".concat(m.CLASS_JOIN_ON_TIME_AND_NOT_COMPLETING_CLASS," points"),description:"Joining on time (before 1 min) and not completing the class"},{points:"".concat(m.CLASS_JOIN_LATE," points"),description:"Joining late (after 1 min)"},{points:"".concat(m.DID_NOT_JOIN_CLASS," points"),description:"Not joining a class"},{points:"+".concat(m.PROJECT_REVIEW_ON_TIME," points"),description:"Reviewing project on time"},{points:"".concat(m.PROJECT_REVIEW_LATE," points"),description:"Reviewing project late"},{points:"+".concat(m.STUDENT_ENROLLMENT," points"),description:"Converting a student"},{points:"".concat(m.THREE_STAR_OR_BELOW_RATING," points"),description:"Student has given <=3 star rating"},{points:"+".concat(m.FOUR_STAR_RATING," points"),description:"Student has given 4 star rating"},{points:"+".concat(m.FIVE_STAR_RATING," points"),description:"Student has given 5 star rating"}],b="/images/teacher-dashboard/"},32044:function(e,t,n){n.d(t,{yc:function(){return r},z5:function(){return s},K$:function(){return i},uJ:function(){return o},tS:function(){return a}});var r={PENDING:"Pending",SUBMITTED:"Submitted",REVIEWED:"Reviewed"},s={PENDING:"Pending",SUBMITTED:"Submitted"},i={TEACHER:"teacher",STUDENT:"student"},o={CANCEL_REQUEST_BY_STUDENT:"Student requested to cancel",CANCEL_REQUEST_BY_TEACHER:"Teacher requested to cancel",STUDENT_ABSENT:"Student didn't show up for the class",TEACHER_ABSENT:"Teacher didn't show up for the class",STUDENT_UNINTERESTED:"Student didn't show any interest",STUDENT_DISCONNECTED:"Student got disconnected",TEACHER_DISCONNECTED:"Teacher got disconnected",CANCEL_REASON_OTHER:"Other reasons"},a={INITIAL:0,UPLOADING:1,RETRY:2,FAILED:3,SUCCESSFUL:4}}}]);
//# sourceMappingURL=2711-ea572e45121eb19df903.js.map