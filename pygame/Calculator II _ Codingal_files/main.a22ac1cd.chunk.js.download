(window.webpackJsonp=window.webpackJsonp||[]).push([[5],[,,,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var i=o(7),a=o(13),n=o(24);var s=o(11),r=o.n(s);const c=["chat_message","chat_message_removed","client_metadata_received","live_caption"],l=[...c,"audio_enable_requested","audio_enabled","audio_only_mode_enabled","knock_page_background_changed","background_image_changed","breakout_group_joined","breakout_timer_ended","breakout_move_to_main","breakout_move_to_group","breakout_session_updated","breakout_ending","breakout_timer_extended","colocation_edited","colocation_group_joined","colocation_loud_speakers_updated","colocation_session_updated","colocation_groups_updated","client_kicked","client_left","client_unable_to_join","cloud_recording_started","cloud_recording_stopped","live_transcription_started","live_transcription_stopped","connect_error","connecting","device_identified","disconnect","end_meeting","kick_client","knock_handled","knocker_left","live_captions_toggled","live_captions_enabled","live_captions_disabled","new_client","recording_started","recording_stopped","streaming_started","streaming_stopped","streaming_not_available","request_audio_enable","request_screenshare_enable","request_video_enable","room_integration_disabled","room_integration_enabled","room_integration_props_updated","room_integration_started","room_integration_stopped","room_joined","room_join_allowed","room_join_cancelled","room_knock_cancelled","room_knocked","room_left","room_locked","room_logo_changed","room_mode_changed","room_prefs_changed","room_session_ended","room_theme_changed","room_type_changed","screenshare_enable_requested","screenshare_feedback_requested","screenshare_started","screenshare_stopped","spotlight_added","spotlight_order_swapped","spotlight_removed","video_enable_requested","video_enabled"],d=["error","ping","reconnect","reconnect_attempt","reconnect_error","reconnect_failed"],u=[...l,...d].reduce((e,t)=>(e[""+t.toUpperCase()]="SIGNAL/"+t,e[t.toUpperCase()+"_ERROR"]=`SIGNAL/${t}/ERROR`,e),{});let m=[];const p=function(e){let t,o,{delay:i=500}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.ok("function"===typeof e,"fn<function> is required"),function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];const r=Date.now();t&&r<t+i?(clearTimeout(o),o=setTimeout(()=>{t=r,e(...n)},i)):(t=r,e(...n))}}(e=>{m.length&&(e(1===m.length?m[0]:{type:"BATCH_ACTIONS",actions:m}),m=[])},{delay:250});function b(e,t){const o=e.toUpperCase();return i=>{const a=i&&i.error?{type:u[o+"_ERROR"],payload:i,error:i.error}:{type:u[o],payload:i};if(c.includes(e))return m.push(a),void p(t.dispatch);t.dispatch(a)}}const g={socket:null,status:"",lastDisconnectReason:"",lastReconnectError:void 0};t.b=()=>({name:"signalConnection",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"SIGNAL_SOCKET_INIT":return{...e,socket:o};case u.DISCONNECT:return{...e,lastDisconnectReason:o,disconnectTime:e.disconnectTime||Date.now(),connectTime:void 0,status:"disconnected"};case u.ROOM_JOINED:return{...e,connectTime:e.connectTime||Date.now(),disconnectTime:void 0};case u.RECONNECT_ERROR:return{...e,lastReconnectError:o};case u.RECONNECT:return{...e,status:"reconnect",lastReconnectError:void 0};default:return{...e,status:{SIGNAL_CONNECTING:"connecting",SIGNAL_DISCONNECTING:"disconnected",[u.DEVICE_IDENTIFIED]:"connected",[u.CONNECT_ERROR]:"disconnected"}[t]||e.status}}},getMiddleware:()=>e=>t=>o=>{let i=e.selectSignalSocket_();if(o.meta&&o.meta.signal){var a;const{type:e,payload:t}=o.meta.signal;null==(a=i)||a.emit(e,t)}o.type.startsWith("SIGNAL/")&&(o.meta={...o.meta,localClientId:e.selectLocalClientId()});const n=t(o),s=e.selectDeviceCredentials(),r=e.selectRoomConnectionStatus(),c=e.selectSignalStatus();i=e.selectSignalSocket_();const{dispatch:l}=e;return function(e){let{dispatch:t,deviceCredentials:o,signalStatus:i,signalSocket:a}=e;a&&o&&["","reconnect"].includes(i)&&t({type:"SIGNAL_CONNECTING",meta:{signal:{type:"identify_device",payload:{deviceCredentials:o}}}})}({dispatch:l,deviceCredentials:s,signalStatus:c,signalSocket:i}),function(e){let{dispatch:t,roomConnectionStatus:o,signalStatus:i,signalSocket:a}=e;["kicked","left"].includes(o)&&"disconnected"!==i&&(t({type:"SIGNAL_DISCONNECTING"}),a.disconnect())}({dispatch:l,roomConnectionStatus:r,signalStatus:c,signalSocket:i}),n},doSignalSocketInit_:()=>e=>{var t,o;let{store:i,dispatch:s}=e;const{search:r}=null!=(t=null==(o=window)?void 0:o.location)?t:{search:""},c=!!r.replace(/^\?/,"").split("&").find(e=>"serverTransport=polling"===e),u=!!r.replace(/^\?/,"").split("&").find(e=>"newSignalBaseUrl=on"===e),m=i.selectFeatureGlitchFreeOn(),p=m?"protocol/socket.io/v4gf":"protocol/socket.io/v4",g=function(e){let{baseUrl:t,signalPath:o,preferPolling:i,glitchFreeOn:a}=e;const s=new URL(t),r=`${s.pathname.replace(/^\/$/,"")}/${o}`,c=s.origin,l={path:r,transports:[...i?["polling"]:[],"websocket"]};return new n.e(c,l,a)}({baseUrl:u?a.j:a.u,preferPolling:c,signalPath:p,glitchFreeOn:m});l.forEach(e=>g.on(e,b(e,i)));const h=g.getManager();d.forEach(e=>h.on(e,b(e,i))),s({type:"SIGNAL_SOCKET_INIT",payload:g})},selectSignalSocket_:e=>e.signalConnection.socket,selectSignalStatus:e=>e.signalConnection.status,selectSignalLastDisconnectReason:e=>e.signalConnection.lastDisconnectReason,selectSignalConnectTime:e=>e.signalConnection.connectTime,selectSignalDisconnectTime:e=>e.signalConnection.disconnectTime,selectHasSignalTrouble:e=>!!e.signalConnection.lastReconnectError,reactSignalSocketInit:Object(i.e)("selectSignalSocket_","selectHasFeaturesFetched",(e,t)=>{if(!e&&t)return{actionCreator:"doSignalSocketInit_",args:[]}})})},,function(e,t,o){"use strict";o.d(t,"k",(function(){return s})),o.d(t,"h",(function(){return r})),o.d(t,"j",(function(){return c})),o.d(t,"i",(function(){return l})),o.d(t,"e",(function(){return d})),o.d(t,"f",(function(){return u})),o.d(t,"a",(function(){return m})),o.d(t,"d",(function(){return b})),o.d(t,"b",(function(){return g})),o.d(t,"g",(function(){return h})),o.d(t,"c",(function(){return j}));var i=o(1),a=o.n(i),n=o(22);function s(){let{top:e=0,left:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{top:e,left:t}}function r(){let{width:e=0,height:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{width:Math.max(e,0),height:Math.max(t,0)}}function c(){let{top:e=0,left:t=0,width:o=0,height:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{bounds:r({width:o,height:i}),origin:s({top:e,left:t})}}function l(){let{top:e=0,left:t=0,bottom:o=0,right:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{top:e,left:t,bottom:o,right:i}}function d(e){return!!e&&!(e.width<=0||e.height<=0)}function u(e){let{bounds:t,fromBounds:o}=e;return{width:Math.max(o.width-t.width,0),height:Math.max(o.height-t.height,0)}}const m=a.a.shape({width:a.a.number.isRequired,height:a.a.number.isRequired}),p=a.a.shape({top:a.a.number.isRequired,left:a.a.number.isRequired}),b=a.a.shape({bounds:m.isRequired,origin:p.isRequired}),g=a.a.shape({top:a.a.number.isRequired,left:a.a.number.isRequired,bottom:a.a.number.isRequired,right:a.a.number.isRequired});function h(e,t){const o=!t&&e.width<=n.TABLET_BREAKPOINT,i=t&&e.height<=n.TABLET_BREAKPOINT&&e.width<=n.DESKTOP_BREAKPOINT;return o||i}function j(e){const t=e.width>e.height,o=function(e,t){const o=!t&&e.width<=n.PHONE_BREAKPOINT,i=t&&e.height<=n.PHONE_BREAKPOINT&&e.width<=n.TABLET_BREAKPOINT;return o||i}(e,t),i=!o&&h(e,t);return{isPhone:o,isTablet:i,isDesktop:!o&&!i,isLandscape:t,isPortrait:!t,isXS:e.width<=n.XS_BREAKPOINT}}},function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"e",(function(){return s})),o.d(t,"u",(function(){return r})),o.d(t,"r",(function(){return c})),o.d(t,"j",(function(){return l})),o.d(t,"t",(function(){return d})),o.d(t,"w",(function(){return u})),o.d(t,"b",(function(){return m})),o.d(t,"a",(function(){return p})),o.d(t,"d",(function(){return b})),o.d(t,"s",(function(){return g})),o.d(t,"i",(function(){return f})),o.d(t,"h",(function(){return O})),o.d(t,"q",(function(){return S})),o.d(t,"k",(function(){return R})),o.d(t,"n",(function(){return C})),o.d(t,"p",(function(){return v})),o.d(t,"o",(function(){return y})),o.d(t,"m",(function(){return I})),o.d(t,"l",(function(){return E})),o.d(t,"v",(function(){return x})),o.d(t,"f",(function(){return T})),o.d(t,"g",(function(){return L}));const i=function(){try{return new URL(window.location.href).searchParams.has("alternate-url")}catch(e){return!1}}();function a(e,t,o,a){return i?o:a||t}const n=a(0,"https://api.appearin.net","https://api.whereby.cloud","https://api.appearin.net"),s="BD88n_PIppfC93wfzOqgX3NvRZtcWjy2yuD1olpEt-NrynbgJjhtri0nJQF1QLsvNk6PWGIvlAl7YxKlFSMu9kc",r=a(0,"https://signal.appearin.net","https://signal.whereby.cloud","https://signal.appearin.net"),c="6LdnTi0pAAAAAKTIxkmcE0Mox3rFkaEOND75RPQG",l="https://signal.srv.whereby.com",d={NORMAL:"normal",GROUP:"group",TOWNHALL:"townhall"},u=12,m=12,p=24,b="https://apps.apple.com/us/app/whereby-video-meetings/id878583078?mt=8",g="https://whereby.launchnotes.io",h=u,j=Math.round(h/1.5),f={small:{trigger:1/0,detrigger:-1/0},large:{trigger:h,detrigger:j},xl:{trigger:30,detrigger:Math.round(20)}},O={small:{trigger:1/0,detrigger:-1/0},xl:{trigger:h,detrigger:j}},S="https://whereby.helpscoutdocs.com/article/742-help-me-fix-this",R=6e3,C="camera",v="speaker",y="microphone",I="bandwidth",E="review",x={webcam:"webcam",screenshare:"screenshare"},T={CRITICAL:"critical",WARNING:"warning",OK:"ok"},L=15e3},,function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"c",(function(){return m})),o.d(t,"a",(function(){return p}));var i=o(9),a=o(2),n=o(1),s=o.n(n),r=o(0);const c={error:null};class l extends a.Component{constructor(){var e,t,o;super(...arguments),o=c,(t="state")in(e=this)?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){var o,i,a,n;null==(o=(i=this.props).doCaptureException)||o.call(i,e,{tags:{from:"ErrorBoundary"},extra:t}),null==(a=(n=this.props).onError)||a.call(n,e,t),this.setState({error:e})}render(){const{error:e}=this.state,{fallback:t=null}=this.props;if(null!==e){if("function"===typeof t){const o=t;return Object(r.jsx)(o,{error:e})}if(a.isValidElement(t)||null===t)return t;throw new Error("ErrorBoundary requires a fallback prop and it must be a function, a component or a valid React element.")}return this.props.children}}l.propTypes={children:s.a.node.isRequired,doCaptureException:s.a.func,fallback:s.a.oneOfType([s.a.element,s.a.elementType]),onError:s.a.func};const d=Object(i.b)("doCaptureException",l);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;const i=function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.jsx)(o,{...t,children:Object(r.jsx)(e,{...i})})},a=e.displayName||e.name||"Unknown";return i.displayName=`withErrorBoundary(${a})`,i}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;const n=function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.jsx)(a,{...t,onError:(e,a)=>{null==i.doSetNotification||i.doSetNotification("genericError",o),null==t.onError||t.onError(e,a,i)},children:Object(r.jsx)(e,{...i})})},c=e.displayName||e.name||"Unknown";return n.displayName=`withNotificationErrorBoundary(${c})`,n.propTypes={doSetNotification:s.a.func.isRequired},Object(i.b)("doSetNotification",n)}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[t,o]=a.useState(null);if(null!==e)throw e;if(null!==t)throw t;return o}},function(e,t,o){"use strict";o.d(t,"c",(function(){return c})),o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return d}));var i=o(173),a=o(238),n=o(35);const s=["owner","member"];function r(e,t){return{amplitude:{eventName:e,eventProperties:t}}}function c(e,t){const o=s.includes(t),i=e.some(e=>{var t;return s.includes(null==(t=e.role)?void 0:t.roleName)});return o||i}const l={audioDenoiserToggled:e=>{let{enabled:t}=e;return r("Audio denoiser toggled",{enabled:t})},audioOnlyModeToggled:e=>{let{enabled:t,...o}=e;return r("Audio-only mode toggled",{enabled:t,...o})},breakoutEducation:e=>{let{optedIn:t}=e;return r("Breakout: education",{optedIn:t})},callQualitySidebarOpened:e=>{let{localCallQualityScoresTotal:t,...o}=e;return r("Call quality sidebar: opened",{localCallQualityScoresTotal:t,...o})},camMicErrorMsgShown:e=>{let{error:t,roomName:o,roomProduct:i,roomType:a}=e;return r("Cam/Mic: error msg shown",{error:t,roomName:o,roomProduct:i,roomType:a})},chatEmojiAutoCompleteTriggered:()=>r("Chat: emoji autocomplete triggered"),chatMessageSent:e=>{let{isReaction:t}=e;return r("Chat: message sent",{isReaction:t})},cloudRecordingDisplayedReady:()=>r("Cloud recording: displayed ready"),coLocationEdit:()=>r("Co-location: edit"),coLocationStarted:e=>{let{nAssignments:t,nGroups:o,nParticipants:i,roomProduct:a,roomSessionId:n}=e;return r("Co-location: started",{nAssignments:t,nGroups:o,nParticipants:i,roomProduct:a,roomSessionId:n})},coLocationStopped:e=>{let{durationInSeconds:t,nGroups:o,nParticipants:i,roomProduct:a,roomSessionId:n}=e;return r("Co-location: stopped",{durationInSeconds:t,nGroups:o,nParticipants:i,roomProduct:a,roomSessionId:n})},coLocationLoudSpeakerSet:e=>{let{groupId:t,clientId:o,roomSessionId:i}=e;return r("Co-location: loud speaker set",{groupId:t,clientId:o,roomSessionId:i})},experimentButtonClicked:e=>{let{experimentName:t,featureSource:o}=e;return r("Experiment: button clicked",{experimentName:t,featureSource:o})},feedbackIssuesSubmitted:e=>{let{issues:t,description:o,...i}=e;return r("Feedback: issues submitted",{issues:t,...void 0!==o&&{description:o},...i})},feedbackRatingSubmitted:e=>{let{rating:t,...o}=e;return r("Feedback: rating submitted",{rating:t,...o})},filesShared:e=>{let{numFiles:t,roomProduct:o,roomType:i,roomName:a}=e;return r("Files uploaded",{numFiles:t,roomProduct:o,roomType:i,roomName:a})},inAConversation:e=>{let{roomMode:t,roomName:o,roomType:i,roomProduct:a,roomProductName:n,numClients:s,userRoleName:c,roomSessionId:l,roomSessionStart:d,roomSessionElapsedTimeInSeconds:u,roomSessionRelativeJoinTimeInSeconds:m,roomSessionClientElapsedTimeInSeconds:p,isEnablerPresent:b}=e;r("In a conversation",{roomMode:t,roomName:o,roomType:i,roomProduct:a,roomProductName:n,numClients:s,userRoleName:c,roomSessionId:l,roomSessionStart:d,roomSessionElapsedTimeInSeconds:u,roomSessionRelativeJoinTimeInSeconds:m,roomSessionClientElapsedTimeInSeconds:p,isEnablerPresent:b})},lowDataToggled:(e,t)=>{let{context:o}=t;r("Low data toggled",{enabled:e,context:o})},minuteElapsed:()=>{},performanceMonitorSummary:e=>{let{...t}=e;r("performanceMonitor: summary",{...t})},poorQualityReported:e=>r("Poor quality reported",e),precallPublicProfileDismissed:()=>r("Precall: public profile dismissed"),precallSkipReviewSet:e=>r("Precall: skip review set",{skip:e}),presentationLimitDialogToggled:e=>{let{isOpen:t}=e;r("Presenter limit: dialog toggled",{isOpen:t})},recordingClicked:()=>r("Recording: clicked"),recordingSaved:e=>{let{featureSource:t}=e;r("Recording: Saved recording",{featureSource:t})},recordingStartedRecording:()=>r("Recording: Started recording"),recordingStoppedRecording:e=>{let{duration:t,error:o}=e;return r("Recording: Stopped recording",{duration:t,error:o})},roomExited:e=>{let{clientId:t,context:o,didUseCoLocation:i,exitMethod:a,roomMode:n,roomName:s,roomType:c,roomProduct:l,roomProductName:d,numClients:u,userRoleName:m,refreshSelfViewOff:p,roomSessionId:b,roomSessionStart:g,roomSessionElapsedTimeInSeconds:h,roomSessionRelativeJoinTimeInSeconds:j,roomSessionClientElapsedTimeInSeconds:f,requestedByClientId:O,connectionMonitorStats:S,isEnablerPresent:R,pageLoads:C,hasEnabledDevices:v,...y}=e;return r("Room: exited",{clientId:t,context:o,didUseCoLocation:i,exitMethod:a,roomMode:n,roomName:s,roomType:c,roomProduct:l,roomProductName:d,numClients:u,userRoleName:m,refreshSelfViewOff:p,roomSessionId:b,roomSessionStart:g,roomSessionElapsedTimeInSeconds:h,roomSessionRelativeJoinTimeInSeconds:j,roomSessionClientElapsedTimeInSeconds:f,requestedByClientId:O,...S,isEnablerPresent:R,pageLoads:C,hasEnabledDevices:v,...y})},roomConsentsGranted:e=>{let{consents:t=[],context:o}=e;return r("Room: consents granted",{consents:t,context:o})},roomEmbedCodeCopied:e=>{let{roomProduct:t,roomType:o,userRoleName:i}=e;return r("Room: embed code copied",{roomProduct:t,roomType:o,userRoleName:i})},roomEmbedInstructionsDialogOpen:e=>{let{source:t}=e;return r("Room: embed instruction clicked",{source:t})},roomFeatureDiscoveryDialogOpen:e=>{let{featureName:t,source:o}=e;r("Room: feature discovery",{featureName:t,source:o})},roomFeatures:e=>{let{eventType:t,value:o}=e;r("Room: feature panel",{eventType:t,value:o})},roomHelp:e=>{let{isRoomOwner:t,roomProduct:o}=e;r("Room: help",{isRoomOwner:t,roomProduct:o})},roomIntegrationEnabled:e=>{let{integrationName:t}=e;return r("Room integration: enabled",{integrationName:t})},roomIntegrationDisabled:e=>{let{integrationName:t}=e;return r("Room integration: disabled",{integrationName:t})},roomIntegrationStarted:e=>{let{integrationName:t,numClients:o,featureSource:i}=e;r("Room integration: started",{integrationName:t,numClients:o,featureSource:i})},roomIntegrationStopped:e=>{let{integrationName:t}=e;r("Room integration: stopped",{integrationName:t})},roomModeChanged:e=>{let{noOfParticipants:t,roomMode:o,roomName:i,roomProduct:a}=e;r("Room: mode changed",{noOfParticipants:t,roomMode:o,roomName:i,roomProduct:a})},roomPublicProfileEnabled:e=>{let{enabled:t}=e;return r("Room: public profile enabled",{enabled:t,featureSource:"precall"})},roomQrCodeGuestConnected:()=>r("Room: QR code guest connected"),roomRejoined:e=>{let{status:t,attempts:o,error:i,coLocationIsActive:a}=e;r("Room: rejoined",{status:t,attempts:o,error:i,coLocationIsActive:a})},roomToggleBankId:e=>{let{enabled:t,roomName:o}=e;return r("Room: toggle BankID",{enabled:t,roomName:o})},registrationOpened:e=>r("Registration: opened",{registrationSource:"room:signup",openedByUser:e}),registrationUserCreated:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r("Registration: User created",{consents:t,registrationSource:"room:signup",verificationMethod:e})},rtcConnectionSlowReadyState:()=>r("rtcConnection: Slow transition to Ready State (>3s)!"),screenShareActivated:e=>{let{hasAudioTrack:t,participantCount:o,source:i}=e;r("Screen share: activated",{hasAudioTrack:t,participantCount:o,source:i})},screenShareQualityToggled:e=>{let{quality:t}=e;return r("Screenshare: quality toggled",{quality:t})},selfviewHidden:e=>{r("Selfview: hidden",{hidden:e})},signalConnected:e=>{let{reconnect:t,count:o,...i}=e;r("Signal: connected",{reconnect:t,count:o,...i})},signalDisconnected:e=>{let{reason:t,count:o,...i}=e;r("Signal: disconnected",{reason:t,count:o,...i})},streamDisplayedReady:()=>r("Stream: displayed ready"),streamSelectedGoLive:()=>r("Stream: selected go live"),timeLimitDialogButtonClicked:e=>{let{buttonLabel:t,roomName:o}=e;return r("Time limit: dialog button clicked",{roomName:o,buttonLabel:t})},trialClick:e=>{let{featureSource:t}=e;return r("Website: clicked upgrade trial",{featureSource:t})},userLoginCodeSent:()=>{r("User: login code sent",{loginSource:"room:login"})},userLoginVerificationAttempted:()=>r("User: verification attempted",{featureSource:"room:login"}),videoMonitorStarted:e=>{let{roomName:t,roomType:o,roomProduct:i,roomSessionId:a,usingSfu:n,signalTransport:s}=e;return r("VideoMonitor: started",{roomName:t,roomType:o,roomProduct:i,roomSessionId:a,usingSfu:n,signalTransport:s})},videoMonitorAborted:e=>{let{abortType:t,numUnresolvedIssues:o,avgSamplingDuration:i,numVideos:a,numActiveVideos:n,didRun:s,roomName:c,roomType:l,roomProduct:d,roomSessionId:u,usingSfu:m,signalTransport:p}=e;return r("VideoMonitor: aborted",{abortType:t,numUnresolvedIssues:o,avgSamplingDuration:i,numVideos:a,numActiveVideos:n,didRun:s,roomName:c,roomType:l,roomProduct:d,roomSessionId:u,usingSfu:m,signalTransport:p})},videoMonitorIssueDetected:e=>{let{issue:t,issueSubtype:o,isInitial:i,currentInterval:a,avgSamplingDuration:n,numVideos:s,numActiveVideos:c,clientId:l,videoType:d,isSelfieCam:u,duration:m,start:p,roomName:b,roomType:g,roomProduct:h,roomSessionId:j,roomSessionElapsedTime:f,usingSfu:O,signalTransport:S,documentHidden:R,hasFocus:C}=e;return r("VideoMonitor: issue-detected",{issue:t,issueSubtype:o,isInitial:i,currentInterval:a,avgSamplingDuration:n,numVideos:s,numActiveVideos:c,clientId:l,videoType:d,isSelfieCam:u,duration:m,start:p,roomName:b,roomType:g,roomProduct:h,roomSessionId:j,roomSessionElapsedTime:f,usingSfu:O,signalTransport:S,documentHidden:R,hasFocus:C})},videoMonitorIssueResolved:e=>{let{issue:t,issueSubtype:o,resolveType:i,duration:a,start:n,isInitial:s,currentInterval:c,avgSamplingDuration:l,numVideos:d,numActiveVideos:u,clientId:m,videoType:p,isSelfieCam:b,roomName:g,roomType:h,roomProduct:j,roomSessionId:f,roomSessionElapsedTime:O,usingSfu:S,documentHidden:R,hasFocus:C}=e;return r("VideoMonitor: issue-resolved",{issue:t,issueSubtype:o,resolveType:i,duration:a,start:n,isInitial:s,currentInterval:c,avgSamplingDuration:l,numVideos:d,numActiveVideos:u,clientId:m,videoType:p,isSelfieCam:b,roomName:g,roomType:h,roomProduct:j,roomSessionId:f,roomSessionElapsedTime:O,usingSfu:S,documentHidden:R,hasFocus:C})},virtualBackgroundAdded:()=>{r("Virtual background added")},visitedRoom:e=>{let{audioDenoiserWanted:t,autoSpotlight:o,cameraEffect:i,coLocationIsActive:a,embedApiVersion:s,hasDevicePermissions:c,isPrecallReviewWanted:l,missingDevices:d,noOfParticipants:u,precallCeremony:m,prefs:p,roomClaimed:b,roomMode:g,roomName:h,roomProduct:j,roomType:f,userAgent:O,userRoleName:S,queryPrefs:R,frameSize:C,screenSize:v}=e;return r("Visited room",{audioDenoiserWanted:t,autoSpotlight:o,cameraEffect:i,coLocationIsActive:a,embedApiVersion:s,hasDevicePermissions:c,isEmbedded:Object(n.c)(),isPrecallReviewWanted:l,missingDevices:d,noOfParticipants:u,pageURL:window.location.href,precallCeremony:m,prefs:p,roomClaimed:b,roomMode:g,roomName:h,roomProduct:j,roomType:f,userAgent:O,userRoleName:S,frameSize:C,screenSize:v,...R&&{queryPrefs:R}})},concurrencyErrorDisplayed:e=>{let{roomProductName:t}=e;return r("Concurrency room error: displayed",{roomProductName:t})},concurrencyErrorCancelClicked:e=>{let{roomProductName:t}=e;return r("Concurrency room error: cancel clicked",{roomProductName:t})},concurrencyErrorLeaveRoomClicked:e=>{let{roomProductName:t}=e;return r("Concurrency room error: leave room clicked",{roomProductName:t})}};function d(){const e=new a.a({isEnabled:!1}),t=new i.a({isEnabled:!1,logger:e,platform:window.navigator&&/Android.*(Whereby|Appearin)/.test(window.navigator.userAgent)?"Android app":"pwa",areCookiesEnabled:!1}),o=new i.b({isEnabled:!0,areCookiesEnabled:!1,logger:e});return new i.c({amplitudeService:t,posthogService:o,logger:e})}},function(e,t,o){"use strict";function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;do{var t,o;null!=(o=e)&&o.shadowRoot&&(e=e.shadowRoot.activeElement)}while(null!=(t=e)&&t.shadowRoot);return e}function a(){const e=i();return!(null!=e&&e.isContentEditable||["INPUT","TEXTAREA","SELECT"].includes(null==e?void 0:e.tagName))}o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return a}))},,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(4),c=o(3),l="BaseAlert-leEr",d="container-7OQ-",u="dismissButton-8lqv",m="spinner-v5+8",p="title-UaCv",b="body-POsc",g="buttonsContainer-FKqv",h=o(169),j=o(0);function f(e){let{buttons:t,children:o,className:i,onDismiss:a,title:n,timestamp:f,spinner:O,banner:S,...R}=e;return Object(j.jsx)(h.a,{className:s()(l,i),timestamp:f,...R,children:Object(j.jsxs)("div",{className:d,children:[O&&Object(j.jsx)(r.Nb,{className:m}),n&&Object(j.jsx)("div",{className:p,children:n}),a&&Object(j.jsx)(c.Localized,{id:"BaseAlert-close",attrs:{title:!0},children:Object(j.jsx)(r.y,{size:"small",className:u,onClick:a,title:"Close"})}),Object(j.jsx)("div",{className:b,children:o}),t&&Object(j.jsx)("div",{className:g,children:t}),S]})})}f.propTypes={banner:a.a.oneOfType([a.a.node,a.a.arrayOf(a.a.node)]),buttons:a.a.arrayOf(a.a.node),children:a.a.oneOfType([a.a.node,a.a.arrayOf(a.a.node)]),className:a.a.string,onDismiss:a.a.func,spinner:a.a.bool,timestamp:a.a.number,title:a.a.node};t.a=f},function(e,t,o){"use strict";o.d(t,"g",(function(){return n})),o.d(t,"h",(function(){return s})),o.d(t,"f",(function(){return r})),o.d(t,"c",(function(){return c})),o.d(t,"d",(function(){return l})),o.d(t,"e",(function(){return d})),o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return m}));var i=o(7),a=o(119);const n="chat",s="people",r="whats-new",c="login",l="onboarding",d="signup",u="downloads",m="call-quality",p={pane:null,shouldShowDiscoverFeaturesReminderTooltip:!1,layers:[{id:l,isOpen:null},{id:r,isOpen:null},{id:d,isOpen:null},{id:c,isOpen:null},{id:u,isOpen:null},{id:m,isOpen:null}],wasInitiallyFloating:null,lastSeenChatSidebar:null};t.i={name:"sidebar",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"@SIDEBAR_CAPTURE_FLOATING_STATE":return{...e,wasInitiallyFloating:o};case"SIDEBAR_PANE":return{...e,pane:o,layers:e.layers.map(e=>{let{id:t}=e;return{id:t,isOpen:null}}),lastSeenChatSidebar:o===n?Date.now():e.lastSeenChatSidebar};case"SIDEBAR_LAYER_OPEN":{const t=e.layers.find(e=>{let{id:t}=e;return t===o.layer}),i=[...e.layers.filter(e=>{let{id:t}=e;return t!==o.layer}),t].map(e=>{let t=e.isOpen;return e.id===o.layer?t=!0:(e.id===d&&o.layer===c||e.id===c&&o.layer===d)&&(t=!1),{...e,isOpen:t}});return{...e,pane:null,layers:i}}case"SIDEBAR_LAYER_CLOSE":return{...e,layers:e.layers.map(e=>({...e,isOpen:e.id!==o.layer&&e.isOpen}))};case"SIGNUP_CLAIM_ROOM_FINISHED":return{...e,layers:e.layers.map(e=>({...e,isOpen:e.id!==d&&e.isOpen}))};case"LOGIN_VERIFY_FINISHED":case"LOGIN_SSO_FINISHED":return{...e,layers:e.layers.map(e=>({...e,isOpen:e.id!==c&&e.isOpen}))};case"BREAKOUT_EDIT":case"CO_LOCATION_EDIT":return{...e,pane:o?s:e.pane}}return e},doSidebarPane:e=>({type:"SIDEBAR_PANE",payload:e}),doSidebarLayerOpen:function(e){let{context:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{context:void 0};return{type:"SIDEBAR_LAYER_OPEN",payload:{layer:e,context:t}}},doSidebarLayerClose:(e,t)=>({type:"SIDEBAR_LAYER_CLOSE",payload:{layer:e,data:t}}),doToggleBreakout:e=>t=>{let{store:o}=t;if(!o.selectPrefs().chat)return;const i=void 0!==e?e:!o.selectBreakoutIsEditing();i?o.doBreakoutEdit({open:i}):o.doSidebarPane(null)},doToggleChat:e=>t=>{let{store:o}=t;if(!o.selectPrefs().chat)return;(void 0!==e?e:!o.selectIsChatOpen())?o.doSidebarPane(n):o.doSidebarPane(null)},doTogglePeople:e=>t=>{let{store:o}=t;if(!o.selectPrefs().people)return;(void 0!==e?e:!o.selectIsPeopleOpen())?o.doSidebarPane(s):o.doSidebarPane(null)},selectSidebarRaw:e=>e.sidebar,selectSidebarLayersRaw:e=>e.sidebar.layers,selectSidebarPane:e=>e.sidebar.pane,selectIsChatOpen:e=>e.sidebar.pane===n,selectIsPeopleOpen:e=>e.sidebar.pane===s,selectIsWhatsNewOpen:e=>{const t=e.sidebar.layers.find(e=>{let{id:t}=e;return t===r});return!!t&&t.isOpen},selectIsCallQualityOpen:e=>{const t=e.sidebar.layers.find(e=>{let{id:t}=e;return t===m});return!!t&&t.isOpen},selectSidebarWasInitiallyFloating:e=>e.sidebar.wasInitiallyFloating,selectLastSeenChatSidebar:e=>e.sidebar.lastSeenChatSidebar,selectSidebarLayers:Object(i.e)("selectSidebarRaw","selectIsRoomEmpty","selectRoomProduct","selectUserId","selectShouldShowPrecall","selectSignupStep","selectOnboardingInProgress","selectFeatureCi","selectApplicationState",(e,t,o,i,n,s,r,c,u)=>e.layers.map(m=>{let p=m.isOpen;var b;if(m.id===l)p=null!=(b=p)?b:!e.wasInitiallyFloating&&r&&!n;else if(m.id===d){var g;p=null!=(g=p)?g:!e.wasInitiallyFloating&&(!i||i&&s===a.a)&&(t||!t&&s!==a.c)&&(o||"").startsWith("personal_")&&"joined"===u&&!c}return{...m,isOpen:p}})),selectIsSidebarOpen:Object(i.e)("selectLocalClientIsRecorder","selectSidebarPane","selectSidebarLayers",(e,t,o)=>!e&&(!!t||o.some(e=>{let{isOpen:t}=e;return!!t}))),selectIsOnboardingOpen:Object(i.e)("selectSidebarLayers",e=>e.some(e=>e.id===l&&!!e.isOpen)),selectIsSignupOpen:Object(i.e)("selectSidebarLayers",e=>e.some(e=>e.id===d&&!!e.isOpen)),reactSyncSidebarFloatingState:Object(i.e)("selectLayoutIsSidebarFloating","selectSidebarWasInitiallyFloating",(e,t)=>{if(null===t)return{type:"@SIDEBAR_CAPTURE_FLOATING_STATE",payload:e}})}},function(e,t,o){"use strict";o.d(t,"d",(function(){return s})),o.d(t,"b",(function(){return r})),o.d(t,"e",(function(){return c})),o.d(t,"i",(function(){return l})),o.d(t,"f",(function(){return d})),o.d(t,"g",(function(){return u})),o.d(t,"a",(function(){return m})),o.d(t,"h",(function(){return p})),o.d(t,"j",(function(){return b})),o.d(t,"k",(function(){return g})),o.d(t,"c",(function(){return h}));var i=o(1),a=o.n(i),n=o(13);const s=a.a.shape({avatarUrl:a.a.string,displayName:a.a.string,id:a.a.string.isRequired,isAudioEnabled:a.a.bool,isLocalClient:a.a.bool,isVideoEnabled:a.a.bool,roleName:a.a.string,stream:a.a.instanceOf(MediaStream)}),r=a.a.shape({theme:a.a.string.isRequired,url:a.a.string,thumbnail:a.a.string}),c=a.a.shape({theme:a.a.string.isRequired,backgroundColor:a.a.string.isRequired}),l=a.a.shape({backgroundImage:a.a.string,palette:a.a.string,customBackgroundImage:a.a.string,knockPageBackgroundImage:a.a.string,knockPagePalette:a.a.string,customKnockPageBackgroundImage:a.a.string}),d=a.a.shape({roomIntegrationId:a.a.string.isRequired,name:a.a.string.isRequired,icons:a.a.shape({small:a.a.string.isRequired,large:a.a.string.isRequired}),link:a.a.shape({text:a.a.string.isRequired,href:a.a.string.isRequired}),entrypoint:a.a.string.isRequired,webview:a.a.string.isRequired,title:a.a.string.isRequired,description:a.a.string.isRequired,matcher:a.a.instanceOf(RegExp),isRunning:a.a.bool.isRequired,isConfigured:a.a.bool,tagName:a.a.string.isRequired}),u=a.a.shape({name:a.a.string.isRequired,roomIntegrationId:a.a.string.isRequired,smallIcon:a.a.string.isRequired,state:a.a.shape({tagName:a.a.string.isRequired,props:a.a.shape({isPresenter:a.a.bool.isRequired,presenterDisplayName:a.a.string})}),title:a.a.string.isRequired}),m=a.a.shape({audioId:a.a.string.isRequired,label:a.a.string.isRequired,busy:a.a.bool}),p=a.a.shape({speakerId:a.a.string.isRequired,label:a.a.string.isRequired}),b=a.a.shape({videoId:a.a.string.isRequired,label:a.a.string.isRequired,busy:a.a.bool}),g=a.a.shape({avatarUrl:a.a.string,displayName:a.a.string,id:a.a.string.isRequired,isLocalClient:a.a.bool}),h=a.a.shape({total:a.a.oneOf(Object.values(n.f)),video:a.a.oneOf(Object.values(n.f)),audio:a.a.oneOf(Object.values(n.f)),cpu:a.a.oneOf(Object.values(n.f))})},function(e,t){e.exports={MIN_WINDOW_HEIGHT:320,MIN_WINDOW_WIDTH:320,DESKTOP_BREAKPOINT:1025,TABLET_BREAKPOINT:750,PHONE_BREAKPOINT:500,XS_BREAKPOINT:350,TOP_TOOLBAR_HEIGHT:56,BOTTOM_TOOLBAR_HEIGHT:82,SIDEBAR_WIDTH:375,VIDEO_CONTROLS_MIN_WIDTH:420,ROOM_FOOTER_MIN_WIDTH:600,FLOATING_VIDEO_CONTROLS_BOTTOM_MARGIN:20,WATERMARK_BAR_HEIGHT:32,BREAKOUT_STAGE_BACKDROP_HEADER_HEIGHT:28,BREAKOUT_STAGE_BACKDROP_FOOTER_HEIGHT:56,SUBGRID_EMPTY_STAGE_MAX_WIDTH:800,GROUPS_CELL_MARGIN:8,GROUPS_CELL_PADDING:12,GROUPS_CELL_NAV_HEIGHT:56,GROUPS_CELL_AVATAR_WRAPPER_BOTTOM_MARGIN:8,GROUPS_CELL_AVATAR_GRID_GAP:8,GROUPS_CELL_MIN_WIDTH:360,GROUPS_CELL_MAX_WIDTH:600,GROUPS_ROW_HEIGHT:72,GROUPS_ROW_GAP:1,FOLDABLE_SCREEN_STAGE_PADDING:8}},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="SettingsSection-04mN",c="header-m1Ee",l="header--large-DPse",d="bodyWrapper-7SRA",u="footer-AVxi",m="body-YqEh",p="right-xD94",b="icon-Gm7C",g=o(0);const h=e=>{let{as:t="label",children:o,className:i,footer:a,icon:n,right:c,...l}=e;return Object(g.jsxs)(t,{className:s()(r,i),...l,children:[Object(g.jsxs)("div",{className:d,children:[n&&Object(g.jsx)("div",{className:b,children:n}),Object(g.jsx)("div",{className:m,children:o}),c&&Object(g.jsx)("div",{className:p,children:c})]}),a&&Object(g.jsx)("div",{className:u,children:a})]})};h.propTypes={as:a.a.elementType,children:a.a.node,className:a.a.string,footer:a.a.node,icon:a.a.node,right:a.a.node};const j=e=>{let{as:t="header",children:o,className:i,variant:a,...n}=e;return Object(g.jsx)(t,{className:s()(c,i,{[l]:"large"===a}),...n,children:o})};j.propTypes={as:a.a.elementType,children:a.a.node,className:a.a.string,variant:a.a.oneOf(["large"])},h.Header=j;t.a=h},,function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var i=o(2),a=o(1),n=o.n(a),s=o(234),r=o(6),c=o.n(r),l="Popover-Wsqa";var d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[o,a]=Object(i.useState)(!1);Object(i.useEffect)(()=>{let i;return o?i=setTimeout(()=>{e(),a(!1)},t):clearTimeout(i),()=>{clearTimeout(i)}},[e,t,o]);const n=()=>{a(!0)},s=()=>{a(!1)};return{onTouchStart:n,onTouchEnd:s}},u=o(0);const m=new class{constructor(){this.popovers=[],this.callbacks=[]}set(e){this.popovers.find(t=>t===e)||(this.popovers=[...this.popovers,e]),this._notify(e,!0)}remove(e){this.popovers=this.popovers.filter(t=>t!==e),this._notify(e,!1)}has(e){return e&&this.popovers.filter(t=>this._matchKeyPaths(t,e)).length>0}count(){return this.popovers.length}subscribe(e,t){const o=(o,i)=>{this._matchKeyPaths(o,e)&&t(o,i)};return this.callbacks=[...this.callbacks,o],()=>{this.callbacks=this.callbacks.filter(e=>e!==o)}}_matchKeyPaths(e,t){return e.startsWith(t)}_notify(e,t){this.callbacks.forEach(o=>o(e,t))}};function p(e){var t;let{children:o,className:a,content:n,isOpen:r,keyPath:p,onClickOutside:b,onEscapeKeyPressed:g,padding:h=8,autoFocusFirstElement:j=!1,autoFocusLastElement:f=!1,hasNestedPopoverOpen:O=!1,onLongPress:S,...R}=e;const[C,v]=Object(i.useState)(!1),y=Object(i.useRef)(null),I=Object(i.useRef)(null),E=Object(i.useCallback)(()=>{var e;return r&&null!=y&&y.current&&m.has(p)?Array.from(null==(e=y.current)?void 0:e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')):[]},[r,p]),x=Object(i.useCallback)(e=>{if(9!==e.keyCode)return;const t=E();if(0===t.length)return;const o=t[0],i=t[t.length-1];if(!C)return j&&!f&&o.focus(),f&&!j&&i.focus(),v(!0),void e.preventDefault();e.shiftKey?document.activeElement===o&&(null==I||!I.current||j||f?i.focus():I.current.focus(),e.preventDefault()):document.activeElement===i&&(null==I||!I.current||j||f?o.focus():I.current.focus(),e.preventDefault())},[j,f,C,E]),T=Object(i.useCallback)(e=>{if(O)return;const t=E();if(0===t.length)return;const o=t.indexOf(document.activeElement);if(38===e.keyCode){t[(o-1+t.length)%t.length].focus()}else if(40===e.keyCode){t[(o+1)%t.length].focus()}},[E,O]),L=Object(i.useCallback)(e=>{var t;27===e.keyCode&&(r&&m.has(p)&&(g?O||(null==(t=I.current)||t.focus(),g(e)):b&&b(e)))},[O,r,p,b,g]);Object(i.useEffect)(()=>(r?(m.set(p),I.current=document.activeElement):v(!1),()=>{r&&m.remove(p)}),[E,r,p]),Object(i.useEffect)(()=>(document.addEventListener("keydown",x),document.addEventListener("keydown",T),document.addEventListener("keyup",L),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keydown",T),document.removeEventListener("keyup",L)}),[T,L,x]);const k=i.Children.only(o),_="string"===typeof k.type||"Symbol(react.forward_ref)"===(null==(t=k.type.$$typeof)?void 0:t.toString()),N=Object(u.jsx)("div",{ref:y,children:n}),{onTouchStart:w,onTouchEnd:A}=d(e=>{S&&(null==e||e.preventDefault(),null==S||S())});return Object(u.jsx)(s.Popover,{containerParent:document.getElementById("popover-container-fixed")||void 0,containerClassName:c()(a,l,"react-tiny-popover-container"),isOpen:r,"aria-expanded":r,padding:h,content:N,onClickOutside:e=>(e&&e.stopPropagation(),b&&b(e),!1),boundaryInset:4,...R,children:S?Object(u.jsx)("div",{onTouchStart:w,onTouchEnd:A,children:_?k:Object(u.jsx)("div",{children:k})}):_?k:Object(u.jsx)("div",{children:k})})}p.propTypes={autoFocusFirstElement:n.a.bool,autoFocusLastElement:n.a.bool,children:n.a.node.isRequired,className:n.a.string,content:n.a.node,hasNestedPopoverOpen:n.a.bool,isOpen:n.a.bool.isRequired,keyPath:n.a.string.isRequired,onClickOutside:n.a.func,onEscapeKeyPressed:n.a.func,onLongPress:n.a.func,padding:n.a.number};t.b=p},,,,,,,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(3),s=o(145),r=o(4),c=o(0);function l(e){let{bodyText:t,error:o,headerText:i,severity:a="error",...l}=e;const d=s.a(o),u=t||d;return Object(c.jsxs)(r.a,{variant:a,...l,children:[Object(c.jsx)(r.c,{children:i||Object(c.jsx)(n.Localized,{id:"GenericError-title",children:"Sorry, something went wrong"})}),u&&Object(c.jsx)(r.b,{children:u})]})}l.propTypes={bodyText:a.a.node,error:a.a.object,headerText:a.a.node,severity:a.a.oneOf(["error","info","warning"])},t.a=l},function(e,t,o){"use strict";o.d(t,"a",(function(){return m})),o.d(t,"b",(function(){return p}));var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="NavButton-eNkU",c="shell-xCpy",l="IconButton-ddFg",d="light-gJgk",u=o(0);function m(e){let{children:t,className:o,containerClassName:i,light:a,onClick:n,...l}=e;return Object(u.jsx)("button",{type:"button",className:s()(r,i,{[d]:a}),onClick:n,...l,children:Object(u.jsx)("div",{className:s()(c,o),children:t})})}m.displayName="NavButton",m.propTypes={children:a.a.node,className:a.a.string,containerClassName:a.a.string,light:a.a.bool,onClick:a.a.func};const p=e=>{let{icon:t,className:o,light:i,onClick:a,...n}=e;return Object(u.jsx)("button",{type:"button",className:s()(r,l,o,{[d]:i}),onClick:a,...n,children:Object(u.jsx)("div",{className:s()(c),children:t})})};p.propTypes={className:a.a.string,icon:a.a.element,light:a.a.bool,onClick:a.a.func}},function(e,t,o){"use strict";var i=o(2);const a={isMenuVisible:!1,buttonHover:!1,menuHover:!1,menuFocus:!1};function n(e,t){switch(t.type){case"buttonHover":return{...e,buttonHover:!0,isMenuVisible:!0};case"buttonBlur":return{...e,buttonHover:!1,buttonFocus:!1,...!e.menuHover&&{isMenuVisible:!1}};case"menuHover":return{...e,menuHover:!0,isMenuVisible:!0};case"menuFocus":return{...e,menuFocus:!0,isMenuVisible:!0};case"menuBlur":return{...e,menuHover:!1,menuFocus:!1,...!e.buttonHover&&{isMenuVisible:!1}};case"menuToggle":return{...e,isMenuVisible:!e.isMenuVisible};case"menuClose":return{...e,menuHover:!1,buttonHover:!1,isMenuVisible:!1};case"setIsMenuVisible":return{...e,isMenuVisible:t.isVisible}}return e}t.a=function(){const[{isMenuVisible:e},t]=Object(i.useReducer)(n,a),o=Object(i.useCallback)(()=>t({type:"buttonHover"}),[t]),s=Object(i.useCallback)(()=>t({type:"buttonBlur"}),[t]),r=Object(i.useCallback)(()=>t({type:"menuHover"}),[t]),c=Object(i.useCallback)(()=>t({type:"menuFocus"}),[t]),l=Object(i.useCallback)(()=>t({type:"menuBlur"}),[t]),d=Object(i.useCallback)(()=>t({type:"menuToggle"}),[t]),u=Object(i.useCallback)(()=>t({type:"menuClose"}),[t]);return{isMenuVisible:e,setIsMenuVisible:Object(i.useCallback)(e=>t({type:"setIsMenuVisible",isVisible:e}),[t]),onButtonBlur:s,onButtonHover:o,onCloseMenu:u,onMenuHover:r,onMenuFocus:c,onMenuBlur:l,onToggle:d}}},function(e,t,o){"use strict";function i(){try{return window.location!==window.parent.location}catch(e){return!0}}function a(){return!!window.AndroidWebAppInterface}function n(){return!!window.ReactNativeWebView}function s(){return i()||a()||n()}o.d(t,"c",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"d",(function(){return n})),o.d(t,"a",(function(){return s}))},,,function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"e",(function(){return r})),o.d(t,"f",(function(){return c})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return d})),o.d(t,"k",(function(){return u})),o.d(t,"h",(function(){return m})),o.d(t,"l",(function(){return p})),o.d(t,"i",(function(){return b})),o.d(t,"m",(function(){return g})),o.d(t,"j",(function(){return h})),o.d(t,"b",(function(){return j}));var i=o(174);const a={NONE:"none",LIBRARY:"library",CUSTOM:"custom"},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,o,...i]=e;return{defaultTheme:t,customTheme:o,libraryThemes:i}};function s(e){let{backgroundImageThemes:t,customBackgroundImage:o,theme:i}=e;const{defaultTheme:a,customTheme:s}=n(t);return i===s.theme&&""===o?a.theme:i}function r(e){let{hasFetched:t,backgroundImageThemes:o,theme:i}=e;const{defaultTheme:s,customTheme:r}=n(o);return t&&i!==s.theme?i===r.theme?a.CUSTOM:a.LIBRARY:a.NONE}function c(e){let{customBgImage:t,currentBgImage:o,previewBgImage:i,resolvedBgImage:a,storedBgImageUrl:n}=e;return(null===n&&""===a||n===a)&&"string"!==typeof t&&i===o}function l(e){var t;let{paletteThemes:o,theme:i,storedBgColor:a}=e;const n=a("#006654");return i&&(null==(t=o.find(e=>e.theme===i))?void 0:t.backgroundColor)||n}function d(e){var t;let{theme:o,backgroundImageThemes:i,customBackgroundImage:a,storedBackgroundImageUrl:s}=e;if(!i||!o&&!a)return s;const{defaultTheme:r,customTheme:c,libraryThemes:l}=n(i);return o===c.theme?null!=a?a:s:o===r.theme?r.url:(null==(t=l.find(e=>e.theme===o))?void 0:t.url)||s}function u(e){let{customBackgroundImage:t}=e;return!!t}function m(e){let{theme:t,customBackgroundImage:o,storedBgImageUrl:i,backgroundImageThemes:a}=e;const{customTheme:s,libraryThemes:r}=n(a);return t===s.theme&&""===o||!(t===s.theme||!i||r.some(e=>e.url===i))}function p(e){let{isKnockPageSameAsRoom:t,customKnockPageBackgroundImage:o}=e;return!t&&!!o}function b(e){let{theme:t,isKnockPageSameAsRoom:o,customKnockPageBackgroundImage:i,storedKnockBgImageUrl:a,backgroundImageThemes:s}=e;const{customTheme:r,libraryThemes:c}=n(s),l=c.some(e=>e.url===a);return o?!(!a||l):t===r.theme&&""===i||!(t===r.theme||!a||l)}function g(e){let{customLogo:t}=e;return!!t}function h(e){let{customLogo:t}=e;return""===t}function j(e,t,o){const a=getComputedStyle(e.body).getPropertyValue(t),n=new URL(o),s="customFont_"+Object(i.a)(),r=e.createTextNode(`\n        @font-face {\n            font-family: "${s}";\n            src: url("${n.toString()}") format("woff2");\n        }\n\n        :host, :root {\n            ${t}: "${s}", ${a};\n        }\n    `),c=e.createElement("style");c.type="text/css",c.appendChild(r),e.head.appendChild(c)}},,function(e,t,o){"use strict";t.a={component:"component-0MVY",dragActiveOverlay:"dragActiveOverlay-J+-e","dragActiveOverlay--error":"dragActiveOverlay--error-thiy",dropZoneWrapper:"dropZoneWrapper-EN5A",dropZoneTitle:"dropZoneTitle-8Z9N",dropZoneDescription:"dropZoneDescription-lnan",chatMessages:"chatMessages-WE5g",groupBanner:"groupBanner-kDcl",scrollDetector:"scrollDetector-7Rvc",unreadMessagesIndicator:"unreadMessagesIndicator-XeTK",chatMessageInput:"chatMessageInput-B6VH",downloadChatHistoryButton:"downloadChatHistoryButton-2L2S",raisedHandNotification:"raisedHandNotification-K9aB",replyContainer:"replyContainer-6UFf",replyMessageAvatar:"replyMessageAvatar-B9ik",replyMessageName:"replyMessageName-pjXD",replyMessageText:"replyMessageText-N2Uh",cancelReplyButton:"cancelReplyButton-f3BV"}},,function(e,t,o){"use strict";var i=o(2);t.a=function(e){const t=Object(i.useRef)();return Object(i.useEffect)(()=>{t.current=e},[e]),t.current}},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(9),s=o(2),r=o(6),c=o.n(r),l=o(3),d=o(4),u="PrecallLayout-g3Hv",m="bodyWrapper-lzpW",p="body-sf9r",b="publicProfileButton-8r9b",g="roomNameWrapper-UPEU",h="content-WAgZ",j="hasStack-zzVx",f="publicProfileCard-oeiu",O="publicProfileEducation-7-Et",S="publicProfileLink-s++i",R="helpButton-zhMV",C=o(30),v="PrecallRoomName-F-7g",y="lockIconWrapper-vv+-",I="lockIcon-bQSU",E="roomNameText-jY71",x="isDark-RS3T",T=o(0);function L(e){let{isLocked:t,roomName:o,variant:i="light"}=e;return Object(T.jsxs)("div",{className:c()(v,{[x]:"dark"===i}),children:[t&&Object(T.jsx)("div",{className:y,children:Object(T.jsx)(d.V,{className:I})}),Object(T.jsx)("div",{className:E,children:C.a.organizationDomain+o})]})}L.propTypes={isLocked:a.a.bool.isRequired,roomName:a.a.string.isRequired,variant:a.a.oneOf(["light","dark"])};var k="PrecallHeader-CS9l",_="logo-PL3H",N="defaultLogoWrapper-g0Vy",w="roomLogoImg-ihTf",A="user-GnmV",D={buttonsContainer:"buttonsContainer-ockb",logoContainer:"logoContainer-iYhv",logoWrapper:"logoWrapper-2giE",signupButton:"signupButton-ZfEB",languageButton:"languageButton-RexB",helpButton:"helpButton-osnL",languageButtonContent:"languageButtonContent-G7P4",chevron:"chevron-pKuO",roomLogoImg:"roomLogoImg-r5rr"},P="selectedIcon-95al",M=o(25);function F(e){let{isSelected:t,label:o,onClick:i}=e;return Object(T.jsx)(d.fb,{onClick:i,accessory:t?Object(T.jsx)(d.v,{className:P,modifiers:["sizedSmall"]}):null,children:o})}function B(e){let{children:t,doSetLanguage:o,language:i,showLocalization:a,supportedLanguages:n}=e;const[r,c]=Object(s.useState)(!1),l=()=>c(e=>!e),u=e=>{e.stopPropagation(),l()};return Object(T.jsx)(M.b,{keyPath:"Precall.LanguageMenu",align:"start",positions:["bottom"],content:Object(T.jsx)(d.db,{onClick:u,children:a&&n.map(e=>Object(T.jsx)(F,{label:e.label,onClick:()=>o(e.locale,!0),isSelected:i===e.locale},e.locale))}),isOpen:r,onClickOutside:l,onEscapeKeyPressed:l,children:Object(s.cloneElement)(t,{onClick:u})})}F.propTypes={isSelected:a.a.bool,label:a.a.node.isRequired,onClick:a.a.func.isRequired},B.propTypes={children:a.a.node.isRequired,doSetLanguage:a.a.func.isRequired,language:a.a.string.isRequired,showLocalization:a.a.bool.isRequired,supportedLanguages:a.a.array.isRequired};var q=o(57),z=o(221),G=o(164),U=o(166),H=o(33),V=o(20);function W(e){var t;let{doLogout:o,doSetLanguage:i,doSidebarLayerOpen:a,doToggleDisplayNameDialog:n,doToggleHelpMenu:r,featureBrandAvatarsOn:c,isConstrained:u,isDisplayNameForced:m,language:p,prefHelp:b,prefs:g,supportedLanguages:h,user:j}=e;const f=!1!==g.localization,O=!1!==b,S=!1!==g.userAuth,[R,C]=Object(s.useState)(!1),v=()=>C(e=>!e),y=()=>a(V.e);return Object(T.jsx)("div",{className:D.DesktopNavigation,children:(S||f)&&Object(T.jsxs)("div",{className:D.buttonsContainer,children:[f&&Object(T.jsx)(B,{doSetLanguage:i,language:p,showLocalization:f,supportedLanguages:h,children:Object(T.jsx)(d.k,{type:"button","aria-haspopup":!0,"aria-label":"Language menu",className:D.languageButton,modifiers:["grey","extraSmall"],children:Object(T.jsxs)("div",{className:D.languageButtonContent,children:[Object(T.jsx)("span",{children:(null==(t=h.find(e=>e.locale===p))?void 0:t.label)||"Unknown"}),Object(T.jsx)("div",{className:D.chevron,children:Object(T.jsx)(z.a,{direction:"down"})})]})})}),u&&O&&Object(T.jsx)(M.b,{keyPath:"Precall.MoreMenu",align:"end",positions:["bottom"],content:Object(T.jsx)(d.db,{onClick:e=>{e.stopPropagation(),v()},children:Object(T.jsx)(l.Localized,{id:"PrecallMoreMenu-help",children:Object(T.jsx)(d.fb,{onClick:r,children:"Help"})})}),isOpen:R,onClickOutside:v,children:Object(T.jsx)(H.b,{icon:Object(T.jsx)(d.I,{modifiers:["sized","light"]}),className:"jstest-login-button-constrained",onClick:v,"aria-label":"more menu","aria-haspopup":!0})}),S&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(G.a,{featureBrandAvatarsOn:c,isConstrained:u,isDisplayNameForced:m,onLogin:()=>a(V.c),onLogout:o,onSetDisplayName:n,onSignup:y,user:j},j&&j.userId),!(null!=j&&j.userId)&&!u&&Object(T.jsx)(U.a,{onSidebarSignup:y,utmCampaign:"precall_signup_header"})]})]})})}W.propTypes={doLogout:a.a.func.isRequired,doSetLanguage:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doToggleDisplayNameDialog:a.a.func.isRequired,doToggleHelpMenu:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,isConstrained:a.a.bool.isRequired,isDisplayNameForced:a.a.bool.isRequired,language:a.a.string.isRequired,prefHelp:a.a.bool.isRequired,prefs:a.a.object.isRequired,supportedLanguages:a.a.array.isRequired,user:a.a.instanceOf(q.a)};var K=Object(n.b)("doLogout","doSetLanguage","doSidebarLayerOpen","doToggleDisplayNameDialog","doToggleHelpMenu","selectFeatureBrandAvatarsOn","selectIsDisplayNameForced","selectIsPhoneResolution","selectLanguage","selectPrefHelp","selectPrefs","selectSupportedLanguages","selectUser",W);function $(e){let{className:t,hideLogo:o,isConstrained:i,themeLogoUrl:a}=e;return Object(T.jsxs)("div",{className:c()(k,t),children:[Object(T.jsx)("div",{className:_,children:!o&&Object(T.jsx)(T.Fragment,{children:a?Object(T.jsx)("img",{src:a,className:w,alt:""}):Object(T.jsx)("div",{className:N,children:Object(T.jsx)(d.X,{})})})}),Object(T.jsx)("div",{className:A,children:Object(T.jsx)(K,{isConstrained:i})})]})}$.propTypes={className:a.a.string,hideLogo:a.a.bool,isConstrained:a.a.bool,themeLogoUrl:a.a.string};var Q=$,Y={PublicProfileButton:"PublicProfileButton-u7TR",avatar:"avatar-jvlp",displayName:"displayName-wn3n",fakeLink:"fakeLink-0Pxd",newBadge:"newBadge-eZh6"},J=o(84);function Z(e){let{className:t,publicProfile:o,onClick:i,shouldShowNewBadge:a}=e;const{avatarUrl:n,displayName:s}=o;return Object(T.jsxs)("button",{"aria-labelledby":"button-label",className:c()(Y.PublicProfileButton,t),onClick:i,type:"button",children:[Object(T.jsxs)("div",{className:Y.body,children:[s&&Object(T.jsx)("header",{className:Y.displayName,children:s}),Object(T.jsxs)("div",{id:"button-label",className:Y.fakeLink,children:[Object(T.jsx)(l.Localized,{id:"Public-Profile-view-profile",children:"View Profile"}),a&&Object(T.jsx)(J.a,{className:Y.newBadge,children:Object(T.jsx)(l.Localized,{id:"Public-Profile-new-badge",children:"New"})})]})]}),Object(T.jsx)(d.g,{className:Y.avatar,avatarUrl:n,name:s,modifiers:["square"],size:40})]})}Z.propTypes={className:a.a.string,onClick:a.a.func.isRequired,publicProfile:a.a.shape({avatarUrl:a.a.string,bio:a.a.string,displayName:a.a.string,logoUrl:a.a.string,pronouns:a.a.string,timezone:a.a.string}).isRequired,shouldShowNewBadge:a.a.bool};var X=Z,ee=o(168),te="PublicProfileEducation-Rfcr",oe="content-hcq+",ie="topNote-ljo0",ae="topNoteText-B3Cz",ne="dismissButton-qwHh",se="icon-c7Ph",re="title-ar42",ce="paragraph-okX9",le="footer-QtSa",de="toggleSwitchLabel-ak+G",ue=o(239),me=o.n(ue);function pe(e){let{className:t,isPublicProfileEnabled:o,doDismissRoomPublicProfileEducation:i,doRoomPublicProfileEnable:a}=e;return Object(T.jsxs)("div",{className:c()(te,t),children:[Object(T.jsxs)("div",{className:oe,children:[Object(T.jsxs)("div",{className:ie,children:[Object(T.jsxs)("div",{className:ae,children:[Object(T.jsx)("img",{className:se,src:me.a,alt:""}),Object(T.jsx)("span",{children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-top-note",children:"Only you can see this"})})]}),Object(T.jsx)("button",{className:ne,onClick:()=>i(),type:"button",children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-dismiss-button",children:"Dismiss"})})]}),Object(T.jsx)("header",{className:re,children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-title",children:"Introducing room profiles!"})}),Object(T.jsx)("p",{className:ce,children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-paragraph-1",children:"Personal rooms just got more personal."})}),Object(T.jsx)("p",{className:ce,children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-paragraph-2",children:"Include pronouns, biography and timezone for your meeting guests."})})]}),Object(T.jsxs)("div",{className:le,children:[Object(T.jsx)("span",{className:de,children:Object(T.jsx)(l.Localized,{id:"PublicProfileEducation-toggle-switch-label",children:"Enable public profile"})}),Object(T.jsx)(d.Sb,{isActive:o,onToggle:()=>a(!o)})]})]})}pe.propTypes={className:a.a.string,doDismissRoomPublicProfileEducation:a.a.func.isRequired,doRoomPublicProfileEnable:a.a.func.isRequired,isPublicProfileEnabled:a.a.bool.isRequired};var be=pe,ge=o(161),he=o(12);function je(e){let{children:t,className:o,doDismissRoomPublicProfileEducation:i,doRoomPublicProfileEnable:a,frame:n,isRoomOwner:r,language:C,prefHelp:v,prefs:y,room:I,roomPublicProfile:E,roomPublicProfileEnabled:x,shouldShowRoomPublicProfileEducation:k,showRoomName:_=!0,themeLogoUrl:N}=e;const w=n.bounds.width>n.bounds.height,A=Object(he.g)(n.bounds,w),D=!1!==v&&!A,[P,M]=Object(s.useState)(!1),F=k||x,B=r?Object(T.jsx)(d.d,{className:S,href:"/user/profile",target:"_blank",children:Object(T.jsx)(l.Localized,{id:"Public-Profile-edit-profile",children:"Edit profile"})}):null;return Object(T.jsxs)("div",{className:c()(u,o),children:[Object(T.jsx)(Q,{hideLogo:!(null!=y&&y.logo),themeLogoUrl:N,isConstrained:A}),Object(T.jsx)("div",{className:m,children:Object(T.jsxs)("div",{className:p,children:[F&&A&&Object(T.jsx)(X,{className:b,onClick:()=>M(!0),publicProfile:E,shouldShowNewBadge:k}),_&&"transient"!==I.type&&!F&&Object(T.jsx)("div",{className:g,children:Object(T.jsx)(L,{roomName:I.roomName,isLocked:I.isLocked,variant:"dark"})}),Object(T.jsxs)("div",{className:c()(h,A&&j),children:[t,F&&!A&&Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:f,children:Object(T.jsx)(d.tb,{editProfile:B,localTimeLabel:Object(T.jsx)(l.Localized,{id:"Public-Profile-localtime-label",children:"Local time"}),lang:C,publicProfile:E,renderTimezoneOffset:e=>Object(T.jsx)(l.Localized,{id:"Public-Profile-timezone-offset",$offset:e,children:Object(T.jsxs)(T.Fragment,{children:["(",e,"hr)"]})}),timezoneLabel:Object(T.jsx)(l.Localized,{id:"Public-Profile-timezone-label",children:"Timezone"}),variant:"card"})}),k&&Object(T.jsx)(be,{className:O,doDismissRoomPublicProfileEducation:i,doRoomPublicProfileEnable:a,isPublicProfileEnabled:Boolean(x)})]})]})]})}),D&&Object(T.jsx)("div",{className:R,children:Object(T.jsx)(ge.a,{})}),P&&Object(T.jsx)(ee.a,{actionElement:B,lang:C,localTimeLabel:Object(T.jsx)(l.Localized,{id:"Public-Profile-localtime-label",children:"Local time"}),onClose:()=>M(!1),publicProfile:E,publicProfileEducation:k&&Object(T.jsx)(be,{doDismissRoomPublicProfileEducation:function(){i(),x||M(!1)},doRoomPublicProfileEnable:a,isPublicProfileEnabled:Boolean(x)}),renderTimezoneOffset:e=>Object(T.jsx)(l.Localized,{id:"Public-Profile-timezone-offset",$offset:e,children:Object(T.jsxs)(T.Fragment,{children:["(",e,"hr)"]})}),timezoneLabel:Object(T.jsx)(l.Localized,{id:"Public-Profile-timezone-label",children:"Timezone"})})]})}je.propTypes={children:a.a.node.isRequired,className:a.a.string,doDismissRoomPublicProfileEducation:a.a.func.isRequired,doRoomPublicProfileEnable:a.a.func.isRequired,frame:he.d,isRoomOwner:a.a.bool.isRequired,language:a.a.string.isRequired,prefHelp:a.a.bool.isRequired,prefs:a.a.object.isRequired,room:a.a.object.isRequired,roomPublicProfile:a.a.object,roomPublicProfileEnabled:a.a.bool,shouldShowRoomPublicProfileEducation:a.a.bool.isRequired,showRoomName:a.a.bool,themeLogoUrl:a.a.string};var fe=je,Oe=o(159),Se=o(157),Re=o(22);function Ce(e){let{children:t,className:o,doDismissRoomPublicProfileEducation:i,doRoomPublicProfileEnable:a,isRoomOwner:n,isSidebarOpen:s,language:r,layoutIsConstrained:c,layoutIsPortrait:l,layoutIsSidebarFloating:d,layoutRoomFrame:u,layoutStageFrame:m,prefHelp:p,prefs:b,room:g,roomPublicProfile:h,roomPublicProfileEnabled:j,shouldShowRoomPublicProfileEducation:f,showRoomName:O,themeLogoUrl:S}=e;const R=s?Object(T.jsx)(Se.a,{isConstrained:c}):null,C=Object(T.jsx)(fe,{className:o,doDismissRoomPublicProfileEducation:i,doRoomPublicProfileEnable:a,frame:m,isRoomOwner:n,language:r,prefs:b,prefHelp:p,room:g,roomPublicProfile:h,roomPublicProfileEnabled:j,shouldShowRoomPublicProfileEducation:f,showRoomName:O,themeLogoUrl:S,children:t});return Object(T.jsx)(Oe.a,{content:C,frame:u,hasTopToolbar:!0,isConstrained:c,isPortrait:l,isSidebarFloating:d,sidebar:R,sidebarWidth:Re.SIDEBAR_WIDTH})}Ce.propTypes={children:a.a.node.isRequired,className:a.a.string,doDismissRoomPublicProfileEducation:a.a.func.isRequired,doRoomPublicProfileEnable:a.a.func.isRequired,isRoomOwner:a.a.bool.isRequired,isSidebarOpen:a.a.bool.isRequired,language:a.a.string.isRequired,layoutIsConstrained:a.a.bool.isRequired,layoutIsPortrait:a.a.bool.isRequired,layoutIsSidebarFloating:a.a.bool.isRequired,layoutRoomFrame:he.d.isRequired,layoutStageFrame:he.d.isRequired,prefHelp:a.a.bool.isRequired,prefs:a.a.object.isRequired,room:a.a.object.isRequired,roomPublicProfile:a.a.object,roomPublicProfileEnabled:a.a.bool,shouldShowRoomPublicProfileEducation:a.a.bool.isRequired,showRoomName:a.a.bool,themeLogoUrl:a.a.string};t.a=Object(n.b)("doDismissRoomPublicProfileEducation","doRoomPublicProfileEnable","selectIsRoomOwner","selectIsSidebarOpen","selectLanguage","selectLayoutIsConstrained","selectLayoutIsPortrait","selectLayoutIsSidebarFloating","selectLayoutRoomFrame","selectLayoutStageFrame","selectPrefHelp","selectPrefs","selectRoom","selectRoomPublicProfile","selectRoomPublicProfileEnabled","selectShouldShowRoomPublicProfileEducation","selectThemeLogoUrl",Ce)},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="box-vDrw",c="boxContent-apHS",l="footerContent-QZav",d=o(0);function u(e){let{as:t="div",className:o,children:i,footer:a,...n}=e;return Object(d.jsxs)(t,{className:s()(r,o),...n,children:[Object(d.jsx)("div",{className:c,children:i}),a&&Object(d.jsx)("div",{className:l,children:a})]})}u.propTypes={as:a.a.elementType,children:a.a.node.isRequired,className:a.a.string,footer:a.a.node};t.a=u},function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return m}));var i=o(7),a=o(24),n=o(10),s=o(85),r=o(72);const c=(e,t)=>{const o=e[1];e[1]=e[0],e[0]=o;const i=t[1];t[1]=t[0],t[0]=i};function l(e,t){let{breakoutCurrentId:o}=t;return!!e&&(!(o||!e.breakoutGroup)||!e.isAudioEnabled&&!e.isVideoEnabled)}const d="RTC_CONNECTION_STREAM_STATUS_UPDATED",u=["camera_not_working","camera_stopped_working","client_connection_status_changed","connection_blocked_by_network","ice_ipv6_seen","ice_mdns_seen","ice_no_public_ip_gathered","ice_no_public_ip_gathered_3sec","ice_restart","media_quality_changed","microphone_not_working","microphone_stopped_working","pc_sld_failure","pc_on_answer_failure","pc_on_offer_failure","sfu_connection_closed","sfu_connection_open","stream_added","new_pc","local_stream_track_added","local_stream_track_removed","remote_stream_track_added","remote_stream_track_removed","rtc_manager_created","rtc_manager_destroyed"],m=u.reduce((e,t)=>(e[""+t.toUpperCase()]="RTC/"+t,e),{}),p=e=>({emit:(t,o)=>{if(u.includes(t))e({type:"RTC/"+t,payload:o});else{if("dominant_speaker"===t)return;console.warn(`[rtc] ${t} missing handler. Data: %o`,o)}}}),b={error:null,status:"",dispatcherCreated:!1,screenShareAudio:!1,rtcManager:null,micTrackEndedTimestamps:{},rtcIceSummary:{numIceNoPublicIpGathered:0,numIceNoPublicIpGatheredIn3sec:0,numIceIpv6Seen:0,numIceIpv6TeredoSeen:0,numIceIpv6SixtofourSeen:0,numIceMdnsSeen:0,numIceRestart:0,numIceConnected:0,numNewPC:0},analytics:{micTrackEndedCount:0,camTrackEndedCount:0,numPcOnAnswerFailure:0,numPcOnOfferFailure:0,numPcSldFailure:0}};let g={};const h=[];t.c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{name:"rtcConnection",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case n.a.RECONNECT:return{...e,status:"reconnect"};case n.a.ROOM_JOINED:return{...e,status:"reconnect"===e.status?"ready":e.status};case m.RTC_MANAGER_CREATED:return{...e,rtcManager:o.rtcManager};case m.RTC_MANAGER_DESTROYED:return{...e,rtcManager:null};case"RTC_DISPATCHER_CREATED":return{...e,dispatcherCreated:!0};case"RTC_CONNECTION_READY":return{...e,status:"ready",...o};case"RTC_DISCONNECTED":return{...e,status:"disconnected"};case m.ICE_IPV6_SEEN:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceIpv6Seen:e.rtcIceSummary.numIceIpv6Seen+1,numIceIpv6TeredoSeen:e.rtcIceSummary.numIceIpv6TeredoSeen+o.teredoSeen,numIceIpv6SixtofourSeen:e.rtcIceSummary.numIceIpv6SixtofourSeen+o.sixtofourSeen}};case m.ICE_MDNS_SEEN:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceMdnsSeen:e.rtcIceSummary.numIceMdnsSeen+1}};case m.ICE_NO_PUBLIC_IP_GATHERED:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceNoPublicIpGathered:e.rtcIceSummary.numIceNoPublicIpGathered+1}};case m.ICE_NO_PUBLIC_IP_GATHERED_3SEC:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceNoPublicIpGatheredIn3Sec:e.rtcIceSummary.numIceNoPublicIpGatheredIn3Sec+1}};case m.NEW_PC:return{...e,rtcIceSummary:{...e.rtcIceSummary,numNewPC:e.rtcIceSummary.numNewPC+1}};case m.CLIENT_CONNECTION_STATUS_CHANGED:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceConnected:e.rtcIceSummary.numIceConnected+("connection_successful"===o.status?1:0)}};case m.ICE_RESTART:return{...e,rtcIceSummary:{...e.rtcIceSummary,numIceRestart:e.rtcIceSummary.numIceRestart+1}};case m.MICROPHONE_STOPPED_WORKING:return{...e,analytics:{...e.analytics,micTrackEndedCount:e.analytics.micTrackEndedCount+1}};case m.PC_ON_ANSWER_FAILURE:return{...e,analytics:{...e.analytics,numPcOnAnswerFailure:e.analytics.numPcOnAnswerFailure+1}};case m.PC_ON_OFFER_FAILURE:return{...e,analytics:{...e.analytics,numPcOnOfferFailure:e.analytics.numPcOnOfferFailure+1}};case m.PC_SLD_FAILURE:return{...e,analytics:{...e.analytics,numPcSldFailure:e.analytics.numPcSldFailure+1}};case m.CAMERA_STOPPED_WORKING:return{...e,analytics:{...e.analytics,camTrackEndedCount:e.analytics.camTrackEndedCount+1}};case"ADD_MIC_TRACK_ENDED_TIMESTAMP":return{...e,micTrackEndedTimestamps:{...e.micTrackEndedTimestamps,[o.deviceId]:{...e.micTrackEndedTimestamps[o.deviceId],[o.label]:o.timestamp}}};case"REMOVE_MIC_TRACK_ENDED_TIMESTAMP":{const t=e.micTrackEndedTimestamps[o.deviceId];return delete t[o.label],0===Object.keys(t).length&&delete e.micTrackEndedTimestamps[o.deviceId],e}}return e},getMiddleware:Object(s.a)([(e,t,o)=>{const i=e.selectIsAudioEnabled(),a=e.selectIsVideoEnabled(),s=e.selectIsLocalStreamSwitching(),c=e.selectLocalScreenshareStream(),l=e.selectRemoteClientsVideoPresentationStreams(),d=e.selectLayoutRemoteCellBounds(),u=e.selectRoomSessionId();o.type===m.CLIENT_CONNECTION_STATUS_CHANGED&&(o.meta={...o.meta,localClientId:e.selectLocalClientId()});const p=t(o);o.type===m.RTC_MANAGER_CREATED&&e.doInitializeRtcManager(),o.type===m.CAMERA_NOT_WORKING&&e.doSetNotification("camNotWorking"),o.type===m.MICROPHONE_NOT_WORKING&&e.doSetNotification("micNotWorking"),o.type===m.CONNECTION_BLOCKED_BY_NETWORK&&e.doSetNotification("connectionError"),o.type===m.ICE_NO_GLOBAL_IP_GATHERED&&e.doSetNotification("connectionError");const b=e.selectRtcManager_(),g=e.selectLocalStream(),h=g||e.selectLocalClientIsViewer();if(!b||!h||""===e.selectRtcConnectionStatus())return p;const j=e.selectRoomSessionId();if(j!==u&&b.setRoomSessionId(j),o.type!==n.a.CLIENT_LEFT||e.selectFeatureGlitchFreeOn()||b.disconnect(o.payload.clientId,null,o.payload.eventClaim),o.type===n.a.SCREENSHARE_STOPPED&&b.disconnect(o.payload.streamId),o.type===m.MICROPHONE_STOPPED_WORKING&&e.doRestartMicrophone(),o.type===m.CAMERA_STOPPED_WORKING&&e.selectFeatureHandleCamTrackEndedOn()){e.selectVideoInputDevices().every(t=>t.videoId===e.selectVideoId())&&b.stopOrResumeVideo&&e.selectIsVideoEnabled()&&(e.doSetNotification("camNotWorking"),e.doToggleVideoEnabled(!1))}const f=s&&!e.selectIsLocalStreamSwitching();if(f&&g){var O;const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=g.getTracks().find(t=>t.kind===e);return o&&b.replaceTrack(t,o)};null==(O=o.payload)||null==(O=O.replacedTracks)||O.forEach(t=>{e(t.kind,t)})}const S=e.selectLocalScreenshareStream(),R=e.selectLocalScreenshareStopRequestedByClientId();c!==S&&(c&&b.removeStream(c.id,c,R),S&&b.addNewStream(S.id,S));const C=e.selectRemoteClientsVideoPresentationStreams();if(l.length!==C.length){const e=C.map(e=>e.getVideoTracks()[0].id);b.setRemoteScreenshareVideoTrackIds(e)}const v=e.selectIsAudioEnabled();(i!==v||f)&&(b.stopOrResumeAudio(g,v),i!==v&&b.sendAudioMutedStats(!v));const y=e.selectIsVideoEnabled();(a!==y||f)&&(b.stopOrResumeVideo(g,y),a!==y&&b.sendVideoMutedStats(!y));const I=Object(r.a)(e.doUpdateStreamResolution_,{timeout:1e3},{delay:1e3,edges:!0});e.selectIsSimulcast()&&d!==e.selectLayoutRemoteCellBounds()&&I();const E=e.selectMicTrackEndedTimestamps();if(Object.keys(E).includes(e.selectAudioId())){var x;const t=e.selectAudioInputDevices().find(t=>t.audioId===e.selectAudioId()),o=null==(x=E[null==t?void 0:t.audioId])?void 0:x[null==t?void 0:t.label];o&&Date.now()-o>6e4&&e.doRemoveMicTrackEndedTimestamp()}return"ROOM_LEFT"===o.type&&b.rtcStatsDisconnect(),p}]),doConnectRtc:()=>t=>{let{dispatch:o,store:i}=t;if(e)return;const n=i.selectSignalSocket_(),s={getMediaConstraints:()=>Object(a.h)(i.selectGetConstraintsOptions()),deferrable:e=>l(i.selectRemoteClients().find(t=>t.id===e),{breakoutCurrentId:i.selectBreakoutCurrentId()})};e=new a.d({emitter:p(o),serverSocket:n,webrtcProvider:s,features:{addGoogleStunServers:i.selectFeatureAddGoogleStunServersOn(),addCloudflareStunServers:i.selectFeatureAddCloudflareStunServersOn(),deprioritizeH264OnSafari:i.selectFeatureDeprioritizeH264OnSafariOn(),lowDataModeEnabled:i.selectPrefLowData()||!i.selectPrefHd(),sfuServerOverrideHost:i.selectFeatureSfuServer(),turnServerOverrideHost:i.selectFeatureTurnServer(),unlimitedBandwidthWhenUsingRelayP2POn:i.selectFeatureUnlimitedBandwidthWhenUsingRelayP2POn(),useOnlyTURN:i.selectFeatureEnforceTurnTls()?"onlytls":i.selectPrefs().turn,av1On:i.selectFeatureAv1On(),vp9On:i.selectFeatureVp9On(),h264On:i.selectFeatureH264On(),redOn:i.selectFeatureRedOn(),cleanSdpOn:i.selectFeatureCleanSdpOn(),rtpAbsCaptureTimeOn:i.selectFeatureRtpAbsCaptureTimeOn(),simulcastScreenshareOn:i.selectFeatureSimulcastScreenshareOn(),adjustBitratesFromResolution:i.selectFeatureAdjustBitratesFromResolutionOn(),higherP2PBitrates:i.selectFeatureHigherP2PBitratesOn(),increaseIncomingMediaBufferOn:i.selectFeatureIncreaseIncomingMediaBufferOn(),uncappedSingleRemoteVideoOn:i.selectFeatureUncappedSingleRemoteVideoOn(),sfuReconnectV2On:i.selectFeatureSfuReconnectV2On(),lowBandwidth:i.selectFeatureLowBandwidthOn(),...i.selectExperimentalTogglesObject()}}),o({type:"RTC_DISPATCHER_CREATED"})},doInitializeRtcManager:()=>e=>{let{dispatch:t,store:o}=e;t({type:"RTC_CONNECTION_INITIALIZING"});const i=o.selectRtcManager_(),a=o.selectLocalStream(),n=o.selectLocalScreenshareStream();if(!o.selectLocalClientIsViewer()){const e=Object.values(o.selectBeforeEffectTracks()).filter(e=>!!e);i.addNewStream("0",a,!o.selectIsAudioEnabled(),!o.selectIsVideoEnabled(),e),n&&i.addNewStream(n.id,n),i.stopOrResumeAudio&&!o.selectIsAudioEnabled()&&i.stopOrResumeAudio(a,!1),i.stopOrResumeVideo&&!o.selectIsVideoEnabled()&&i.stopOrResumeVideo(a,!1)}for(i.sendAudioMutedStats(!o.selectIsAudioEnabled()),i.sendVideoMutedStats(!o.selectIsVideoEnabled());h.length;){const[e,t]=h.shift();i.sendStatsCustomEvent(e,t)}t({type:"RTC_CONNECTION_READY",payload:{screenShareAudio:i.supportsScreenShareAudio()}})},doAcceptStreams:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectBreakoutActive(),n=i.selectRtcManager_(),s=null==n.shouldAcceptStreamsFromBothSides?void 0:n.shouldAcceptStreamsFromBothSides(),r=[];for(const{clientId:c,streamId:l,state:d}of e){if("to_accept"===d||"new_accept"===d&&s||"old_accept"===d&&!s)n.acceptNewStream({streamId:"0"===l?c:l,clientId:c,shouldAddLocalVideo:"0"===l,activeBreakout:a});else if("new_accept"===d||"old_accept"===d);else if("to_unaccept"===d)null==n||n.disconnect("0"===l?c:l,a);else if("done_accept"!==d)continue;r.push({clientId:c,streamId:l,state:d.replace(/to_|new_|old_/,"done_")})}o({type:d,payload:r})},doKickClient:e=>({type:"KICK_CLIENT",meta:{signal:{type:"kick_client",payload:{clientId:e,reasonId:"kick"}}}}),doDisconnectRtc:()=>t=>{let{dispatch:o}=t;e&&e.stopRtcManager(),o({type:"RTC_DISCONNECTED"})},doRestartMicrophone:()=>e=>{var t,o;let{store:i}=e;const a=null==(t=i.selectLocalStream())?void 0:t.getAudioTracks()[0];if(i.selectIsLocalStreamSwitching()||i.selectIsWindowUnloading()||"ended"!==(null==a?void 0:a.readyState))return;const n=i.selectAudioInputDevices().find(e=>e.audioId===i.selectAudioId());if(null!=(o=i.selectMicTrackEndedTimestamps()[null==n?void 0:n.audioId])&&o[null==n?void 0:n.label])return i.doSetNotification("micTrackEnded",{...null!=a&&a.label?{deviceLabel:a.label}:{}}),void i.doAddMicTrackEndedTimestamp();i.doAddMicTrackEndedTimestamp(),i.doLocalStreamErrorAnalytics("mic_stopped_working"),i.doSwitchLocalStream({audioId:i.selectAudioId()||null,autoSwitched:!0}),function e(t){setTimeout(()=>{var o;i.selectIsLocalStreamSwitching()?t||e(!0):i.selectIsWindowUnloading()||("live"===(null==(o=i.selectLocalStream())||null==(o=o.getAudioTracks()[0])?void 0:o.readyState)?i.doLocalStreamErrorAnalytics("mic_recovery_success"):(i.doLocalStreamErrorAnalytics("mic_recovery_failed"),i.doSetNotification("genericError",{title:"Microphone error",description:"There are problems accessing your microphone"})))},6e3)}()},doUpdateStreamResolution_:()=>e=>{let{store:t}=e;const o=t.selectLayoutRemoteCellBounds(),i=t.selectRtcManager_();if(i){for(const e in o)if(Object.hasOwnProperty.call(o,e)){const{width:t,height:a}=o[e],n=g[e];n&&n.width===t&&n.height===a||i.updateStreamResolution(e,null,{width:t||1,height:a||1})}g=o}},doRtcAnalyticsCustomEvent:(e,t)=>o=>{let{store:i}=o;h.push([e,t]);const a=i.selectRtcManager_();if(a)for(;h.length;){const[e,t]=h.shift();a.sendStatsCustomEvent(e,t)}},doAddMicTrackEndedTimestamp:()=>e=>{let{store:t,dispatch:o}=e;const i=t.selectAudioInputDevices().find(e=>e.audioId===t.selectAudioId());i&&o({type:"ADD_MIC_TRACK_ENDED_TIMESTAMP",payload:{deviceId:i.audioId,label:i.label,timestamp:Date.now()}})},doRemoveMicTrackEndedTimestamp:()=>e=>{let{store:t,dispatch:o}=e;const i=t.selectAudioInputDevices().find(e=>e.audioId===t.selectAudioId());i&&o({type:"REMOVE_MIC_TRACK_ENDED_TIMESTAMP",payload:{deviceId:i.audioId,label:i.label}})},selectMicTrackEndedTimestamps:e=>e.rtcConnection.micTrackEndedTimestamps,selectRtcIceSummary:e=>e.rtcConnection.rtcIceSummary,selectRtcManagerDispatcher_:()=>e,selectRtcManager_:e=>e.rtcConnection.rtcManager,selectRtcConnectionRaw:e=>e.rtcConnection,selectRtcConnectionAnalytics:e=>e.rtcConnection.analytics,selectRtcConnectionStatus:e=>e.rtcConnection.status,selectRtcManagerDispatcherCreated:e=>e.rtcConnection.dispatcherCreated,selectIsRtcConnectionMissing:e=>!e.rtcConnection.status,selectScreenShareAudioSupported:e=>e.rtcConnection.screenShareAudio,selectIsSimulcast:Object(i.e)("selectRoomMode",e=>"group"===e),reactCreateRtcManagerDispatcher:Object(i.e)("selectHasFeaturesFetched","selectPermissions","selectRtcManagerDispatcherCreated","selectSignalSocket_",(e,t,o,i)=>{if(e&&t&&i&&!o)return{actionCreator:"doConnectRtc"}}),reactUpdateRtcConnection:Object(i.e)("selectRtcConnectionStatus","selectRoomConnectionStatus",(e,t)=>{if(["kicked","left"].includes(t)&&"disconnected"!==e)return{actionCreator:"doDisconnectRtc"}}),reactAcceptStreams:Object(i.e)("selectBreakoutCurrentId","selectRemoteClients","selectRtcConnectionStatus","selectSpotlights",(e,t,o,i)=>{if("ready"!==o)return;const a=[];return t.forEach(t=>{const{streamIds:o,streamState:n,id:s,newJoiner:r,isDialIn:l}=t,d=i.find(e=>e.clientId===t.id&&"0"===e.streamId);(null==o?void 0:o.length)>1&&"0"===o[1]&&c(o,n);for(let i=0;i<o.length;i++){const c=o[i],u=n[i];if(!t.breakoutGroup&&!e||t.breakoutGroup===e||""===t.breakoutGroup&&d){if("done_accept"===u)continue;a.push({clientId:s,streamId:c,state:(r&&"0"===c?"new":"to")+"_accept",isDialIn:l})}else{if("done_unaccept"===u)continue;a.push({clientId:s,streamId:c,state:"to_unaccept"})}}}),a.length>0?{actionCreator:"doAcceptStreams",args:[a]}:void 0})}}},,function(e,t,o){"use strict";o.d(t,"f",(function(){return s})),o.d(t,"g",(function(){return r})),o.d(t,"h",(function(){return c})),o.d(t,"j",(function(){return l})),o.d(t,"i",(function(){return u})),o.d(t,"e",(function(){return m})),o.d(t,"c",(function(){return p})),o.d(t,"b",(function(){return b})),o.d(t,"d",(function(){return g})),o.d(t,"a",(function(){return h}));var i=o(174),a=o(35);const n=/((?:https?(?::\/\/))(?:www\.)?(?:[a-zA-Z\d-_.]+(?:\.[a-zA-Z\d]{2,})|localhost)(?:(?:[-a-zA-Z\d:%_+.~#!?&//=@]*)(?:[,](?![\s]))*)*)/g,s=e=>["\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f"].includes(e)||/^(\ue50a|([\u00a9\u00ae]\ufe0f)|([\u0023\u002a\u0030-\u0039]\u20e3)|(\ud83c[\udde0-\uddff]\ud83c[\udde0-\uddff])|(([\ud83c-\ud83e]|[\u2030-\u3300])[\ud000-\udfff]?([\ud83c][\udff0-\udfff])?[\ufe00-\ufe0f]?(\u200d(([\ud83c-\ud83e]|[\u2030-\u3300])[\ud000-\udfff]?([\ud83c][\udff0-\udfff])?[\ufe00-\ufe0f]?))*))$/.test(e),r=e=>{let{parentId:t,type:o}=e;return!!t&&"chatMessage"===o},c=e=>e.map(e=>("@"+e.displayName).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).join("|");function l(e,t,o){return o&&o.length>0?e.split(new RegExp(`(${c(o)})`,"g")).map((e,i)=>{if(null!=e&&e.startsWith("@")){const a=e.slice(1),n=o.find(e=>e.displayName===a);if(n)return{id:`${t}_${i}`,text:e,mention:n}}return d(e,`${t}_${i}`)}).flat():d(e,t)}function d(e,t){return e.split(n).reduce((e,o,i)=>{const a=`${t}_${i}`;var n;return i%2?e.push({text:o,url:(n=o,function(e){switch(e){case",":case".":case"?":case":":case"!":return!0;default:return!1}}(n.slice(-1))&&(n=n.slice(0,-1)),n),id:a}):o.length>0&&e.push({text:o,id:a}),e},[])}function u(e){const t=e.match(n);return t&&0!==t.length?{previewUrl:t[0]}:null}function m(e,t){if(!e)return;const o=t.find(t=>t.matcher.test(e));if(!o)return null;if(Object(a.a)()&&!o.isEmbeddable)return null;return{integration:{config:e.match(o.matcher).shift(),roomIntegration:o}}}function p(e){let{id:t=Object(i.a)(),received:o=Date.now(),senderId:a,parentId:n=null,sig:s=null,file:r,text:c,timestamp:l,breakoutGroup:d,broadcast:u,cached:m=!1,removed:p=!1,mentions:b=null}=e;return{type:"chatMessage",id:t,received:o,senderId:a,parentId:n,sig:s,file:r,text:c,timestamp:new Date(l).getTime(),breakoutGroup:d,broadcast:u,cached:m,removed:p,mentions:b}}function b(e){let{clientId:t,eventType:o,received:a,senderId:n,text:s="",timestamp:r,uuidFn:c=i.a,...l}=e;return{id:c(),clientId:t,eventType:o,received:a||Date.now(),senderId:n,text:s,timestamp:new Date(r).getTime(),type:"chatLogMessage",...l}}const g=e=>({displayName:e.displayName||void 0,avatarUrl:e.avatarUrl||void 0}),h=e=>{let{chatMessage:t,parentChatMessage:o}=e;if(!o)return p(t);const{id:i,senderId:a,text:n,removed:s}=o;return{...p(t),replyingTo:{id:i,senderId:a,text:n,removed:s}}}},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(379),c=o(4),l="Avatar-FHER",d="layer-VzM7",u=o(0);function m(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,height:"160",viewBox:"0 0 160 160",width:"160",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("circle",{cx:"79.5",cy:"80.5",fill:o,r:"70.5"})})}function p(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M149 51.5C149 62.9057 143.908 73.1222 135.873 80C143.908 86.8778 149 97.0943 149 108.5C149 129.211 132.211 146 111.5 146C98.2932 146 86.6809 139.173 80 128.855C73.3191 139.173 61.7068 146 48.5 146C27.7893 146 11 129.211 11 108.5C11 96.8553 16.3076 86.4503 24.6356 79.5722C16.8851 72.7021 12 62.6716 12 51.5C12 30.7893 28.7893 14 49.5 14C62.3832 14 73.749 20.4967 80.5 30.3926C87.251 20.4967 98.6168 14 111.5 14C132.211 14 149 30.7893 149 51.5Z",fill:o})})}function b(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,fill:"none",height:"160",viewBox:"0 0 160 160",width:"160",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{fill:o,children:[Object(u.jsx)("path",{d:"m6.00005 80h144.99995c-1.804-38.9677-33.574-70-72.5002-70-38.9266 0-70.69577 31.0323-72.49975 70z"}),Object(u.jsx)("path",{d:"m155 149h-151c1.87864-38.968 34.9626-70 75.5-70 40.537 0 73.621 31.032 75.5 70z"})]})})}function g(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,fill:"none",height:"160",viewBox:"0 0 160 160",width:"160",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"m16 61.5 63.5-46.5 63.5 43.5-16.5 54-47 33-45-33z",fill:o})})}function h(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,fill:"none",height:"160",viewBox:"0 0 160 160",width:"160",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{clipRule:"evenodd",d:"m10 14 82 10-.0738.0938c32.3718 1.7776 58.0738 28.5904 58.0738 61.4062 0 33.966-27.534 61.5-61.5 61.5-27.7619 0-51.2275-18.395-58.8731-43.661l-.1269.161-.6272-2.879c-.329-1.301-.6165-2.6186-.861-3.9513z",fill:o,fillRule:"evenodd"})})}function j(e){let{className:t,color:o}=e;return Object(u.jsx)("svg",{className:t,fill:"none",height:"160",viewBox:"0 0 160 160",width:"160",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"m80.0772 6 74.0768 74.0772-74.0768 74.0768-74.07717-74.0768z",fill:o})})}m.propTypes=p.propTypes=b.propTypes=g.propTypes=h.propTypes=j.propTypes={className:a.a.string,color:a.a.string.isRequired};var f=o(235),O=o.n(f),S=o(236),R=o.n(S),C=o(237),v=o.n(C);const y=[m,p,b,g,h,j],I=["#fbf1e3","#a6d4d2","#828aae","#ffc8b7","#b7cfff","#feffb7"];function E(e){let{avatarUrl:t,borderWidth:o=0,className:i,modifiers:a,name:n,size:m,...p}=e;if(t)return Object(u.jsx)(c.g,{avatarUrl:t,className:i,modifiers:a,name:n,size:m});const b=Object(r.a)(n||"","1b671a64-40d5-491e-99b0-da01ff1f3341").replace("-",""),g=y[parseInt("0x"+b.substring(0,2))%y.length],h=I[parseInt("0x"+b.substring(2,4))%I.length],j=parseInt("0x"+b.substring(8,10))%12,f=parseInt("0x"+b.substring(6,8))%12,S=parseInt("0x"+b.substring(4,6))%4;return Object(u.jsxs)("div",{style:{"--avatar-size":m+"px"},className:s()(l,i),...p,children:[Object(u.jsx)(g,{className:d,color:h}),Object(u.jsx)("img",{alt:"",className:d,src:v.a,style:{objectPosition:S*(m-o)*-1+"px 0px"}}),Object(u.jsx)("img",{alt:"",className:d,src:R.a,style:{objectPosition:f*(m-o)*-1+"px 0px"}}),Object(u.jsx)("img",{alt:"",className:d,src:O.a,style:{objectPosition:j*(m-o)*-1+"px 0px"}})]})}E.propTypes={avatarUrl:a.a.string,borderWidth:a.a.number,className:a.a.string,modifiers:a.a.arrayOf(a.a.oneOf(["outline","round","square"])),name:a.a.string,size:a.a.oneOf([32,36,40,60,80,200])};t.a=E},function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return u}));var i=o(67),a=o(52);const n=()=>{},s={};async function r(e){let{audioContext:t,src:o,retry:i=0}=e;try{const e=await fetch(o),i=await e.arrayBuffer();return new Promise((e,o)=>{t.decodeAudioData(i,t=>{e(t)},o)})}catch(n){if("Failed to fetch"===n.message&&i<3)return await new Promise(e=>setTimeout(e,1e3*(i+1))),r({audioContext:t,src:o,retry:i+1});throw new a.a(n)}}async function c(e){let{source:t,speakerId:o,audioContext:a}=e;const s=await async function(e){if(!e||!Object(i.a)())return null;const t=new Audio;try{await t.setSinkId(e)}catch(o){return console.warn("Unable to set sink to "+e,o),null}return t}(o);if(!s)return t.connect(a.destination),n;const r=a.createMediaStreamDestination();return s.srcObject=r.stream,await s.play(),t.connect(r),()=>{r.disconnect(),setTimeout(()=>{s.pause(),s.srcObject=null},300)}}async function l(e){let{audioContext:t,audioBuffer:o,speakerId:i}=e;const a=t.createBufferSource();a.buffer=o;const n=await c({source:a,speakerId:i,audioContext:t});let s=!0;const r=[],l=()=>{s=!1,a.disconnect(),a.buffer=null,a.removeEventListener("ended",l),r.forEach(e=>e()),r.length=0,n()};return a.addEventListener("ended",l),a.start(),{stop(){s=!1,a.stop()},get isPlaying(){return s},onEnded(e){r.push(e)},source:a}}function d(e){const t=e.createBufferSource();t.buffer=e.createBuffer(1,1,22050),t.connect(e.destination);const o=()=>{t.disconnect(),t.buffer=null,t.removeEventListener("ended",o)};t.addEventListener("ended",o),t.start()}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"shared",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!s[t]){const i=new(e.AudioContext||e.webkitAudioContext)(o);s[t]={audioContext:i,loadAudio:e=>r({audioContext:i,src:e}),play:e=>{let{audioBuffer:t,speakerId:o}=e;return l({audioContext:i,audioBuffer:t,speakerId:o})},unlockSafari:()=>d(i),close:()=>{i.close(),Object.keys(s[t]).forEach(e=>{delete s[t][e]}),delete s[t]}}}return s[t]}}).call(this,o(39))},,,function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return s})),o.d(t,"e",(function(){return r})),o.d(t,"f",(function(){return c}));class i extends Error{constructor(e){let{message:t,stack:o}=e;super(t),this.name="AudioFetchError",this.details=o,Error.captureStackTrace&&Error.captureStackTrace(this,i)}}class a extends Error{constructor(e){let{message:t,stack:o}=e;super(t),this.name="LocalizationFetchError",this.details=o,Error.captureStackTrace&&Error.captureStackTrace(this,a)}}class n extends Error{constructor(e){let{message:t,stack:o}=e;super(t),this.name="RoomFetchError",this.details=o,Error.captureStackTrace&&Error.captureStackTrace(this,n)}}class s extends Error{constructor(e){let{message:t,stack:o}=e;super(t),this.name="RoomNotAllowedError",this.details=o,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}class r extends Error{constructor(e){super(e),this.name="RoomNotFoundError",Error.captureStackTrace&&Error.captureStackTrace(this,r)}}class c extends Error{constructor(e){super(e),this.name="ValidationError",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}},function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return r}));var i=o(12);function a(e,t){const{width:o,height:i}=t,a=i,n=a*e,s=Math.min(o/n,i/a);return{width:n*s,height:a*s}}function n(e){let{contentAspectRatio:t,containerFrame:o}=e;const n=a(t,{width:o.bounds.width,height:o.bounds.height}),s=(o.bounds.height-n.height)/2,r=(o.bounds.width-n.width)/2;return Object(i.j)({...n,top:o.origin.top+s,left:o.origin.left+r})}const s=e=>{let{vertical:t,width:o,height:i,count:n,aspectRatio:s}=e;const r=[1,2,3].map(e=>(e=>{let{width:t,height:o,rows:i,cols:n,aspectRatio:s}=e;const r=a(s,{width:t/n,height:o/i});return Math.round(r.width*r.height)})({width:o,height:i,rows:t?Math.ceil(n/e):e,cols:t?e:Math.ceil(n/e),aspectRatio:s})),c=Math.max(...r);return{splits:r.indexOf(c)+1,weight:c}};function r(e){let{count:t,width:o,height:i,aspectRatio:a}=e;if(t<=1)return{rows:1,cols:1};const{splits:n,vertical:r}=(e=>{let{width:t,height:o,count:i,aspectRatio:a}=e;const n=s({vertical:!0,width:t,height:o,count:i,aspectRatio:a}),r=s({vertical:!1,width:t,height:o,count:i,aspectRatio:a});return n.weight>r.weight?{splits:n.splits,vertical:!0}:{splits:r.splits,vertical:!1}})({width:o,height:i,count:t,aspectRatio:a});return r?{rows:Math.ceil(t/n),cols:n}:{rows:n,cols:Math.ceil(t/n)}}},,function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(4),r=o(103),c=o(9),l=o(3),d=o(148),u=o(0);function m(){return!!navigator.share&&!navigator.userAgent.includes("Whereby")&&!navigator.userAgent.includes("Appearin")&&!navigator.userAgent.includes("wv")}function p(e){let{as:t="button",doRoomEmbedCodeCopiedAnalytics:o,doSetNotification:a,embedInstructions:n,queryParams:s,roomName:r,...c}=e;const[p,b]=Object(i.useState)(!1);function g(e){try{Object(d.a)(e),n?(a("embedCodeCopied"),o()):a("linkCopied")}catch(t){console.error("Couldn't copy link to clipboard",t),a("Copying failed: "+e)}}return Object(u.jsx)(t,{onClick:function(){const e=n?`<iframe src="${location.origin}${r}" allow="camera; microphone; fullscreen; speaker; display-capture; compute-pressure"></iframe>`:`${location.origin}${r}${s?"?"+Object.keys(s).reduce((e,t)=>[...e,`${t}=${s[t]}`],[]).join("&"):""}`;!m()||p||n?g(e):function(e){return navigator.share({title:"You've been invited to a Whereby conversation.",text:"Join our video conference on Whereby\n\n",url:e}).catch(e=>{if("AbortError"!==e.name||!e.message.includes("cancel"))throw e})}(e).catch(()=>{b(!0),g(e)})},type:"button",...c,children:m()&&!n?Object(u.jsx)(l.Localized,{id:"InCallAloneInvitation-button-share",children:"Share"}):Object(u.jsx)(l.Localized,{id:"InCallAloneInvitation-button-copy",children:"Copy"})})}p.propTypes={as:n.a.elementType,className:n.a.string,doRoomEmbedCodeCopiedAnalytics:n.a.func.isRequired,doSetNotification:n.a.func.isRequired,embedInstructions:n.a.bool,modifiers:n.a.arrayOf(n.a.string),notificationType:n.a.string,queryParams:n.a.object,roomName:n.a.string.isRequired};var b=Object(c.b)("doRoomEmbedCodeCopiedAnalytics","doSetNotification",p);const g=e=>{e.stopPropagation(),e.target.setSelectionRange(0,e.target.value.length)},h=Object(i.createContext)(null),j=()=>Object(i.useContext)(h);function f(e){let{children:t}=e;const o=Object(r.a)(),a=Object(r.a)(),n=Object(r.a)(),s=Object(i.useMemo)(()=>({idInput:o,idLabel:a,idText:n}),[o,a,n]);return Object(u.jsx)(h.Provider,{value:s,children:Object(u.jsx)("section",{role:"group",children:t})})}function O(e){let{as:t="input",className:o,label:i,url:a,...n}=e;const{idInput:r,idLabel:c,idText:l}=j();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)(s.ac,{id:c,children:i})}),Object(u.jsx)(t,{id:r,className:o,value:a,onClick:g,"aria-labelledby":c,"aria-describedby":l,readOnly:!0,...n})]})}function S(e){let{as:t,className:o,roomName:i,...a}=e;return Object(u.jsx)(b,{as:t,className:o,roomName:i,...a})}function R(e){let{children:t,className:o,...i}=e;const{idText:a}=j();return Object(u.jsx)("div",{id:a,className:o,...i,children:t})}f.propTypes={children:n.a.node},O.propTypes={as:n.a.elementType,className:n.a.string,label:n.a.node.isRequired,url:n.a.string},S.propTypes={as:n.a.elementType,className:n.a.string,roomName:n.a.string.isRequired},R.propTypes={children:n.a.node,className:n.a.string},f.Url=O,f.Button=S,f.Text=R;t.a=f},,function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(11),a=o.n(i);class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.a.ok(e instanceof Object,"properties<object> must be empty or an object"),this.userId=null,this.created=null,this.lastUpdated=null,this.displayName=null,this.email=null,this.hasSentWelcomeEmail=null,this.androidAppVersion=null,this.avatarUrl=null,this.ownedRooms=[],this.permissions={};const t={};Object.getOwnPropertyNames(e).forEach(o=>{-1!==Object.getOwnPropertyNames(this).indexOf(o)&&(t[o]=e[o])}),Object.assign(this,t)}}},,,,,function(e,t,o){"use strict";o.d(t,"e",(function(){return n})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return c})),o.d(t,"c",(function(){return l})),o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return u}));var i=o(1),a=o.n(i);const n=a.a.arrayOf(a.a.exact({text:a.a.string.isRequired,url:a.a.string,id:a.a.string.isRequired,mention:a.a.object})),s=a.a.exact({url:a.a.string.isRequired,status:a.a.string.isRequired,metadata:a.a.shape({image:a.a.string,logo:a.a.string,publisher:a.a.string,title:a.a.string}).isRequired,error:a.a.object}),r=a.a.shape({text:a.a.string.isRequired,type:a.a.oneOf(["broadcast","chatMessage","chatLogMessage","reaction"]),tokenizedText:n.isRequired,urlMetadata:s,received:a.a.number,timestamp:a.a.number.isRequired,id:a.a.string.isRequired,parentId:a.a.string,senderId:a.a.string.isRequired,previewUrl:a.a.string,integration:a.a.object}),c=a.a.shape({totalCount:a.a.number.isRequired,tooltipSubset:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,count:a.a.number.isRequired,displayName:a.a.string})).isRequired,tooltipLeftoverCount:a.a.number.isRequired}),l=a.a.shape({[a.a.string]:c}),d={id:a.a.string.isRequired,displayName:a.a.string,fromSelf:a.a.bool,mentions:a.a.array,senderId:a.a.string,avatarUrl:a.a.string,messages:a.a.arrayOf(r),timestamp:a.a.number.isRequired,reactions:l,type:a.a.oneOf(["broadcast","chatMessage","chatLogMessage","reaction"])},u=a.a.shape(d)},function(e,t,o){"use strict";o.d(t,"f",(function(){return a})),o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return s})),o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return c})),o.d(t,"e",(function(){return l}));const i=e=>(""+Math.floor(e)).padStart(2,"0"),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";const o=new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit",second:void 0});return o.format(e)},n=e=>{const t=e/1e3;return 60*Math.floor(t/3600)+Math.floor(t%3600/60)},s=e=>{const t=e/1e3,o=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return o||i||a?`PT${o?o+"H":""}${i?i+"M":""}${a?a+"S":""}`:"PT0S"},r=e=>{let t=[i(e/36e5),i(e%36e5/6e4),i(e%6e4/1e3)].join(":");return e<36e5&&(t=t.replace(/^00:/,"")),t},c=e=>r(e&&Date.now()-e||0),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return new Date(e).toLocaleString(t,{month:"long",day:"numeric",hour:"2-digit",hour12:!1,minute:"2-digit"})}},function(e,t,o){"use strict";o.d(t,"b",(function(){return d})),o.d(t,"a",(function(){return u})),o.d(t,"c",(function(){return p})),o.d(t,"e",(function(){return b})),o.d(t,"d",(function(){return g}));var i=o(96);const{base64header:a,ImageTooLarge:n,IncorrectFileType:s,isImageQualityReduced:r,parseAndReduceBase64ImageToBlob:c}=i.a,l="image/jpeg",d={logo:{maxHeight:200,maxWidth:320,mimeType:"image/png",sizeLimit:2e5,sizeLimitAsString:"200 kB"},thumbnail:{maxHeight:200,maxWidth:320,mimeType:l,sizeLimit:1e5,sizeLimitAsString:"100 kB"},background:{maxHeight:1200,maxWidth:1920,mimeType:l,sizeLimit:6e5,sizeLimitAsString:"600 kB"}};async function u(e){let{image:t,cachedWarning:o,targetImageConfig:i}=e;return t&&(o||await r(t,i))?new n("image too large"):null}function m(e){let{base64image:t,restrictions:o}=e;if(t){if(!a.test(t))throw new s("Image type not supported");return c(t,o)}}async function p(e){let{base64image:t,theme:o,palette:i,roomName:a,roomThemeService:s}=e;const[r,c]=await Promise.all([m({base64image:t,restrictions:d.background}),m({base64image:t,restrictions:d.thumbnail})]);try{await s.setBackgroundImage({image:r,thumbnail:c,theme:o,palette:i,roomName:a})}catch(u){var l;if("image too large"===(null==(l=u.data)?void 0:l.error))throw new n(u.data.error);throw u}}async function b(e){let{base64image:t,theme:o,roomName:i,roomThemeService:a}=e;const s=await m({base64image:t,restrictions:d.logo});try{await a.setLogo({image:s,theme:o,roomName:i})}catch(c){var r;if("image too large"===(null==(r=c.data)?void 0:r.error))throw new n(c.data.error);throw c}}async function g(e){let{base64image:t,theme:o,palette:i,isKnockPageSameAsRoom:a,roomName:s,roomThemeService:r}=e;const[c,l]=await Promise.all([m({base64image:t,restrictions:d.background}),m({base64image:t,restrictions:d.thumbnail})]);try{await r.setKnockPageBackgroundImage({image:c,theme:o,palette:i,isKnockPageSameAsRoom:a,roomName:s,thumbnail:l})}catch(p){var u;if("image too large"===(null==(u=p.data)?void 0:u.error))throw new n(p.data.error);throw p}}},,function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var i=o(1),a=o.n(i),n=o(2),s=o(6),r=o.n(s),c=o(4),l={videoContainer:"videoContainer-9wiS",withRoundedCorners:"withRoundedCorners-+BRb",mirror:"mirror-kwda",noVideoContainer:"noVideoContainer-DIgj",fixedAspectRatioContainer:"fixedAspectRatioContainer-OU-j",fixedAspectRatioVideo:"fixedAspectRatioVideo-c1om",videoPlaceholder:"videoPlaceholder-Sw4l","videoPlaceholder--light":"videoPlaceholder--light-1Drn","videoPlaceholder--dark":"videoPlaceholder--dark-QJ+d","videoPlaceholder--error":"videoPlaceholder--error-0Z6N",cameraNotEnabled:"cameraNotEnabled-7msa",icons:"icons-f+r6",icon:"icon-mJv7",captionOverlay:"captionOverlay-jm1q","captionOverlay--top":"captionOverlay--top-Q6Me"},d=o(257),u=o.n(d),m="button-RAZU",p="container-PwVm",b=o(0);const g=e=>{let{onRequestPermissions:t,showCameraIcon:o,showMicIcon:i}=e;const a=()=>Object(b.jsx)("button",{onClick:t,className:m,children:Object(b.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(b.jsx)("rect",{y:"6",width:"48",height:"48",rx:"12",fill:"black",fillOpacity:"0.56"}),Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7071 20.2929C13.3166 19.9024 12.6834 19.9024 12.2929 20.2929C11.9024 20.6834 11.9024 21.3166 12.2929 21.7071L30.2929 39.7071C30.6834 40.0976 31.3166 40.0976 31.7071 39.7071C32.0976 39.3166 32.0976 38.6834 31.7071 38.2929L29.9999 36.5857V33.7143L34.4186 36.8705C35.0805 37.3433 35.9999 36.8702 35.9999 36.0568V23.9432C35.9999 23.1298 35.0805 22.6567 34.4186 23.1294L29.9563 26.3168C29.954 26.2841 29.9515 26.2517 29.9489 26.2198C29.8961 25.5743 29.7839 24.9959 29.5094 24.457C29.078 23.6103 28.3896 22.9219 27.5428 22.4905C27.004 22.2159 26.4256 22.1037 25.7801 22.051C25.1556 22 24.3863 22 23.442 22H23.442L15.4142 22L13.7071 20.2929ZM17.4142 24L27.9999 34.5857V28.6C27.9999 27.6034 27.9991 26.9161 27.9555 26.3826C27.9129 25.8608 27.8343 25.5749 27.7274 25.365C27.4877 24.8946 27.1053 24.5122 26.6349 24.2725C26.425 24.1655 26.139 24.087 25.6172 24.0444C25.0838 24.0008 24.3965 24 23.3999 24H17.4142ZM18.6 35.9995C17.6034 35.9995 16.9161 35.9987 16.3826 35.9551C15.8608 35.9125 15.5749 35.834 15.365 35.727C14.8946 35.4873 14.5122 35.1049 14.2725 34.6345C14.1655 34.4246 14.087 34.1387 14.0444 33.6169C14.0008 33.0834 14 32.3961 14 31.3995L14 26.9995C14 26.4472 13.5523 25.9995 13 25.9995C12.4477 25.9995 12 26.4472 12 26.9995V31.4416V31.4417C12 32.386 12 33.1552 12.051 33.7797C12.1037 34.4252 12.2159 35.0037 12.4905 35.5425C12.9219 36.3892 13.6103 37.0776 14.457 37.509C14.9959 37.7836 15.5743 37.8958 16.2198 37.9485C16.8443 37.9995 17.6135 37.9995 18.5578 37.9995H18.5579H23C23.5523 37.9995 24 37.5518 24 36.9995C24 36.4472 23.5523 35.9995 23 35.9995H18.6Z",fill:"white"}),Object(b.jsx)("rect",{x:"34",width:"20",height:"20",rx:"10",fill:"#F26B4D"}),Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.4958 6.67085C41.268 6.44305 40.8987 6.44305 40.6709 6.67085C40.443 6.89866 40.443 7.26801 40.6709 7.49581L43.175 10L40.6709 12.5042C40.443 12.732 40.443 13.1013 40.6709 13.3291C40.8987 13.557 41.268 13.557 41.4958 13.3291L44 10.825L46.5042 13.3291C46.732 13.557 47.1013 13.557 47.3291 13.3291C47.557 13.1013 47.557 12.732 47.3291 12.5042L44.825 10L47.3291 7.49581C47.557 7.26801 47.557 6.89866 47.3291 6.67085C47.1013 6.44305 46.732 6.44305 46.5042 6.67085L44 9.17504L41.4958 6.67085Z",fill:"white"})]})}),n=()=>Object(b.jsx)("button",{onClick:t,className:m,children:Object(b.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(b.jsx)("rect",{y:"6",width:"48",height:"48",rx:"12",fill:"black",fillOpacity:"0.56"}),Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 24.5858V23C20 20.7909 21.7909 19 24 19C26.2091 19 28 20.7909 28 23V31C28 31.4466 27.8536 31.8591 27.6062 32.1919L29.3189 33.9047C29.3595 33.8567 29.4012 33.8041 29.443 33.747C29.7195 33.3691 30 32.7963 30 32V28.5C30 27.9477 30.4477 27.5 31 27.5C31.5523 27.5 32 27.9477 32 28.5V32C32 33.3037 31.5305 34.2809 31.057 34.928C30.9485 35.0763 30.8397 35.2075 30.7361 35.3219L33.7071 38.2929C34.0976 38.6834 34.0976 39.3166 33.7071 39.7071C33.3166 40.0976 32.6834 40.0976 32.2929 39.7071L14.2929 21.7071C13.9024 21.3166 13.9024 20.6834 14.2929 20.2929C14.6834 19.9024 15.3166 19.9024 15.7071 20.2929L20 24.5858ZM17 27.5C17.5523 27.5 18 27.9477 18 28.5V32C18 33.6569 19.3431 35 21 35H24C24.5523 35 25 35.4477 25 36V40C25 40.5523 24.5523 41 24 41C23.4477 41 23 40.5523 23 40V37H21C18.2386 37 16 34.7614 16 32V28.5C16 27.9477 16.4477 27.5 17 27.5Z",fill:"white"}),Object(b.jsx)("rect",{x:"34",width:"20",height:"20",rx:"10",fill:"#F26B4D"}),Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.4958 6.67085C41.268 6.44305 40.8987 6.44305 40.6709 6.67085C40.443 6.89866 40.443 7.26801 40.6709 7.49581L43.175 10L40.6709 12.5042C40.443 12.732 40.443 13.1013 40.6709 13.3291C40.8987 13.557 41.268 13.557 41.4958 13.3291L44 10.825L46.5042 13.3291C46.732 13.557 47.1013 13.557 47.3291 13.3291C47.557 13.1013 47.557 12.732 47.3291 12.5042L44.825 10L47.3291 7.49581C47.557 7.26801 47.557 6.89866 47.3291 6.67085C47.1013 6.44305 46.732 6.44305 46.5042 6.67085L44 9.17504L41.4958 6.67085Z",fill:"white"})]})});return Object(b.jsxs)("div",{className:p,children:[o&&Object(b.jsx)(a,{}),i&&Object(b.jsx)(n,{})]})};g.propTypes={onRequestPermissions:a.a.func.isRequired,showCameraIcon:a.a.bool.isRequired,showMicIcon:a.a.bool.isRequired};var h=g,j=o(167);function f(){return Object(b.jsx)("div",{className:l.noVideoContainer,children:Object(b.jsx)("img",{src:u.a,alt:"","data-testid":"camera-preview-viewer-illustration"})})}function O(e){let{showCameraIcon:t=!0,showMicIcon:o=!0,bgModifier:i,className:a,caption:n,children:s,captionTop:d,onRequestPermissions:u}=e;return Object(b.jsx)("div",{className:r()(l.noVideoContainer,l.fixedAspectRatioContainer,a),children:Object(b.jsx)("div",{className:r()(l.videoPlaceholder,l.fixedAspectRatioVideo,{[l["videoPlaceholder--"+i]]:!0}),children:Object(b.jsxs)("div",{className:l.cameraNotEnabled,children:[!s&&Object(b.jsx)(b.Fragment,{children:n||d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:l.icons,children:[o&&Object(b.jsx)(c.hb,{modifiers:["light"],className:l.icon}),t&&Object(b.jsx)(c.m,{modifiers:["light"],className:l.icon})]}),Object(b.jsx)("div",{className:r()([l.captionOverlay,{[l["captionOverlay--top"]]:d}]),children:n})]}):Object(b.jsx)(h,{onRequestPermissions:u,showCameraIcon:t,showMicIcon:o})}),s]})})})}function S(e){let{audioId:t,caption:o,captionTop:i,className:a,isBlocked:s,localClientIsViewer:c,localStream:d,mediaPermissionStatus:u,mirror:m=!0,shouldShowVideo:p=!0,videoId:g,withRoundedCorners:h}=e;const S=Object(n.useRef)(null);return Object(n.useEffect)(()=>{S&&S.current&&S.current.refreshStream()},[S,g,t]),c?Object(b.jsx)(f,{}):s?Object(b.jsx)(O,{bgModifier:"error",caption:"Cam and mic are blocked"}):s||"prompt"!==u?p?Object(b.jsxs)("div",{className:r()(l.videoContainer,l.fixedAspectRatioContainer,a,{[l.withRoundedCorners]:h,[l.mirror]:m}),children:[Object(b.jsx)(j.a,{clientId:"camera-preview",ariaHidden:!0,ref:S,stream:d,className:l.fixedAspectRatioVideo},g||""),o&&Object(b.jsx)("div",{className:r()(l.captionOverlay,{[l["captionOverlay--top"]]:i}),children:o})]}):Object(b.jsx)(O,{bgModifier:"dark",showCameraIcon:!1,showMicIcon:!1,caption:o,captionTop:i}):Object(b.jsx)(O,{bgModifier:"light",caption:"Cam and mic are not active"})}O.propTypes={bgModifier:a.a.string,caption:a.a.node,captionTop:a.a.bool,children:a.a.node,className:a.a.string,onRequestPermissions:a.a.func,showCameraIcon:a.a.bool,showMicIcon:a.a.bool},S.propTypes={audioId:a.a.string,caption:a.a.node,captionTop:a.a.bool,className:a.a.string,isBlocked:a.a.bool.isRequired,localClientIsViewer:a.a.bool,localStream:a.a.object,mediaPermissionStatus:a.a.string.isRequired,mirror:a.a.bool,shouldShowVideo:a.a.bool,videoId:a.a.string,withRoundedCorners:a.a.bool};t.b=S},function(e,t,o){"use strict";(function(e){function i(){return e.HTMLMediaElement&&"setSinkId"in e.HTMLMediaElement.prototype&&!/[Ff]irefox/.test(e.navigator.userAgent)}o.d(t,"a",(function(){return i}))}).call(this,o(39))},function(e,t,o){"use strict";function i(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];const a=Array.isArray(o[0])?o[0]:o;return Object.entries(e).reduce((e,t)=>{let[o,i]=t;return a.includes(o)||(e[o]=i),e},{})}o.d(t,"a",(function(){return i}))},function(e,t,o){"use strict";t.a={1:String.fromCodePoint(parseInt("1f3fb",16)),2:String.fromCodePoint(parseInt("1f3fc",16)),3:String.fromCodePoint(parseInt("1f3fd",16)),4:String.fromCodePoint(parseInt("1f3fe",16)),5:String.fromCodePoint(parseInt("1f3ff",16))}},function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return r}));var i=o(52);const a={TOO_LARGE:"Display name is too long",INVALID_CHARACTERS:"Display name can not include characters "+"$!<>:;".split("").join(" ")},n=new RegExp("[$!<>:;\0]");function s(e){if(e)return e.length>100?new i.f(a.TOO_LARGE):n.test(e)?new i.f(a.INVALID_CHARACTERS):void 0}function r(e){return!s(e)}},,function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(11),a=o.n(i);function n(e){let{delay:t=500,edges:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.a.ok("function"===typeof e,"fn<function> is required");let i=null,n=0;return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];n+=1,o&&1===n&&e(...s),clearTimeout(i),i=setTimeout(()=>{(!o||n>1)&&e(...s),i=null,n=0},t)}}},,,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n="ErrorPage-phNM",s=o(43),r=o(44),c=o(32),l=o(0);function d(e){let{headerText:t,bodyText:o,severity:i="error",footer:a,showRoomName:d}=e;return Object(l.jsx)(s.a,{showRoomName:d,children:Object(l.jsx)(r.a,{footer:a,children:Object(l.jsx)("div",{className:n,children:Object(l.jsx)(c.a,{headerText:t,bodyText:o,severity:i})})})})}d.propTypes={bodyText:a.a.node,footer:a.a.node,headerText:a.a.node,severity:a.a.oneOf(["error","info","warning"]),showRoomName:a.a.bool};t.a=d},,,function(e,t,o){"use strict";t.a={SelectOverlay:"SelectOverlay-Vyci",icon:"icon-OZvv",selectWithOverlay:"selectWithOverlay-eNf+"}},function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));const i={CANNOT_INVITE_YOURSELF:"cannot_invite_yourself",CLIENT_MISSING_DEVICE_ID:"client_missing_device_id",FORBIDDEN:"forbidden",INTERNAL_SERVER_ERROR:"internal_server_error",INVALID_AVATAR:"invalid_avatar",INVALID_PARAMETERS:"invalid_parameters",INVALID_ROOM_NAME:"invalid_room_name",MAX_VIEWER_LIMIT_REACHED:"max_viewer_limit_reached",MISSING_PARAMETERS:"missing_parameters",MISSING_ROOM_NAME:"missing_room_name",NOT_AN_OWNER:"not_an_owner",NOT_IN_A_ROOM:"not_in_a_room",ROOM_ALREADY_CLAIMED:"room_already_claimed",ROOM_CONCURRENCY_CONTROL_ERROR:"room_concurrency_control_error",ROOM_EMAIL_MISSING:"room_email_missing",ROOM_FULL:"room_full",ROOM_MEETING_TIME_EXHAUSTED:"room_meeting_time_exhausted",CLIENT_BLOCKED:"client_blocked",ROOM_LOCKED:"room_locked",TOO_LONG_TEXT:"too_long_text",VIDEO_STICKER_DOES_NOT_EXIST:"video_sticker_does_not_exist",VIDEO_STICKER_FORMAT_ERROR:"video_sticker_format_error",UNSUPPORTED_VIDEO_ENCODING:"unsupported_video_encoding",FREE_TIER_EXHAUSTED:"free_tier_exhausted"}},,,function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));function i(e,t){return e>t-.001&&e<t+.001}function a(e){return i(e,0)}class n{constructor(e,t,o){this._m=e,this._k=t,this._c=o,this._solution=null,this._endPosition=0,this._startTime=0}x(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(e):0}dx(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._solution.dx(e):0}setEnd(e,t,o){if(e===this._endPosition&&a(t))return;o||(o=(new Date).getTime()),t=t||0;let i=this._endPosition;this._solution&&(a(t)&&(t=this._solution.dx((o-this._startTime)/1e3)),i=this._solution.x((o-this._startTime)/1e3),a(t)&&(t=0),a(i)&&(i=0),i+=this._endPosition),this._solution&&a(i-e)&&a(t)||(this._endPosition=e,this._solution=this._solve(i-this._endPosition,t),this._startTime=o)}snap(e){this._startTime=(new Date).getTime(),this._endPosition=e,this._solution={x:()=>0,dx:()=>0}}done(){return i(this.x(),this._endPosition)&&a(this.dx())}reconfigure(e,t,o){this._m=e,this._k=t,this._c=o,this.done()||(this._solution=this._solve(this.x()-this._endPosition,this.dx()),this._startTime=(new Date).getTime())}springConstant(){return this._k}damping(){return this._c}_solve(e,t){const o=this._c,i=this._m,a=this._k,n=o*o-4*i*a;if(0===n){const a=-o/(2*i),n=e,s=t/(a*e);return{x:e=>(n+s*e)*Math.pow(Math.E,a*e),dx(e){const t=Math.pow(Math.E,a*e);return a*(n+s*e)*t+s*t}}}if(n>0){const a=(-o-Math.sqrt(n))/(2*i),s=(-o+Math.sqrt(n))/(2*i),r=(t-a*e)/(s-a),c=e-r;return{x:e=>c*Math.pow(Math.E,a*e)+r*Math.pow(Math.E,s*e),dx:e=>c*a*Math.pow(Math.E,a*e)+r*s*Math.pow(Math.E,s*e)}}{const n=Math.sqrt(4*i*a-o*o)/(2*i),s=-o/2*i,r=e,c=(t-s*e)/n;return{x:e=>Math.pow(Math.E,s*e)*(r*Math.cos(n*e)+c*Math.sin(n*e)),dx(e){const t=Math.pow(Math.E,s*e),o=Math.cos(n*e),i=Math.sin(n*e);return t*(c*n*o-r*n*i)+s*t*(c*i+r*o)}}}}}},,function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="Badge-nZcE",c=o(0);function l(e){let{as:t="span",className:o,...i}=e;return Object(c.jsx)(t,{className:s()(r,o),...i})}l.propTypes={as:a.a.elementType,className:a.a.string}},function(e,t,o){"use strict";function i(e){return()=>t=>o=>e.reduce((e,o)=>o.bind(null,t,e),o)}o.d(t,"a",(function(){return i}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c={LoadingScreen:"LoadingScreen-RxxT",spinnerWrapper:"spinnerWrapper-7li2","LoadingScreen--fullPage":"LoadingScreen--fullPage-RDjk",why:"why-T6me","why--visible":"why--visible--FK1"},l=o(162),d=o(163),u=o(0);function m(e){let{children:t,inline:o,modifiers:a=[]}=e;const[n,s]=Object(i.useState)(!1);Object(i.useEffect)(()=>{const e=setTimeout(()=>s(!0),4e3);return()=>clearTimeout(e)},[]),o||a.push("fullPage");const m=Object(l.a)({name:"LoadingScreen",modifiers:a,styles:c});return Object(u.jsxs)("div",{className:r()(c.LoadingScreen,...m),"data-testid":"loading-screen",children:[Object(u.jsx)("div",{className:r()(c.spinnerWrapper),children:Object(u.jsx)(d.a,{})}),t&&Object(u.jsx)("div",{className:r()(c.why,n&&c["why--visible"]),children:t})]})}m.propTypes={children:n.a.node,inline:n.a.bool,modifiers:n.a.array}},function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return s}));const i=()=>!(!window.document.fullscreenEnabled&&!window.document.webkitFullscreenEnabled),a=()=>!(!window.document.fullscreenElement&&!window.document.webkitFullscreenElement),n=()=>{const e=window.document.exitFullscreen||window.document.webkitExitFullscreen;e&&e.call(window.document)},s=function(){let{onError:e=console.error,el:t=window.document.documentElement}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=t.requestFullscreen||t.webkitRequestFullscreen;if(o)try{var i;return void(null==(i=o.call(t))||i.catch(e))}catch(a){e(a)}e(new Error("Fullscreen not supported"))}},function(e,t,o){"use strict";o.d(t,"b",(function(){return c}));var i=o(1),a=o.n(i),n=o(2),s=o(9),r=o(0);const c={};function l(e,t,o,i,a,n,s){"mount"!==t&&(c[e]=[...c[e]||[],{id:e,phase:t,actualDuration:o,baseDuration:i,startTime:a,commitTime:n,interactions:s}])}function d(e){let{children:t,prefs:o,id:i}=e;return o.profilerStats?Object(r.jsx)(n.Profiler,{id:i,onRender:l,children:t}):Object(r.jsx)(r.Fragment,{children:t})}d.propTypes={children:a.a.node.isRequired,id:a.a.string.isRequired,prefs:a.a.object},t.a=Object(s.b)("selectPrefs",d)},,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var i=o(11),a=o.n(i),n=o(83);function s(){var e;const t=()=>{},o=null==(e=Object(n.e)())?void 0:e.catch(console.error);return{async getChat(e){let{roomSessionId:i=""}=e;return await Object(n.f)({exceptRoomSessionId:i,dbPromise:o}).catch(t),Object(n.b)({roomSessionId:i,dbPromise:o}).catch(()=>[])},async updateChat(e){let{roomSessionId:i,chatMessage:s}=e;return a()(i,"roomSessionId is required"),a()(s,"chatMessage is required"),Object(n.i)({roomSessionId:i,chatMessage:s,dbPromise:o}).catch(t)},async getClientMetadata(e){let{roomSessionId:i=""}=e;return await Object(n.g)({exceptRoomSessionId:i,dbPromise:o}).catch(t),Object(n.c)({roomSessionId:i,dbPromise:o}).catch(()=>[])},async updateClientMetadata(e){let{roomSessionId:i,clientMetadata:s}=e;return a()(i,"roomSessionId is required"),a()(s,"clientMetadata is required"),Object(n.j)({roomSessionId:i,clientMetadata:s,dbPromise:o}).catch(t)},getVirtualBackgrounds:async()=>Object(n.d)({dbPromise:o}).catch(()=>[]),async removeVirtualBackgroundById(e){let{backgroundId:i}=e;return a()(i,"backgroundId is required"),Object(n.h)({backgroundId:i,dbPromise:o}).catch(t)},async addVirtualBackground(e){let{background:i}=e;return a()(i,"background is required"),Object(n.a)({background:i,dbPromise:o}).catch(t)}}}},,,,,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r={raisedHandBadge:"raisedHandBadge-seoX","raisedHandBadge--small":"raisedHandBadge--small-d8XV","raisedHandBadge--medium":"raisedHandBadge--medium-qvJP","raisedHandBadge--large":"raisedHandBadge--large-J37z"},c=o(0);function l(e){let{className:t,reaction:o,size:i="medium"}=e;return Object(c.jsx)("div",{className:s()(r.raisedHandBadge,r["raisedHandBadge--"+i],t),children:Object(c.jsx)("div",{children:o})})}l.propTypes={className:a.a.string,reaction:a.a.string.isRequired,size:a.a.oneOf(["small","medium","large"])};t.a=l},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(4),c="dialInIconWrapper-Wwgp",l="dialInIcon-+TV+",d=o(0);function u(e){let{size:t}=e;return Object(d.jsx)("div",{className:s()(c),"data-testid":"WebRtcVideo-dialInIconAvatar",children:Object(d.jsx)(r.F,{className:l,modifiers:["sized"],style:{width:t,height:t}})})}u.defaultProps={size:32},u.propTypes={size:a.a.number};t.a=u},function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));const i="touch"===o(231).a},function(e,t,o){"use strict";var i=o(2),a=o(174);t.a=function(){const e=Object(i.useRef)(null);return null===e.current&&(e.current=Object(a.a)()),e.current}},,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="IconButton-TaLm",c="IconButton--grey-esg2",l=o(0);function d(e){let{children:t,className:o,variant:i,...a}=e;return Object(l.jsx)("button",{className:s()(r,o,{[c]:"grey"===i}),type:"button",...a,children:t})}d.propTypes={children:a.a.element.isRequired,className:a.a.string,variant:a.a.oneOf(["grey"])};t.a=d},,,function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));const i=e=>!!e&&e.startsWith("\u270b"),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{1:"\ud83d\udc4d"+e,2:"\ud83d\udc4e"+e,3:"\ud83d\udc4f"+e,4:"\ud83d\udc4b"+e,5:"\ud83c\udf89",6:"\ud83d\ude0d",7:"\ud83d\ude2e",8:"\ud83d\ude02",0:void 0}}},,,,function(e,t,o){"use strict";var i=o(0);t.a=function(e){return Object(i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2a1 1 0 11-2 0 1 1 0 012 0zm5 8a3 3 0 100-6 3 3 0 000 6zm-.004 2.5a3.5 3.5 0 013.032 1.745.75.75 0 001.298-.752 5 5 0 00-8.657.009.75.75 0 001.3.75A3.5 3.5 0 017.995 12.5zM2 7a1 1 0 100-2 1 1 0 000 2zm1 3a1 1 0 11-2 0 1 1 0 012 0zm3-7a1 1 0 100-2 1 1 0 000 2zm5-1a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2zm1 3a1 1 0 11-2 0 1 1 0 012 0zm-1 5a1 1 0 100-2 1 1 0 000 2z",fill:"currentColor"})})}},,function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r=o(2),c=o(3),l={EmojiPicker:"EmojiPicker-EJLX",hasStickyReactions:"hasStickyReactions-3z1q",reactionWrapper:"reactionWrapper-+PUy",stickyReactionsWrapper:"stickyReactionsWrapper-6b2A",emojiBody:"emojiBody-Mw-e",stickyReactionLabel:"stickyReactionLabel-YRHo",emojiFooter:"emojiFooter-kpGp",emojiButton:"emojiButton-fdEM",stickyEmojiButton:"stickyEmojiButton-Tsup",enabled:"enabled-vltL",emoji:"emoji-6Ycz",hoverMenuWrapper:"hoverMenuWrapper-8U-N"},d=o(25),u=o(34);const m={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight"},p=e=>{let{keyPressed:t,currentIndex:o,maxIndex:i}=e;return void 0===o?0:t===m.ArrowDown?o===i?0:o+1:t===m.ArrowUp?0===o?i:o-1:void 0};var b=o(69),g=o(108),h=o(117),j=o(0);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const o="\u270b"+e;return[{name:"raise_hand",reaction:o,label:t===o?Object(j.jsx)(c.Localized,{id:"StickyReaction-lower-hand",children:"Lower"}):Object(j.jsx)(c.Localized,{id:"StickyReaction-raise-hand",children:"Raise"})}]},O=e=>{let{keyPressed:t,currentIndex:o}=e;if(void 0===o)return t===m.ArrowUp?0:t===m.ArrowRight?1:t===m.ArrowLeft?4:o;if(0===o)return t===m.ArrowRight?1:o;if(5===o&&t===m.ArrowLeft)return 0;if(o>4){if(t===m.ArrowDown)return o;if(t===m.ArrowUp)return o-4}return o<5&&t===m.ArrowDown?o+4:4!==o&&8!==o||t!==m.ArrowRight?t===m.ArrowRight?o+1:t===m.ArrowLeft?o-1:o:o};function S(e){let{onSelect:t,onSetStickyReaction:o,footer:i,hideEmojis:n,children:s,emojiSkinTone:c,stickyReaction:S}=e;const{isMenuVisible:R,onButtonBlur:C,onButtonHover:v,onCloseMenu:y,onMenuHover:I,onMenuBlur:E,onMenuFocus:x,onToggle:T}=Object(u.a)(),L=Object(g.b)(b.a[c]),k=Object(r.useRef)(),_=Object(r.useRef)(),N=Object(r.useRef)(),w=Object(r.useRef)(),A=Object(r.useRef)(),D=Object(r.useRef)(),P=Object(r.useRef)(),M=Object(r.useRef)(),F=Object(r.useRef)(),B=[k,_,N,w,A,D,P,M,F];(e=>{let{getNextIndex:t=p,focusableElements:o,navigationAvailable:i}=e;const[a,n]=Object(r.useState)(),s=Object(r.useCallback)(e=>{i&&n(i=>t({keyPressed:e,currentIndex:i,maxIndex:o.length-1}))},[n,t,o.length,i]);Object(r.useEffect)(()=>{const e=e=>{let{key:t}=e;m[t]&&s(t)};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}},[s]),Object(r.useEffect)(()=>{var e;void 0!==a&&(i?null==(e=o[a])||null==(e=e.current)||e.focus():n(void 0))},[o,a,n,i])})({getNextIndex:O,navigationAvailable:R,focusableElements:B.filter(e=>!!e.current)});const q=Object(j.jsx)("div",{className:l.hoverMenuWrapper,onMouseEnter:I,onMouseLeave:E,onFocusCapture:x,children:Object(j.jsxs)("div",{className:a()("jstest-emoji-picker",l.EmojiPicker,l.hasStickyReactions),children:[Object(j.jsxs)("div",{className:l.reactionWrapper,children:[Object(j.jsx)("div",{className:l.stickyReactionsWrapper,children:f(b.a[c],null==S?void 0:S.reaction).map(e=>Object(j.jsxs)("button",{ref:k,className:a()(l.stickyEmojiButton,"jstest-emojipicker-emoji-0",{[l.enabled]:(null==S?void 0:S.reaction)===e.reaction}),onClick:()=>{const t=(null==S?void 0:S.reaction)===e.reaction?[]:[e.reaction];o(...t),y()},children:[Object(j.jsx)("span",{className:l.emoji,children:e.reaction}),Object(j.jsx)("span",{className:l.stickyReactionLabel,children:e.label}),Object(j.jsx)(h.a,{className:l.key,name:"H",variant:"small"})]},e.reaction))}),Object(j.jsx)("div",{className:l.emojiBody,children:Object.keys(L).map(e=>{const o=L[e];return o?Object(j.jsxs)("button",{ref:B[e],className:a()(l.emojiButton,"jstest-emojipicker-emoji-"+e),onClick:()=>{t(o),y()},accessKey:e,children:[Object(j.jsx)("span",{className:l.emoji,children:o}),Object(j.jsx)(h.a,{className:l.key,name:""+e,variant:"small"})]},e):null}).filter(Boolean)})]}),i&&Object(r.cloneElement)(i,{onToggle:T,classNames:l.emojiFooter})]})}),z=Object(j.jsx)("div",{className:l.hoverMenuWrapper,onMouseEnter:I,onMouseLeave:E,children:Object(j.jsx)("div",{className:l.EmojiPicker,children:i})});return Object(j.jsx)(d.b,{autoFocusFirstElement:!0,keyPath:"BottomToolbar.EmojiPicker",className:"jstest-emojipicker-popover",isOpen:R,padding:0,content:n?z:q,onClickOutside:y,onEscapeKeyPressed:y,align:"center",positions:["top"],children:s({onButtonBlur:C,onButtonHover:v,onCloseMenu:y,onToggle:T,isMenuVisible:R})})}S.propTypes={children:s.a.func.isRequired,emojiSkinTone:s.a.string,footer:s.a.element,hideEmojis:s.a.bool,onSelect:s.a.func.isRequired,onSetStickyReaction:s.a.func.isRequired,stickyReaction:s.a.object};t.a=S},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c={ProgressCircle:"ProgressCircle-IuXO",progress:"progress-aAzf",progressCircle:"progressCircle-AJuj","ProgressCircle--black":"ProgressCircle--black-gUif","ProgressCircle--meetingRed":"ProgressCircle--meetingRed-K8dy",progressArc:"progressArc-tM2Z","ProgressCircle--green":"ProgressCircle--green-rdPV","progressArc--completed":"progressArc--completed-8l+j"},l=o(42),d=o(0);const u={tiny:16,small:40,medium:46,large:64,extraLarge:256},m={tiny:2,small:3,medium:3,large:4,extraLarge:16};function p(e){let{className:t,progress:o=0,size:a="tiny",variant:n="white",half:s=!1,...p}=e;const[b,g]=Object(i.useState)(!1),h=b?100:o,j=Object(l.a)(o)||0,f=u[a],O=m[a];Object(i.useEffect)(()=>{0===o&&j>0&&g(!0)},[j,o]);const S=f,R=f/2,C=R-O/2,v=2*C*Math.PI,y=s?v/2-h/100*(v/2):v-h/100*v,I=s?v/2:v;return Object(d.jsx)("div",{className:r()(c.ProgressCircle,t,c["ProgressCircle--"+n],{[c["ProgressCircle--half"]]:s}),style:{"--width":f+"px","--stroke-width":O+"px"},...p,children:Object(d.jsxs)("svg",{className:r()(c.progress,{[c["progress-half"]]:s}),viewBox:`0 0 ${f} ${S}`,width:f,height:S,"aria-hidden":"true",strokeLinecap:"round",children:[Object(d.jsx)("circle",{className:c.progressCircle,cx:R,cy:R,fill:"none",r:C,strokeWidth:O,strokeLinecap:"round",strokeDasharray:s?v/2:"",style:{strokeDashoffset:s?v/2:""}}),Object(d.jsx)("circle",{className:r()(c.progressArc,{[c["progressArc--completed"]]:b}),cx:R,cy:R,fill:"none",r:C,stroke:"white",strokeDasharray:I+" "+v,strokeLinecap:"round",strokeWidth:O,style:{strokeDashoffset:y,transform:s?"rotate(180deg)":""}})]})})}p.propTypes={className:n.a.string,half:n.a.bool,progress:n.a.number,size:n.a.oneOf(Object.keys(u)),variant:n.a.oneOf(["white","black","meetingRed","green"])};t.a=Object(i.memo)(p)},function(e,t,o){"use strict";var i=o(2),a=o(49);const n=()=>{};function s(e,t){let{audioContextWrapper:o=Object(a.a)(),doCaptureException:s=n,src:r,speakerId:c=null,children:l=(()=>null),onEnded:d=n,onReady:u=n}=e;const[m,p]=Object(i.useState)(),[b,g]=Object(i.useState)(),[h,j]=Object(i.useState)(!1),[f,O]=Object(i.useState)();async function S(){if(m)return void console.error("Cannot play "+r,m);let e;try{e=await o.play({audioBuffer:b,speakerId:c})}catch(t){return console.error("Exception on play "+r,t),void s(t,{tags:{from:"AudioPlayer.play"},extra:{src:r,speakerId:c}})}return O(e),e.onEnded(()=>{j(!1),d()}),j(e.isPlaying),e}function R(){f&&(j(!1),f.stop())}return Object(i.useEffect)(()=>{b||m||(async()=>{try{const e=await o.loadAudio(r);g(e),u()}catch(e){p(e),s(e,{tags:{from:"AudioPlayer"},extra:{src:r,speakerId:c}})}})()},[o,b,u,r,c,s,m]),Object(i.useImperativeHandle)(t,()=>({play:S,stop:R,isPlaying:h})),l({startPlaying:S,stopPlaying:R,isPlaying:h,isReady:!!b})}t.a=Object(i.forwardRef)(s)},function(e,t,o){"use strict";o.d(t,"a",(function(){return R})),o.d(t,"b",(function(){return v}));var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(3),c=o(4),l="body-jkkE",d="header-Alhg",u="keys--z1f",m="key-MRNc",p="longKey--Rc+",b="largeKey-b-nn",g="smallKey-UYTc",h="shortcut-0NL1",j="shortcutList-XlM-",f="sidebar-6AOR",O=o(15),S=o(0);const R=e=>{let{className:t,name:o,variant:i}=e;return Object(S.jsx)("kbd",{className:s()(t,m,{[p]:o.length>1,[b]:"large"===i,[g]:"small"===i}),children:o})};R.propTypes={className:a.a.string,name:a.a.string.isRequired,variant:a.a.oneOf(["large","small"])};const C=e=>{let{children:t,keyNames:o}=e;return Object(S.jsxs)("li",{className:h,children:[Object(S.jsx)("div",{children:t}),Object(S.jsx)("div",{className:u,children:o.map(e=>Object(S.jsx)(R,{name:e},e))})]})};C.propTypes={children:a.a.node.isRequired,keyNames:a.a.array.isRequired};const v=e=>{let{variant:t="modal",canSetLock:o,canPip:i,canScreenshare:a,noTopToolbar:n,shouldShowChat:c}=e;const l="sidebar"===t;return Object(S.jsxs)("ul",{className:s()(j,{[f]:l}),children:[Object(S.jsx)(C,{keyNames:["v"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-cam",children:"Camera on/off"})}),Object(S.jsx)(C,{keyNames:["m"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-mic",children:"Microphone on/off"})}),Object(S.jsx)(C,{keyNames:["Space"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-push-talk",children:"Push to talk"})}),c&&Object(S.jsx)(C,{keyNames:["c"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-chat",children:"Chat open/close"})}),!n&&Object(S.jsx)(C,{keyNames:["f"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-toolbars",children:"Toolbar show/hide"})}),o&&Object(S.jsx)(C,{keyNames:["Shift","l"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-lock",children:"Lock room on/off"})}),i&&Object(S.jsx)(C,{keyNames:["p"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-pip",children:"Picture in Picture on/off"})}),Object(S.jsx)(C,{keyNames:["Shift","p"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-pop-out",children:"Pop out video on/off"})}),a&&Object(S.jsx)(C,{keyNames:["Shift","s"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-screenshare",children:"Screen sharing start/stop"})}),Object(S.jsx)(C,{keyNames:["?"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-toggle-shortcuts",children:"Shortcuts show/hide"})}),Object(S.jsx)(C,{keyNames:["1 ... 8"],children:Object(S.jsx)(r.Localized,{id:"keyboardshortcutinfo-reactions",children:"Emoji reactions"})})]})};v.propTypes={canPip:a.a.bool,canScreenshare:a.a.bool,canSetLock:a.a.bool,noTopToolbar:a.a.bool,shouldShowChat:a.a.bool,variant:a.a.oneOf(["modal","sidebar"])};const y=e=>{let{canSetLock:t,canPip:o,canScreenshare:i,noTopToolbar:a,onClose:n,shouldShowChat:s}=e;return Object(S.jsx)(c.G,{onClickClose:n,children:Object(S.jsxs)(c.G.Body,{className:l,children:[Object(S.jsx)("h1",{className:d,children:Object(S.jsx)(r.Localized,{id:"Info-menu-keyboard-shortcuts",children:"Keyboard shortcuts"})}),Object(S.jsx)(v,{canSetLock:t,canPip:o,canScreenshare:i,noTopToolbar:a,shouldShowChat:s})]})})};y.propTypes={canPip:a.a.bool,canScreenshare:a.a.bool,canSetLock:a.a.bool,noTopToolbar:a.a.bool,onClose:a.a.func,shouldShowChat:a.a.bool};t.c=Object(O.c)(y)},,function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"b",(function(){return c})),o.d(t,"d",(function(){return l})),o.d(t,"a",(function(){return d}));var i=o(7),a=o(20),n=o(16),s=o(13);const r="selection",c="form",l="verification",d="claim_room",u={step:r,errorSso:null,signupForm:{name:null,email:"",consent:!1,isSending:!1,error:null,reCaptchaToken:null},verificationForm:{code:"",isSending:!1,error:null},claimRoomForm:{roomName:"",isSending:!1,error:null}};t.e={name:"signup",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"SIGNUP_EMAIL_SELECT":return{...e,step:c,errorSso:null};case"SIGNUP_GOTO_STEP":return{...e,step:o};case"SIGNUP_SSO_LOGIN_STARTED":return{...e,errorSso:null};case"SIGNUP_SSO_LOGIN_FINISHED":return{...e,errorSso:null,step:d};case"SIGNUP_SSO_LOGIN_FAILED":return{...e,errorSso:o};case"SIGNUP_FORM_SEND_STARTED":return{...e,signupForm:{...e.signupForm,...o,isSending:!0}};case"SIGNUP_FORM_SEND_FINISHED":return{...e,signupForm:{...e.signupForm,isSending:!1,error:null},step:l};case"SIGNUP_FORM_SEND_FAILED":return{...e,signupForm:{...e.signupForm,isSending:!1,error:o}};case"SIGNUP_VERIFY_STARTED":return{...e,verificationForm:{...e.verificationForm,isSending:!0,code:o}};case"SIGNUP_VERIFY_FINISHED":return{...e,verificationForm:{...e.verificationForm,isSending:!1,error:null},step:d};case"SIGNUP_VERIFY_FAILED":return{...e,verificationForm:{...e.verificationForm,isSending:!1,error:o}};case"SIGNUP_CLAIM_ROOM_STARTED":return{...e,claimRoomForm:{...e.claimRoomForm,isSending:!0,roomName:o}};case"SIGNUP_CLAIM_ROOM_FINISHED":return u;case"SIGNUP_CLAIM_ROOM_FAILED":return{...e,claimRoomForm:{...e.claimRoomForm,isSending:!1,error:o}};case"SIGNUP_VALIDATE_ROOM_NAME_FINISHED":return{...e,claimRoomForm:{...e.claimRoomForm,error:o}};case"SIGNUP_VALIDATE_ROOM_NAME_FAILED":return{...e,claimRoomForm:{...e.claimRoomForm,error:"invalid room name"===(null==o?void 0:o.message)?o:new Error("failed")}};case"SIGNUP_RESTART":return u;case"SIDEBAR_LAYER_CLOSE":return o.layer===a.e&&e.step===d?u:o.layer===a.e&&o.data?{...e,signupForm:{...e.signupForm,name:o.data.name,email:o.data.email,consent:o.data.consent},verificationForm:{...e.verificationForm,code:o.data.verificationCode},claimRoomForm:{...e.claimRoomForm,roomName:o.data.roomName}}:e;case"LOGOUT":return u}return e},doSignupEmailSelect:()=>({type:"SIGNUP_EMAIL_SELECT"}),doSignupRestart:()=>({type:"SIGNUP_RESTART"}),doSignupSsoLogin:e=>async t=>{let{dispatch:o,ssoService:i,userService:a}=t;o({type:"SIGNUP_SSO_LOGIN_STARTED"});try{const{idToken:t,issuer:s,displayName:r,avatarUrl:c}=await i.requestSsoLogin({provider:e});o({type:"SIGNUP_SSO_LOGIN_FINISHED",payload:(await a.createUser({avatarUrl:c,displayName:r,idToken:t})).data,meta:{analytics:n.b.registrationUserCreated(s)}})}catch(s){o({type:"SIGNUP_SSO_LOGIN_FAILED",payload:s})}},doSignupFormSend:e=>{let{name:t,email:o,consent:i,reCaptchaToken:a}=e;return async e=>{let{dispatch:n,userService:r}=e;n({type:"SIGNUP_FORM_SEND_STARTED",payload:{name:t,email:o,consent:i,reCaptchaToken:a}});try{await r.sendVerificationCode({contactPoint:o,isVerifying:!0,reCaptchaToken:a,reCaptchaSiteKey:s.r,type:"email"}),n({type:"SIGNUP_FORM_SEND_FINISHED"})}catch(c){n({type:"SIGNUP_FORM_SEND_FAILED",payload:c})}}},doSignupVerify:e=>async t=>{let{dispatch:o,store:i,userService:a}=t;o({type:"SIGNUP_VERIFY_STARTED",payload:e});try{const t=i.selectSignupForm(),s=await a.createUser({displayName:t.name,email:t.email,verificationCode:e}),r="personalized-onboarding";o({type:"SIGNUP_VERIFY_FINISHED",payload:s.data,meta:{analytics:n.b.registrationUserCreated("email",t.consent?[r]:[]),consents:{[r]:{optedIn:!!t.consent}}}})}catch(s){o({type:"SIGNUP_VERIFY_FAILED",payload:s})}},doSignupClaimRoom:e=>async t=>{let{dispatch:o,roomService:i,store:a}=t;o({type:"SIGNUP_CLAIM_ROOM_STARTED",payload:e});try{await i.claimRoom({roomName:"/"+e,type:"personal",isLocked:!0}),o({type:"SIGNUP_CLAIM_ROOM_FINISHED"}),a.doSetNotification("roomClaimed",{userName:a.selectDisplayName()})}catch(n){o({type:"SIGNUP_CLAIM_ROOM_FAILED",payload:n})}},doSignupValidateRoomName:e=>async t=>{let{dispatch:o,roomService:i}=t;if(o({type:"SIGNUP_VALIDATE_ROOM_NAME_STARTED"}),""!==e)if(/^(\/)|(https?:\/\/)|((www\.)?whereby\.com)/.test(e)||/#|\?/.test(e))o({type:"SIGNUP_VALIDATE_ROOM_NAME_FINISHED",payload:new Error("invalid room name")});else try{const t=await i.getRoom({roomName:"/"+e});let a=null;t.isBanned?a=new Error("room banned"):t.isClaimed&&(a=new Error("room already claimed")),o({type:"SIGNUP_VALIDATE_ROOM_NAME_FINISHED",payload:a})}catch(a){o({type:"SIGNUP_VALIDATE_ROOM_NAME_FAILED",payload:a})}else o({type:"SIGNUP_VALIDATE_ROOM_NAME_FINISHED",payload:null})},selectSignupRaw:e=>e.signup,selectSignupErrorSso:e=>e.signup.errorSso,selectSignupStep:e=>e.signup.step,selectSignupVerificationForm:e=>e.signup.verificationForm,selectSignupForm:Object(i.e)("selectSignupRaw","selectDisplayName",(e,t)=>{var o;return{...e.signupForm,name:null!=(o=e.signupForm.name)?o:t||""}}),selectSignupClaimRoomForm:Object(i.e)("selectSignupRaw",e=>{let t="";var o;e.claimRoomForm.error&&(t=(null==(o=e.claimRoomForm.error.data)?void 0:o.error)||e.claimRoomForm.error.message||"generic");return{...e.claimRoomForm,errorCode:t}})}},function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var i=o(1),a=o.n(i),n=o(3),s="name-pvHA",r="you-XEar",c=o(0);function l(e){let{children:t}=e;return Object(c.jsx)("span",{className:s,children:t&&"Guest"!==t?t:Object(c.jsx)(n.Localized,{id:"DisplayName-Guest",children:"Guest"})})}function d(e){let{children:t,isLocalClient:o}=e;if(!o)return Object(c.jsx)(l,{children:t});const i=Object(c.jsx)(n.Localized,{id:"DisplayName-You",children:"you"});return Object(c.jsxs)("span",{className:r,children:[Object(c.jsx)(l,{children:t}),"\xa0(",i,")"]})}l.propTypes={children:a.a.string},d.propTypes={children:a.a.string,isLocalClient:a.a.bool}},function(e,t,o){"use strict";t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{"-1":"\ud83d\udc4e"+e,"+1":"\ud83d\udc4d"+e,"8ball":"\ud83c\udfb1",100:"\ud83d\udcaf",a_question:"\u2754",abacus:"\ud83e\uddee",accordion:"\ud83e\ude97",adhesive_bandage:"\ud83e\ude79",admission_tickets:"\ud83c\udf9f",aerial_tramway:"\ud83d\udea1",airplane_arriving:"\ud83d\udeec",airplane_departure:"\ud83d\udeeb",airplane:"\u2708",alarm_clock:"\u23f0",alembic:"\u2697",alien:"\ud83d\udc7d",ambulance:"\ud83d\ude91",american_football:"\ud83c\udfc8",amphora:"\ud83c\udffa",anatomical_heart:"\ud83e\udec0",anchor:"\u2693",angel:"\ud83d\udc7c"+e,anger:"\ud83d\udca2",angry:"\ud83d\ude20",anguished:"\ud83d\ude27",ant:"\ud83d\udc1c",apple:"\ud83c\udf4e",aquarius:"\u2652",aries:"\u2648",art:"\ud83c\udfa8",articulated_lorry:"\ud83d\ude9b",artist:`\ud83e\uddd1${e}\u200d\ud83c\udfa8`,astonished:"\ud83d\ude32",astronaut:`\ud83e\uddd1${e}\u200d\ud83d\ude80`,atm_sign:"\ud83c\udfe7",atom_symbol:"\u269b",auto_rickshaw:"\ud83d\udefa",avocado:"\ud83e\udd51",axe:"\ud83e\ude93",baby_bottle:"\ud83c\udf7c",baby_chick:"\ud83d\udc24",baby_symbol:"\ud83d\udebc",baby:"\ud83d\udc76"+e,back_arrow:"\ud83d\udd19",backpack:"\ud83c\udf92",bacon:"\ud83e\udd53",badger:"\ud83e\udda1",badminton:"\ud83c\udff8",bagel:"\ud83e\udd6f",baggage_claim:"\ud83d\udec4",baguette_bread:"\ud83e\udd56",balance_scale:"\u2696",bald_man:`\ud83d\udc68${e}\u200d\ud83e\uddb2`,bald_person:`\ud83e\uddd1${e}\u200d\ud83e\uddb2`,bald_woman:`\ud83d\udc69${e}\u200d\ud83e\uddb2`,ballet_shoes:"\ud83e\ude70",balloon:"\ud83c\udf88",ballot_box_with_ballot:"\ud83d\uddf3",ballot_box_with_check:"\u2611",bamboo:"\ud83c\udf8d",banana:"\ud83c\udf4c",bangbang:"\u203c",banjo:"\ud83e\ude95",bank:"\ud83c\udfe6",bar_chart:"\ud83d\udcca",barber:"\ud83d\udc88",baseball:"\u26be",basket:"\ud83e\uddfa",basketball:"\ud83c\udfc0",bat:"\ud83e\udd87",bath:"\ud83d\udec0"+e,bathtub:"\ud83d\udec1",battery:"\ud83d\udd0b",beach_with_umbrella:"\ud83c\udfd6",bear:"\ud83d\udc3b",bearded_person:"\ud83e\uddd4"+e,beaver:"\ud83e\uddab",bed:"\ud83d\udecc",bee:"\ud83d\udc1d",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",beetle:"\ud83e\udeb2",beginner:"\ud83d\udd30",bell_pepper:"\ud83e\uded1",bell:"\ud83d\udd14",bento:"\ud83c\udf71",beverage_box:"\ud83e\uddc3",bicycle:"\ud83d\udeb2",bicyclist:"\ud83d\udeb4"+e,bikini:"\ud83d\udc59",billed_cap:"\ud83e\udde2",biohazard:"\u2623",bird:"\ud83d\udc26",birthday:"\ud83c\udf82",bison:"\ud83e\uddac",black_cat:"\ud83d\udc08\u200d\u2b1b",black_heart:"\ud83d\udda4",black_joker:"\ud83c\udccf",black_nib:"\u2712",blond_haired_man:`\ud83d\udc71${e}\u200d\u2642\ufe0f`,blond_haired_woman:`\ud83d\udc71${e}\u200d\u2640\ufe0f`,blossom:"\ud83c\udf3c",blowfish:"\ud83d\udc21",blue_book:"\ud83d\udcd8",blue_car:"\ud83d\ude99",blue_heart:"\ud83d\udc99",blueberries:"\ud83e\uded0",blush:"\ud83d\ude0a",boar:"\ud83d\udc17",bomb:"\ud83d\udca3",bone:"\ud83e\uddb4",book:"\ud83d\udcd6",bookmark_tabs:"\ud83d\udcd1",bookmark:"\ud83d\udd16",books:"\ud83d\udcda",boom:"\ud83d\udca5",boomerang:"\ud83e\ude83",boot:"\ud83d\udc62",bouquet:"\ud83d\udc90",bow_and_arrow:"\ud83c\udff9",bow:"\ud83d\ude47"+e,bowl_with_spoon:"\ud83e\udd63",bowling:"\ud83c\udfb3",boxing_glove:"\ud83e\udd4a",boy:"\ud83d\udc66"+e,brain:"\ud83e\udde0",bread:"\ud83c\udf5e",breast_feeding:"\ud83e\udd31"+e,brick:"\ud83e\uddf1",bride_with_veil:"\ud83d\udc70"+e,bridge_at_night:"\ud83c\udf09",briefcase:"\ud83d\udcbc",briefs:"\ud83e\ude72",bright_button:"\ud83d\udd06",broccoli:"\ud83e\udd66",broken_heart:"\ud83d\udc94",broom:"\ud83e\uddf9",brown_heart:"\ud83e\udd0e",bubble_tea:"\ud83e\uddcb",bucket:"\ud83e\udea3",bug:"\ud83d\udc1b",building_construction:"\ud83c\udfd7",bulb:"\ud83d\udca1",bullet_train:"\ud83d\ude85",burrito:"\ud83c\udf2f",bus_stop:"\ud83d\ude8f",bus:"\ud83d\ude8c",butter:"\ud83e\uddc8",butterfly:"\ud83e\udd8b",cactus:"\ud83c\udf35",cake:"\ud83c\udf70",calendar:"\ud83d\udcc6",call_me_hand:"\ud83e\udd19"+e,calling:"\ud83d\udcf2",camel:"\ud83d\udc2b",camera_flash:"\ud83d\udcf8",camera:"\ud83d\udcf7",camping:"\ud83c\udfd5",cancer:"\u264b",candle:"\ud83d\udd6f",candy:"\ud83c\udf6c",canned_food:"\ud83e\udd6b",canoe:"\ud83d\udef6",capricorn:"\u2651",car:"\ud83d\ude97",card_file_box:"\ud83d\uddc3",card_index_dividers:"\ud83d\uddc2",card_index:"\ud83d\udcc7",carousel_horse:"\ud83c\udfa0",carpentry_saw:"\ud83e\ude9a",carrot:"\ud83e\udd55",cat:"\ud83d\udc31",cat2:"\ud83d\udc08",cd:"\ud83d\udcbf",chains:"\u26d3",chair:"\ud83e\ude91",champagne:"\ud83c\udf7e",chart_with_downwards_trend:"\ud83d\udcc9",chart_with_upwards_trend:"\ud83d\udcc8",chart:"\ud83d\udcb9",cheese_wedge:"\ud83e\uddc0",chequered_flag:"\ud83c\udfc1",cherries:"\ud83c\udf52",cherry_blossom:"\ud83c\udf38",chess_pawn:"\u265f",chestnut:"\ud83c\udf30",chicken:"\ud83d\udc14",child:"\ud83e\uddd2"+e,children_crossing:"\ud83d\udeb8",chipmunk:"\ud83d\udc3f",chocolate_bar:"\ud83c\udf6b",chopsticks:"\ud83e\udd62",christmas_tree:"\ud83c\udf84",church:"\u26ea",cigarette:"\ud83d\udeac",cinema:"\ud83c\udfa6",circus_tent:"\ud83c\udfaa",city_sunrise:"\ud83c\udf04",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",clamp:"\ud83d\udddc",clap:"\ud83d\udc4f"+e,clapper:"\ud83c\udfac",classical_building:"\ud83c\udfdb",clinking_glasses:"\ud83e\udd42",clipboard:"\ud83d\udccb",clock1:"\ud83d\udd50",clock10:"\ud83d\udd59",clock1030:"\ud83d\udd65",clock11:"\ud83d\udd5a",clock1130:"\ud83d\udd66",clock12:"\ud83d\udd5b",clock1230:"\ud83d\udd67",clock130:"\ud83d\udd5c",clock2:"\ud83d\udd51",clock230:"\ud83d\udd5d",clock3:"\ud83d\udd52",clock330:"\ud83d\udd5e",clock4:"\ud83d\udd53",clock430:"\ud83d\udd5f",clock5:"\ud83d\udd54",clock530:"\ud83d\udd60",clock6:"\ud83d\udd55",clock630:"\ud83d\udd61",clock7:"\ud83d\udd56",clock730:"\ud83d\udd62",clock8:"\ud83d\udd57",clock830:"\ud83d\udd63",clock9:"\ud83d\udd58",clock930:"\ud83d\udd64",clockwise_vertical_arrows:"\ud83d\udd03",closed_book:"\ud83d\udcd5",closed_lock_with_key:"\ud83d\udd10",closed_umbrella:"\ud83c\udf02",cloud_with_lightning_and_rain:"\u26c8",cloud_with_lightning:"\ud83c\udf29",cloud_with_rain:"\ud83c\udf27",cloud_with_snow:"\ud83c\udf28",cloud_with_tornado:"\ud83c\udf2a",cloud:"\u2601",clown_face:"\ud83e\udd21",clubs:"\u2663",clutch_bag:"\ud83d\udc5d",coat:"\ud83e\udde5",cockroach:"\ud83e\udeb3",cocktail:"\ud83c\udf78",coconut:"\ud83e\udd65",coffee:"\u2615",coffin:"\u26b0",coin:"\ud83e\ude99",cold_face:"\ud83e\udd76",cold_sweat:"\ud83d\ude30",collision:"\ud83d\udca5",comet:"\u2604",compass:"\ud83e\udded",computer_mouse:"\ud83d\uddb1",confetti_ball:"\ud83c\udf8a",confounded:"\ud83d\ude16",confused:"\ud83d\ude15",construction_worker:"\ud83d\udc77"+e,construction:"\ud83d\udea7",control_knobs:"\ud83c\udf9b",convenience_store:"\ud83c\udfea",cook:`\ud83e\uddd1${e}\u200d\ud83c\udf73`,cookie:"\ud83c\udf6a",cooking:"\ud83c\udf73",cop:"\ud83d\udc6e"+e,copyright:"\xa9",corn:"\ud83c\udf3d",couch_and_lamp:"\ud83d\udecb",counterclockwise_arrows_button:"\ud83d\udd04",couple_with_heart:"\ud83d\udc91"+e,couplekiss:"\ud83d\udc8f"+e,cow:"\ud83d\udc2e",cow2:"\ud83d\udc04",crab:"\ud83e\udd80",crayon:"\ud83d\udd8d",credit_card:"\ud83d\udcb3",crescent_moon:"\ud83c\udf19",cricket_bat_and_ball:"\ud83c\udfcf",cricket:"\ud83e\udd97",crocodile:"\ud83d\udc0a",croissant:"\ud83e\udd50",cross_mark:"\u274e",crossed_fingers:"\ud83e\udd1e"+e,crossed_flags:"\ud83c\udf8c",crossed_swords:"\u2694",crossmark:"\u274c",crown:"\ud83d\udc51",cry:"\ud83d\ude22",crying_cat_face:"\ud83d\ude3f",crystal_ball:"\ud83d\udd2e",cucumber:"\ud83e\udd52",cup_with_straw:"\ud83e\udd64",cupcake:"\ud83e\uddc1",curling_stone:"\ud83e\udd4c",curly_haired_man:`\ud83d\udc68${e}\u200d\ud83e\uddb1`,curly_haired_person:`\ud83e\uddd1${e}\u200d\ud83e\uddb1`,curly_haired_woman:`\ud83d\udc69${e}\u200d\ud83e\uddb1`,curly_loop:"\u27b0",currency_exchange:"\ud83d\udcb1",curry:"\ud83c\udf5b",custard:"\ud83c\udf6e",customs:"\ud83d\udec3",cut_of_meat:"\ud83e\udd69",cyclone:"\ud83c\udf00",dagger:"\ud83d\udde1",dancer:"\ud83d\udc83"+e,dancers:"\ud83d\udc6f",dango:"\ud83c\udf61",dark_sunglasses:"\ud83d\udd76",dart:"\ud83c\udfaf",dash:"\ud83d\udca8",date:"\ud83d\udcc5",deaf_man:`\ud83e\uddcf${e}\u200d\u2642\ufe0f`,deaf_person:"\ud83e\uddcf"+e,deaf_woman:`\ud83e\uddcf${e}\u200d\u2640\ufe0f`,deciduous_tree:"\ud83c\udf33",deer:"\ud83e\udd8c",department_store:"\ud83c\udfec",derelict_house:"\ud83c\udfda",desert_island:"\ud83c\udfdd",desert:"\ud83c\udfdc",desktop_computer:"\ud83d\udda5",detective:"\ud83d\udd75"+e,diamonds:"\u2666",dim_button:"\ud83d\udd05",disappointed_relieved:"\ud83d\ude25",disappointed:"\ud83d\ude1e",disguised_face:"\ud83e\udd78",diving_mask:"\ud83e\udd3f",diya_lamp:"\ud83e\ude94",dizzy_face:"\ud83d\ude35",dizzy:"\ud83d\udcab",dna:"\ud83e\uddec",dodo:"\ud83e\udda4",dog:"\ud83d\udc36",dog2:"\ud83d\udc15",dollar:"\ud83d\udcb5",dolls:"\ud83c\udf8e",dolphin:"\ud83d\udc2c",door:"\ud83d\udeaa",dotted_six_pointed_star:"\ud83d\udd2f",double_curly_loop:"\u27bf",doughnut:"\ud83c\udf69",dove_of_peace:"\ud83d\udd4a",down_arrow:"\u2b07",down_button:"\ud83d\udd3d",down_left_arrow:"\u2199",down_right_arrow:"\u2198",dragon_face:"\ud83d\udc32",dragon:"\ud83d\udc09",dress:"\ud83d\udc57",dromedary_camel:"\ud83d\udc2a",drooling:"\ud83e\udd24",drop_of_blood:"\ud83e\ude78",droplet:"\ud83d\udca7",drum:"\ud83e\udd41",duck:"\ud83e\udd86",dumpling:"\ud83e\udd5f",dvd:"\ud83d\udcc0",e_mail:"\ud83d\udce7",eagle:"\ud83e\udd85",ear_of_rice:"\ud83c\udf3e",ear:"\ud83d\udc42"+e,earth_africa:"\ud83c\udf0d",earth_americas:"\ud83c\udf0e",earth_asia:"\ud83c\udf0f",egg:"\ud83e\udd5a",eggplant:"\ud83c\udf46",eight_pointed_black_star:"\u2734",eight_spoked_asterisk:"\u2733",eject_button:"\u23cf",electric_plug:"\ud83d\udd0c",elephant:"\ud83d\udc18",elevator:"\ud83d\uded7",elf:"\ud83e\udddd"+e,end_arrow:"\ud83d\udd1a",envelope_with_arrow:"\ud83d\udce9",envelope:"\u2709",envelopes:"\ud83d\udce6",euro:"\ud83d\udcb6",european_castle:"\ud83c\udff0",european_post_office:"\ud83c\udfe4",evergreen_tree:"\ud83c\udf32",exclamation:"\u2757",exploding_head:"\ud83e\udd2f",expressionless:"\ud83d\ude11",eye_glasses:"\ud83d\udc53",eye:"\ud83d\udc41",eyes:"\ud83d\udc40",face_palm:"\ud83e\udd26"+e,face_vomiting:"\ud83e\udd2e",face_with_cowboy_hat:"\ud83e\udd20",face_with_hand_over_mouth:"\ud83e\udd2d",face_with_head_bandage:"\ud83e\udd15",face_with_monocle:"\ud83e\uddd0",face_with_raised_eyebrow:"\ud83e\udd28",face_with_rolling_eyes:"\ud83d\ude44",face_with_symbols_on_mouth:"\ud83e\udd2c",face_with_thermometer:"\ud83e\udd12",facepunch:"\ud83d\udc4a"+e,factory_worker:`\ud83e\uddd1${e}\u200d\ud83c\udfed`,factory:"\ud83c\udfed",fairy:"\ud83e\uddda"+e,falafel:"\ud83e\uddc6",fallen_leaf:"\ud83c\udf42",family:"\ud83d\udc6a"+e,farmer:`\ud83e\uddd1${e}\u200d\ud83c\udf3e`,fast_down_button:"\u23ec",fast_forward_button:"\u23e9",fast_reverse_button:"\u23ea",fast_up_button:"\u23eb",fax:"\ud83d\udce0",fearful:"\ud83d\ude28",feather:"\ud83e\udeb6",female_artist:`\ud83d\udc69${e}\u200d\ud83c\udfa8`,female_astronaut:`\ud83d\udc69${e}\u200d\ud83d\ude80`,female_construction_worker:`\ud83d\udc77${e}\u200d\u2640\ufe0f`,female_cook:`\ud83d\udc69${e}\u200d\ud83c\udf73`,female_doctor:`\ud83d\udc69${e}\u200d\u2695\ufe0f`,female_elf:`\ud83e\udddd${e}\u200d\u2640\ufe0f`,female_factory_worker:`\ud83d\udc69${e}\u200d\ud83c\udfed`,female_fairy:`\ud83e\uddda${e}\u200d\u2640\ufe0f`,female_farmer:`\ud83d\udc69${e}\u200d\ud83c\udf3e`,female_firefighter:`\ud83d\udc69${e}\u200d\ud83d\ude92`,female_genie:"\ud83e\uddde\u200d\u2640\ufe0f",female_guard:`\ud83d\udc82${e}\u200d\u2640\ufe0f`,female_judge:`\ud83d\udc69${e}\u200d\u2696\ufe0f`,female_mage:`\ud83e\uddd9${e}\u200d\u2640\ufe0f`,female_mechanic:`\ud83d\udc69${e}\u200d\ud83d\udd27`,female_office_worker:`\ud83d\udc69${e}\u200d\ud83d\udcbc`,female_pilot:`\ud83d\udc69${e}\u200d\u2708\ufe0f`,female_police_officer:`\ud83d\udc6e${e}\u200d\u2640\ufe0f`,female_scientist:`\ud83d\udc69${e}\u200d\ud83d\udd2c`,female_sign:"\u2640",female_singer:`\ud83d\udc69${e}\u200d\ud83c\udfa4`,female_student:`\ud83d\udc69${e}\u200d\ud83c\udf93`,female_superhero:`\ud83e\uddb8${e}\u200d\u2640\ufe0f`,female_supervillain:`\ud83e\uddb9${e}\u200d\u2640\ufe0f`,female_teacher:`\ud83d\udc69${e}\u200d\ud83c\udfeb`,female_technologist:`\ud83d\udc69${e}\u200d\ud83d\udcbb`,female_vampire:`\ud83e\udddb${e}\u200d\u2640\ufe0f`,female_zombie:"\ud83e\udddf\u200d\u2640\ufe0f",fencer:"\ud83e\udd3a",ferris_wheel:"\ud83c\udfa1",ferry:"\u26f4",field_hockey_stick_and_ball:"\ud83c\udfd1",file_cabinet:"\ud83d\uddc4",file_folder:"\ud83d\udcc1",film_frames:"\ud83c\udf9e",film_projector:"\ud83d\udcfd",fire_engine:"\ud83d\ude92",fire_extinguisher:"\ud83e\uddef",fire:"\ud83d\udd25",firecracker:"\ud83e\udde8",firefighter:`\ud83e\uddd1${e}\u200d\ud83d\ude92`,fireworks:"\ud83c\udf86",first_place_medal:"\ud83e\udd47",first_quarter_moon_with_face:"\ud83c\udf1b",first_quarter_moon:"\ud83c\udf13",fish_cake:"\ud83c\udf65",fish:"\ud83d\udc1f",fishing_pole_and_fish:"\ud83c\udfa3",fist:"\u270a"+e,flag_ac:"\ud83c\udde6\ud83c\udde8",flag_ad:"\ud83c\udde6\ud83c\udde9",flag_af:"\ud83c\udde6\ud83c\uddeb",flag_ag:"\ud83c\udde6\ud83c\uddec",flag_ai:"\ud83c\udde6\ud83c\uddee",flag_al:"\ud83c\udde6\ud83c\uddf1",flag_am:"\ud83c\udde6\ud83c\uddf2",flag_ao:"\ud83c\udde6\ud83c\uddf4",flag_aq:"\ud83c\udde6\ud83c\uddf6",flag_as:"\ud83c\udde6\ud83c\uddf8",flag_at:"\ud83c\udde6\ud83c\uddf9",flag_au:"\ud83c\udde6\ud83c\uddfa",flag_aw:"\ud83c\udde6\ud83c\uddfc",flag_ax:"\ud83c\udde6\ud83c\uddfd",flag_az:"\ud83c\udde6\ud83c\uddff",flag_ba:"\ud83c\udde7\ud83c\udde6",flag_bb:"\ud83c\udde7\ud83c\udde7",flag_bd:"\ud83c\udde7\ud83c\udde9",flag_be:"\ud83c\udde7\ud83c\uddea",flag_bf:"\ud83c\udde7\ud83c\uddeb",flag_bg:"\ud83c\udde7\ud83c\uddec",flag_bh:"\ud83c\udde7\ud83c\udded",flag_bi:"\ud83c\udde7\ud83c\uddee",flag_bj:"\ud83c\udde7\ud83c\uddef",flag_bl:"\ud83c\udde7\ud83c\uddf1",flag_black:"\ud83c\udff4",flag_bm:"\ud83c\udde7\ud83c\uddf2",flag_bn:"\ud83c\udde7\ud83c\uddf3",flag_bo:"\ud83c\udde7\ud83c\uddf4",flag_bq:"\ud83c\udde7\ud83c\uddf6",flag_br:"\ud83c\udde7\ud83c\uddf7",flag_bs:"\ud83c\udde7\ud83c\uddf8",flag_bt:"\ud83c\udde7\ud83c\uddf9",flag_bv:"\ud83c\udde7\ud83c\uddfb",flag_bw:"\ud83c\udde7\ud83c\uddfc",flag_by:"\ud83c\udde7\ud83c\uddfe",flag_bz:"\ud83c\udde7\ud83c\uddff",flag_ca:"\ud83c\udde8\ud83c\udde6",flag_cc:"\ud83c\udde8\ud83c\udde8",flag_cd:"\ud83c\udde8\ud83c\udde9",flag_cf:"\ud83c\udde8\ud83c\uddeb",flag_cg:"\ud83c\udde8\ud83c\uddec",flag_ch:"\ud83c\udde8\ud83c\udded",flag_ci:"\ud83c\udde8\ud83c\uddee",flag_ck:"\ud83c\udde8\ud83c\uddf0",flag_cl:"\ud83c\udde8\ud83c\uddf1",flag_cm:"\ud83c\udde8\ud83c\uddf2",flag_cn:"\ud83c\udde8\ud83c\uddf3",flag_co:"\ud83c\udde8\ud83c\uddf4",flag_cp:"\ud83c\udde8\ud83c\uddf5",flag_cr:"\ud83c\udde8\ud83c\uddf7",flag_cu:"\ud83c\udde8\ud83c\uddfa",flag_cv:"\ud83c\udde8\ud83c\uddfb",flag_cw:"\ud83c\udde8\ud83c\uddfc",flag_cx:"\ud83c\udde8\ud83c\uddfd",flag_cy:"\ud83c\udde8\ud83c\uddfe",flag_cz:"\ud83c\udde8\ud83c\uddff",flag_de:"\ud83c\udde9\ud83c\uddea",flag_dg:"\ud83c\udde9\ud83c\uddec",flag_dj:"\ud83c\udde9\ud83c\uddef",flag_dk:"\ud83c\udde9\ud83c\uddf0",flag_dm:"\ud83c\udde9\ud83c\uddf2",flag_do:"\ud83c\udde9\ud83c\uddf4",flag_dz:"\ud83c\udde9\ud83c\uddff",flag_ea:"\ud83c\uddea\ud83c\udde6",flag_ec:"\ud83c\uddea\ud83c\udde8",flag_ee:"\ud83c\uddea\ud83c\uddea",flag_eg:"\ud83c\uddea\ud83c\uddec",flag_eh:"\ud83c\uddea\ud83c\udded",flag_er:"\ud83c\uddea\ud83c\uddf7",flag_es:"\ud83c\uddea\ud83c\uddf8",flag_et:"\ud83c\uddea\ud83c\uddf9",flag_eu:"\ud83c\uddea\ud83c\uddfa",flag_fi:"\ud83c\uddeb\ud83c\uddee",flag_fj:"\ud83c\uddeb\ud83c\uddef",flag_fk:"\ud83c\uddeb\ud83c\uddf0",flag_fm:"\ud83c\uddeb\ud83c\uddf2",flag_fo:"\ud83c\uddeb\ud83c\uddf4",flag_fr:"\ud83c\uddeb\ud83c\uddf7",flag_ga:"\ud83c\uddec\ud83c\udde6",flag_gb:"\ud83c\uddec\ud83c\udde7",flag_gd:"\ud83c\uddec\ud83c\udde9",flag_ge:"\ud83c\uddec\ud83c\uddea",flag_gf:"\ud83c\uddec\ud83c\uddeb",flag_gg:"\ud83c\uddec\ud83c\uddec",flag_gh:"\ud83c\uddec\ud83c\udded",flag_gi:"\ud83c\uddec\ud83c\uddee",flag_gl:"\ud83c\uddec\ud83c\uddf1",flag_gm:"\ud83c\uddec\ud83c\uddf2",flag_gn:"\ud83c\uddec\ud83c\uddf3",flag_gp:"\ud83c\uddec\ud83c\uddf5",flag_gq:"\ud83c\uddec\ud83c\uddf6",flag_gr:"\ud83c\uddec\ud83c\uddf7",flag_gs:"\ud83c\uddec\ud83c\uddf8",flag_gt:"\ud83c\uddec\ud83c\uddf9",flag_gu:"\ud83c\uddec\ud83c\uddfa",flag_gw:"\ud83c\uddec\ud83c\uddfc",flag_gy:"\ud83c\uddec\ud83c\uddfe",flag_hk:"\ud83c\udded\ud83c\uddf0",flag_hm:"\ud83c\udded\ud83c\uddf2",flag_hn:"\ud83c\udded\ud83c\uddf3",flag_hr:"\ud83c\udded\ud83c\uddf7",flag_ht:"\ud83c\udded\ud83c\uddf9",flag_hu:"\ud83c\udded\ud83c\uddfa",flag_ic:"\ud83c\uddee\ud83c\udde8",flag_id:"\ud83c\uddee\ud83c\udde9",flag_ie:"\ud83c\uddee\ud83c\uddea",flag_il:"\ud83c\uddee\ud83c\uddf1",flag_im:"\ud83c\uddee\ud83c\uddf2",flag_in:"\ud83c\uddee\ud83c\uddf3",flag_io:"\ud83c\uddee\ud83c\uddf4",flag_iq:"\ud83c\uddee\ud83c\uddf6",flag_ir:"\ud83c\uddee\ud83c\uddf7",flag_is:"\ud83c\uddee\ud83c\uddf8",flag_it:"\ud83c\uddee\ud83c\uddf9",flag_je:"\ud83c\uddef\ud83c\uddea",flag_jm:"\ud83c\uddef\ud83c\uddf2",flag_jo:"\ud83c\uddef\ud83c\uddf4",flag_jp:"\ud83c\uddef\ud83c\uddf5",flag_ke:"\ud83c\uddf0\ud83c\uddea",flag_kg:"\ud83c\uddf0\ud83c\uddec",flag_kh:"\ud83c\uddf0\ud83c\udded",flag_ki:"\ud83c\uddf0\ud83c\uddee",flag_km:"\ud83c\uddf0\ud83c\uddf2",flag_kn:"\ud83c\uddf0\ud83c\uddf3",flag_kp:"\ud83c\uddf0\ud83c\uddf5",flag_kr:"\ud83c\uddf0\ud83c\uddf7",flag_kw:"\ud83c\uddf0\ud83c\uddfc",flag_ky:"\ud83c\uddf0\ud83c\uddfe",flag_kz:"\ud83c\uddf0\ud83c\uddff",flag_la:"\ud83c\uddf1\ud83c\udde6",flag_lb:"\ud83c\uddf1\ud83c\udde7",flag_lc:"\ud83c\uddf1\ud83c\udde8",flag_li:"\ud83c\uddf1\ud83c\uddee",flag_lk:"\ud83c\uddf1\ud83c\uddf0",flag_lr:"\ud83c\uddf1\ud83c\uddf7",flag_ls:"\ud83c\uddf1\ud83c\uddf8",flag_lt:"\ud83c\uddf1\ud83c\uddf9",flag_lu:"\ud83c\uddf1\ud83c\uddfa",flag_lv:"\ud83c\uddf1\ud83c\uddfb",flag_ly:"\ud83c\uddf1\ud83c\uddfe",flag_ma:"\ud83c\uddf2\ud83c\udde6",flag_mc:"\ud83c\uddf2\ud83c\udde8",flag_md:"\ud83c\uddf2\ud83c\udde9",flag_me:"\ud83c\uddf2\ud83c\uddea",flag_mf:"\ud83c\uddf2\ud83c\uddeb",flag_mg:"\ud83c\uddf2\ud83c\uddec",flag_mh:"\ud83c\uddf2\ud83c\udded",flag_mk:"\ud83c\uddf2\ud83c\uddf0",flag_ml:"\ud83c\uddf2\ud83c\uddf1",flag_mm:"\ud83c\uddf2\ud83c\uddf2",flag_mn:"\ud83c\uddf2\ud83c\uddf3",flag_mo:"\ud83c\uddf2\ud83c\uddf4",flag_mp:"\ud83c\uddf2\ud83c\uddf5",flag_mq:"\ud83c\uddf2\ud83c\uddf6",flag_mr:"\ud83c\uddf2\ud83c\uddf7",flag_ms:"\ud83c\uddf2\ud83c\uddf8",flag_mt:"\ud83c\uddf2\ud83c\uddf9",flag_mu:"\ud83c\uddf2\ud83c\uddfa",flag_mv:"\ud83c\uddf2\ud83c\uddfb",flag_mw:"\ud83c\uddf2\ud83c\uddfc",flag_mx:"\ud83c\uddf2\ud83c\uddfd",flag_my:"\ud83c\uddf2\ud83c\uddfe",flag_mz:"\ud83c\uddf2\ud83c\uddff",flag_na:"\ud83c\uddf3\ud83c\udde6",flag_nc:"\ud83c\uddf3\ud83c\udde8",flag_ne:"\ud83c\uddf3\ud83c\uddea",flag_nf:"\ud83c\uddf3\ud83c\uddeb",flag_ng:"\ud83c\uddf3\ud83c\uddec",flag_ni:"\ud83c\uddf3\ud83c\uddee",flag_nl:"\ud83c\uddf3\ud83c\uddf1",flag_no:"\ud83c\uddf3\ud83c\uddf4",flag_np:"\ud83c\uddf3\ud83c\uddf5",flag_nr:"\ud83c\uddf3\ud83c\uddf7",flag_nu:"\ud83c\uddf3\ud83c\uddfa",flag_nz:"\ud83c\uddf3\ud83c\uddff",flag_om:"\ud83c\uddf4\ud83c\uddf2",flag_pa:"\ud83c\uddf5\ud83c\udde6",flag_pe:"\ud83c\uddf5\ud83c\uddea",flag_pf:"\ud83c\uddf5\ud83c\uddeb",flag_pg:"\ud83c\uddf5\ud83c\uddec",flag_ph:"\ud83c\uddf5\ud83c\udded",flag_pk:"\ud83c\uddf5\ud83c\uddf0",flag_pl:"\ud83c\uddf5\ud83c\uddf1",flag_pm:"\ud83c\uddf5\ud83c\uddf2",flag_pn:"\ud83c\uddf5\ud83c\uddf3",flag_pr:"\ud83c\uddf5\ud83c\uddf7",flag_ps:"\ud83c\uddf5\ud83c\uddf8",flag_pt:"\ud83c\uddf5\ud83c\uddf9",flag_pw:"\ud83c\uddf5\ud83c\uddfc",flag_py:"\ud83c\uddf5\ud83c\uddfe",flag_qa:"\ud83c\uddf6\ud83c\udde6",flag_re:"\ud83c\uddf7\ud83c\uddea",flag_ro:"\ud83c\uddf7\ud83c\uddf4",flag_rs:"\ud83c\uddf7\ud83c\uddf8",flag_ru:"\ud83c\uddf7\ud83c\uddfa",flag_rw:"\ud83c\uddf7\ud83c\uddfc",flag_sa:"\ud83c\uddf8\ud83c\udde6",flag_sb:"\ud83c\uddf8\ud83c\udde7",flag_sc:"\ud83c\uddf8\ud83c\udde8",flag_sd:"\ud83c\uddf8\ud83c\udde9",flag_se:"\ud83c\uddf8\ud83c\uddea",flag_sg:"\ud83c\uddf8\ud83c\uddec",flag_sh:"\ud83c\uddf8\ud83c\udded",flag_si:"\ud83c\uddf8\ud83c\uddee",flag_sj:"\ud83c\uddf8\ud83c\uddef",flag_sk:"\ud83c\uddf8\ud83c\uddf0",flag_sl:"\ud83c\uddf8\ud83c\uddf1",flag_sm:"\ud83c\uddf8\ud83c\uddf2",flag_sn:"\ud83c\uddf8\ud83c\uddf3",flag_so:"\ud83c\uddf8\ud83c\uddf4",flag_sr:"\ud83c\uddf8\ud83c\uddf7",flag_ss:"\ud83c\uddf8\ud83c\uddf8",flag_st:"\ud83c\uddf8\ud83c\uddf9",flag_sv:"\ud83c\uddf8\ud83c\uddfb",flag_sx:"\ud83c\uddf8\ud83c\uddfd",flag_sy:"\ud83c\uddf8\ud83c\uddfe",flag_sz:"\ud83c\uddf8\ud83c\uddff",flag_ta:"\ud83c\uddf9\ud83c\udde6",flag_tc:"\ud83c\uddf9\ud83c\udde8",flag_td:"\ud83c\uddf9\ud83c\udde9",flag_tf:"\ud83c\uddf9\ud83c\uddeb",flag_tg:"\ud83c\uddf9\ud83c\uddec",flag_th:"\ud83c\uddf9\ud83c\udded",flag_tj:"\ud83c\uddf9\ud83c\uddef",flag_tk:"\ud83c\uddf9\ud83c\uddf0",flag_tl:"\ud83c\uddf9\ud83c\uddf1",flag_tm:"\ud83c\uddf9\ud83c\uddf2",flag_tn:"\ud83c\uddf9\ud83c\uddf3",flag_to:"\ud83c\uddf9\ud83c\uddf4",flag_tr:"\ud83c\uddf9\ud83c\uddf7",flag_tt:"\ud83c\uddf9\ud83c\uddf9",flag_tv:"\ud83c\uddf9\ud83c\uddfb",flag_tw:"\ud83c\uddf9\ud83c\uddfc",flag_tz:"\ud83c\uddf9\ud83c\uddff",flag_ua:"\ud83c\uddfa\ud83c\udde6",flag_ug:"\ud83c\uddfa\ud83c\uddec",flag_um:"\ud83c\uddfa\ud83c\uddf2",flag_us:"\ud83c\uddfa\ud83c\uddf8",flag_uy:"\ud83c\uddfa\ud83c\uddfe",flag_uz:"\ud83c\uddfa\ud83c\uddff",flag_va:"\ud83c\uddfb\ud83c\udde6",flag_vc:"\ud83c\uddfb\ud83c\udde8",flag_ve:"\ud83c\uddfb\ud83c\uddea",flag_vg:"\ud83c\uddfb\ud83c\uddec",flag_vi:"\ud83c\uddfb\ud83c\uddee",flag_vn:"\ud83c\uddfb\ud83c\uddf3",flag_vu:"\ud83c\uddfb\ud83c\uddfa",flag_wales:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f",flag_wf:"\ud83c\uddfc\ud83c\uddeb",flag_white:"\ud83c\udff3",flag_ws:"\ud83c\uddfc\ud83c\uddf8",flag_xk:"\ud83c\uddfd\ud83c\uddf0",flag_ye:"\ud83c\uddfe\ud83c\uddea",flag_yt:"\ud83c\uddfe\ud83c\uddf9",flag_za:"\ud83c\uddff\ud83c\udde6",flag_zm:"\ud83c\uddff\ud83c\uddf2",flag_zw:"\ud83c\uddff\ud83c\uddfc",flags:"\ud83c\udf8f",flamingo:"\ud83e\udda9",flashlight:"\ud83d\udd26",flatbread:"\ud83e\uded3",fleur_de_lis:"\u269c",flipper:"\ud83d\udc2c",floppy_disk:"\ud83d\udcbe",flower_playing_cards:"\ud83c\udfb4",flushed:"\ud83d\ude33",fly:"\ud83e\udeb0",flying_disc:"\ud83e\udd4f",flying_saucer:"\ud83d\udef8",fog:"\ud83c\udf2b",foggy:"\ud83c\udf01",fondue:"\ud83e\uded5",foot:"\ud83e\uddb6"+e,footprints:"\ud83d\udc63",fork_and_knife:"\ud83c\udf74",fortune_cookie:"\ud83e\udd60",fountain_pen:"\ud83d\udd8b",fountain:"\u26f2",four_leaf_clover:"\ud83c\udf40",fox_face:"\ud83e\udd8a",framed_picture:"\ud83d\uddbc",fried_shrimp:"\ud83c\udf64",fries:"\ud83c\udf5f",frog:"\ud83d\udc38",frowning:"\ud83d\ude26",fuel_pump:"\u26fd",full_moon_with_face:"\ud83c\udf1d",full_moon:"\ud83c\udf15",funeral_urn:"\u26b1",game_die:"\ud83c\udfb2",garlic:"\ud83e\uddc4",gear:"\u2699",gem:"\ud83d\udc8e",gemini:"\u264a",genie:"\ud83e\uddde",ghost:"\ud83d\udc7b",gift:"\ud83c\udf81",giraffe_face:"\ud83e\udd92",girl:"\ud83d\udc67"+e,glass_of_milk:"\ud83e\udd5b",globe_with_meridians:"\ud83c\udf10",gloves:"\ud83e\udde4",glowing_star:"\ud83c\udf1f",goal_net:"\ud83e\udd45",goat:"\ud83d\udc10",goggles:"\ud83e\udd7d",golf:"\u26f3",golfer:"\ud83c\udfcc"+e,gorilla:"\ud83e\udd8d",graduation_cap:"\ud83c\udf93",grapes:"\ud83c\udf47",green_apple:"\ud83c\udf4f",green_book:"\ud83d\udcd7",green_heart:"\ud83d\udc9a",green_salad:"\ud83e\udd57",grey_exclamation:"\u2755",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",grinning:"\ud83d\ude03",guardsman:"\ud83d\udc82"+e,guide_dog:"\ud83e\uddae",guitar:"\ud83c\udfb8",haircut:"\ud83d\udc87"+e,hamburger:"\ud83c\udf54",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",hammer:"\ud83d\udd28",hamster:"\ud83d\udc39",hand:"\u270b"+e,handbag:"\ud83d\udc5c",handball:"\ud83e\udd3e"+e,handshake:"\ud83e\udd1d"+e,hatched_chick:"\ud83d\udc25",hatching_chick:"\ud83d\udc23",headphones:"\ud83c\udfa7",headstone:"\ud83e\udea6",health_worker:`\ud83e\uddd1${e}\u200d\u2695\ufe0f`,hear_no_evil:"\ud83d\ude49",heart_decoration:"\ud83d\udc9f",heart_eyes_cat:"\ud83d\ude3b",heart_eyes:"\ud83d\ude0d",heart_hands:"\ud83e\udef6"+e,heart:"\u2764",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",hearts:"\u2665",heavy_check_mark:"\u2714",heavy_division_sign:"\u2797",heavy_dollar_sign:"\ud83d\udcb2",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716",heavy_plus_sign:"\u2795",hedgehog:"\ud83e\udd94",helicopter:"\ud83d\ude81",helmet_with_white_cross:"\u26d1",herb:"\ud83c\udf3f",hibiscus:"\ud83c\udf3a",high_heel:"\ud83d\udc60",high_speed_train:"\ud83d\ude84",high_voltage:"\u26a1",hindu_temple:"\ud83d\uded5",hippopotamus:"\ud83e\udd9b",hole:"\ud83d\udd73",hollow_red_circle:"\u2b55",honey_pot:"\ud83c\udf6f",hook:"\ud83e\ude9d",horse_racing:"\ud83c\udfc7"+e,horse:"\ud83d\udc34",hospital:"\ud83c\udfe5",hot_face:"\ud83e\udd75",hot_pepper:"\ud83c\udf36",hot_springs:"\u2668",hotdog:"\ud83c\udf2d",hotel:"\ud83c\udfe8",hourglass_flowing_sand:"\u23f3",hourglass:"\u231b",house_with_garden:"\ud83c\udfe1",house:"\ud83c\udfe0",houses:"\ud83c\udfd8",hugging_face:"\ud83e\udd17",hushed:"\ud83d\ude2f",hut:"\ud83d\uded6",i_love_you_hand_sign:"\ud83e\udd1f"+e,ice_cream:"\ud83c\udf68",ice_cube:"\ud83e\uddca",ice_hockey_stick_and_puck:"\ud83c\udfd2",ice_skate:"\u26f8",icecream:"\ud83c\udf66",imp:"\ud83d\udc7f",inbox_tray:"\ud83d\udce5",incoming_envelope:"\ud83d\udce8",infinity:"\u267e",informal_desk_person:"\ud83d\udc81"+e,innocent:"\ud83d\ude07",interrobang:"\u2049",iphone:"\ud83d\udcf1",jack_o_lantern:"\ud83c\udf83",japanese_castle:"\ud83c\udfef",japanese_goblin:"\ud83d\udc7a",japanese_ogre:"\ud83d\udc79",jeans:"\ud83d\udc56",jigsaw:"\ud83e\udde9",joy_cat:"\ud83d\ude39",joy:"\ud83d\ude02",joystick:"\ud83d\udd79",judge:`\ud83e\uddd1${e}\u200d\u2696\ufe0f`,juggling:"\ud83e\udd39"+e,kaaba:"\ud83d\udd4b",kangaroo:"\ud83e\udd98",key:"\ud83d\udd11",keyboard:"\u2328",kimono:"\ud83d\udc58",kiss:"\ud83d\udc8b",kissing_cat:"\ud83d\ude3d",kissing_closed_eyes:"\ud83d\ude1a",kissing_heart:"\ud83d\ude18",kissing_smiling_eyes:"\ud83d\ude19",kissing:"\ud83d\ude17",kite:"\ud83e\ude81",kiwifruit:"\ud83e\udd5d",kneeling_person:"\ud83e\uddce"+e,knife_fork_plate:"\ud83c\udf7d",knife:"\ud83d\udd2a",knot:"\ud83e\udea2",koala:"\ud83d\udc28",lab_coat:"\ud83e\udd7c",lacrosse:"\ud83e\udd4d",ladder:"\ud83e\ude9c",lady_beetle:"\ud83d\udc1e",laptop:"\ud83d\udcbb",last_quarter_moon_with_face:"\ud83c\udf1c",last_quarter_moon:"\ud83c\udf17",last_track_button:"\u23ee",latin_cross:"\u271d",laughing:"\ud83d\ude06",leafy_green:"\ud83e\udd6c",leaves:"\ud83c\udf43",ledger:"\ud83d\udcd2",left_arrow_curving_right:"\u21aa",left_arrow:"\u2b05",left_facing_fist:"\ud83e\udd1b"+e,left_luggage:"\ud83d\udec5",left_right_arrow:"\u2194",left_speech_bubble:"\ud83d\udde8",leg:"\ud83e\uddb5"+e,lemon:"\ud83c\udf4b",leo:"\u264c",leopard:"\ud83d\udc06",level_slider:"\ud83c\udf9a",libra:"\u264e",light_rail:"\ud83d\ude88",link:"\ud83d\udd17",lion_face:"\ud83e\udd81",lips:"\ud83d\udc44",lipstick:"\ud83d\udc84",litter_in_bin_sign:"\ud83d\udeae",lizard:"\ud83e\udd8e",llama:"\ud83e\udd99",lobster:"\ud83e\udd9e",lock_with_ink_pen:"\ud83d\udd0f",lock:"\ud83d\udd12",locomotive:"\ud83d\ude82",lollipop:"\ud83c\udf6d",long_drum:"\ud83e\ude98",lotion_bottle:"\ud83e\uddf4",loud_sound:"\ud83d\udd0a",loudspeaker:"\ud83d\udce2",love_hotel:"\ud83c\udfe9",love_letter:"\ud83d\udc8c",luggage:"\ud83e\uddf3",lungs:"\ud83e\udec1",lying_face:"\ud83e\udd25",mag_right:"\ud83d\udd0e",mag:"\ud83d\udd0d",mage:"\ud83e\uddd9"+e,magic_wand:"\ud83e\ude84",magnet:"\ud83e\uddf2",mahjong:"\ud83c\udc04",mailbox_closed:"\ud83d\udcea",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",mailbox:"\ud83d\udceb",male_artist:`\ud83d\udc68${e}\u200d\ud83c\udfa8`,male_astronaut:`\ud83d\udc68${e}\u200d\ud83d\ude80`,male_construction_worker:`\ud83d\udc77${e}\u200d\u2642\ufe0f`,male_cook:`\ud83d\udc68${e}\u200d\ud83c\udf73`,male_doctor:`\ud83d\udc68${e}\u200d\u2695\ufe0f`,male_elf:`\ud83e\udddd${e}\u200d\u2642\ufe0f`,male_factory_worker:`\ud83d\udc68${e}\u200d\ud83c\udfed`,male_fairy:`\ud83e\uddda${e}\u200d\u2642\ufe0f`,male_farmer:`\ud83d\udc68${e}\u200d\ud83c\udf3e`,male_firefighter:`\ud83d\udc68${e}\u200d\ud83d\ude92`,male_genie:"\ud83e\uddde\u200d\u2642\ufe0f",male_guard:`\ud83d\udc82${e}\u200d\u2642\ufe0f`,male_judge:`\ud83d\udc68${e}\u200d\u2696\ufe0f`,male_mage:`\ud83e\uddd9${e}\u200d\u2642\ufe0f`,male_mechanic:`\ud83d\udc68${e}\u200d\ud83d\udd27`,male_office_worker:`\ud83d\udc68${e}\u200d\ud83d\udcbc`,male_pilot:`\ud83d\udc68${e}\u200d\u2708\ufe0f`,male_police_officer:`\ud83d\udc6e${e}\u200d\u2642\ufe0f`,male_scientist:`\ud83d\udc68${e}\u200d\ud83d\udd2c`,male_sign:"\u2642",male_singer:`\ud83d\udc68${e}\u200d\ud83c\udfa4`,male_student:`\ud83d\udc68${e}\u200d\ud83c\udf93`,male_superhero:`\ud83e\uddb8${e}\u200d\u2642\ufe0f`,male_supervillain:`\ud83e\uddb9${e}\u200d\u2642\ufe0f`,male_teacher:`\ud83d\udc68${e}\u200d\ud83c\udfeb`,male_technologist:`\ud83d\udc68${e}\u200d\ud83d\udcbb`,male_vampire:`\ud83e\udddb${e}\u200d\u2642\ufe0f`,male_zombie:"\ud83e\udddf\u200d\u2642\ufe0f",man_and_woman_holding_hands:"\ud83d\udc6b"+e,man_biking:`\ud83d\udeb4${e}\u200d\u2642\ufe0f`,man_bouncing_ball:"\u26f9\ufe0f\u200d\u2642\ufe0f",man_bowing:`\ud83d\ude47${e}\u200d\u2642\ufe0f`,man_cartwheeling:`\ud83e\udd38${e}\u200d\u2642\ufe0f`,man_climbing:`\ud83e\uddd7${e}\u200d\u2642\ufe0f`,man_dancing:"\ud83d\udd7a"+e,man_facepalming:`\ud83e\udd26${e}\u200d\u2642\ufe0f`,man_feeding_baby:`\ud83d\udc68${e}\u200d\ud83c\udf7c`,man_frowning:`\ud83d\ude4d${e}\u200d\u2642\ufe0f`,man_gesturing_no:`\ud83d\ude45${e}\u200d\u2642\ufe0f`,man_gesturing_ok:`\ud83d\ude46${e}\u200d\u2642\ufe0f`,man_getting_haircut:`\ud83d\udc87${e}\u200d\u2642\ufe0f`,man_getting_massage:`\ud83d\udc86${e}\u200d\u2642\ufe0f`,man_golfing:"\ud83c\udfcc\ufe0f\u200d\u2642\ufe0f",man_heart_man:`\ud83d\udc68${e}\u200d\u2764\ufe0f\u200d\ud83d\udc68${e}`,man_in_business_suit_levitating:"\ud83d\udd74"+e,man_in_lotus_position:`\ud83e\uddd8${e}\u200d\u2642\ufe0f`,man_in_manual_wheelchair:`\ud83d\udc68${e}\u200d\ud83e\uddbd`,man_in_motorized_wheelchair:`\ud83d\udc68${e}\u200d\ud83e\uddbc`,man_in_steamy_room:`\ud83e\uddd6${e}\u200d\u2642\ufe0f`,man_in_tuxedo:`\ud83e\udd35${e}\u200d\u2642\ufe0f`,man_juggling:`\ud83e\udd39${e}\u200d\u2642\ufe0f`,man_kiss_man:`\ud83d\udc68${e}\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68${e}`,man_kneeling:`\ud83e\uddce${e}\u200d\u2642\ufe0f`,man_lifting_weights:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f",man_mountain_biking:`\ud83d\udeb5${e}\u200d\u2642\ufe0f`,man_playing_handball:`\ud83e\udd3e${e}\u200d\u2642\ufe0f`,man_playing_water_polo:`\ud83e\udd3d${e}\u200d\u2642\ufe0f`,man_pouting:`\ud83d\ude4e${e}\u200d\u2642\ufe0f`,man_raising_hand:`\ud83d\ude4b${e}\u200d\u2642\ufe0f`,man_rowing_boat:`\ud83d\udea3${e}\u200d\u2642\ufe0f`,man_running:`\ud83c\udfc3${e}\u200d\u2642\ufe0f`,man_shrugging:`\ud83e\udd37${e}\u200d\u2642\ufe0f`,man_standing:`\ud83e\uddcd${e}\u200d\u2642\ufe0f`,man_surfing:`\ud83c\udfc4${e}\u200d\u2642\ufe0f`,man_swimming:`\ud83c\udfca${e}\u200d\u2642\ufe0f`,man_tipping_hand:`\ud83d\udc81${e}\u200d\u2642\ufe0f`,man_walking:`\ud83d\udeb6${e}\u200d\u2642\ufe0f`,man_wearing_turban:`\ud83d\udc73${e}\u200d\u2642\ufe0f`,man_with_bunny_ears_partying:"\ud83d\udc6f\u200d\u2642\ufe0f",man_with_gua_pi_mao:"\ud83d\udc72"+e,man_with_probing_cane:`\ud83d\udc68${e}\u200d\ud83e\uddaf`,man_with_turban:"\ud83d\udc73"+e,man_with_veil:`\ud83d\udc70${e}\u200d\u2642\ufe0f`,man_wrestling:"\ud83e\udd3c\u200d\u2642\ufe0f",man:"\ud83d\udc68"+e,mango:"\ud83e\udd6d",mans_shoe:"\ud83d\udc5e",mantelpiece_clock:"\ud83d\udd70",manual_wheelchair:"\ud83e\uddbd",map_of_japan:"\ud83d\uddfe",maple_leaf:"\ud83c\udf41",martial_arts_uniform:"\ud83e\udd4b",mask:"\ud83d\ude37",massage:"\ud83d\udc86"+e,mate_drink:"\ud83e\uddc9",meat_on_bone:"\ud83c\udf56",mechanic:`\ud83e\uddd1${e}\u200d\ud83d\udd27`,mechanical_arm:"\ud83e\uddbe",mechanical_leg:"\ud83e\uddbf",medal:"\ud83c\udf96",medical_symbol:"\u2695",mega:"\ud83d\udce3",melon:"\ud83c\udf48",memo:"\ud83d\udcdd",men_holding_hands:"\ud83d\udc6c"+e,menorah:"\ud83d\udd4e",mens:"\ud83d\udeb9",mermaid:`\ud83e\udddc${e}\u200d\u2640\ufe0f`,merman:`\ud83e\udddc${e}\u200d\u2642\ufe0f`,merperson:"\ud83e\udddc"+e,metro:"\ud83d\ude87",microbe:"\ud83e\udda0",microphone:"\ud83c\udfa4",microscope:"\ud83d\udd2c",milky_way:"\ud83c\udf0c",minibus:"\ud83d\ude90",minidisk:"\ud83d\udcbd",mirror:"\ud83e\ude9e",moai:"\ud83d\uddff",mobile_phone_off:"\ud83d\udcf4",money_bag:"\ud83d\udcb0",money_mouth_face:"\ud83e\udd11",money_with_wings:"\ud83d\udcb8",monkey_face:"\ud83d\udc35",monkey:"\ud83d\udc12",monorail:"\ud83d\ude9d",moon_cake:"\ud83e\udd6e",mosque:"\ud83d\udd4c",mosquito:"\ud83e\udd9f",motor_boat:"\ud83d\udee5",motor_scooter:"\ud83d\udef5",motorized_wheelchair:"\ud83e\uddbc",motorway:"\ud83d\udee3",mount_fuji:"\ud83d\uddfb",mountain_bicyclist:"\ud83d\udeb5"+e,mountain_cableway:"\ud83d\udea0",mountain_railway:"\ud83d\ude9e",mountain:"\u26f0",mouse_trap:"\ud83e\udea4",mouse:"\ud83d\udc2d",mouse2:"\ud83d\udc01",movie_camera:"\ud83c\udfa5",mrs_claus:"\ud83e\udd36"+e,muscle:"\ud83d\udcaa"+e,mushroom:"\ud83c\udf44",musical_keyboard:"\ud83c\udfb9",musical_note:"\ud83c\udfb5",musical_score:"\ud83c\udfbc",mute:"\ud83d\udd07",mx_claus:`\ud83e\uddd1${e}\u200d\ud83c\udf84`,nail_care:"\ud83d\udc85"+e,name_badge:"\ud83d\udcdb",national_park:"\ud83c\udfde",nauseated_face:"\ud83e\udd22",nazar_amulet:"\ud83e\uddff",necktie:"\ud83d\udc54",nerd_face:"\ud83e\udd13",nesting_dolls:"\ud83e\ude86",neutral_face:"\ud83d\ude10",new_moon_with_face:"\ud83c\udf1a",new_moon:"\ud83c\udf11",newspaper:"\ud83d\udcf0",next_track_button:"\u23ed",night_with_stars:"\ud83c\udf03",ninja:"\ud83e\udd77"+e,no_bell:"\ud83d\udd15",no_bicycles:"\ud83d\udeb3",no_entry:"\u26d4",no_good:"\ud83d\ude45"+e,no_littering:"\ud83d\udeaf",no_mobile_phones:"\ud83d\udcf5",no_mouth:"\ud83d\ude36",no_pedestrians:"\ud83d\udeb7",no_smoking:"\ud83d\udead",non_potable_water:"\ud83d\udeb1",nose:"\ud83d\udc43"+e,notebook_with_decorative_cover:"\ud83d\udcd4",notebook:"\ud83d\udcd3",notes:"\ud83c\udfb6",nut_and_bolt:"\ud83d\udd29",ocean:"\ud83c\udf0a",octopus:"\ud83d\udc19",oden:"\ud83c\udf62",office_building:"\ud83c\udfe2",office_worker:`\ud83e\uddd1${e}\u200d\ud83d\udcbc`,oil_drum:"\ud83d\udee2",ok:"\ud83d\udc4c"+e,old_key:"\ud83d\udddd",older_adult:"\ud83e\uddd3"+e,older_man:"\ud83d\udc74"+e,older_woman:"\ud83d\udc75"+e,olive:"\ud83e\uded2",om:"\ud83d\udd49",on:"\ud83d\udd1b",oncoming_automobile:"\ud83d\ude98",oncoming_bus:"\ud83d\ude8d",oncoming_police_car:"\ud83d\ude94",oncoming_taxi:"\ud83d\ude96",one_piece_swimsuit:"\ud83e\ude71",onion:"\ud83e\uddc5",open_book:"\ud83d\udcd6",open_file_folder:"\ud83d\udcc2",open_hands:"\ud83d\udc50"+e,open_mouth:"\ud83d\ude2e",ophiuchus:"\u26ce",orange_book:"\ud83d\udcd9",orange_heart:"\ud83e\udde1",orangutan:"\ud83e\udda7",orthodox_cross:"\u2626",otter:"\ud83e\udda6",outbox_tray:"\ud83d\udce4",owl:"\ud83e\udd89",ox:"\ud83d\udc02",oyster:"\ud83e\uddaa",package:"\ud83d\udce6",page_facing_up:"\ud83d\udcc4",page_with_curl:"\ud83d\udcc3",pager:"\ud83d\udcdf",paintbrush:"\ud83d\udd8c",palm_tree:"\ud83c\udf34",pancakes:"\ud83e\udd5e",panda_face:"\ud83d\udc3c",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",parachute:"\ud83e\ude82",parking:"\ud83c\udd7f",parrot:"\ud83e\udd9c",part_alternation_mark:"\u303d",party:"\ud83c\udf89",partying_face:"\ud83e\udd73",passenger_ship:"\ud83d\udef3",passport_control:"\ud83d\udec2",pause_button:"\u23f8",paw_prints:"\ud83d\udc3e",peace_symbol:"\u262e",peach:"\ud83c\udf51",peacock:"\ud83e\udd9a",peanuts:"\ud83e\udd5c",pear:"\ud83c\udf50",pen:"\ud83d\udd8a",pencil:"\u270f",penguin:"\ud83d\udc27",pensive:"\ud83d\ude14",people_holding_hands:`\ud83e\uddd1${e}\u200d\ud83e\udd1d\u200d\ud83e\uddd1${e}`,performing_arts:"\ud83c\udfad",persevere:"\ud83d\ude23",person_climbing:"\ud83e\uddd7"+e,person_doing_cartwheel:"\ud83e\udd38"+e,person_feeding_baby:`\ud83e\uddd1${e}\u200d\ud83c\udf7c`,person_frowning:"\ud83d\ude4d"+e,person_in_lotus_position:"\ud83e\uddd8"+e,person_in_manual_wheelchair:`\ud83e\uddd1${e}\u200d\ud83e\uddbd`,person_in_motorized_wheelchair:`\ud83e\uddd1${e}\u200d\ud83e\uddbc`,person_in_steamy_room:"\ud83e\uddd6"+e,person_in_tuxedo:"\ud83e\udd35"+e,person_with_ball:"\u26f9"+e,person_with_blonde_hair:"\ud83d\udc71"+e,person_with_headscarf:"\ud83e\uddd5"+e,person_with_pouting_face:"\ud83d\ude4e"+e,person_with_probing_cane:`\ud83e\uddd1${e}\u200d\ud83e\uddaf`,person:"\ud83e\uddd1"+e,petry_dish:"\ud83e\uddeb",pick:"\u26cf",pie:"\ud83e\udd67",pig_nose:"\ud83d\udc3d",pig:"\ud83d\udc37",pig2:"\ud83d\udc16",pill:"\ud83d\udc8a",pilot:`\ud83e\uddd1${e}\u200d\u2708\ufe0f`,pinata:"\ud83e\ude85",pinched_fingers:"\ud83e\udd0c"+e,pineapple:"\ud83c\udf4d",ping_pong:"\ud83c\udfd3",pirate_flag:"\ud83c\udff4\u200d\u2620\ufe0f",pisces:"\u2653",pistol:"\ud83d\udd2b",pizza:"\ud83c\udf55",placard:"\ud83e\udea7",place_of_worship:"\ud83d\uded0",play_button:"\u25b6",play_or_pause_button:"\u23ef",pleading_face:"\ud83e\udd7a",plunger:"\ud83e\udea0",point_down:"\ud83d\udc47"+e,point_left:"\ud83d\udc48"+e,point_right:"\ud83d\udc49"+e,point_up:"\u261d"+e,polar_bear:"\ud83d\udc3b\u200d\u2744\ufe0f",police_car:"\ud83d\ude93",poodle:"\ud83d\udc29",poop:"\ud83d\udca9",popcorn:"\ud83c\udf7f",post_office:"\ud83c\udfe3",postal_horn:"\ud83d\udcef",postbox:"\ud83d\udcee",potable_water:"\ud83d\udeb0",potato:"\ud83e\udd54",potted_plant:"\ud83e\udeb4",poultry_leg:"\ud83c\udf57",pound:"\ud83d\udcb7",pouting_cat:"\ud83d\ude3e",pray:"\ud83d\ude4f"+e,prayer_beads:"\ud83d\udcff",pregnant_woman:"\ud83e\udd30"+e,pretzel:"\ud83e\udd68",prince:"\ud83e\udd34"+e,princess:"\ud83d\udc78"+e,printer:"\ud83d\udda8",prohibited:"\ud83d\udeab",punch:"\ud83d\udc4a"+e,purple_heart:"\ud83d\udc9c",purse:"\ud83d\udc5b",pushpin:"\ud83d\udccc",question:"\u2753",rabbit:"\ud83d\udc30",rabbit2:"\ud83d\udc07",raccoon:"\ud83e\udd9d",racehorse:"\ud83d\udc0e",racing_car:"\ud83c\udfce",racing_motorcycle:"\ud83c\udfcd",radio:"\ud83d\udcfb",radioactive:"\u2622",rage:"\ud83d\ude21",railway_car:"\ud83d\ude83",railway_track:"\ud83d\udee4",rainbow_flag:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",rainbow:"\ud83c\udf08",raised_hand:"\u270b"+e,raised_hands:"\ud83d\ude4c"+e,raising_hand:"\ud83d\ude4b"+e,ram:"\ud83d\udc0f",ramen:"\ud83c\udf5c",rat:"\ud83d\udc00",razor:"\ud83e\ude92",receipt:"\ud83e\uddfe",record_button:"\u23fa",recycling_symbol:"\u267b",red_envelope:"\ud83e\udde7",red_haired_man:`\ud83d\udc68${e}\u200d\ud83e\uddb0`,red_haired_person:`\ud83e\uddd1${e}\u200d\ud83e\uddb0`,red_haired_woman:`\ud83d\udc69${e}\u200d\ud83e\uddb0`,red_paper_lantern:"\ud83c\udfee",registered:"\xae",relieved:"\ud83d\ude0c",reminder_ribbon:"\ud83c\udf97",repeat_button:"\ud83d\udd01",repeat_single_button:"\ud83d\udd02",restroom:"\ud83d\udebb",reverse_button:"\u25c0",revolving_hearts:"\ud83d\udc9e",rhinoceros:"\ud83e\udd8f",ribbon:"\ud83c\udf80",rice_ball:"\ud83c\udf59",rice_cracker:"\ud83c\udf58",rice:"\ud83c\udf5a",right_anger_bubble:"\ud83d\uddef",right_arrow_curving_down:"\u2935",right_arrow_curving_left:"\u21a9",right_arrow_curving_up:"\u2934",right_arrow:"\u27a1",right_facing_fist:"\ud83e\udd1c"+e,ring:"\ud83d\udc8d",ringed_planet:"\ud83e\ude90",robot_face:"\ud83e\udd16",rock:"\ud83e\udea8",rocket:"\ud83d\ude80",roll_of_paper:"\ud83e\uddfb",rolled_up_newspaper:"\ud83d\uddde",roller_coaster:"\ud83c\udfa2",roller_skate:"\ud83d\udefc",rolling_on_the_floor_laughing:"\ud83e\udd23",rooster:"\ud83d\udc13",rose:"\ud83c\udf39",rosette:"\ud83c\udff5",rotating_light:"\ud83d\udea8",round_pushpin:"\ud83d\udccd",rowboat:"\ud83d\udea3"+e,rugby_football:"\ud83c\udfc9",running_shirt_with_sash:"\ud83c\udfbd",running_shoe:"\ud83d\udc5f",running:"\ud83c\udfc3"+e,safety_pin:"\ud83e\uddf7",safety_vest:"\ud83e\uddba",sagittarius:"\u2650",sailboat:"\u26f5",sake:"\ud83c\udf76",salt:"\ud83e\uddc2",sandal:"\ud83d\udc61",sandwich:"\ud83e\udd6a",santa:"\ud83c\udf85"+e,sari:"\ud83e\udd7b",satellite_antenna:"\ud83d\udce1",satellite:"\ud83d\udef0",sauropod:"\ud83e\udd95",saxophone:"\ud83c\udfb7",scarf:"\ud83e\udde3",school:"\ud83c\udfeb",scientist:`\ud83e\uddd1${e}\u200d\ud83d\udd2c`,scissors:"\u2702",scooter:"\ud83d\udef4",scorpion:"\ud83e\udd82",scorpius:"\u264f",scream_cat:"\ud83d\ude40",scream:"\ud83d\ude31",screwdriver:"\ud83e\ude9b",scroll:"\ud83d\udcdc",seal:"\ud83e\uddad",seat:"\ud83d\udcba",second_place_medal:"\ud83e\udd48",see_no_evil:"\ud83d\ude48",seedling:"\ud83c\udf31",selfie:"\ud83e\udd33"+e,service_dog:"\ud83d\udc15\u200d\ud83e\uddba",sewing_needle:"\ud83e\udea1",shallow_pan_of_food:"\ud83e\udd58",shamrock:"\u2618",shark:"\ud83e\udd88",shaved_ice:"\ud83c\udf67",sheep:"\ud83d\udc11",shell:"\ud83d\udc1a",shield:"\ud83d\udee1",shinto_shrine:"\u26e9",ship:"\ud83d\udea2",shooting_star:"\ud83c\udf20",shopping_bags:"\ud83d\udecd",shopping_cart:"\ud83d\uded2",shorts:"\ud83e\ude73",shower:"\ud83d\udebf",shrimp:"\ud83e\udd90",shrug:"\ud83e\udd37"+e,shuffle_tracks_button:"\ud83d\udd00",shushing_face:"\ud83e\udd2b",signal_strength:"\ud83d\udcf6",simple_smile:"\ud83d\ude42",singer:`\ud83e\uddd1${e}\u200d\ud83c\udfa4`,skateboard:"\ud83d\udef9",skier:"\u26f7",skis:"\ud83c\udfbf",skull_and_crossbones:"\u2620",skull:"\ud83d\udc80",skunk:"\ud83e\udda8",sled:"\ud83d\udef7",sleeping:"\ud83d\ude34",sleepy:"\ud83d\ude2a",slightly_frowning_face:"\ud83d\ude41",slot_machine:"\ud83c\udfb0",sloth:"\ud83e\udda5",small_airplane:"\ud83d\udee9",smile_cat:"\ud83d\ude38",smile:"\ud83d\ude04",smiley_cat:"\ud83d\ude3a",smiley:"\ud83d\ude03",smiling_face_with_3_hearts:"\ud83e\udd70",smiling_face_with_tear:"\ud83e\udd72",smiling_imp:"\ud83d\ude08",smirk_cat:"\ud83d\ude3c",smirk:"\ud83d\ude0f",snail:"\ud83d\udc0c",snake:"\ud83d\udc0d",sneezing_face:"\ud83e\udd27",snow_capped_mountain:"\ud83c\udfd4",snowboarder:"\ud83c\udfc2",snowflake:"\u2744",snowman:"\u26c4",soap:"\ud83e\uddfc",sob:"\ud83d\ude2d",soccer:"\u26bd",socks:"\ud83e\udde6",softball:"\ud83e\udd4e",soon:"\ud83d\udd1c",sound:"\ud83d\udd09",space_invader:"\ud83d\udc7e",spades:"\u2660",spaghetti:"\ud83c\udf5d",sparkle:"\u2747",sparkler:"\ud83c\udf87",sparkles:"\u2728",sparkling_heart:"\ud83d\udc96",speak_no_evil:"\ud83d\ude4a",speaker:"\ud83d\udd08",speech_balloon:"\ud83d\udcac",speedboat:"\ud83d\udea4",spider_web:"\ud83d\udd78",spider:"\ud83d\udd77",spiral_calendar:"\ud83d\uddd3",spiral_notepad:"\ud83d\uddd2",sponge:"\ud83e\uddfd",spoon:"\ud83e\udd44",sports_medal:"\ud83c\udfc5",squid:"\ud83e\udd91",stadium:"\ud83c\udfdf",standing_person:"\ud83e\uddcd"+e,star_and_crescent:"\u262a",star_of_david:"\u2721",star_struck:"\ud83e\udd29",star:"\u2b50",star2:"\ud83c\udf1f",station:"\ud83d\ude89",statue_of_liberty:"\ud83d\uddfd",stethoscope:"\ud83e\ude7a",stop_button:"\u23f9",stop_sign:"\ud83d\uded1",stopwatch:"\u23f1",straight_ruler:"\ud83d\udccf",strawberries:"\ud83c\udf53",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue_winking_eye:"\ud83d\ude1c",stuck_out_tongue:"\ud83d\ude1b",student:`\ud83e\uddd1${e}\u200d\ud83c\udf93`,studio_microphone:"\ud83c\udf99",stuffed_flatbread:"\ud83e\udd59",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",sun_behind_small_cloud:"\ud83c\udf24",sun_with_face:"\ud83c\udf1e",sunflower:"\ud83c\udf3b",sunglasses:"\ud83d\ude0e",sunny:"\u2600",sunrise_over_mountains:"\ud83c\udf05",sunset_over_buildings:"\ud83c\udf07",superhero:"\ud83e\uddb8"+e,supervillain:"\ud83e\uddb9"+e,surfer:"\ud83c\udfc4"+e,sushi:"\ud83c\udf63",suspension_railway:"\ud83d\ude9f",swan:"\ud83e\udda2",sweat_drops:"\ud83d\udca6",sweat_smile:"\ud83d\ude05",sweat:"\ud83d\ude13",sweet_potato:"\ud83c\udf60",swimmer:"\ud83c\udfca"+e,synagogue:"\ud83d\udd4d",syringe:"\ud83d\udc89",t_rex:"\ud83e\udd96",t_shirt:"\ud83d\udc55",taco:"\ud83c\udf2e",tada:"\ud83c\udf89",takeout_box:"\ud83e\udd61",tamale:"\ud83e\uded4",tanabata_tree:"\ud83c\udf8b",tangerine:"\ud83c\udf4a",taurus:"\u2649",taxi:"\ud83d\ude95",tea:"\ud83c\udf75",teacher:`\ud83e\uddd1${e}\u200d\ud83c\udfeb`,teapot:"\ud83e\uded6",technologist:`\ud83e\uddd1${e}\u200d\ud83d\udcbb`,teddy_bear:"\ud83e\uddf8",telephone_receiver:"\ud83d\udcde",telephone:"\u260e",telescope:"\ud83d\udd2d",television:"\ud83d\udcfa",tennis:"\ud83c\udfbe",tent:"\u26fa",test_tube:"\ud83e\uddea",the_horns:"\ud83e\udd18"+e,thermometer:"\ud83c\udf21",thinking_face:"\ud83e\udd14",third_place_medal:"\ud83e\udd49",thong_sandal:"\ud83e\ude74",thought_balloon:"\ud83d\udcad",thread:"\ud83e\uddf5",thumbsdown:"\ud83d\udc4e"+e,thumbsup:"\ud83d\udc4d"+e,ticket:"\ud83c\udfab",tiger:"\ud83d\udc2f",tiger2:"\ud83d\udc05",timer_clock:"\u23f2",tired_face:"\ud83d\ude2b",toilet:"\ud83d\udebd",tokyo_tower:"\ud83d\uddfc",tomato:"\ud83c\udf45",tongue:"\ud83d\udc45",toolbox:"\ud83e\uddf0",tooth:"\ud83e\uddb7",toothbrush:"\ud83e\udea5",top_hat:"\ud83c\udfa9",top:"\ud83d\udd1d",trackball:"\ud83d\uddb2",tractor:"\ud83d\ude9c",trade_mark:"\u2122",traffic_light:"\ud83d\udea5",train:"\ud83d\ude86",tram_car:"\ud83d\ude8b",tram:"\ud83d\ude8a",transgender_flag:"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f",transgender_symbol:"\u26a7",triangular_flag_on_post:"\ud83d\udea9",triangular_ruler:"\ud83d\udcd0",trident:"\ud83d\udd31",triumph:"\ud83d\ude24",trolleybus:"\ud83d\ude8e",trophy:"\ud83c\udfc6",tropical_drink:"\ud83c\udf79",tropical_fish:"\ud83d\udc20",truck:"\ud83d\ude9a",trumpet:"\ud83c\udfba",tulip:"\ud83c\udf37",tumbler_glass:"\ud83e\udd43",turkey:"\ud83e\udd83",turtle_shell:"\ud83d\udc22",turtle:"\ud83d\udc22",two_hearts:"\ud83d\udc95",umbrella_on_ground:"\u26f1",umbrella_with_rain_drops:"\u2614",umbrella:"\u2602",unamused:"\ud83d\ude12",underage:"\ud83d\udd1e",unicorn_face:"\ud83e\udd84",unlock:"\ud83d\udd13",up_arrow:"\u2b06",up_button:"\ud83c\udd99",up_down_arrow:"\u2195",up_left_arrow:"\u2196",up_right_arrow:"\u2197",up:"\ud83c\udd99",upside_down_face:"\ud83d\ude43",v:"\u270c"+e,vampire:"\ud83e\udddb"+e,vertical_traffic_light:"\ud83d\udea6",vhs:"\ud83d\udcfc",vibration_mode:"\ud83d\udcf3",video_camera:"\ud83d\udcf9",video_game:"\ud83c\udfae",videocassette:"\ud83d\udcfc",violin:"\ud83c\udfbb",virgo:"\u264d",volcano:"\ud83c\udf0b",volleyball:"\ud83c\udfd0",waffle:"\ud83e\uddc7",walking:"\ud83d\udeb6"+e,waning_crescent_moon:"\ud83c\udf18",waning_gibbous_moon:"\ud83c\udf16",warning:"\u26a0",wastebasket:"\ud83d\uddd1",watch:"\u231a",water_buffalo:"\ud83d\udc03",water_polo:"\ud83e\udd3d"+e,watermelon:"\ud83c\udf49",wave:"\ud83d\udc4b"+e,wavy_dash:"\u3030",waxing_crescent_moon:"\ud83c\udf12",waxing_gibbous_moon:"\ud83c\udf14",wc:"\ud83d\udebe",weary:"\ud83d\ude29",wedding:"\ud83d\udc92",weight_lifter:"\ud83c\udfcb"+e,whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",wheel_of_dharma:"\u2638",wheelchair_symbol:"\u267f",white_cane:"\ud83e\uddaf",white_checkmark:"\u2705",white_flower:"\ud83d\udcae",white_haired_man:`\ud83d\udc68${e}\u200d\ud83e\uddb3`,white_haired_person:`\ud83e\uddd1${e}\u200d\ud83e\uddb3`,white_haired_woman:`\ud83d\udc69${e}\u200d\ud83e\uddb3`,white_heart:"\ud83e\udd0d",wilted_flower:"\ud83e\udd40",wind_blowing_face:"\ud83c\udf2c",wind_chime:"\ud83c\udf90",window:"\ud83e\ude9f",wine_glass:"\ud83c\udf77",wink:"\ud83d\ude09",wolf:"\ud83d\udc3a",woman_biking:`\ud83d\udeb4${e}\u200d\u2640\ufe0f`,woman_bouncing_ball:"\u26f9\ufe0f\u200d\u2640\ufe0f",woman_bowing:`\ud83d\ude47${e}\u200d\u2640\ufe0f`,woman_cartwheeling:`\ud83e\udd38${e}\u200d\u2640\ufe0f`,woman_climbing:`\ud83e\uddd7${e}\u200d\u2640\ufe0f`,woman_facepalming:`\ud83e\udd26${e}\u200d\u2640\ufe0f`,woman_feeding_baby:`\ud83d\udc69${e}\u200d\ud83c\udf7c`,woman_frowning:`\ud83d\ude4d${e}\u200d\u2640\ufe0f`,woman_gesturing_no:`\ud83d\ude45${e}\u200d\u2640\ufe0f`,woman_gesturing_ok:`\ud83d\ude46${e}\u200d\u2640\ufe0f`,woman_getting_haircut:`\ud83d\udc87${e}\u200d\u2640\ufe0f`,woman_getting_massage:`\ud83d\udc86${e}\u200d\u2640\ufe0f`,woman_golfing:"\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f",woman_heart_man:`\ud83d\udc69${e}\u200d\u2764\ufe0f\u200d\ud83d\udc68${e}`,woman_heart_woman:`\ud83d\udc69${e}\u200d\u2764\ufe0f\u200d\ud83d\udc69${e}`,woman_in_lotus_position:`\ud83e\uddd8${e}\u200d\u2640\ufe0f`,woman_in_manual_wheelchair:`\ud83d\udc69${e}\u200d\ud83e\uddbd`,woman_in_motorized_wheelchair:`\ud83d\udc69${e}\u200d\ud83e\uddbc`,woman_in_steamy_room:`\ud83e\uddd6${e}\u200d\u2640\ufe0f`,woman_in_tuxedo:`\ud83e\udd35${e}\u200d\u2640\ufe0f`,woman_juggling:`\ud83e\udd39${e}\u200d\u2640\ufe0f`,woman_kiss_man:`\ud83d\udc69${e}\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68${e}`,woman_kiss_woman:`\ud83d\udc69${e}\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69${e}`,woman_kneeling:`\ud83e\uddce${e}\u200d\u2640\ufe0f`,woman_lifting_weights:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",woman_mountain_biking:`\ud83d\udeb5${e}\u200d\u2640\ufe0f`,woman_ok:"\ud83d\ude46"+e,woman_playing_handball:`\ud83e\udd3e${e}\u200d\u2640\ufe0f`,woman_playing_water_polo:`\ud83e\udd3d${e}\u200d\u2640\ufe0f`,woman_pouting:`\ud83d\ude4e${e}\u200d\u2640\ufe0f`,woman_raising_hand:`\ud83d\ude4b${e}\u200d\u2640\ufe0f`,woman_rowing_boat:`\ud83d\udea3${e}\u200d\u2640\ufe0f`,woman_running:`\ud83c\udfc3${e}\u200d\u2640\ufe0f`,woman_shrugging:`\ud83e\udd37${e}\u200d\u2640\ufe0f`,woman_standing:`\ud83e\uddcd${e}\u200d\u2640\ufe0f`,woman_surfing:`\ud83c\udfc4${e}\u200d\u2640\ufe0f`,woman_swimming:`\ud83c\udfca${e}\u200d\u2640\ufe0f`,woman_tipping_hand:`\ud83d\udc81${e}\u200d\u2640\ufe0f`,woman_walking:`\ud83d\udeb6${e}\u200d\u2640\ufe0f`,woman_wearing_turban:`\ud83d\udc73${e}\u200d\u2640\ufe0f`,woman_with_bunny_ears_partying:"\ud83d\udc6f\u200d\u2640\ufe0f",woman_with_probing_cane:`\ud83d\udc69${e}\u200d\ud83e\uddaf`,woman_with_veil:`\ud83d\udc70${e}\u200d\u2640\ufe0f`,woman_wrestling:"\ud83e\udd3c\u200d\u2640\ufe0f",woman:"\ud83d\udc69"+e,womans_clothes:"\ud83d\udc5a",womans_flat_shoe:"\ud83e\udd7f",womans_hat:"\ud83d\udc52",women_holding_hands:"\ud83d\udc6d"+e,womens:"\ud83d\udeba",wood:"\ud83e\udeb5",woozy_face:"\ud83e\udd74",world_map:"\ud83d\uddfa",worm:"\ud83e\udeb1",worried:"\ud83d\ude1f",wrench:"\ud83d\udd27",wrestlers:"\ud83e\udd3c",writing_hand:"\u270d"+e,yarn:"\ud83e\uddf6",yawning_face:"\ud83e\udd71",yellow_heart:"\ud83d\udc9b",yen:"\ud83d\udcb4",yin_yang:"\u262f",yo_yo:"\ud83e\ude80",yum:"\ud83d\ude0b",zany_face:"\ud83e\udd2a",zebra_face:"\ud83e\udd93",zipper_mouth_face:"\ud83e\udd10",zombie:"\ud83e\udddf",zzz:"\ud83d\udca4"}}},function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return f}));var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c=o(9),l=o(172),d=o(281),u=o(15),m=o(20),p=o(160),b=o(12),g=o(153),h=o(53),j=o(0);function f(e){let{recentChatMessage:t,isChatOpen:o}=e;return t&&(!o||"reaction"===t.type)}!("[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0))&&function(){let e=!0;if(document.documentElement.animate){const t=document.documentElement.animate([],0);t&&(e=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|finished|startTime|playState".split("|").forEach(o=>{void 0===t[o]&&(e=!0)}))}return e}()&&o.e(25).then(o.t.bind(null,375,7));const O=e=>{let{message:t,yOffset:o=0}=e;return{message:t,yOffset:o,isExpired:!1,isReplaced:!1,expire(){this.isExpired=!0},markReplaced(){this.isReplaced=!0}}};function S(e){let{chatUsersByClientId:t,doExpire:o,isReplaced:i,isSmallCell:a,isSubgridCell:n,localClientId:s,message:r,offset:c,onClick:l,subgridReactionAlignment:u,subgridReactionDirection:m}=e,p=u;n||(p="reaction"===r.type?"center":"start");let b=m;return n||(b="reaction"===r.type?"none":"up"),Object(j.jsx)(d.a,{chatUsersByClientId:t,doExpire:o,isReplaced:i,isSmallCell:a,isSubgridCell:n,latestMessage:r,localClientId:s,offset:c,onClick:l,reactionAlignment:p,reactionDirection:b,withMargin:!n},r.id)}function R(e){let{chatUsersByClientId:t,debug:o=!1,doSidebarPane:a,isChatOpen:n,layoutRoomFrame:s,layoutVideoStage:c,layoutVideoStageFrame:d,localClientId:u,recentChatMessagesByClientId:R}=e;const C=c,v=s,y=d,I=!!C.presentationGrid.cells.length,E=!!C.videoGrid.cells.length,x=!I&&!E,T=e=>{e.preventDefault(),a(m.g)},L=Object(i.useRef)([]),k=L.current.map(e=>e.message.id),_=Object.values(R).filter(e=>!k.includes(e.id)&&Date.now()-e.received<p.a);if(_.length){const e=_.map(e=>e.senderId),t=_.map(e=>{var t;const o=O({message:e,yOffset:null==(t=window)?void 0:t.pageYOffset});return f({recentChatMessage:e,isChatOpen:n})||o.expire(),o}),o=L.current.filter(e=>!e.isExpired);o.forEach(t=>{e.includes(t.message.senderId)&&t.markReplaced()}),L.current=[...o,...t]}const N=L.current.map(e=>{const i=e.message.senderId,a=Object(g.a)({clientId:i,stageLayout:C,roomFrame:v,videoStageFrame:y});if(a&&!e.isExpired){const i=function(e){let{cellFrame:t,roomFrame:o,yOffset:i}=e;const a=o.origin.top+o.bounds.height-t.bounds.height+i;return{bounds:t.bounds,origin:{top:Math.max(t.origin.top>a?a:t.origin.top-i,0),left:t.origin.left}}}({cellFrame:Object(h.b)({containerFrame:Object(b.j)({...a.origin,...a.bounds}),contentAspectRatio:a.aspectRatio||a.bounds.width/a.bounds.height}),roomFrame:v,yOffset:!a.isFloatingCell&&e.yOffset||0}),n=function(e){let{cellFrame:t,isPortrait:o,noneOnStage:i}=e;return t.origin.top?o||i?"up":"left":"down"}({cellFrame:i,isPortrait:C.isPortrait,noneOnStage:x}),s=function(e){let{cellFrame:t,stageBounds:o,reactionDirection:i}=e;if("up"===i||"down"===i){const e=300,i=Math.floor(e/2-t.bounds.width),a=Math.floor(o.width-i-t.bounds.width),n=t.origin.left;if(n<i)return"start";if(n>a)return"end"}else if("left"===i){const e=200,i=Math.floor(e/2-t.bounds.height),a=Math.floor(o.height-i-t.bounds.height),n=t.origin.top;if(n<i)return"start";if(n>a)return"end"}return"center"}({cellFrame:i,stageBounds:y.bounds,reactionDirection:n});return Object(j.jsx)("div",{className:r()(l.a.reactionContainer,{[l.a.debug]:o}),style:{top:Math.round(i.origin.top),left:Math.round(i.origin.left),width:Math.round(i.bounds.width),height:Math.round(i.bounds.height),paddingTop:a.isSubgridCell?Math.round(i.bounds.height/2):0},children:S({chatUsersByClientId:t,doExpire:()=>e.expire(),isReplaced:e.isReplaced,isSmallCell:a.isSmallCell,isSubgridCell:a.isSubgridCell,localClientId:u,message:e.message,offset:a.isSubgridCell?i.bounds.height:25,onClick:T,subgridReactionAlignment:s,subgridReactionDirection:n})},e.message.id)}return null});return Object(j.jsx)("div",{className:l.a.ReactionsOverlay,children:N})}R.propTypes={chatUsersByClientId:n.a.object.isRequired,debug:n.a.bool,doSidebarPane:n.a.func.isRequired,isChatOpen:n.a.bool.isRequired,layoutRoomFrame:b.d.isRequired,layoutVideoStage:n.a.object.isRequired,layoutVideoStageFrame:b.d.isRequired,localClientId:n.a.string.isRequired,recentChatMessagesByClientId:n.a.object},t.a=Object(u.b)(Object(c.b)("doSidebarPane","selectChatUsersByClientId","selectIsChatOpen","selectLayoutRoomFrame","selectLocalClientId","selectRecentChatMessagesByClientId",Object(i.memo)(R)))}).call(this,o(127))},,function(e,t,o){"use strict";o.d(t,"b",(function(){return f})),o.d(t,"a",(function(){return O}));var i=o(2),a=o(6),n=o.n(a),s=o(1),r=o.n(s),c=o(4),l="rowButton-MQdq",d="iconContainer-Yz-H",u="isSelected-mVgN",m="flexWrapper-9fPR",p="discloseIndicatorIcon-97GN",b="menu-LKMq",g="menuHeader-MIed",h="menuList-W4KC",j=o(0);function f(e){let{as:t="button",className:o,children:i,isSelected:a,onClick:s,href:r}=e;return Object(j.jsx)(t,{className:n()(l,o,{[u]:a}),onClick:s,href:r,target:"_blank",children:Object(j.jsxs)("span",{className:m,children:[Object(j.jsx)("span",{children:i}),Object(j.jsx)("div",{className:d,children:"a"===t?Object(j.jsx)(c.J,{modifiers:["sized"]}):Object(j.jsx)(c.i,{modifiers:["sized"],className:p})})]})})}function O(e){let{sectionHeaderLabel:t,children:o}=e;return Object(j.jsxs)("section",{className:b,children:[Object(j.jsx)("h2",{className:g,children:t}),Object(j.jsx)("section",{className:h,children:i.Children.map(o,e=>Object(j.jsx)("h3",{children:e}))})]})}f.propTypes={as:r.a.elementType,children:r.a.element.isRequired,className:r.a.string,href:r.a.string,isSelected:r.a.bool,onClick:r.a.func},O.propTypes={children:r.a.arrayOf(r.a.node).isRequired,sectionHeaderLabel:r.a.node.isRequired}},,,,,function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return s}));var i=o(27);function a(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,i=!1;const a=e.createAnalyser();return a.fftSize=o,a.smoothingTimeConstant=.65,{analyzer:a,subscribeFrequencyData:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;i=!1;const n=new Uint8Array(a.frequencyBinCount),s=()=>{i||(a.getByteFrequencyData(n),e(n),t=setTimeout(s,1e3/o))};t=setTimeout(s,1e3/o)},destroy:()=>{i=!0,void 0!==t&&(clearTimeout(t),t=void 0),a.disconnect()}}}class n{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2?arguments[2]:void 0;const s=t.getAudioTracks()[0];null!=s&&s._denoiserCtx&&(n=s._denoiserCtx),this._audioCtx=n||new(e.AudioContext||e.webkitAudioContext),this._ownsAudioCtx=!n,this._clonedStream=!1,this._stream=t,"safari"===i.a.browserDetails.browser&&(this._clonedStream=!0,this._stream=new MediaStream(t.getAudioTracks().map(e=>e.clone())),this._stream.getAudioTracks().forEach(e=>e.enabled=!0)),this._source=(null==s?void 0:s._denoiser)||this._audioCtx.createMediaStreamSource(this._stream),this._audioAnalyzer=a(this._audioCtx,o),this._source.connect(this._audioAnalyzer.analyzer)}_clearAudioResources(){try{this._source.disconnect(this._audioAnalyzer.analyzer)}catch(e){}this._source=void 0,this._audioAnalyzer.destroy(),this._audioAnalyzer=void 0,this._clonedStream&&this._stream.getTracks().forEach(e=>e.stop()),this._stream=void 0,this._ownsAudioCtx&&this._audioCtx.close(),this._audioCtx=void 0}subscribeData(e){return this._audioAnalyzer.subscribeFrequencyData(e),()=>this._clearAudioResources()}}class s{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,i=arguments.length>2?arguments[2]:void 0;this._audioCtx=i||new(e.AudioContext||e.webkitAudioContext),this._ownsAudioCtx=!i,this._source=t,this._audioAnalyzer=a(this._audioCtx,o),this._source.connect(this._audioAnalyzer.analyzer)}_clearAudioResources(){this._audioAnalyzer.destroy(),this._audioAnalyzer=void 0,this._source.disconnect(),this._source=void 0,this._audioCtx=void 0}subscribeData(e){return this._audioAnalyzer.subscribeFrequencyData(e),()=>this._clearAudioResources()}}}).call(this,o(39))},,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(7),a=o(13);const n=27e5,s={isTimeLimitEnabled:!1};t.b={name:"timeLimits",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,{type:t}=arguments.length>1?arguments[1]:void 0;switch(t){case"TIME_LIMIT_ENABLED":return{isTimeLimitEnabled:!0};case"TIME_LIMIT_DISABLED":return{isTimeLimitEnabled:!1}}return e},getMiddleware:()=>e=>t=>o=>{if(!e.selectIsEligibleForTimeLimit())return t(o);const i=e.selectRoomTimeLimitEnabledAt();t(o);const a=e.selectRoomTimeLimitEnabledAt();!i&&a&&e.doStartTimeLimitCountdown()},doStartTimeLimitCountdown:()=>e=>{let{dispatch:t}=e;t({type:"TIME_LIMIT_ENABLED"})},selectIsEligibleForTimeLimit:Object(i.e)("selectRoomIsFree","selectRoomMode",(e,t)=>Boolean(e&&t===a.t.GROUP)),selectIsTimeLimitEnabled:e=>e.timeLimits.isTimeLimitEnabled}},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(2),s=o(6),r=o.n(s),c=o(4),l=o(3),d={SpeakerSelector:"SpeakerSelector-MoEi",showTestButton:"showTestButton-2yCU",testButtonWrapper:"testButtonWrapper-sGOF",testButton:"testButton-9EE2"},u=o(78),m=o(21),p=o(116),b=o.p+"assets/media/test.72d59b06.mp3",g=o(0);function h(e){let{onTestButtonClick:t,showTestButton:o}=e;return Object(g.jsxs)("div",{className:r()(u.a.SelectOverlay,d.SelectOverlay),children:[Object(g.jsx)(c.Mb,{modifiers:["sized","dark"],className:u.a.icon}),o&&Object(g.jsx)("div",{className:d.testButtonWrapper,children:Object(g.jsx)("button",{type:"button",className:d.testButton,onClick:t,"aria-label":"Test Speaker",children:"Test"})})]})}h.propTypes={onTestButtonClick:a.a.func,showTestButton:a.a.bool};function j(e){let{doCaptureException:t,handleKeyDown:o,modifiers:i=[],onChangeSpeaker:a,showTestButton:s,speakerDevices:m,speakerId:j,visuallyHiddenLabel:f}=e;const O=Object(n.useMemo)(()=>m.map(e=>{let{speakerId:t,label:o}=e;return{key:o,value:t}}),[m]),S=Object(n.useRef)(null);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.Cb,{handleKeyDown:o,visuallyHiddenLabel:f,label:Object(g.jsx)(l.Localized,{id:"InCallSettings-speaker-header",children:"Speaker"}),className:d.SpeakerSelector,selectClassName:r()(u.a.selectWithOverlay,{[d.showTestButton]:s}),items:O,modifiers:i.concat(["small"]),onChange:a,value:j||"",overlay:Object(g.jsx)(h,{onTestButtonClick:()=>{var e;S.current&&(e=S.current.isPlaying?S.current.stop():S.current.play())&&e.catch(e=>{console.warn("Couldn't play sound",e)})},showTestButton:s})}),s&&Object(g.jsx)(p.a,{ref:S,src:b,speakerId:j,doCaptureException:t})]})}j.propTypes={doCaptureException:a.a.func,handleKeyDown:a.a.func,modifiers:a.a.arrayOf(a.a.string),onChangeSpeaker:a.a.func,showTestButton:a.a.bool,speakerDevices:a.a.arrayOf(m.h).isRequired,speakerId:a.a.string,visuallyHiddenLabel:a.a.bool};t.a=j},,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(2),s=o(4),r=o(3),c="CameraSelector-JFHJ",l=o(78),d=o(21),u=o(0);function m(){return Object(u.jsx)("div",{className:l.a.SelectOverlay,children:Object(u.jsx)(s.n,{modifiers:["sized","dark"],className:l.a.icon})})}function p(e){let{handleKeyDown:t,modifiers:o=[],onChangeCamera:i,videoInputDevices:a,videoId:d,visuallyHiddenLabel:p}=e;const b=Object(n.useMemo)(()=>a.map(e=>{let{videoId:t,label:o}=e;return{key:o,value:t}}),[a]);return Object(u.jsx)(s.Cb,{visuallyHiddenLabel:p,label:Object(u.jsx)(r.Localized,{id:"InCallSettings-camera-header",children:"Camera"}),className:c,selectClassName:l.a.selectWithOverlay,items:b,modifiers:o.concat(["small"]),onChange:i,value:d||"",overlay:Object(u.jsx)(m,{}),handleKeyDown:t})}p.propTypes={handleKeyDown:a.a.func,modifiers:a.a.arrayOf(a.a.string),onChangeCamera:a.a.func,videoId:a.a.string,videoInputDevices:a.a.arrayOf(d.j).isRequired,visuallyHiddenLabel:a.a.bool};t.a=p},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(2),s=o(4),r=o(3),c="MicSelector-MQR0",l=o(78),d=o(21),u=o(0);function m(){return Object(u.jsx)("div",{className:l.a.SelectOverlay,children:Object(u.jsx)(s.ib,{modifiers:["sized","dark"],className:l.a.icon})})}const p=e=>{let{audioId:t,audioInputDevices:o,disabled:i,handleKeyDown:a,modifiers:d=[],onChangeMic:p,visuallyHiddenLabel:b}=e;const g=Object(n.useMemo)(()=>o.map(e=>{let{audioId:t,label:o}=e;return{key:o,value:t}}),[o]);return Object(u.jsx)(s.Cb,{visuallyHiddenLabel:b,label:Object(u.jsx)(r.Localized,{id:"InCallSettings-microphone-header",children:"Microphone"}),disabled:i,className:c,selectClassName:l.a.selectWithOverlay,items:g,modifiers:d.concat(["small"]),onChange:p,value:t||"",overlay:Object(u.jsx)(m,{}),handleKeyDown:a})};p.propTypes={audioId:a.a.string,audioInputDevices:a.a.arrayOf(d.a).isRequired,disabled:a.a.bool,handleKeyDown:a.a.func,modifiers:a.a.arrayOf(a.a.string),onChangeMic:a.a.func.isRequired,visuallyHiddenLabel:a.a.bool};t.a=p},function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var i=o(0),a=o(4),n=o(6),s=o.n(n),r=o(3),c="helpLink-sh+0";function l({className:e,href:t="https://whereby.helpscoutdocs.com/article/532-quickstart-guide",...o}){return Object(i.jsx)(r.Localized,Object.assign({id:"HelpMeFixThisLink"},{children:Object(i.jsx)(a.d,Object.assign({className:s()(c,e),href:t,rel:"noopener noreferrer",target:"_blank"},o,{children:"Help me fix this"}),void 0)}),void 0)}},,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var i=o(2);const a=()=>{};class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.callback=e,this._isActive=!1,this._xy=[0,0],this._startXy=[0,0],this._isDown=!1,this._pointerId=null,this._hasCapture=!1,this._isTouch=!1}onDragStart(e,t){this._isPrimaryButton(t)&&!this._isDown&&(this._pointerId=t.pointerId,this._xy=[t.clientX,t.clientY],this._startXy=[t.clientX,t.clientY],this._isDown=!0,this._isTouch=this._isTouchEvent(t),this._startTime=(new Date).getTime(),this._hasCapture=!1,this._update(!0,t,e))}onDragChange(e,t){this._isDown&&this._isGestureEvent(t)&&(this._xy=[t.clientX,t.clientY],this._isActive?this._update(!1,t,e):this._isDragging()&&!this._isInputAcceptingTarget(t)&&(this._hasCapture||t.currentTarget.setPointerCapture(t.pointerId),this._start(t,e)))}onDragEnd(e,t){if(!this._isDown||!this._isGestureEvent(t))return;const o=this._isActive;this._cancel(),o&&this._update(!1,t,e)}onGotPointerCapture(e){this._isGestureEvent(e)&&(this._hasCapture=!0)}onLostPointerCapture(e){this._isGestureEvent(e)&&(this._hasCapture=!1,this._pointerId=null)}_start(e,t){this._isActive=!0,this._update(!1,e,t)}_cancel(){this._isDown=!1,this._isActive=!1}_update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;this.callback&&this.callback({isFirstEvent:e,isActive:this._isActive,xy:this._xy,delta:[this._startXy[0]-this._xy[0],this._startXy[1]-this._xy[1]],event:t,args:o,cancelDrag:this._cancel.bind(this)})}_isDragging(){if(this._isTouch){if((new Date).getTime()-this._startTime<500)return!1}return Math.abs(this._startXy[0]-this._xy[0])+Math.abs(this._startXy[1]-this._xy[1])>=5}_isGestureEvent(e){return!this._pointerId||e.pointerId===this._pointerId}_isPrimaryButton(e){return e&&0===e.button&&1===e.buttons}_isInputAcceptingTarget(e){if(e.target.isContentEditable)return!0;const t=(e.target||e.srcElement).tagName;return"INPUT"===t||"SELECT"===t||"TEXTAREA"===t}_isTouchEvent(e){return"touch"===e.pointerType}}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const t=Object(i.useRef)(new n);return t.current.callback=e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onPointerDown:t.current.onDragStart.bind(t.current,e),onPointerMove:t.current.onDragChange.bind(t.current,e),onPointerUp:t.current.onDragEnd.bind(t.current,e),onPointerCancel:t.current.onDragEnd.bind(t.current,e),onGotPointerCapture:t.current.onGotPointerCapture.bind(t.current),onLostPointerCapture:t.current.onLostPointerCapture.bind(t.current)}}}},,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var i=o(12);function a(e){let{cells:t,clientId:o}=e;return t.find(e=>e.clientId===o)}function n(e){let{cell:t,stageLayout:o,roomFrame:a,videoStageFrame:n}=e,s=Object(i.k)();return t.isVideoGridCell?s={top:o.videoGrid.origin.top+o.videoGrid.paddings.top,left:o.videoGrid.origin.left+o.videoGrid.paddings.left}:t.isPresentationGridCell?s={top:o.presentationGrid.origin.top+o.presentationGrid.paddings.top,left:o.presentationGrid.origin.left+o.presentationGrid.paddings.left}:t.isSubgridCell&&(s=o.subgrid.origin),{...t,origin:{top:a.origin.top+n.origin.top+s.top+t.origin.top,left:a.origin.left+n.origin.left+s.left+t.origin.left}}}function s(e){var t;let{clientId:o,stageLayout:s,roomFrame:r=Object(i.j)(),videoStageFrame:c=Object(i.j)()}=e;if((null==(t=s.floatingContent)?void 0:t.clientId)===o)return{...s.floatingContent,isFloatingCell:!0};if(s.presentationGrid.cells.length){const e=a({cells:s.presentationGrid.cells,clientId:o});if(e)return n({cell:{...e,isPresentationGridCell:!0},stageLayout:s,roomFrame:r,videoStageFrame:c})}if(s.videoGrid.cells.length){const e=a({cells:s.videoGrid.cells,clientId:o});if(e)return n({cell:{...e,isVideoGridCell:!0},stageLayout:s,roomFrame:r,videoStageFrame:c})}if(s.subgrid.cells.length){const e=a({cells:s.subgrid.cells,clientId:o});if(e)return n({cell:{...e,isSubgridCell:!0},stageLayout:s,roomFrame:r,videoStageFrame:c})}}},function(e,t,o){"use strict";o.d(t,"b",(function(){return p}));var i=o(7),a=o(10),n=o(85),s=o(16);const r=[1,10],c="abcdefghijklmnopqrstuvwxyz",l={};function d(e){return"Location "+e.toUpperCase()}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r[0];const o={},i=t>r[1]?r[1]:t;for(let a=0;a<Number(i);a++){const t=c[a];e[t]?o[t]=e[t]:o[t]=d(t)}return o}function m(e,t,o){return{...e,[t]:o}}function p(e){const t=Object.keys(e);for(let o=0;o<c.length;o++)if(!t.includes(c[o]))return c[o];return c[0]}function b(e){const[t]=r;if(!e)return u({},t);const o={};return Object.entries(e).forEach(e=>{let[t,i]=e;i&&(o[t]=i)}),Object.keys(o).length<t?u(o,t):o}function g(e,t){if(!t||!e)return{};const o={};return Object.entries(t).forEach(t=>{let[i,a]=t;Boolean(e[a])&&(o[i]=a)}),o}function h(){let{assignments:e,groups:t,startedAt:o,initiatedBy:i,colors:a,loudSpeakers:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{assignments:e||null,groups:t||null,startedAt:o?new Date(o):null,initiatedBy:i,colors:a||null,loudSpeakers:n||null}}const j={...h(),didUseCoLocation:!1,groupId:null,editingClientId:null,isCoLocated:!1,isEditing:!1,editSource:null,isEndDialogOpen:!1,isInfoDialogOpen:!1,isLoudSpeakerDialogOpen:!1,startedAt:null,stoppedBy:null};t.a={name:"coLocation",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case a.a.ROOM_JOINED:return o.coLocation?{...e,...h(o.coLocation)}:e;case a.a.COLOCATION_SESSION_UPDATED:{const t=h(o);return{...e,...t,editingClientId:!e.startedAt&&t.startedAt?null:e.editingClientId,isEditing:!(!e.startedAt&&t.startedAt)&&e.isEditing,isEndDialogOpen:!1}}case a.a.COLOCATION_GROUPS_UPDATED:case a.a.COLOCATION_LOUD_SPEAKERS_UPDATED:{const t=h(o);return{...e,...t}}case a.a.COLOCATION_EDITED:return{...e,editingClientId:o.clientId};case"CO_LOCATION_DID_USE":return{...e,didUseCoLocation:!0};case"CO_LOCATION_EDIT":{const{open:t,source:i=null}=o;return{...e,isEditing:t,editSource:i}}case"CO_LOCATION_GROUP_JOIN":return{...e,groupId:o};case"CO_LOCATION_CHANGED":return{...e,...void 0!==(null==o?void 0:o.assignments)&&{assignments:o.assignments},...void 0!==(null==o?void 0:o.groups)&&{groups:o.groups}};case"CO_LOCATION_REQUEST_END":return{...e,isEndDialogOpen:o};case"CO_LOCATION_INFO_OPENED":return{...e,isInfoDialogOpen:o};case"CO_LOCATION_SESSION_UPDATE":return{...e,stoppedBy:o.stoppedBy};case"CO_LOCATION_IS_COLOCATED_CHANGED":return{...e,isCoLocated:o};case"CO_LOCATION_LOUD_SPEAKER_DIALOG_TOGGLED":return{...e,isLoudSpeakerDialogOpen:!e.isLoudSpeakerDialogOpen};default:return e}},getMiddleware:Object(n.a)([function(e,t,o){const i=e.selectApplicationState(),a=t(o),n=e.selectCoLocationIsCoLocated();return"joined"!==i&&"joined"===e.selectApplicationState()&&e.selectCanManageCoLocation()&&n&&!e.selectCoLocationActive()&&(e.selectCanStartCoLocation()?e.doCoLocationEdit({open:!0}):e.doCoLocationOpenInfo(!0)),a},function(e,t,o){const i=t(o);if(o.type===a.a.COLOCATION_EDITED){const{clientId:t}=o.payload;e.doSetNotification("coLocationHostIsEditing",{isLocalClient:t===e.selectLocalClientId()}),t!==e.selectLocalClientId()&&e.selectIsAudioEnabled()&&e.doToggleAudioEnabled(!1)}return i},function(e,t,o){const i=e.selectApplicationState(),a=e.selectCoLocationActive(),n=t(o),s=e.selectCoLocationActive(),r=e.selectLocalClientIsRecorder(),c=e.selectCoLocationRaw(),l=e.selectCoLocationAssignments(),d=e.selectDeviceId(),u=!(null==l||!l[d]),m=e.selectCoLocationStartedByLocalClient();return"joined"!==i||"joined"!==e.selectApplicationState()||r||a===s||(e.doSetNotification("coLocationStartStop"),e.doAddChatLog({data:{clientId:c.initiatedBy.clientId,eventType:s?"colocation_started":"colocation_stopped"}}),s?(u||m||e.doToggleAudioEnabled(!1),e.dispatch({type:"CO_LOCATION_DID_USE"})):s||(e.selectLocalClient().coLocationGroup&&e.doToggleAudioEnabled(!1),e.selectCoLocationLoudSpeakers()&&e.doCoLocationLoudSpeakersClear())),"joined"!==i&&"joined"===e.selectApplicationState()&&s&&(e.doToggleAudioEnabled(!1),e.doSetNotification("coLocationStartStop"),e.dispatch({type:"CO_LOCATION_DID_USE"})),n},function(e,t,o){const i=e.selectCoLocationActive(),n=t(o),s=e.selectCoLocationActive(),{coLocationGroupAssigned:r}=e.selectLocalClient();i!==s&&(s&&r&&!e.selectCoLocationCurrentId()?e.doCoLocationJoin(r,"sessionStart"):!s&&e.selectCoLocationCurrentId()&&e.doCoLocationJoin("","sessionEnd"));const c=e.selectCoLocationCurrentId();return o.type===a.a.ROOM_JOINED&&c&&e.doCoLocationJoin(c),n},function(e,t,o){const i=t(o),n=e.selectCoLocationCurrentId();if(o.type===a.a.COLOCATION_GROUP_JOINED&&o.payload.group&&o.payload.group===n&&!e.selectNotifications().find(e=>"coLocationStartStop"===e.type)){const t=e.selectCoLocationClientsInCurrentGroup(),i=e.selectLocalClientId(),a=e.selectCoLocationCurrentGroup(),n=e.selectCoLocationLoudSpeakers(),s=n&&!!n[a.id]?n[a.id]===e.selectLocalClientId()?e.selectLocalClient():t.find(e=>e.id===n[a.id]):null;e.doSetNotification("coLocationGroupJoin",{clientsInGroup:t,groupName:a.name,selfJoin:i===o.payload.clientId,loudSpeaker:s})}return i},function(e,t,o){const i=t(o),n=e.selectCoLocationActive(),s=e.selectCanManageCoLocation(),r=e.selectCoLocationIsEditing(),c=e.selectHasCoLocatedRemoteClients(),l=s&&!n&&!r;return l&&o.type===a.a.ROOM_JOINED&&c&&e.doSetNotification("participantsIsCoLocated"),l&&o.type===a.a.NEW_CLIENT&&o.payload.client.isCoLocated&&e.doSetNotification("participantsIsCoLocated"),i},function(e,t,o){const i=e.selectCoLocationLoudSpeakers(),n=t(o),s=e.selectCoLocationActive(),r=e.selectCoLocationCurrentGroup(),c=r&&i&&!!i[r.id];if(s&&r&&o.type===a.a.COLOCATION_LOUD_SPEAKERS_UPDATED){const t=o.payload.loudSpeakers,a=t&&!!t[r.id];if(a&&(null==i?void 0:i[r.id])!==t[r.id]){const o=e.selectCoLocationClientsInCurrentGroup(),i=t[r.id]===e.selectLocalClientId(),a=i?e.selectLocalClient():o.find(e=>e.id===t[r.id]);e.doSetNotification("coLocationLoudSpeakerUpdated",{groupName:r.name,loudSpeaker:(null==a?void 0:a.displayName)||null,isLocalClient:i})}else c&&!a&&e.doSetNotification("coLocationLoudSpeakerUpdated",{groupName:r.name,loudSpeaker:null})}return n},function(e,t,o){const i=e.selectCoLocationClientsInCurrentGroup(),n=t(o),s=e.selectCoLocationLoudSpeakers(),r=e.selectCoLocationCurrentGroup(),c=e.selectCoLocationClientsInCurrentGroup(),l=e.selectLocalClientId();if(s&&o.type===a.a.COLOCATION_GROUP_JOINED&&o.payload.clientId===l){const t=o.payload.clientId,[i]=Object.entries(s).find(e=>{let[,o]=e;return o===t})||[];i&&o.payload.group!==i&&e.doCoLocationLoudSpeakersUpdate({groupId:i,loudSpeaker:null})}else if(s&&o.type===a.a.CLIENT_LEFT&&i!==c&&e.selectCoLocationIsInGroupWithLoudSpeaker()&&s[null==r?void 0:r.id]){const t=s[r.id];c.find(e=>e.id===t)||e.doCoLocationLoudSpeakersUpdate({groupId:r.id,loudSpeaker:null})}return n}]),doCoLocationAssign:e=>{let{deviceId:t,groupId:o}=e;return e=>{let{dispatch:i,store:a}=e;const n={...a.selectCoLocationAssignments(),[t]:o};a.doCoLocationSessionUpdate({assignments:n}),i({type:"CO_LOCATION_CHANGED",payload:{assignments:n}})}},doCoLocationEducationCompleted:()=>({type:"CO_LOCATION_EDUCATION_COMPLETED",meta:{persist:{coLocationEducationCompleted:Date.now()}}}),doCoLocationGroupsAmountChange:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectCoLocationAssignments(),n=u(i.selectCoLocationGroups(),e),s=g(n,a);i.doCoLocationSessionUpdate({assignments:s,groups:n}),i.doRoomPrefsUpdate({coLocationGroups:n}),o({type:"CO_LOCATION_CHANGED",payload:{assignments:s,groups:n}})},doCoLocationGroupsAdd:function(){let{id:e,name:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{dispatch:i,store:a}=o;const n=a.selectCoLocationGroups(),s=a.selectCoLocationActive(),r=e||p(n),c=m(n,r,t||d(r));s?a.doCoLocationGroupsUpdate({groups:c}):(a.doCoLocationSessionUpdate({groups:c}),a.doRoomPrefsUpdate({coLocationGroups:c})),i({type:"CO_LOCATION_CHANGED",payload:{groups:c}})}},doCoLocationGroupNameChange:e=>{let{id:t,name:o}=e;return e=>{let{dispatch:i,store:a}=e;const n=a.selectCoLocationActive(),s=a.selectCoLocationGroups(),r=a.selectCoLocationAssignments(),c=b({...s,[t]:null===o?null:o||d(t)}),l=g(c,r);n?a.doCoLocationGroupsUpdate({groups:c}):(a.doCoLocationSessionUpdate({assignments:l,groups:c}),a.doRoomPrefsUpdate({coLocationGroups:c})),i({type:"CO_LOCATION_CHANGED",payload:{groups:c}})}},doCoLocationLoudSpeakersUpdate:e=>{let{groupId:t,loudSpeaker:o}=e;return e=>{let{dispatch:i,store:a}=e;const n=function(e){if(!e)return{};const t={};return Object.entries(e).forEach(e=>{let[o,i]=e;i&&(t[o]=i)}),Object.keys(t).length?t:null}({...{...a.selectCoLocationLoudSpeakers(),[t]:o},[t]:o});i({type:"CO_LOCATION_CHANGED",meta:{analytics:s.b.coLocationLoudSpeakerSet({groupId:t,clientId:o,roomSessionId:a.selectRoomSessionId()}),signal:{type:"update_colocation_loud_speakers",payload:{loudSpeakers:n}}}})}},doCoLocationLoudSpeakersClear:()=>({type:"CO_LOCATION_CHANGED",meta:{signal:{type:"update_colocation_loud_speakers",payload:{loudSpeakers:null}}}}),doCoLocationEdit:e=>{let{open:t,source:o}=e;return e=>{let{dispatch:i,store:a}=e;const n=a.selectCoLocationShouldShowGift();i({type:"CO_LOCATION_EDIT",payload:{open:t,source:o},meta:{analytics:s.b.coLocationEdit(),...n&&{persist:{coLocationDiscovered:Date.now()}},...t&&{signal:{type:"edit_colocation"}}}})}},doCoLocationJoin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return async o=>{let{dispatch:i,store:a}=o;const n=a.selectRtcManager_();if(!n)return;await n.setColocation(e),a.selectNotifications().find(e=>"coLocationLoudSpeakerUpdated"===e.type)&&a.doDismissNotification("coLocationLoudSpeakerUpdated");const s=a.selectPrefs().audioDenoiser;if(e.length>0&&!s&&a.doPref("audioDenoiser",!0),a.selectIsAudioEnabled()||"sessionStart"!==t&&"notification"!==t||a.doSetNotification("coLocationUnmute"),"sessionStart"===t&&e.length>0){const t=a.selectCoLocationAssignments(),o=Object.keys(t).filter(o=>t[o]===e).sort();if(o.length>0){o[0]===a.selectDeviceId()&&a.doToggleLoudSpeakerDialog()}}if(e.length>0&&("notification"===t||"sidebar"===t)){0===a.selectRemoteClients().filter(t=>t.coLocationGroup===e).length&&a.doToggleLoudSpeakerDialog()}i({type:"CO_LOCATION_GROUP_JOIN",payload:e,meta:{signal:{type:"join_colocation_group",payload:{group:e}}}})}},doCoLocationRequestEnd:e=>({type:"CO_LOCATION_REQUEST_END",payload:e}),doCoLocationOpenInfo:e=>({type:"CO_LOCATION_INFO_OPENED",payload:e}),doCoLocationSessionUpdate:e=>{let{active:t,assignments:o,groups:i}=e;return e=>{let{dispatch:a,store:n}=e;const r=n.selectCoLocationActive(),c=()=>({nAssignments:Object.keys(n.selectCoLocationAssignments()||{}).length,nGroups:Object.keys(n.selectCoLocationGroups()||{}).length,nParticipants:n.selectRemoteClients().length+1,roomProduct:n.selectRoomProduct(),roomSessionId:n.selectRoomSessionId()});a({type:"CO_LOCATION_SESSION_UPDATE",payload:{stoppedBy:t?null:n.selectLocalClientId()},meta:{analytics:!r&&t?s.b.coLocationStarted(c()):r&&!t?s.b.coLocationStopped({...c(),durationInSeconds:Math.floor((new Date-n.selectCoLocationRaw().startedAt)/1e3)}):void 0,signal:{type:"update_colocation_session",payload:{active:t,assignments:o,groups:i}}}})}},doCoLocationGroupsUpdate:e=>{let{groups:t}=e;return e=>{let{dispatch:o}=e;o({type:"CO_LOCATION_GROUPS_UPDATE",meta:{signal:{type:"update_colocation_groups",payload:{groups:t}}}})}},doCoLocationIsCoLocatedChange:e=>t=>{let{dispatch:o}=t;o({type:"CO_LOCATION_IS_COLOCATED_CHANGED",payload:e})},doToggleLoudSpeakerDialog:()=>({type:"CO_LOCATION_LOUD_SPEAKER_DIALOG_TOGGLED"}),selectCoLocationRaw:e=>e.coLocation,selectCoLocationActive:e=>!!e.coLocation.startedAt,selectCoLocationAssignments:e=>e.coLocation.assignments||l,selectCoLocationDidUse:e=>e.coLocation.didUseCoLocation,selectCoLocationIsEditing:e=>e.coLocation.isEditing,selectCoLocationIsEndDialogOpen:e=>e.coLocation.isEndDialogOpen,selectCoLocationIsInfoDialogOpen:e=>e.coLocation.isInfoDialogOpen,selectCoLocationGroupsMinMax:()=>r,selectCoLocationGroupColors:e=>e.coLocation.colors,selectCoLocationLoudSpeakers:e=>e.coLocation.loudSpeakers,selectCoLocationIsCoLocated:e=>e.coLocation.isCoLocated,selectCoLocationEditSource:e=>e.coLocation.editSource,selectShouldShowLoudSpeakerDialog:e=>e.coLocation.isLoudSpeakerDialogOpen,selectCoLocationClientsInCurrentGroup:Object(i.e)("selectAllClientViews","selectCoLocationActive","selectCoLocationCurrentGroup",(e,t,o)=>t&&o?e.filter(e=>!e.isPresentation&&!e.isLocalClient&&e.coLocationGroup===(null==o?void 0:o.id)):[]),selectCoLocationCurrentGroup:Object(i.e)("selectCoLocationRaw","selectCoLocationCurrentId",(e,t)=>{var o;const i=null==(o=e.groups)?void 0:o[t];return i?{id:t,name:i}:null}),selectCoLocationCurrentId:Object(i.e)("selectCoLocationRaw","selectLocalClientCoLocationGroup",(e,t)=>{var o;return null!=(o=e.groupId)?o:t}),selectCoLocationCurrentGroupHasLoudSpeaker:Object(i.e)("selectCoLocationLoudSpeakers","selectCoLocationCurrentId",(e,t)=>!!t&&!!e&&!!e[t]),selectCoLocationAvailable:Object(i.e)("selectFeatureCoLocationOn","selectPrefs",(e,t)=>!!e&&!!t.coLocation),selectCoLocationGroups:Object(i.e)("selectCoLocationRaw","selectPrefs",(e,t)=>e.groups||t.coLocationGroups||b()),selectCoLocationShouldShowGift:Object(i.e)("selectCoLocationAvailable","selectCanManageCoLocation","selectPersisted",(e,t,o)=>!!e&&!!t&&!o.coLocationDiscovered),selectCoLocationShouldShowEducation:Object(i.e)("selectPersisted","selectCoLocationEditSource",(e,t)=>!e.coLocationEducationCompleted&&"whats-new"!==t),selectCoLocationStartedByDisplayName:Object(i.e)("selectCoLocationRaw","selectAllClientViews","selectUserRoles",(e,t,o)=>{var i;if(!e.initiatedBy)return null;const a=t.find(t=>t.userId===e.initiatedBy.userId||t.deviceId===e.initiatedBy.deviceId);return a?a.isLocalClient?"you":a.displayName:(null==(i=o.find(t=>t.userId===e.initiatedBy.userId))||null==(i=i.user)?void 0:i.displayName)||null}),selectCoLocationStartedByLocalClient:Object(i.e)("selectCoLocationRaw","selectLocalClient",(e,t)=>!!e.initiatedBy&&(e.initiatedBy.clientId===t.clientId||e.initiatedBy.userId===t.userId||e.initiatedBy.deviceId===t.deviceId)),selectCoLocationIsInGroupWithLoudSpeaker:Object(i.e)("selectCoLocationCurrentGroup","selectCoLocationLoudSpeakers","selectLocalClientId",(e,t,o)=>!!e&&(!!t&&!!t[e.id]&&t[e.id]!==o)),selectShouldShowCoLocationGroups:Object(i.e)("selectCoLocationStartedByLocalClient","selectIsPeopleOpen",(e,t)=>e&&t)}},function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return d}));var i=o(1),a=o.n(i),n=o(4),s=o(3),r=o(19),c=o(0);const l={streaming_stopped_unexpectedly:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-stopped-unexpectedly",children:"The streaming stopped unexpectedly"}),internal_server_error:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-internal-server-error",children:"Streaming unavailable"}),invalid_stream_url:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-invalid-stream-url",children:"Invalid stream url"}),remote_server_refused_to_connect:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-remote-server-refused-to-connect",children:"The server refused to connect"}),streaming_not_available:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-streaming-not-available",children:"Streaming is currently not available"})};function d(e){let{onDismiss:t,timestamp:o,message:i}=e;const a=l[i]||Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-unknown",children:"An unknown error occured"}),d=[Object(c.jsx)(n.k,{onClick:t,modifiers:["extraSmall","full"],children:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-dismiss",children:"Dismiss"})},"dismiss-button")];return Object(c.jsx)(r.a,{title:Object(c.jsx)(s.Localized,{id:"StreamingNotification-error-title",children:"Streaming error"}),buttons:d,timestamp:o,onDismiss:t,isError:!0,"data-testid":"streaming-error-alert",children:a})}d.propTypes={message:a.a.string,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired}},function(e,t,o){"use strict";o.d(t,"a",(function(){return _o}));var i=o(2),a=o(6),n=o.n(a),s=o(1),r=o.n(s),c=o(9),l=o(4),d=o(30),u=o(3),m="settingsDialog-30gP",p="settingsDialogBody-7yj0",b="navigationHeader-5R3O",g="navigation-h6xP",h="navigationFooter-TJ2b",j="fullscreenHeader-Bn9i",f="backButton-T0Oy",O="isHidden-0IRu",S="closeButton-ACFZ",R="effectsLabel-YvD+",C=o(124),v="themeFooterButtonsWrapper-OapI",y="themeFooterButton-wmTl",I="centeredButton-ENB+",E=o(21),x=o(0);const T=e=>{let{doCameraEffectsSwitchPreset:t,doSetSelectedCameraEffectId:o,selectedCameraEffectId:i}=e;return Object(x.jsxs)("div",{className:v,children:[Object(x.jsx)(l.k,{className:n()("jstest-CameraEffects-cancel-button",y),modifiers:["invisible","full"],onClick:()=>o(null),type:"button",children:Object(x.jsx)(u.Localized,{id:"CameraEffects-cancel-button",children:"Cancel"})}),Object(x.jsx)(l.k,{modifiers:["primary","full"],className:n()("jstest-CameraEffects-apply-button",y),type:"button",onClick:()=>t(i),children:Object(x.jsx)(u.Localized,{id:"CameraEffects-apply-button",children:"Save"})})]})};T.propTypes={doCameraEffectsSwitchPreset:r.a.func.isRequired,doSetSelectedCameraEffectId:r.a.func.isRequired,selectedCameraEffectId:r.a.string.isRequired};const L=e=>{let{doPreviewThemeTemplate:t,doThemeUpdate:o,themeTemplate:i,themeTemplateIsUpdating:a}=e;return Object(x.jsxs)("div",{className:v,children:[Object(x.jsx)(l.k,{className:n()("jstest-ThemeSettings-cancel-button",y),modifiers:["invisible","full"],onClick:()=>t(null),type:"button",children:Object(x.jsx)(u.Localized,{id:"RoomThemeSection-cancel-button",children:"Cancel"})}),Object(x.jsx)(l.k,{className:n()("jstest-ThemeSettings-save-button",y),type:"button",isLoading:a,modifiers:["full",a&&"disabled"].filter(Boolean),onClick:()=>o({...i,featureSource:"room:settings"}),children:Object(x.jsx)(u.Localized,{id:"RoomThemeSection-save-button",children:"Save"})})]})};L.propTypes={doPreviewThemeTemplate:r.a.func.isRequired,doThemeUpdate:r.a.func.isRequired,themeTemplate:E.i,themeTemplateIsUpdating:r.a.bool};const k=e=>{let{doApplyChangeDevices:t}=e;return Object(x.jsx)(l.k,{modifiers:["primary","full"],className:n()("jstest-apply-device-selection",I),onClick:t,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-apply",children:"Apply"})})};k.propTypes={doApplyChangeDevices:r.a.func.isRequired};const _=e=>{let{doReload:t}=e;return Object(x.jsx)(l.k,{modifiers:["primary","full"],className:I,onClick:()=>t("settingsUpdate"),children:Object(x.jsx)(u.Localized,{id:"InCallSettings-reload",children:"Reload to update"})})};_.propTypes={doReload:r.a.func.isRequired};const N=e=>{let{doApplyChangeDevices:t,doCameraEffectsSwitchPreset:o,doPreviewThemeTemplate:i,doReload:a,doSetSelectedCameraEffectId:n,doThemeUpdate:s,needReload:r,needDeviceChangeApply:c,prefs:l,selectedCameraEffectId:d,themeTemplate:u,themeTemplateIsSaved:m,themeTemplateIsUpdating:p}=e;return m?null!==d&&(d||null)!==(l.cameraEffect||null)?Object(x.jsx)(T,{selectedCameraEffectId:d,doSetSelectedCameraEffectId:n,doCameraEffectsSwitchPreset:o}):c?Object(x.jsx)(k,{doApplyChangeDevices:t}):r?Object(x.jsx)(_,{doReload:a}):null:Object(x.jsx)(L,{doPreviewThemeTemplate:i,doThemeUpdate:s,themeTemplate:u,themeTemplateIsUpdating:p})};N.propTypes={doApplyChangeDevices:r.a.func.isRequired,doCameraEffectsSwitchPreset:r.a.func.isRequired,doPreviewThemeTemplate:r.a.func.isRequired,doReload:r.a.func.isRequired,doSetSelectedCameraEffectId:r.a.func.isRequired,doThemeUpdate:r.a.func.isRequired,needDeviceChangeApply:r.a.bool,needReload:r.a.bool,prefs:r.a.object.isRequired,selectedCameraEffectId:r.a.string,themeTemplate:E.i,themeTemplateIsSaved:r.a.bool.isRequired,themeTemplateIsUpdating:r.a.bool};var w=Object(c.b)("doApplyChangeDevices","doPreviewThemeTemplate","doReload","doSetSelectedCameraEffectId","doCameraEffectsSwitchPreset","doThemeUpdate","selectNeedDeviceChangeApply","selectNeedReload","selectSelectedCameraEffectId","selectPrefs","selectThemeTemplate","selectThemeTemplateIsSaved","selectThemeTemplateIsUpdating",N),A="mainContent-spSW",D="selectedPaneContent-AhPm",P="contentWrapper-m6gh",M="splitView-rZKI",F="isCollapsed-nQIP",B="isSmallScreen-snei",q=o(42);function z(e){let{isCollapsed:t,isSmallScreen:o,mainContent:a,selectedPaneContent:s}=e;const r=Object(i.useRef)(null),c=Object(q.a)(null==s?void 0:s.key);return Object(i.useEffect)(()=>{r.current&&s&&c!==s.key&&(r.current.scrollTop=0)},[s,c]),Object(x.jsxs)("div",{className:n()(M,{[F]:t,[B]:o&&!t}),children:[(!t||!s)&&Object(x.jsx)("div",{className:A,children:a}),s&&Object(x.jsx)("div",{ref:r,className:D,children:Object(x.jsx)("div",{className:P,children:s})})]})}z.propTypes={isCollapsed:r.a.bool,isSmallScreen:r.a.bool,mainContent:r.a.node.isRequired,selectedPaneContent:r.a.node};var G=z,U="roomInviteSection-QJfj",H="columnWrapper-9rt1",V="linkWrapper-N+qL",W="linkInput-zLz+",K="shareButton-rBGq",$="linkDescription-tVnD",Q="embedCodeButton-tZNd",Y="embedButtonText-8vtq",J=o(55);const Z=e=>{let{onEmbedClick:t,roomName:o,showEmbedLink:i}=e;const a=location.origin+o;return Object(x.jsx)("div",{className:U,children:Object(x.jsx)(J.a,{children:Object(x.jsxs)("div",{className:H,children:[Object(x.jsx)("div",{className:V,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-invite-share-input",attrs:{label:!0},children:Object(x.jsx)(J.a.Url,{className:W,url:a,label:"Room link"})})}),Object(x.jsx)(J.a.Button,{as:l.k,className:K,roomName:o,modifiers:["extraSmall","primary","outlined"]}),Object(x.jsxs)(J.a.Text,{className:$,children:[Object(x.jsx)(u.Localized,{id:"InCallSettings-invite-share-text",children:"Use this link to invite anyone to this room"}),i&&Object(x.jsxs)(l.k,{className:Q,modifiers:["extraSmall"],onClick:t,children:[Object(x.jsx)(l.A,{modifiers:["sized"]}),Object(x.jsx)("span",{className:Y,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-embed-code",children:"Embed code"})})]})]})]})})})};Z.propTypes={onEmbedClick:r.a.func.isRequired,roomName:r.a.string.isRequired,showEmbedLink:r.a.bool};var X=Z,ee="bestPracticesContainer-uIL5",te="icon-bMe+",oe=o(23);const ie=e=>{let{canSetLock:t,isLocked:o,isSetLockSupported:i,roomType:a,setLock:n}=e;const s=o?Object(x.jsx)(u.Localized,{id:"LockSettings-header-locked",children:"Locked room"}):Object(x.jsx)(u.Localized,{id:"LockSettings-header-unlocked",children:"Unlocked room"}),r=o?Object(x.jsx)(u.Localized,{id:"LockSettings-locked-desc",children:"Guests need to knock to enter locked rooms"}):Object(x.jsx)(u.Localized,{id:"LockSettings-unlocked-desc",children:"Anyone with the link can enter unlocked rooms"}),c=i&&!t?Object(x.jsxs)(x.Fragment,{children:[". ","personal"===a?Object(x.jsx)(u.Localized,{id:"LockSettings-lock-desc-notowner-personal",children:"Only the room owner can change lock settings"}):Object(x.jsx)(u.Localized,{id:"LockSettings-lock-desc-notowner-team",children:"Only team members can change lock settings"})]}):"";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(oe.a,{right:t?Object(x.jsx)(l.Sb,{className:"jstest-toggle-room-locked",onToggle:function(){n(!o)},isActive:o,"aria-labelledby":"LockSettings-header"}):void 0,children:[Object(x.jsx)(oe.a.Header,{id:"LockSettings-header",children:s}),r,c]}),t&&Object(x.jsxs)("div",{className:ee,children:[Object(x.jsx)(l.V,{className:te,"aria-label":"Locked"}),Object(x.jsx)(u.Localized,{id:"LockSettings-lock-best-practices",children:"It\u2019s good practice to keep your room locked as much as possible during meetings, as well as when away from your room. This allows you to stay safe, and avoid unwanted guests."})]})]})};ie.propTypes={canSetLock:r.a.bool.isRequired,isLocked:r.a.bool.isRequired,isSetLockSupported:r.a.bool.isRequired,roomType:r.a.string.isRequired,setLock:r.a.func.isRequired};var ae=ie,ne="upsell-fbby",se="inlineAlert-5X9d",re=o(19),ce=o(13);const le={[ce.t.NORMAL]:"small",[ce.t.GROUP]:"large"};function de(e){return le[e]||e}function ue(){let{name:e,max:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{[ce.t.NORMAL]:`Small (1 - ${t} people)`,[ce.t.GROUP]:`Large (up to ${t} people)`}[e]||e}const me=e=>{let{canSetMode:t,displayPersonalBusinessRoomUpsell:o,getString:a,maxRoomSizeByRoomMode:n,numClients:s,roomMode:r,setMode:c}=e;const d=function(e){const t=Object.keys(e).map(t=>({max:e[t],name:t}));return t.sort((e,t)=>e.max-t.max),t}(n),m=d.find(e=>{let{name:t}=e;return t===r}),[p,b]=Object(i.useState)(null),g=s-1;const h=t&&!p&&Object(x.jsx)(l.Cb,{items:d.map(e=>{const{name:t,max:o}=e;return{key:a(`RoomSizeSettings-roomsize-${t}-label`,{max:o},ue(e)),value:t}}),modifiers:["small"],value:m.name,onChange:function(e){g>0?b(e):c(e)},label:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-header",children:"Room size"}),visuallyHiddenLabel:!0}),j=Object(x.jsx)(x.Fragment,{children:o&&Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-personal-business-notice-shared-room",$max:m.max,children:Object(x.jsxs)("div",{className:ne,children:["Personal rooms are limited to ",m.max," participants. You\u2019ll need to switch to a Shared room for larger meetings."]})})});return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(oe.a,{as:p?"div":void 0,right:h,footer:j,children:p?Object(x.jsx)(re.a,{className:se,title:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-confirm-text",$roomMode:p,children:`Are you sure you want to switch to a ${de(p)} room?`}),buttons:[Object(x.jsx)(l.k,{onClick:function(){c(p)},modifiers:["extraSmall","full"],children:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-confirm-yes",children:"Yes, switch"})},"switch-button"),Object(x.jsx)(l.k,{onClick:function(){b(null)},modifiers:["extraSmall","outlined","full"],children:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-confirm-cancel",children:"Cancel"})},"cancel-button")],timestamp:0,isWarning:!0,children:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-confirm-desc",$numOtherParticipants:g,children:`You and ${g} other participant${1!==g?"s":""} will be reconnected.`})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(oe.a.Header,{children:Object(x.jsx)(u.Localized,{id:"RoomSizeSettings-header",children:"Room size"})}),!t&&a(`RoomSizeSettings-roomsize-${m.name}-label`,{max:m.max},ue(m))]})})})};me.propTypes={canSetMode:r.a.bool.isRequired,displayPersonalBusinessRoomUpsell:r.a.bool.isRequired,getString:r.a.func.isRequired,maxRoomSizeByRoomMode:r.a.object.isRequired,numClients:r.a.number.isRequired,roomMode:r.a.string.isRequired,setMode:r.a.func.isRequired};var pe=Object(u.withLocalization)(me);const be=e=>{let{bankId:t,canUpdatePreference:o,isBankIdEnabled:i,isLocked:a,roomBankId:n,setBankId:s}=e;if(!a||!o||!t||!n)return null;const r=i?Object(x.jsx)(u.Localized,{id:"BankIdSettings-authentication-required-desc",children:"Guests need to authenticate through ID-porten to enter locked rooms"}):Object(x.jsx)(u.Localized,{id:"BankIdSettings-authentication-not-required-desc",children:"No authentication is required to enter locked rooms"});return Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:function(){s(!i)},isActive:i,"aria-labelledby":"BankIdSettings-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"BankIdSettings-header",children:Object(x.jsx)(u.Localized,{id:"BankIdSettings-header",children:"Level4 authentication"})}),r]})};be.propTypes={bankId:r.a.string,canUpdatePreference:r.a.bool.isRequired,isBankIdEnabled:r.a.bool.isRequired,isLocked:r.a.bool.isRequired,roomBankId:r.a.bool,setBankId:r.a.func.isRequired};var ge=be,he=o(15),je=o(32);const fe=e=>{let{bankIdEnabled:t,canSetLock:o,canSetRoomMode:i,canUpdateRoomPreference:a,doSetRoomBankId:n,doSetRoomLock:s,doSetRoomMode:r,doToggleEmbedInstructionsDialog:c,isRoomOwner:l,isSetLockSupported:d,maxRoomSizeByRoomMode:u,numClients:m,prefs:p,roomIsLocked:b,roomMode:g,roomName:h,roomProduct:j,roomType:f,shouldShowEmbedOption:O}=e;return Object(x.jsxs)(x.Fragment,{children:[!1!==p.emptyRoomInvitation&&Object(x.jsx)(X,{roomName:h,showEmbedLink:O,onEmbedClick:()=>c({source:"settings"})}),Object(x.jsx)(pe,{canSetMode:i,displayPersonalBusinessRoomUpsell:l&&!i&&"organization_business"===j&&"personal"===f,maxRoomSizeByRoomMode:u,roomMode:g,numClients:m,setMode:r}),Object(x.jsx)(ae,{isSetLockSupported:d,canSetLock:o,isLocked:b,setLock:s,roomType:f}),Object(x.jsx)(ge,{bankId:p.bankId,canUpdatePreference:a,isBankIdEnabled:t,isLocked:b,roomBankId:p.roomBankId,setBankId:n})]})};fe.propTypes={bankIdEnabled:r.a.bool.isRequired,canSetLock:r.a.bool.isRequired,canSetRoomMode:r.a.bool.isRequired,canUpdateRoomPreference:r.a.bool.isRequired,doSetRoomBankId:r.a.func.isRequired,doSetRoomLock:r.a.func.isRequired,doSetRoomMode:r.a.func.isRequired,doToggleEmbedInstructionsDialog:r.a.func.isRequired,isRoomOwner:r.a.bool.isRequired,isSetLockSupported:r.a.bool.isRequired,maxRoomSizeByRoomMode:r.a.object.isRequired,numClients:r.a.number.isRequired,prefs:r.a.object.isRequired,roomIsLocked:r.a.bool.isRequired,roomMode:r.a.string.isRequired,roomName:r.a.string.isRequired,roomProduct:r.a.string.isRequired,roomType:r.a.string.isRequired,shouldShowEmbedOption:r.a.bool.isRequired};var Oe=Object(he.b)(Object(c.b)("doSetRoomBankId","doSetRoomLock","doSetRoomMode","doToggleEmbedInstructionsDialog","selectCanSetLock","selectCanSetRoomMode","selectCanUpdateRoomPreference","selectBankIdEnabled","selectIsRoomOwner","selectIsSetLockSupported","selectMaxRoomSizeByRoomMode","selectNumClients","selectRoomIsLocked","selectRoomMode","selectRoomName","selectRoomProduct","selectRoomType","selectPrefs","selectShouldShowEmbedOption",fe),{fallback:je.a}),Se=o(216),Re="paragraph-B48A",Ce="roomIntegrations-Aq7e",ve="roomIntegration-exBp",ye="settingsSection-d42V",Ie="integrationCopy-eeU5",Ee="icon-Ibe6",xe="subTitle-Ig7L",Te="description-4ybf",Le="IntegrationUpsell-rCuZ";function ke(){return Object(x.jsx)(u.Localized,{id:"InCallIntegration-upgrade-button",children:Object(x.jsx)(l.d,{className:Le,href:"/user/subscriptions?utm_source=appearin&utm_campaign=integrations_upsell&utm_medium=web",target:"_blank",modifiers:["button","button-extraSmall","button-secondary"],children:"Upgrade"})})}var _e=o(35);function Ne(e,t){switch(e){case"googledocs":return Object(x.jsx)(u.Localized,{id:"InCallIntegration-config-googledocs-desc",children:t});case"miro":return Object(x.jsx)(u.Localized,{id:"InCallIntegration-config-miro-desc",children:t});case"trello":return Object(x.jsx)(u.Localized,{id:"InCallIntegration-config-trello-desc",children:t});case"youtube":return Object(x.jsx)(u.Localized,{id:"InCallIntegration-config-youtube-desc",children:t});default:return t}}function we(e){let{key:t,icons:o,title:i,description:a,link:n,children:s,name:r}=e;return Object(x.jsx)("li",{className:ve,children:Object(x.jsx)(oe.a,{as:"div",className:ye,icon:Object(x.jsx)(l.d,{href:n.href,rel:"noopener noreferrer",target:"_blank",children:Object(x.jsx)("img",{title:n.text,src:o.large,alt:"",className:Ee})}),right:s,children:Object(x.jsxs)("div",{className:Ie,children:[Object(x.jsx)(u.Localized,{id:"",children:Object(x.jsx)("h2",{id:t,className:xe,children:i})}),Object(x.jsx)("div",{className:Te,children:Ne(r,a)})]})})})}function Ae(e){let{availableRoomIntegrations:t,doDisableRoomIntegration:o,doEnableRoomIntegration:i,unavailableRoomIntegrations:a}=e;return Object(x.jsxs)("div",{children:[Object(x.jsx)(u.Localized,{id:"InCallIntegration-config-desc",children:Object(x.jsx)("p",{className:Re,children:"Manage which integrations appear in this room\u2019s share sheet menu."})}),Object(x.jsxs)("ul",{className:Ce,children:[t.map(e=>{let{isEnabled:t,isEmbeddable:a,roomIntegrationId:n,...s}=e;return!Object(_e.c)()||a?Object(x.jsx)(we,{...s,children:Object(x.jsx)(l.Sb,{className:"jstest-room-integrations-toggle",onToggle:()=>t?o(n):i(n),isActive:t,"aria-labelledby":n})},n):null}),a.map(e=>{let{roomIntegrationId:t,...o}=e;return Object(x.jsx)(we,{roomIntegrationId:t,...o,children:Object(x.jsx)(ke,{})},t)})]})]})}we.propTypes={children:r.a.node,description:r.a.string.isRequired,icons:r.a.shape({large:r.a.string.isRequired}),key:r.a.string.isRequired,link:r.a.shape({text:r.a.string.isRequired,href:r.a.string.isRequired}),name:r.a.string.isRequired,title:r.a.string.isRequired},Ae.propTypes={availableRoomIntegrations:r.a.array.isRequired,doDisableRoomIntegration:r.a.func.isRequired,doEnableRoomIntegration:r.a.func.isRequired,unavailableRoomIntegrations:r.a.array.isRequired};var De=Object(he.b)(Object(c.b)("doDisableRoomIntegration","doEnableRoomIntegration","selectAvailableRoomIntegrations","selectUnavailableRoomIntegrations",Ae),{fallback:je.a}),Pe="memberRow-3eIx",Me="avatar-mIpA",Fe="displayname-Qqk+",Be="spacingSingle-6mVJ",qe="spacingDouble-1RB+",ze="spacingRight-7ppY";const Ge=e=>{let{roomMembers:t,doFetchRoomMembers:o,doInviteRoomMember:a,doRemoveRoomMember:n}=e;const[s,r]=Object(i.useState)(null),[c,d]=Object(i.useState)(!1),[u,m]=Object(i.useState)(null);Object(i.useEffect)(()=>{o()},[o]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("form",{onSubmit:async e=>{if(u)return;e.preventDefault();const t=e.target.email,o=t.value.trim().toLowerCase();if(o.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){d(!0);try{await a(o),t.value="",m("Invitation sent to "+o)}catch(i){m("Failed to send invitation")}d(!1)}else m("Please provide a valid email address")},children:[Object(x.jsx)(l.Rb,{autoFocus:!0,name:"email",disabled:c,maxLength:100,modifiers:["small"],label:"Invite by email"}),Object(x.jsx)(l.k,{className:Be,disabled:c,type:"submit",modifiers:["primary","small","full"],children:"Send invitation"})]}),t&&Object(x.jsx)("div",{className:qe,children:t.map(e=>Object(x.jsxs)("div",{className:Pe,children:[Object(x.jsx)(l.g,{modifiers:["square"],size:40,className:Me,avatarUrl:e.user.avatarUrl,name:e.user.displayName}),Object(x.jsx)("span",{className:Fe,children:e.user.displayName}),Object(x.jsx)(l.k,{disabled:"owner"===e.roleName,onClick:()=>r(e.user),modifiers:["extraSmall","primary","outlined"],children:"Remove..."})]},e.userId))}),s&&Object(x.jsx)(l.G,{children:Object(x.jsxs)(l.G.Body,{children:[Object(x.jsxs)("div",{children:["Are you sure you want to remove ",s.displayName," as member?"]}),Object(x.jsxs)("div",{className:qe,children:[Object(x.jsx)(l.k,{disabled:c,className:ze,onClick:async()=>{d(!0);try{await n(s.userId),r(null)}catch(e){m("Failed to remove member")}d(!1)},modifiers:["negative","extraSmall"],children:"Yes, remove"}),Object(x.jsx)(l.k,{modifiers:["extraSmall","grey"],onClick:()=>r(null),children:"Cancel"})]})]})}),u&&Object(x.jsx)(l.G,{children:Object(x.jsxs)(l.G.Body,{children:[Object(x.jsx)("div",{children:u}),Object(x.jsx)("div",{className:qe,children:Object(x.jsx)(l.k,{onClick:()=>m(null),modifiers:["negative","small"],children:"Ok, close dialog"})})]})})]})};Ge.propTypes={doFetchRoomMembers:r.a.func.isRequired,doInviteRoomMember:r.a.func.isRequired,doRemoveRoomMember:r.a.func.isRequired,roomMembers:r.a.array};var Ue=Object(he.b)(Object(c.b)("selectRoomMembers","doFetchRoomMembers","doInviteRoomMember","doRemoveRoomMember",Ge),{fallback:je.a}),He="streamingDetailsSection-7fHN",Ve="columnWrapper-esvt",We="rtmpInput-CmNt",Ke="rtmpDescription-r5Oc",$e="error-IiLG",Qe=o(155);const Ye=e=>{let{rtmpUri:t,error:o,onRtmpUriChanged:i}=e;return Object(x.jsxs)("div",{className:He,children:[Object(x.jsx)("div",{className:Ve,children:Object(x.jsx)(l.Rb,{className:We,modifiers:["small"],value:t,onChange:i,label:"Stream URL"})}),Object(x.jsx)("div",{className:Ke,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-streaming-rtmp-text",children:"Set this to your RTMP provider stream URL"})}),o&&Object(x.jsx)("div",{className:$e,children:Qe.b[o]||Object(x.jsx)(u.Localized,{id:"StreamingNotification-error-unknown",children:"An unknown error occured"})})]})};Ye.propTypes={error:r.a.string,onRtmpUriChanged:r.a.func.isRequired,rtmpUri:r.a.string};var Je=Ye,Ze="streamingGoLiveSection-iKT6";const Xe=e=>{let{streamingIsStreaming:t,streamingIsPending:o,streamingRtmpUri:i,doStartStream:a,doStopStream:n}=e;const s=t?n:()=>a(i);return Object(x.jsx)("div",{className:Ze,children:Object(x.jsx)(l.k,{isLoading:o,type:"button",modifiers:["full","meetingRed"],onClick:s,disabled:!i,children:t?Object(x.jsx)(u.Localized,{id:"StreamingSettings-go-live-button-stop",children:"Stop streaming"}):Object(x.jsx)(u.Localized,{id:"StreamingSettings-go-live-button-start",children:"Go live"})})})};Xe.propTypes={doStartStream:r.a.func.isRequired,doStopStream:r.a.func.isRequired,streamingIsPending:r.a.bool.isRequired,streamingIsStreaming:r.a.bool.isRequired,streamingRtmpUri:r.a.string};var et=Xe;const tt=e=>{let{canStartStreaming:t,doStreamingRequest:o,doStreamingStop:a,streamingIsStreaming:n,streamingIsPending:s,streamingRtmpUri:r,streamingError:c}=e;const[l,d]=Object(i.useState)(r);return Object(x.jsxs)(x.Fragment,{children:[t&&Object(x.jsx)(Je,{rtmpUri:l,error:c,onRtmpUriChanged:d}),t&&Object(x.jsx)(et,{streamingRtmpUri:l,streamingIsStreaming:n,streamingIsPending:s,doStartStream:o,doStopStream:a})]})};tt.propTypes={canStartStreaming:r.a.bool.isRequired,doStreamingRequest:r.a.func.isRequired,doStreamingStop:r.a.func.isRequired,streamingError:r.a.string,streamingIsPending:r.a.bool.isRequired,streamingIsStreaming:r.a.bool.isRequired,streamingRtmpUri:r.a.string};var ot=Object(he.b)(Object(c.b)("doStreamingRequest","doStreamingStop","selectCanStartStreaming","selectStreamingIsStreaming","selectStreamingError","selectStreamingIsPending","selectStreamingRtmpUri",tt),{fallback:je.a}),it=o(24),at="cameraPreview-vpaZ",nt="header-Fsz6",st="effectsList-0KLX",rt="radioItem-elOq",ct="radio-vonz",lt="radioItemWrapper-XhUf",dt="selectedRadioItemWrapper-SmYw",ut="radioItemBorder-dCij",mt="selectedRadioItemBorder-qOWR",pt="radioItemThumbmail-ukrv",bt="radioItemIconInner-KYDF",gt="selectedRadioItemIconInner-TH5y",ht="radioItemThumbnailImage-Kce6",jt="radioItemIcon-Dm-H",ft="radioItemName-QJMQ",Ot="selectedRadioItemName-7-WN",St="uploadDescription-32n5",Rt="imageUpload-O+86",Ct="radioItemDelete-Z4ca",vt="error-blIi";var yt=function(e){return Object(x.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 26c-5.523 0-10-4.477-10-10 0-2.401.846-4.605 2.257-6.329L22.33 23.743A9.959 9.959 0 0116 26zm7.743-3.672A9.959 9.959 0 0026 16c0-5.523-4.477-10-10-10a9.959 9.959 0 00-6.329 2.257l14.072 14.071zM4 16C4 9.373 9.373 4 16 4s12 5.373 12 12-5.373 12-12 12S4 22.627 4 16z",fill:"currentColor"})})};var It=function(e){return Object(x.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 6H4a2 2 0 00-2 2v16a2 2 0 002 2h5.072a7 7 0 0113.856 0H28a2 2 0 002-2V8a2 2 0 00-2-2zm-7.101 20a5 5 0 00-9.798 0h9.798zM10 28H4a4 4 0 01-4-4V8a4 4 0 014-4h24a4 4 0 014 4v16a4 4 0 01-4 4H10zm10-13a4 4 0 11-8 0 4 4 0 018 0zM7.354 8.354l-3 3a.5.5 0 01-.708-.708l3-3a.5.5 0 11.708.708zm-3 8l8-8a.5.5 0 00-.708-.708l-8 8a.5.5 0 00.708.708zm13-8l-1 1a.5.5 0 01-.708-.708l1-1a.5.5 0 01.708.708zm-8 8a.5.5 0 00-.708-.708l-5 5a.5.5 0 00.708.708l5-5zm17.292-8.708a.5.5 0 01.708.708l-4 4a.5.5 0 01-.708-.708l4-4zm-6.292 2.708l2-2a.5.5 0 00-.708-.708l-2 2a.5.5 0 00.708.708zm-10 9.292a.5.5 0 010 .708l-4 4a.5.5 0 01-.708-.708l4-4a.5.5 0 01.708 0zm18-7.292a.5.5 0 00-.708-.708l-6 6a.5.5 0 00.708.708l6-6zm0 4.292a.5.5 0 010 .708l-4 4a.5.5 0 01-.708-.708l4-4a.5.5 0 01.708 0zm-.5 6.208a.5.5 0 00-.708-.708l-2 2a.5.5 0 00.708.708l2-2z",fill:"currentColor"})})};var Et=function(e){return Object(x.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 6H4a2 2 0 00-2 2v16a2 2 0 002 2h5.072a7 7 0 0113.856 0H28a2 2 0 002-2V8a2 2 0 00-2-2zm-7.101 20a5 5 0 00-9.798 0h9.798zM10 28H4a4 4 0 01-4-4V8a4 4 0 014-4h24a4 4 0 014 4v16a4 4 0 01-4 4H10zm10-13a4 4 0 11-8 0 4 4 0 018 0zM7.707 8.707l-3 3a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 1.414zm-3 8l8-8a1 1 0 00-1.414-1.414l-8 8a1 1 0 101.414 1.414zm13-8l-1 1a1 1 0 01-1.414-1.414l1-1a1 1 0 111.414 1.414zm-8 8a1 1 0 00-1.414-1.414l-5 5a1 1 0 101.414 1.414l5-5zm18-8l-4 4a1 1 0 01-1.414-1.414l4-4a1 1 0 111.414 1.414zm-5 0a1 1 0 00-1.414-1.414l-2 2a1 1 0 001.414 1.414l2-2zm-12 10.586a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0zm18-6.586a1 1 0 00-1.414-1.414l-6 6a1 1 0 001.414 1.414l6-6zm0 3.586a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0zm-.5 6.914a1 1 0 00-1.414-1.414l-2 2a1 1 0 001.414 1.414l2-2z",fill:"currentColor"})})},xt=o(261),Tt=o.n(xt),Lt=o(262),kt=o.n(Lt),_t=o(263),Nt=o.n(_t),wt=o(264),At=o.n(wt),Dt=o(265),Pt=o.n(Dt),Mt=o(266),Ft=o.n(Mt),Bt=o(102),qt=o(66);const zt={"no-effect":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-none",children:"No effect"}),icon:Object(x.jsx)(yt,{width:32,height:32})},"slight-blur":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-slight-blur",children:"Light blur"}),icon:Object(x.jsx)(It,{width:32,height:32})},blur:{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-blur",children:"Strong blur"}),icon:Object(x.jsx)(Et,{width:32,height:32})},"image-cabin":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-cabin",children:"Cabin"}),thumbnail:Tt.a},"image-concrete":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-concrete",children:"Concrete"}),thumbnail:kt.a},"image-brick":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-brick",children:"Brick"}),thumbnail:Nt.a},"image-sunrise":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-sunrise",children:"Sunrise"}),thumbnail:At.a},"image-day":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-day",children:"Day"}),thumbnail:Pt.a},"image-night":{label:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-preset-image-Night",children:"Night"}),thumbnail:Ft.a}};function Gt(e){let{checked:t,icon:o,thumbnail:a,label:n,value:s,name:r,onChange:c,onDelete:d}=e;const[u,m]=Object(i.useState)(!1);return Object(x.jsxs)("div",{className:rt,name:r,value:s,onClick:c,checked:t,tabIndex:0,role:"button",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onKeyDown:e=>(e=>{"Space"!==e.code&&"Enter"!==e.code||(e.preventDefault(),c())})(e),children:[Object(x.jsx)("span",{className:ct}),Object(x.jsx)(l.e,{className:t?dt:lt,ratio:145/90,children:Object(x.jsxs)("div",{className:t?mt:ut,children:[(Bt.a&&d&&!t||d&&u&&!t)&&Object(x.jsx)("button",{onClick:d,className:Ct,children:Object(x.jsx)(l.Wb,{modifiers:["sized","meetingRed"]})}),o&&Object(x.jsx)("div",{className:t?gt:bt,children:Object(x.jsx)("div",{className:jt,children:o})}),a&&Object(x.jsx)("div",{className:pt,children:Object(x.jsx)("img",{className:ht,alt:"",src:a})})]})}),Object(x.jsx)("div",{className:t?Ot:ft,children:n})]})}Gt.propTypes={checked:r.a.bool.isRequired,icon:r.a.node,label:r.a.node.isRequired,name:r.a.string.isRequired,onChange:r.a.func.isRequired,onDelete:r.a.func,thumbnail:r.a.string,value:r.a.string.isRequired};const Ut=e=>{let{audioId:t,cameraEffectsAll:a,cameraEffectsSetup:s,cameraEffectsUploadError:r,doCameraEffectsDeleteBackground:c,doCameraEffectsUploadBackground:d,doCameraEffectsUploadBackgroundError:m,doCaptureException:p,doSetLocalStreamDeviceBusy:b,doSetSelectedCameraEffectId:g,featureRoundedCornersOff:h,isPreviewEnabled:j,localDevices:f,localStreamError:O,mediaPermissionStatus:S,prefs:R,selectedCameraEffectId:C,videoId:v,videoInputDevices:y}=e;const[{previewStreamError:I,releaseMedia:E,stopEffect:T,tryUpdateEffect:L,videoId:k,videoStream:_},N]=Object(i.useState)({previewStreamError:null,releaseMedia:null,stopEffect:null,tryUpdateEffect:null,videoId:null,videoStream:null}),w=e=>N(t=>({...t,...e})),A=k||v,D=Object(q.a)(A),P=null!=C?C:R.cameraEffect,M=Object(q.a)(P),F=!!O||!!I,B=e=>{g(e)},z=Object(i.useCallback)(async()=>{if(_&&P===M&&A===D)return;const e=Object(it.h)({devices:f,videoId:A,audioId:!1,type:"exact"});try{const t=await Object(it.s)(e),i=()=>{null==t||t.getTracks().forEach(e=>e.stop())},n=a.find(e=>e.id===P),{stream:r,stop:c,tryUpdate:l}=n?await async function(e){let{stream:t,preset:i,setup:a,params:n}=e;const{createEffectStream:s}=await o.e(0).then(o.bind(null,489));return await s(t,i,a,n)}({stream:t,preset:n.preset,setup:s,params:n.backgroundUrl&&{backgroundUrl:n.backgroundUrl}}):{stream:t};null==E||E(),w({previewStreamError:null,releaseMedia:i,stopEffect:c,tryUpdateEffect:l,videoId:A,videoStream:r})}catch(t){if(["AbortError","NotFoundError","NotReadableError"].includes(t.name))return b(v),w({previewStreamError:t});p(t,{tags:{from:"EffectsPrefs",...t.constraint&&{constraint:t.constraint}},extra:{constraints:e}})}},[a,s,P,M,A,D,p,b,f,E,v,_]);return Object(i.useEffect)(()=>{(async()=>{if(!j)return;const e=a.find(e=>e.id===P);if(!e&&T)T(),w({stopEffect:null});else if(e&&L){if(await L(e.preset,s,e.backgroundUrl&&{backgroundUrl:e.backgroundUrl}))return}z()})()},[a,s,P,j,z,T,L]),Object(i.useEffect)(()=>()=>{null==T||T(),null==E||E()},[j,E,T]),Object(i.useEffect)(()=>()=>{g(null)},[g]),0===y.length?Object(x.jsx)(je.a,{bodyText:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-no-camera"}),children:"No camera found"}):Object(x.jsxs)(x.Fragment,{children:[j&&Object(x.jsx)(qt.b,{audioId:t,className:n()("jstest-camerapreview",at),isBlocked:F,mediaPermissionStatus:S,localStream:_,videoId:v,mirror:!1!==R.mirror,withRoundedCorners:!h}),Object(x.jsxs)(oe.a,{as:"fieldset",right:null,children:[Object(x.jsx)(oe.a.Header,{as:"legend",className:nt,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-camera-effects-header",children:"Effects"})}),Object(x.jsxs)("div",{className:st,children:[Object(x.jsx)(Gt,{value:"",label:zt["no-effect"].label,icon:zt["no-effect"].icon,name:"cameraEffect",onChange:()=>B(""),checked:!P}),a.filter(e=>"preset"===e.type&&zt[e.id]).map(e=>{const t=zt[e.id];return Object(x.jsx)(Gt,{value:e.id,label:t.label,icon:t.icon,thumbnail:t.thumbnail,name:"cameraEffect",onChange:()=>B(e.id),checked:P===e.id},e.id)}),a.filter(e=>"custom"===e.type).map((e,t)=>Object(x.jsx)(Gt,{value:e.id,label:"Custom "+(t+1),thumbnail:e.backgroundUrl,name:"cameraEffect",onChange:()=>B(e.id),checked:P===e.id,onDelete:()=>{return t=e.id,c(t);var t}},e.id))]}),Object(x.jsx)(l.R,{className:Rt,onError:e=>m(e),onSelected:e=>d(e),uploadLabel:Object(x.jsx)(u.Localized,{id:"CameraEffects-backgroundImage-upload-button",children:"Drag or click to add image"})}),r&&Object(x.jsx)(l.a,{className:vt,variant:"error",children:Object(x.jsx)(l.b,{children:r.error.message})}),Object(x.jsxs)("div",{className:St,children:[Object(x.jsx)(u.Localized,{id:"CameraEffects-backgroundImage-upload-description",children:"We recommend JPG/PNG images at 1280x720 resolution."}),Object(x.jsx)("br",{}),Object(x.jsx)(u.Localized,{id:"CameraEffects-logo-upload-note",children:"Note: Custom images are stored locally in this browser."})]})]})]})};Ut.propTypes={audioId:r.a.string,cameraEffectsAll:r.a.array,cameraEffectsSetup:r.a.object,cameraEffectsUploadError:r.a.object,doCameraEffectsDeleteBackground:r.a.func.isRequired,doCameraEffectsUploadBackground:r.a.func.isRequired,doCameraEffectsUploadBackgroundError:r.a.func.isRequired,doCaptureException:r.a.func.isRequired,doSetLocalStreamDeviceBusy:r.a.func.isRequired,doSetSelectedCameraEffectId:r.a.func,featureRoundedCornersOff:r.a.bool.isRequired,isPreviewEnabled:r.a.bool.isRequired,localDevices:r.a.array.isRequired,localStreamError:r.a.object,mediaPermissionStatus:r.a.string.isRequired,prefs:r.a.object.isRequired,selectedCameraEffectId:r.a.string,videoId:r.a.string,videoInputDevices:r.a.array.isRequired};var Ht=Object(he.b)(Object(c.b)("doCameraEffectsDeleteBackground","doCameraEffectsUploadBackground","doCameraEffectsUploadBackgroundError","doCaptureException","doSetLocalStreamDeviceBusy","doSetSelectedCameraEffectId","selectAudioId","selectCameraEffectsAll","selectCameraEffectsUploadError","selectCameraEffectsSetup","selectFeatureRoundedCornersOff","selectIsPreviewEnabled","selectLocalDevices","selectLocalStreamError","selectMediaPermissionStatus","selectPrefs","selectPrefHd","selectPrefWidescreen","selectSelectedCameraEffectId","selectSelectedSpeakerId","selectSpeakerDevices","selectVideoId","selectVideoInputDevices",Ut),{fallback:je.a}),Vt="screenshareQualityHeader-y9Jx",Wt="screenshareQualityInputs-GXd8",Kt="gestureDetectionBetaLabel-l4OS",$t="inner-SlZB",Qt="RadioCard-dLou",Yt="content-Vqtk",Jt="input-arms",Zt="label-a48n",Xt="description-WWlz",eo="icon-3gRQ";const to=e=>{let{className:t,description:o,icon:i,id:a,label:s,name:r,value:c,...l}=e;return Object(x.jsxs)("label",{className:n()(Qt,t),children:[Object(x.jsx)("input",{className:Jt,id:a,name:r,value:c,...l,type:"radio"}),Object(x.jsxs)("div",{className:$t,children:[Object(x.jsxs)("div",{className:Yt,children:[Object(x.jsx)("div",{className:Zt,children:s}),o&&Object(x.jsx)("small",{className:Xt,children:o})]}),Object(x.jsx)("div",{className:eo,children:i})]})]})};to.propTypes={className:r.a.string,description:r.a.node,icon:r.a.element,id:r.a.string,label:r.a.node,name:r.a.string,value:r.a.string};var oo=to,io=o(84);const ao=e=>{var t,o,i;let{browserSupportMediaStreamContentHint:a,canPip:n,doLocalClientToggleLowDataEnabled:s,doPendingPref:r,doPref:c,doSetPrecallReviewWanted:d,featureGesturesOn:m,featurePipAutoLaunchOn:p,featureScreenshareQualityOn:b,isPrecallReviewWanted:g,localClientIsViewer:h,localStreamRes:j,prefLowData:f,prefScreenshareQuality:O,prefs:S}=e;return Object(x.jsxs)(x.Fragment,{children:[!h&&!1!==S.precallReview&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>d(!g),isActive:g,"aria-labelledby":"InCallSettings-precall-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-precall-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-precall-header",children:"Pre-call review"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-precall-text",children:"Always confirm your device settings before joining meetings"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{s(!f,{context:"advanced-settings"})},isActive:f,"aria-labelledby":"InCallSettings-lowDataMode-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-lowDataMode-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-lowDataMode-header",children:"Low data mode"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-lowDataMode-text",children:"Limits the stream resolution along with other resource consumption optimizations"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{c("effects",!S.effects)},isActive:!S.effects,"aria-labelledby":"InCallSettings-reducevisualeffects-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-reducevisualeffects-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-reducevisualeffects-header",children:"Reduce visual effects"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-reducevisualeffects-text",children:"Disables all potentially expensive visual effects such as blurs, shadows and rounded corners"})]}),n&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{c("pipAutoLaunchForScreenshare",!S.pipAutoLaunchForScreenshare)},isActive:null==(t=S.pipAutoLaunchForScreenshare)||t,"aria-labelledby":"InCallSettings-pip-auto-launch-screenshare-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-pip-auto-launch-screenshare-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-pip-auto-launch-screenshare-header",children:"Automatically launch picture-in-picture"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-pip-auto-launch-screenshare-text",children:"Launch picture-in-picture automatically when sharing your screen"})]}),n&&p&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{var e;c("pipAutoLaunch",!(null==(e=S.pipAutoLaunch)||e))},isActive:null==(o=S.pipAutoLaunch)||o,"aria-labelledby":"InCallSettings-pip-auto-launch-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-pip-auto-launch-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-pip-auto-launch-header",children:"Automatically launch picture-in-picture"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-pip-auto-launch-text",children:"Launch picture-in-picture when navigating chat links"})]}),!(!S.resolution&&!S.debug)&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Cb,{modifiers:["small"],items:["--","1920x1080","1280x720","960x720","640x480","640x360","320x240","280x160"].map(e=>({key:e,value:e})),onChange:e=>{r("resolution","--"===e?null:e)},value:S.resolution||"--",label:"","aria-labelledby":"InCallSettings-resolution-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-resolution-header",children:"Resolution"}),"Manually request resolution",Object(x.jsx)("br",{}),"Current resolution: ",j]}),b&&a&&Object(x.jsxs)(oe.a,{as:"fieldset","aria-labelledby":"screenshare-quality-label",children:[Object(x.jsxs)("legend",{className:Vt,id:"screenshare-quality-label",children:[Object(x.jsx)(oe.a.Header,{as:"div",variant:"large",id:"screenshare-quality-label",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-header",children:"Screenshare quality"})}),Object(x.jsx)("div",{id:"screenshare-quality-description",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-text",children:"Set default settings when screensharing"})})]}),Object(x.jsxs)("div",{className:Wt,children:[Object(x.jsx)(oo,{name:"screenshare_quality",value:"detail",checked:"detail"===O,onChange:e=>c("screenshareQuality",e.target.value),label:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-option-detail-header",children:"Optimize for detail (default)"}),description:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-option-detail-text",children:"Better for displaying crisp and detailed images"}),icon:Object(x.jsx)(l.B,{width:"24",height:"24","aria-hidden":"true"})}),Object(x.jsx)(oo,{name:"screenshare_quality",value:"motion",checked:"motion"===O,onChange:e=>c("screenshareQuality",e.target.value),label:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-option-motion-header",children:"Optimize for motion"}),description:Object(x.jsx)(u.Localized,{id:"InCallSettings-screenshare-quality-option-motion-text",children:"Better for fast moving elements like video or animations"}),icon:Object(x.jsx)(l.jb,{width:"24",height:"24","aria-hidden":"true"})})]})]}),m&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{c("gestureDetection",!S.gestureDetection)},isActive:S.gestureDetection,"aria-labelledby":"InCallSettings-gestureDetection-header"}),children:[Object(x.jsxs)(oe.a.Header,{id:"InCallSettings-gestureDetection-header",children:[Object(x.jsx)(u.Localized,{id:"InCallSettings-gestureDetection-header",children:"Gesture detection"}),Object(x.jsx)(io.a,{className:Kt,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-gestureDetection-beta-badge",children:"Beta"})})]}),Object(x.jsx)(u.Localized,{id:"InCallSettings-gestureDetection-text",children:"Send chat reactions with your hands"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>{var e;c("keyboardShortcuts",!(null==(e=S.keyboardShortcuts)||e))},isActive:null==(i=S.keyboardShortcuts)||i,"aria-labelledby":"InCallSettings-keyboard-shortcuts-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-keyboard-shortcuts-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-keyboard-shortcuts-header",children:"Keyboard shortcuts"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-keyboard-shortcuts-text",children:"Enable keyboard shortcuts for common actions"})]})]})};ao.propTypes={browserSupportMediaStreamContentHint:r.a.bool.isRequired,canPip:r.a.bool.isRequired,doLocalClientToggleLowDataEnabled:r.a.func.isRequired,doPendingPref:r.a.func.isRequired,doPref:r.a.func.isRequired,doSetPrecallReviewWanted:r.a.func.isRequired,featureGesturesOn:r.a.bool.isRequired,featurePipAutoLaunchOn:r.a.bool.isRequired,featureScreenshareQualityOn:r.a.bool,isPrecallReviewWanted:r.a.bool.isRequired,localClientIsViewer:r.a.bool.isRequired,localStreamRes:r.a.string.isRequired,prefLowData:r.a.bool,prefScreenshareQuality:r.a.oneOf(["detail","motion","text"]),prefs:r.a.object.isRequired};var no=Object(he.b)(Object(u.withLocalization)(Object(c.b)("doLocalClientToggleLowDataEnabled","doPendingPref","doPref","doSetLanguage","doSetPrecallReviewWanted","selectBrowserSupportMediaStreamContentHint","selectCanPip","selectFeaturePipAutoLaunchOn","selectFeatureGesturesOn","selectFeatureScreenshareQualityOn","selectIsPrecallReviewWanted","selectLanguage","selectLocalClientIsViewer","selectLocalStreamRes","selectPrefLowData","selectPrefs","selectPrefScreenshareQuality",ao)),{fallback:je.a});const so=e=>{let{doPref:t,doSetLanguage:o,language:i,prefs:a,supportedLanguages:n}=e;return Object(x.jsxs)(x.Fragment,{children:[!1!==a.localization&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Cb,{modifiers:["small"],items:n.map(e=>({key:e.label,value:e.locale})),onChange:e=>o(e,!0),value:i,label:"","aria-labelledby":"InCallSettings-language-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-language-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-language-header",children:"Language"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-language-text",children:"Choose your language"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Cb,{modifiers:["small"],items:[{key:"\ud83e\udd1a\ud83d\udc4b",value:"0"},{key:"\ud83e\udd1a\ud83c\udffb\ud83d\udc4b\ud83c\udffb",value:"1"},{key:"\ud83e\udd1a\ud83c\udffc\ud83d\udc4b\ud83c\udffc",value:"2"},{key:"\ud83e\udd1a\ud83c\udffd\ud83d\udc4b\ud83c\udffd",value:"3"},{key:"\ud83e\udd1a\ud83c\udffe\ud83d\udc4b\ud83c\udffe",value:"4"},{key:"\ud83e\udd1a\ud83c\udfff\ud83d\udc4b\ud83c\udfff",value:"5"}],onChange:e=>t("emojiSkinTone",e),value:a.emojiSkinTone,label:"","aria-labelledby":"InCallSettings-emoji-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-emoji-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-emoji-header",children:"Reactions skin tone"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-emoji-text",children:"Choose your preferred emoji skin tone"})]})]})};so.propTypes={doPref:r.a.func.isRequired,doSetLanguage:r.a.func.isRequired,language:r.a.string.isRequired,prefs:r.a.object.isRequired,supportedLanguages:r.a.array.isRequired};var ro=Object(he.b)(Object(c.b)("doPref","doSetLanguage","selectLanguage","selectPrefs","selectSupportedLanguages",so),{fallback:je.a}),co="content-Bx8h",lo="cameraPreview-NYdn",uo="inputSelectorsWrapper-vICM",mo=o(67),po=o(139),bo=o(140),go=o(137);function ho(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class jo extends i.Component{constructor(){super(...arguments),ho(this,"state",{videoStream:void 0,releaseMedia:void 0,previewStreamError:void 0}),ho(this,"handleSelectCamera",e=>{this.props.doSetSelectedVideoId(e),this.setPreviewStream(e)}),ho(this,"handleSelectAudio",e=>{this.props.doSetSelectedAudioId(e)}),ho(this,"handleSelectSpeaker",e=>{this.props.doSetSelectedSpeakerId(e)})}componentDidMount(){this.setPreviewStream(this.props.videoId)}componentWillUnmount(){const{releaseMedia:e}=this.state;null==e||e()}async setPreviewStream(e){if(!this.props.isPreviewEnabled)return;const t=Object(it.h)({devices:this.props.localDevices,videoId:e,audioId:!1,type:"exact"}),i=this.props.cameraEffectsAll.find(e=>e.id===this.props.prefs.cameraEffect);try{var a,n;const e=await Object(it.s)(t);let s=()=>{null==e||e.getTracks().forEach(e=>e.stop())},r=e;if(this.props.shouldShowCameraEffects&&i){const{stream:t,stop:a}=await async function(e){let{stream:t,preset:i,setup:a,params:n}=e;const{createEffectStream:s}=await o.e(0).then(o.bind(null,489));return await s(t,i,a,n)}({stream:e,preset:i.preset,setup:this.props.cameraEffectsSetup,params:i.backgroundUrl&&{backgroundUrl:i.backgroundUrl}});r=t,s=()=>{a(),null==e||e.getTracks().forEach(e=>e.stop())}}null==(a=(n=this.state).releaseMedia)||a.call(n),this.setState({videoStream:r,previewStreamError:null,releaseMedia:s})}catch(s){if(["AbortError","NotFoundError","NotReadableError"].includes(s.name))return this.props.doSetLocalStreamDeviceBusy(e),this.setState({previewStreamError:s});this.props.doCaptureException(s,{tags:{from:"MediaDevicePicker",...s.constraint&&{constraint:s.constraint}},extra:{constraints:t}})}}render(){const{audioId:e,audioInputDevices:t,defaultMediaIds:o,isPreviewEnabled:i,localDevices:a,localStreamError:s,mediaPermissionStatus:r,preferSpeakerId:c,prefs:l,selectedAudioId:d,selectedSpeakerId:u,selectedVideoId:m,speakerDevices:p,videoId:b,videoInputDevices:g}=this.props;if(!a.length)return null;const{videoStream:h}=this.state,j=!!s||!!this.state.previewStreamError;return Object(x.jsxs)("div",{className:co,children:[i&&Object(x.jsx)(qt.b,{audioId:e,className:n()("jstest-camerapreview",lo),isBlocked:j,mediaPermissionStatus:r,localStream:h,videoId:b,mirror:!1!==l.mirror,withRoundedCorners:!this.props.featureRoundedCornersOff}),Object(x.jsxs)("div",{className:uo,children:[(m||g.some(e=>e.videoId))&&Object(x.jsx)(oe.a,{children:Object(x.jsx)(po.a,{onChangeCamera:this.handleSelectCamera,videoInputDevices:g,videoId:o.videoId})}),(d||t.some(e=>e.audioId))&&Object(x.jsx)(oe.a,{children:Object(x.jsx)(bo.a,{onChangeMic:this.handleSelectAudio,stream:h,audioId:o.audioId,audioInputDevices:t})}),Object(mo.a)()&&(u||p.some(e=>e.speakerId))&&Object(x.jsx)(oe.a,{children:Object(x.jsx)(go.a,{speakerDevices:p,speakerId:u||c,onChangeSpeaker:this.handleSelectSpeaker,doCaptureException:this.props.doCaptureException,showTestButton:!0})})]})]})}}jo.propTypes={audioId:r.a.string,audioInputDevices:r.a.arrayOf(E.a).isRequired,cameraEffectsAll:r.a.array.isRequired,cameraEffectsSetup:r.a.object,defaultMediaIds:r.a.object.isRequired,doCaptureException:r.a.func.isRequired,doSetLocalStreamDeviceBusy:r.a.func.isRequired,doSetSelectedAudioId:r.a.func.isRequired,doSetSelectedSpeakerId:r.a.func.isRequired,doSetSelectedVideoId:r.a.func.isRequired,featureRoundedCornersOff:r.a.bool,isPreviewEnabled:r.a.bool.isRequired,localDevices:r.a.array.isRequired,localStreamError:r.a.object,mediaPermissionStatus:r.a.string.isRequired,preferSpeakerId:r.a.string,prefs:r.a.object.isRequired,selectedAudioId:r.a.string,selectedSpeakerId:r.a.string,selectedVideoId:r.a.string,shouldShowCameraEffects:r.a.bool,speakerDevices:r.a.arrayOf(E.h).isRequired,videoId:r.a.string,videoInputDevices:r.a.arrayOf(E.j).isRequired};var fo=jo;const Oo=e=>{var t;let{canStartAudioDenoiser:o,doAudioDenoiserToggle:i,doPendingPref:a,doPref:n,prefHd:s,prefs:r,prefWidescreen:c,shouldShowCameraEffects:d,...m}=e;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(fo,{prefs:r,shouldShowCameraEffects:d,...m}),o&&Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:i,isActive:r.audioDenoiser,"aria-labelledby":"InCallSettings-audio-denoiser-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-audio-denoiser-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-audio-denoiser-header",children:"Noise reduction"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-audio-denoiser-text",children:"Reduce background noise in loud environments"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{className:"jstest-toggle-hd",onToggle:()=>{a("hd",!s)},isActive:s,"aria-labelledby":"InCallSettings-hd-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-hd-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-hd-header",children:"HD video"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-hd-text",children:"Prefer HD video when available and possible (takes more resources)."})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{className:"jstest-toggle-widescreen",onToggle:()=>{a("widescreen",!c)},isActive:c,"aria-labelledby":"InCallSettings-widescreen-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-widescreen-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-widescreen-header",children:"Widescreen video"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-widescreen-text",children:"Prefer widescreen video when available"})]}),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:()=>n("mirror",!1===r.mirror),isActive:null==(t=r.mirror)||t,"aria-labelledby":"InCallSettings-mirror-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"InCallSettings-mirror-header",children:Object(x.jsx)(u.Localized,{id:"InCallSettings-mirror-header",children:"Mirror"})}),Object(x.jsx)(u.Localized,{id:"InCallSettings-mirror-text",children:"Mirror your own video (self-view)"})]})]})};Oo.propTypes={audioId:r.a.string,audioInputDevices:r.a.arrayOf(E.a).isRequired,cameraEffectsAll:r.a.array.isRequired,cameraEffectsSetup:r.a.object,canStartAudioDenoiser:r.a.bool.isRequired,defaultMediaIds:r.a.object.isRequired,doAudioDenoiserToggle:r.a.func.isRequired,doCaptureException:r.a.func.isRequired,doPendingPref:r.a.func.isRequired,doPref:r.a.func.isRequired,doSetLocalStreamDeviceBusy:r.a.func.isRequired,doSetSelectedAudioId:r.a.func.isRequired,doSetSelectedSpeakerId:r.a.func.isRequired,doSetSelectedVideoId:r.a.func.isRequired,isPreviewEnabled:r.a.bool.isRequired,localDevices:r.a.array.isRequired,localStreamError:r.a.object,mediaPermissionStatus:r.a.string.isRequired,prefHd:r.a.bool.isRequired,prefWidescreen:r.a.bool.isRequired,preferSpeakerId:r.a.string,prefs:r.a.object.isRequired,selectedAudioId:r.a.string,selectedSpeakerId:r.a.string,selectedVideoId:r.a.string,shouldShowCameraEffects:r.a.bool,speakerDevices:r.a.arrayOf(E.h).isRequired,videoId:r.a.string,videoInputDevices:r.a.arrayOf(E.j).isRequired};var So=Object(he.b)(Object(c.b)("doAudioDenoiserToggle","doCaptureException","doPendingPref","doPref","doSetLocalStreamDeviceBusy","doSetSelectedAudioId","doSetSelectedSpeakerId","doSetSelectedVideoId","selectAudioId","selectAudioInputDevices","selectCameraEffectsAll","selectCameraEffectsSetup","selectCanStartAudioDenoiser","selectDefaultMediaIds","selectIsPreviewEnabled","selectLocalDevices","selectLocalStreamError","selectMediaPermissionStatus","selectPreferSpeakerId","selectPrefs","selectPrefHd","selectPrefWidescreen","selectSelectedAudioId","selectSelectedSpeakerId","selectSelectedVideoId","selectShouldShowCameraEffects","selectSpeakerDevices","selectVideoId","selectVideoInputDevices",Oo),{fallback:je.a}),Ro="helpLink-QGTk",Co=o(141);const vo=e=>{let{doToggleWebNotifications:t,isWebNotificationsBlocked:o,isWebNotificationsEnabled:i}=e,a=Object(x.jsx)(u.Localized,{id:"NotificationSettings-desc-disabled",children:"Enable desktop notifications to know when guests enter or knock"});return i?a=Object(x.jsx)(u.Localized,{id:"NotificationSettings-desc-enabled",children:"Desktop notifications let you know when guests enter or knock"}):o&&(a=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.Localized,{id:"NotificationSettings-desc-blocked",children:"You\u2019ve opted out of desktop notifications."}),Object(x.jsx)(Co.a,{className:Ro,href:"https://whereby.helpscoutdocs.com/article/432-notifications","data-beacon-article":"432"})]})),Object(x.jsxs)(oe.a,{right:Object(x.jsx)(l.Sb,{onToggle:t,isActive:i,isDisabled:o,"aria-labelledby":"NotificationSettings-header"}),children:[Object(x.jsx)(oe.a.Header,{id:"NotificationSettings-header",children:Object(x.jsx)(u.Localized,{id:"NotificationSettings-header",children:"Notifications"})}),a]})};vo.propTypes={doToggleWebNotifications:r.a.func.isRequired,isWebNotificationsBlocked:r.a.bool.isRequired,isWebNotificationsEnabled:r.a.bool.isRequired};var yo=vo,Io=o(267),Eo=o.n(Io),xo="headerImage-bD1n";const To=e=>{let{canToggleWebNotifications:t,doToggleWebNotifications:o,isWebNotificationsBlocked:i,isWebNotificationsEnabled:a}=e;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{alt:"",src:Eo.a,className:xo}),t&&Object(x.jsx)(yo,{doToggleWebNotifications:o,isWebNotificationsBlocked:i,isWebNotificationsEnabled:a})]})};To.propTypes={canToggleWebNotifications:r.a.bool.isRequired,doToggleWebNotifications:r.a.func.isRequired,isWebNotificationsBlocked:r.a.bool,isWebNotificationsEnabled:r.a.bool};var Lo=Object(he.b)(Object(u.withLocalization)(Object(c.b)("doToggleWebNotifications","selectCanToggleWebNotifications","selectIsWebNotificationsBlocked","selectIsWebNotificationsEnabled",To)),{fallback:je.a});const ko=e=>{const t=Object(i.useRef)(window.matchMedia(e)),[o,a]=Object(i.useState)(t.current.matches);return Object(i.useEffect)(()=>{const e=e=>a(e.matches),o=t.current;return o.addListener(e),()=>{o.removeListener(e)}},[]),o},_o=680,No={room:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-room-tab",children:"Room"}),component:Oe},theme:{label:e=>e?Object(x.jsx)(u.Localized,{id:"InCallSettings-branding-tab",children:"Branding"}):Object(x.jsx)(u.Localized,{id:"InCallSettings-theme-tab",children:"Theme"}),component:Se.c},integrations:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-integrations-tab",children:"Integrations"}),component:De},members:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-members-tab",children:"Members"}),component:Ue},streaming:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-streaming-tab",children:"Streaming"}),component:ot}},wo={media:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-media-tab",children:"Video & Audio"}),component:So},effects:{label:()=>Object(x.jsx)("span",{className:R,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-effects-tab",children:"Effects"})}),component:Ht},notifications:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-notifications-tab",children:"Notifications"}),component:Lo},general:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-general-tab",children:"General"}),component:ro},advanced:{label:()=>Object(x.jsx)(u.Localized,{id:"InCallSettings-advanced-tab",children:"Advanced"}),component:no}},Ao=e=>{let{applicationState:t,canChangeRoomIntegrations:o,canListRoomMembers:a,canSetKnockPageBackground:s,canSetLogo:r,canSetRoomBackground:c,canStartStreaming:R,canToggleWebNotifications:v,devicePrefsPanes:y=wo,doPendingPrefReset:I,featureLegacyRoomMembersOn:E,featureStreamingConfigUIOn:T,initialPane:L,isPhoneResolution:k,isRoomOwner:_,localClientIsViewer:N,needDeviceChangeApply:A,needReload:D,onClose:P,prefs:M,roomSettingsPanes:F=No,roomType:B,shouldShowCameraEffects:q,themeTemplateIsSaved:z}=e;const[U,H]=Object(i.useState)(L),V=ko(`(max-width: ${_o}px)`),W=ko("(max-width: 872px)"),K=s||r||c,$="joined"!==t,Q=()=>{D&&I(),P()},Y={...F},J={...y};!$&&M.settingsButton||delete Y.room,a&&E&&!$&&M.settingsButton||delete Y.members,(!c&&_||c)&&!$&&M.settingsButton||delete Y.theme,!1!==M.roomIntegrations&&o&&!$&&M.settingsButton||delete Y.integrations,R&&T&&M.settingsButton||delete Y.streaming,q||delete J.effects,v&&M.settingsButton||delete J.notifications,M.settingsButton||delete J.advanced,N&&delete J.media;const Z={...Y,...J},X=Object(x.jsxs)("nav",{children:[!V&&Object(x.jsx)("h1",{className:b,children:Object(x.jsx)(u.Localized,{id:"InCallSettings-dialog-header",children:"Settings"})}),Object(x.jsxs)("div",{className:g,children:[Object.keys(Y).length>0&&Object(x.jsx)(C.a,{sectionHeaderLabel:Object(x.jsx)(u.Localized,{id:"InCallSettings-section-label-room",children:"Room settings"}),children:Object.keys(Y).map(e=>Object(x.jsx)(C.b,{onClick:()=>H(e),isSelected:e===U,children:Y[e].label(K)},e))}),Object(x.jsx)(C.a,{sectionHeaderLabel:Object(x.jsx)(u.Localized,{id:"InCallSettings-section-label-device",children:"Device preferences"}),children:Object.keys(J).map(e=>Object(x.jsx)(C.b,{onClick:()=>H(e),isSelected:e===U,children:J[e].label()},e))})]}),"transient"!==B?Object(x.jsx)("div",{className:n()(h,"jstest-room-settings-storage"),children:Object(x.jsx)(u.Localized,{id:"InCallSettings-preferences-note",$organizationDomain:d.a.organizationDomain,children:Object(x.jsxs)("p",{children:["Preferences will be saved on this device only for meetings on ",d.a.organizationDomain]})})}):null]}),ee=U&&Z[U],te=ee?Object(i.createElement)(Z[U].component,{selectedPane:U,key:U}):null;return Object(x.jsxs)(l.G,{className:n()(m,"jstest-room-settings-container"),onClickClose:Q,hideCloseButton:!0,fullscreen:k,children:[V&&Object(x.jsx)(l.G.Header,{children:Object(x.jsxs)("div",{className:j,children:[Object(x.jsx)(l.h,{label:"All",className:n()(f,{[O]:!ee}),onClick:()=>H(null)}),Object(x.jsx)("header",{children:ee?Z[U].label(K):Object(x.jsx)(u.Localized,{id:"InCallSettings-dialog-header",children:Object(x.jsx)("span",{children:"Settings"})})}),Object(x.jsx)(l.y,{className:n()("jstest-room-settings-close-button"),onClick:Q})]})}),Object(x.jsxs)(l.G.Body,{className:p,children:[Object(x.jsx)(G,{isCollapsed:V,isSmallScreen:W,mainContent:X,selectedPaneContent:te}),!V&&Object(x.jsx)(l.y,{className:n()(S,"jstest-room-settings-close-button"),onClick:Q})]}),(D||A||!z)&&Object(x.jsx)(l.G.Footer,{children:Object(x.jsx)(w,{})})]})};function Do(e){let{doSetActiveSettingsDialogPane:t}=e;return Object(i.useEffect)(()=>{t(null)},[t]),null}Ao.propTypes={applicationState:r.a.string.isRequired,canChangeRoomIntegrations:r.a.bool.isRequired,canListRoomMembers:r.a.bool.isRequired,canSetKnockPageBackground:r.a.bool.isRequired,canSetLogo:r.a.bool.isRequired,canSetRoomBackground:r.a.bool.isRequired,canStartStreaming:r.a.bool.isRequired,canToggleWebNotifications:r.a.bool.isRequired,devicePrefsPanes:r.a.object,doPendingPrefReset:r.a.func.isRequired,featureLegacyRoomMembersOn:r.a.bool,featureStreamingConfigUIOn:r.a.bool,initialPane:r.a.oneOf([...Object.keys({...No,...wo}),"none"]),isPhoneResolution:r.a.bool.isRequired,isRoomOwner:r.a.bool.isRequired,localClientIsViewer:r.a.bool.isRequired,needDeviceChangeApply:r.a.bool,needReload:r.a.bool,onClose:r.a.func.isRequired,prefs:r.a.object.isRequired,roomSettingsPanes:r.a.object,roomType:r.a.string.isRequired,shouldShowCameraEffects:r.a.bool,themeTemplateIsSaved:r.a.bool.isRequired},Do.propTypes={doSetActiveSettingsDialogPane:r.a.func};t.b=Object(he.c)(Object(c.b)("doPendingPrefReset","selectApplicationState","selectCanChangeRoomIntegrations","selectCanListRoomMembers","selectCanSetKnockPageBackground","selectCanSetLogo","selectCanSetRoomBackground","selectCanStartStreaming","selectCanToggleWebNotifications","selectFeatureLegacyRoomMembersOn","selectFeatureStreamingConfigUIOn","selectIsPhoneResolution","selectIsRoomOwner","selectLocalClientIsViewer","selectNeedDeviceChangeApply","selectNeedReload","selectPrefs","selectRoomType","selectShouldShowCameraEffects","selectThemeTemplateIsSaved",Ao),{fallback:Object(c.b)("doSetActiveSettingsDialogPane",Do)})},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(2),s=o(9),r=o(3),c="Sidebar-Mvpg",l=o(6),d=o.n(l),u="inner-tkGK",m="InsetPanel-mX+v",p="isConstrained-xacH",b="isSquare-S0ac",g="content-vRnM",h="spinnerWrapper-PSy5",j="spinner-THxS",f=o(0);const O=()=>Object(f.jsx)("div",{className:h,children:Object(f.jsxs)("svg",{className:j,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("circle",{cx:"24",cy:"24",r:"22",stroke:"rgba(0, 0, 0, 0.12)",strokeWidth:"4"}),Object(f.jsx)("path",{d:"M24 2a22 22 0 0122 22",stroke:"#006654",strokeWidth:"4"})]})}),S=e=>{let{children:t,className:o,isConstrained:i,isSquare:a,...n}=e;return Object(f.jsx)("div",{className:d()(m,o,{[p]:i,[b]:a}),...n,children:Object(f.jsx)("div",{className:u,children:Object(f.jsx)("div",{className:g,children:t})})})};S.propTypes={children:a.a.node,className:a.a.string,isConstrained:a.a.bool,isSquare:a.a.bool};var R=S,C="Chat-QKag",v="paddedContent-S+Qv",y=o(15),I=o(240),E=o(88),x=o(32);function T(e){let{breakoutActive:t,breakoutCurrentId:o,canRequestAudioVideoEnable:i,canStartBreakout:a,chatFileSharingEnabled:n,chatFileSharingSessionActive:s,chatFilesToShare:r,chatIsUploadingFiles:c,chatMessageGroups:l,chatUnusedMessage:d,clientsWithRaisedHand:u,doChatDownloadFile:m,doChatEmojiAutoCompleteAnalytics:p,doChatFileUpload:b,doChatFileRetry:g,doChatLinkClicked:h,doChatMessageRemove:j,doChatRemoveFile:O,doLocalClientSetStickyReaction:S,doRequestAudioEnable:R,doSendChatMessage:v,doSetChatUnusedMessage:y,doSidebarPane:x,featureBrandAvatarsOn:T,isRoomOwner:L,isTouchDevice:k,lastSeenChatSidebar:_,localClientId:N,localClientRole:w,localClientStickyReaction:A,prefs:D,remoteClientsMentionable:P,roomSessionId:M,userIsAdmin:F}=e;return Object(f.jsx)("div",{className:C,"data-testid":"chat",children:Object(f.jsx)(E.a,{id:"chat",children:Object(f.jsx)(I.a,{autoFocusChatInput:!k,canAskOthersToSpeak:i,canBroadcast:t&&a,chatFilesToShare:r,chatIsUploadingFiles:c,chatUnusedMessage:d,clients:P,clientsWithRaisedHand:u,doChatDownloadFile:m,doChatEmojiAutoCompleteAnalytics:p,doChatFileRetry:g,doChatFileUpload:b,doChatMessageRemove:j,emojiSkinTone:D.emojiSkinTone,featureBrandAvatarsOn:T,isRoomOwner:L||"host"===w,localClientId:N,messageGroups:l,onAskToSpeakClicked:e=>R({clientIds:[e],enable:!0}),onRemoveFile:O,onSeeWhoRaisedHandClicked:()=>x("people"),onSetStickyReaction:S,sendChatMessage:v,setChatUnusedMessage:y,showGroupBanner:!!o,stickyReaction:A,onChatLinkClicked:h,userIsAdmin:F,lastSeenChatSidebar:_,hideEmojiPicker:!D.reactions,roomSessionId:M,chatFileSharingEnabled:n,chatFileSharingSessionActive:s})})})}function L(e){let{error:t}=e;return Object(f.jsx)("div",{className:v,children:Object(f.jsx)(x.a,{error:t})})}T.propTypes={breakoutActive:a.a.bool.isRequired,breakoutCurrentId:a.a.string,canRequestAudioVideoEnable:a.a.bool.isRequired,canStartBreakout:a.a.bool.isRequired,chatFileSharingEnabled:a.a.bool,chatFileSharingSessionActive:a.a.bool,chatFilesToShare:a.a.array.isRequired,chatIsUploadingFiles:a.a.bool.isRequired,chatMessageGroups:a.a.array.isRequired,chatUnusedMessage:a.a.string.isRequired,clientsWithRaisedHand:a.a.array.isRequired,doChatDownloadFile:a.a.func.isRequired,doChatEmojiAutoCompleteAnalytics:a.a.func.isRequired,doChatFileRetry:a.a.func.isRequired,doChatFileUpload:a.a.func.isRequired,doChatLinkClicked:a.a.func.isRequired,doChatMessageRemove:a.a.func.isRequired,doChatRemoveFile:a.a.func.isRequired,doLocalClientSetStickyReaction:a.a.func.isRequired,doRequestAudioEnable:a.a.func.isRequired,doSendChatMessage:a.a.func.isRequired,doSetChatUnusedMessage:a.a.func.isRequired,doSidebarPane:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,isRoomOwner:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,lastSeenChatSidebar:a.a.number,localClientId:a.a.string.isRequired,localClientRole:a.a.string.isRequired,localClientStickyReaction:a.a.object,prefs:a.a.object.isRequired,remoteClientsMentionable:a.a.array,roomSessionId:a.a.string,userIsAdmin:a.a.bool.isRequired},L.propTypes={error:a.a.object};var k=Object(y.b)(Object(s.b)("doChatDownloadFile","doChatEmojiAutoCompleteAnalytics","doChatFileRetry","doChatFileUpload","doChatLinkClicked","doChatMessageRemove","doChatRemoveFile","doLocalClientSetStickyReaction","doRequestAudioEnable","doSendChatMessage","doSetChatUnusedMessage","doSidebarPane","selectBreakoutActive","selectBreakoutCurrentId","selectCanRequestAudioVideoEnable","selectCanStartBreakout","selectChatFileSharingEnabled","selectChatFileSharingSessionActive","selectChatFilesToShare","selectChatIsUploadingFiles","selectChatMessageGroups","selectChatUnusedMessage","selectClientsWithRaisedHand","selectFeatureBrandAvatarsOn","selectIsRoomOwner","selectIsTouchDevice","selectLastSeenChatSidebar","selectLocalClientId","selectLocalClientRole","selectLocalClientStickyReaction","selectPrefs","selectRemoteClientsMentionable","selectRoomSessionId","selectUserIsAdmin",T),{fallback:L}),_=o(4),N="MeetingSidebar-dWJO",w="header-GhmB",A="header--noBorder-qpIW",D="segmentedControlWrapper-FPEk",P="segmentedControl-m2DG",M="headerButton-oQd2",F="content-fHNk",B="MeetingSidebar--noHeader-Tt0M";const q=()=>{};function z(e){let{hideBorder:t=!1,hideHeader:o=!1,onClose:i,onToggle:a=q,panes:s,...c}=e;const l=Object(n.useCallback)(e=>{a(s[e])},[a,s]),u=Object(f.jsx)("div",{}),m=s.find(e=>e.isActive);return Object(f.jsxs)("div",{className:d()(N,{[B]:o}),...c,children:[!o&&Object(f.jsxs)("div",{className:d()(w,{[A]:t}),children:[u,Object(f.jsx)("div",{className:D,children:Object(f.jsx)(_.Bb,{className:P,items:s.map(e=>({id:e.id,label:e.label})),selectedIndex:s.indexOf(m),onChange:l})}),Object(f.jsx)(r.Localized,{id:"BaseAlert-close",attrs:{title:!0},children:Object(f.jsx)(_.y,{onClick:i,className:d()("jstest-close-sidebar-button",M),title:"Close"})})]}),Object(f.jsx)("div",{className:F,children:m&&m.content})]})}z.propTypes={hideBorder:a.a.bool,hideHeader:a.a.bool,onClose:a.a.func.isRequired,onToggle:a.a.func,panes:a.a.arrayOf(a.a.exact({id:a.a.string.isRequired,label:a.a.node.isRequired,content:a.a.node.isRequired,isActive:a.a.bool.isRequired})).isRequired};var G=z,U=o(20),H={CallQualitySidebarContainer:"CallQualitySidebarContainer-hfKq",CallQualitySidebarContent:"CallQualitySidebarContent-xNuO",CallQualitySidebar:"CallQualitySidebar-pwF7",top:"top-pST3",title:"title-corR",betaLabel:"betaLabel-sxIn",content:"content-muvA",noDataContainer:"noDataContainer-ljho",noDataIcon:"noDataIcon-osta",noDataIconContainer:"noDataIconContainer-WYtc",footer:"footer-whJP",statusCalloutIcon:"statusCalloutIcon-xV41",statusCallout:"statusCallout-mQlb",statusCalloutPoor:"statusCalloutPoor-+IlP",statusCalloutFair:"statusCalloutFair-cIJu",statusCalloutTitle:"statusCalloutTitle-BmQr",statusExplanation:"statusExplanation-SKPF",statusExplanationTitle:"statusExplanationTitle-kIA7",statusSuggestions:"statusSuggestions-+4Be",statusSuggestionsTitle:"statusSuggestionsTitle-7q+D",audioModeContainer:"audioModeContainer-4kYY",audioModeContainerTitle:"audioModeContainerTitle-2dMb",performancePanel:"performancePanel-KRVD",performanceDetailsPanel:"performanceDetailsPanel-Cmy5",subHeading:"subHeading-lBhy",rowButton:"rowButton-ZWea",iconContainer:"iconContainer-+olD",actionIndicatorIcon:"actionIndicatorIcon-kTC8",isSelected:"isSelected-trBq",flexWrapper:"flexWrapper-zydV"},V=o(13),W=o(21);const K={small:"5em",medium:"6em"},$=e=>{let{chartBarColors:t,inverted:o,score:i,size:a="medium"}=e;const s=Object(n.useRef)(),{initChart:r,updateChart:c,resizeChart:l,updateScore:d}=Object(n.useMemo)(()=>(e=>{let{showLabels:t,chartBarColors:o,inverted:i}=e;const a=o||{ok:"#14BE9E",warning:"#FCDE6D",critical:"#FF7E6C"};let n=160,s=48,r=154,c=36,l=V.f.OK,d=[],u=0;const m=Object.values(V.f).length-1,p=Object.values(V.f);i&&p.reverse();const b=e=>{const o=e.parentElement;n=o.offsetWidth||n,s=o.offsetHeight||s,r=n-(t?58:6),c=s-24},g=(e,t)=>{e.drawImage(e.canvas,3+t,6,r,c,3,6,r,c)},h=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=p.indexOf(t),n=12*o;e.fillStyle="#fff",e.fillRect(3+r-12-n,6,12,c),e.fillStyle="#CCC",e.fillRect(3+r-12-n,6,12,1),e.fillStyle="#CCC",e.fillRect(3+r-12-n,Math.round(6+c/2),12,1),e.fillStyle=a[t],e.fillRect(3+r-6-n,6+c,6,-Math.round(i/m*c)-(t===p[0]?10:0))};return{initChart:e=>{b(e),e.width=n,e.height=s;const o=e.getContext("2d");o.fillStyle="#fff",o.fillRect(0,0,n,s),o.fillStyle="#CCC",o.fillRect(3,6,r+2,1),o.fillRect(3,6+Math.round(c/2),r+2,1),o.fillStyle="#000",o.fillRect(3,6+c,r+2,1),t&&(o.font="normal 12px Helvetica,Arial,sans-serif",o.textBaseline="top",o.fillStyle="#666",o.fillText(V.f.OK,3+r+6,0),o.fillText(V.f.WARNING,3+r+6,Math.round(6+c/2)-6),o.fillText(V.f.CRITICAL,3+r+6,6+c-6))},updateScore:e=>{l=e||"ok"},updateChart:e=>{if("visible"!==document.visibilityState)return d.push(l),void(d.length>Math.ceil(n/12)&&d.shift());const t=l,o=e.getContext("2d");let i;const a=e=>{if(u>0){i||(i=e);if(e-i>600)return g(o,u),h(o,t),void(u=0);g(o,1),u-=1,requestAnimationFrame(a)}else h(o,t)};d.length>0&&(g(o,12*d.length),d.forEach((e,t)=>h(o,e,d.length-t)),d=[]),u>0&&(g(o,u),h(o,t)),u=12,requestAnimationFrame(a)},resizeChart:b}})({showLabels:!1,chartBarColors:t,inverted:o}),[]);return Object(n.useEffect)(()=>{r(s.current)},[r]),Object(n.useEffect)(()=>d(i),[i,d]),Object(n.useEffect)(()=>{if(!s.current)return;let e;const t=()=>{s.current&&c(s.current);const o=1e3-Date.now()%1e3;e=setTimeout(t,o)};return t(),()=>clearTimeout(e)},[c,l,s]),Object(f.jsx)("div",{style:{height:K[a],display:"flex",flexDirection:"row"},children:Object(f.jsx)("canvas",{ref:s})})};$.propTypes={chartBarColors:a.a.object,inverted:a.a.bool,score:a.a.oneOf(Object.values(V.f)).isRequired,size:a.a.oneOf(["small","medium","large"])};var Q=$,Y=o(189),J=o(84);function Z(e){let{className:t,doSidebarLayerClose:o,doToggleAudioOnlyModeEnabled:i,audioOnlyModeEnabled:a,localCallQualityScores:s,remoteClients:c}=e;const[l,u]=Object(n.useState)(!1),m="PressureObserver"in window;return Object(f.jsx)(Y.a,{className:H.CallQualitySidebarContainer,body:Object(f.jsxs)("div",{className:d()(H.CallQualitySidebarContent,t),children:[Object(f.jsxs)("div",{className:H.top,"data-testid":"call-quality-sidebar-panel",children:[Object(f.jsx)("div",{}),Object(f.jsxs)("h2",{className:H.title,children:[Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-title",children:"Meeting diagnostics"})," ",Object(f.jsx)(J.a,{className:H.betaLabel,children:Object(f.jsx)(r.Localized,{id:"WhatsNewList-badge-beta",children:"Beta"})})]}),Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-close-btn",attr:{title:!0},children:Object(f.jsx)(_.y,{onClick:()=>o(U.a),title:"Close"})})]}),Object(f.jsx)("div",{className:H.content,children:c.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:d()(H.statusCallout,{[H.statusCalloutPoor]:s.total===V.f.CRITICAL,[H.statusCalloutFair]:s.total===V.f.WARNING}),children:Object(f.jsxs)("div",{className:H.statusCalloutTitle,children:[Object(f.jsx)(_.Fb,{className:H.statusCalloutIcon,modifiers:["sized"]}),(e=>{let{total:t}=e;switch(t){case V.f.WARNING:return Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-fair-network-callout",children:"Your connection is fair"});case V.f.CRITICAL:return Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-poor-network-callout",children:"Your connection is poor"});default:return Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-good-network-callout",children:"Your connection is ok"})}})(s)]})}),Object(f.jsxs)("div",{className:H.performancePanel,children:[Object(f.jsx)("button",{className:d()(H.rowButton,{[H.isSelected]:l}),onClick:()=>{u(!l)},children:Object(f.jsxs)("span",{className:H.flexWrapper,children:[Object(f.jsx)("span",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-performance-breakdown-title",children:"Overview"})}),Object(f.jsx)("div",{className:H.iconContainer,children:Object(f.jsx)(_.i,{modifiers:["sized"],className:H.actionIndicatorIcon})})]})}),Object(f.jsx)(Q,{score:s.total}),l&&Object(f.jsxs)("div",{className:H.performanceDetailsPanel,children:[Object(f.jsx)("div",{className:H.subHeading,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-performance-breakdown-audio-title",children:"Audio transmission"})}),Object(f.jsx)(Q,{score:s.audio,size:"small"}),Object(f.jsx)("div",{className:H.subHeading,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-performance-breakdown-video-title",children:"Video transmission"})}),Object(f.jsx)(Q,{score:s.video,size:"small"}),m&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:H.subHeading,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-performance-breakdown-cpu-title",children:"CPU usage (your system's performance)"})}),Object(f.jsx)(Q,{inverted:!0,score:s.cpu,size:"small"})]})]})]}),s.total===V.f.CRITICAL&&Object(f.jsxs)("div",{className:H.statusExplanation,children:[Object(f.jsx)("div",{className:H.statusExplanationTitle,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-status-explaination-title",children:"What does this mean?"})}),Object(f.jsx)("div",{className:H.statusExplanationText,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-status-explaination-text",children:"You may experience distorted or frozen audio and video."})})]}),Object(f.jsxs)("div",{className:H.statusSuggestions,children:[Object(f.jsxs)("div",{className:H.statusSuggestionsTitle,children:[Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-network-tips-title",children:"Tips for better performance"}),":"]}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-network-tips-suggestion-one",children:"Close unnecessary apps/tabs"})}),Object(f.jsx)("li",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-network-tips-suggestion-two",children:"Try an alternative network"})}),Object(f.jsx)("li",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-network-tips-suggestion-three",children:"Move closer to the router"})}),Object(f.jsx)("li",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-network-tips-suggestion-four",children:"Disable videos"})})]})]})]}):Object(f.jsxs)("div",{className:H.noDataContainer,"data-testid":"call-quality-sidebar-no-data-container",children:[Object(f.jsx)("div",{className:H.noDataIconContainer,children:Object(f.jsx)(_.Fb,{className:H.noDataIcon,modifiers:["sized"]})}),Object(f.jsx)("p",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-no-data-text",children:"You'll see data here when more people join the call"})})]})}),Object(f.jsx)("div",{className:H.footer,children:Object(f.jsxs)("div",{className:H.audioModeContainer,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:H.audioModeContainerTitle,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-audio-only-mode-toggle-title",children:"Disable videos"})}),Object(f.jsx)("div",{children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-audio-only-mode-toggle-description",children:"Turn off all videos including your camera to improve performance"})})]}),Object(f.jsx)("div",{children:Object(f.jsx)(_.Sb,{size:"small",onToggle:()=>i(!a,{context:"call-quality-sidebar"}),isActive:a,"data-testid":"jstest-room-audio-only-mode-toggle"})})]})})]})})}function X(e){let{doSidebarLayerClose:t,error:o}=e;return Object(f.jsxs)("section",{className:H.CallQualitySidebar,children:[Object(f.jsx)("div",{className:H.top,children:Object(f.jsx)(r.Localized,{id:"CallQualitySidebar-close-btn",attr:{title:!0},children:Object(f.jsx)(_.y,{onClick:()=>t(U.a),title:"Close"})})}),Object(f.jsx)("div",{className:H.content,children:Object(f.jsx)(x.a,{error:o})})]})}Z.propTypes={audioOnlyModeEnabled:a.a.bool.isRequired,className:a.a.string,doSidebarLayerClose:a.a.func.isRequired,doToggleAudioOnlyModeEnabled:a.a.func.isRequired,localCallQualityScores:W.c,remoteClients:a.a.array.isRequired},X.propTypes={doSidebarLayerClose:a.a.func,error:a.a.object};var ee=Object(y.b)(Object(s.b)("doSidebarLayerClose","doToggleAudioOnlyModeEnabled","selectAudioOnlyModeEnabled","selectLocalCallQualityScores","selectRemoteClients",Z),{fallback:Object(s.b)("doSidebarLayerClose",X)});function te(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const oe=Object(n.lazy)(()=>Promise.all([o.e(1),o.e(3)]).then(o.bind(null,471))),ie=Object(n.lazy)(()=>o.e(11).then(o.bind(null,492))),ae=Object(n.lazy)(()=>Promise.all([o.e(1),o.e(3),o.e(17)]).then(o.bind(null,493))),ne=Object(n.lazy)(()=>o.e(10).then(o.bind(null,490))),se=Object(n.lazy)(()=>o.e(9).then(o.bind(null,491))),re=Object(n.lazy)(()=>o.e(18).then(o.bind(null,496)));class ce extends n.Component{constructor(){super(...arguments),te(this,"handleToggleChat",()=>{const{doSidebarPane:e,isChatOpen:t}=this.props;e(t?null:U.g)}),te(this,"handleToggleParticipantList",()=>{const{doSidebarPane:e,isPeopleOpen:t}=this.props;e(t?null:U.h)}),te(this,"handleToggleSidebarPane",e=>{const{doSidebarPane:t}=this.props;t(e.id)}),te(this,"handleClose",()=>{const{doSidebarPane:e}=this.props;e(null)})}render(){const{breakoutIsEditing:e,canManageCoLocation:t,coLocationActive:o,coLocationAvailable:i,coLocationIsEditing:a,doSidebarLayerClose:s,sidebarLayers:l,isChatOpen:d,isPeopleOpen:u,isConstrained:m,prefs:p}=this.props,b={[U.d]:()=>Object(f.jsx)(R,{isConstrained:m,children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(O,{}),children:Object(f.jsx)(ae,{})})},"onboarding"),[U.e]:()=>Object(f.jsx)(R,{isConstrained:m,children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(O,{}),children:Object(f.jsx)(se,{})})},"signup"),[U.c]:()=>Object(f.jsx)(R,{isConstrained:m,children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(O,{}),children:Object(f.jsx)(ie,{})})},"login"),[U.f]:()=>Object(f.jsx)(R,{isConstrained:m,isSquare:!0,children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(O,{}),children:Object(f.jsx)(oe,{sidebarLayer:U.f,onClose:()=>s(U.f)})})},"whats-new"),[U.b]:()=>Object(f.jsx)(R,{isConstrained:m,isSquare:!0,children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(O,{}),children:Object(f.jsx)(re,{})})},"downloads"),[U.a]:()=>Object(f.jsx)(R,{isConstrained:m,isSquare:!0,children:Object(f.jsx)(ee,{})},"call-quality")},g=l.filter(e=>{let{isOpen:t}=e;return!!t}).map(e=>{let{id:t}=e;return null==b?void 0:b[t]()});return(d||u)&&g.push(Object(f.jsx)(G,{hideHeader:e||a,hideBorder:i&&t&&u&&!o,onToggle:this.handleToggleSidebarPane,onClose:this.handleClose,panes:[!1!==p.chat?{id:U.g,label:Object(f.jsx)(r.Localized,{id:"InCallChatTab-name",children:U.g}),content:Object(f.jsx)(k,{}),isActive:d}:null,!1!==p.people?{id:U.h,label:Object(f.jsx)(r.Localized,{id:"InCallPeopleTab-name",children:U.h}),content:Object(f.jsx)(ne,{breakoutIsEditing:e,coLocationIsEditing:a}),isActive:u}:null].filter(Boolean)},"sidebar-panes")),Object(f.jsx)("div",{className:c,children:Object(f.jsx)(n.Suspense,{fallback:null,children:g})})}}ce.propTypes={breakoutIsEditing:a.a.bool.isRequired,canManageCoLocation:a.a.bool.isRequired,coLocationActive:a.a.bool.isRequired,coLocationAvailable:a.a.bool.isRequired,coLocationIsEditing:a.a.bool.isRequired,doSidebarLayerClose:a.a.func.isRequired,doSidebarPane:a.a.func.isRequired,isChatOpen:a.a.bool.isRequired,isConstrained:a.a.bool.isRequired,isPeopleOpen:a.a.bool.isRequired,prefs:a.a.object.isRequired,sidebarLayers:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,isOpen:a.a.bool})).isRequired};t.a=Object(s.b)("doSidebarPane","doSidebarLayerClose","selectBreakoutIsEditing","selectCanManageCoLocation","selectCoLocationActive","selectCoLocationAvailable","selectCoLocationIsEditing","selectIsChatOpen","selectIsPeopleOpen","selectPrefs","selectSidebarLayers",Object(n.memo)(ce))},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c=o(4),l=o(3),d=o(174),u="ChatMessageInput-HVN1",m="isMultiline-9iut",p="isReplying-phYy",b="inputWrapper-Ni6D",g="input-JYqQ",h="inputReplica-nhER",j="highlighter-UC2v",f="mention-lWe3",O="submitButton-EZOo",S="chatReactions-vLIc",R="broadcastContainer-JuIn",C="broadcastWrapper-b-4J",v=o(121),y=o(114),I=o(72),E=o(34),x="container-+UXK",T="broadcast-X9-f",L="menu-THNF",k="item-x5PH",_="emoji-1xm+",N="mention-3vXr",w="selected-7gpm",A=o(48),D=o(0);function P(e){let{canBroadcast:t,isOpen:o,items:a,onSelect:n,triggered:s,type:l,featureBrandAvatarsOn:d}=e;const[u,m]=Object(i.useState)(),p=Object(i.useRef)(null),b=Object(i.useRef)(null);function g(e){s&&("ArrowDown"===e.key&&(e.preventDefault(),m(e=>e!==a.length-1?e+1:0)),"ArrowUp"===e.key&&(e.preventDefault(),m(e=>0!==e?e-1:a.length-1)),"Enter"===e.key&&!e.shiftKey&&a.length&&n(a[u]))}return Object(i.useEffect)(()=>{a.length&&m(a.indexOf(a[0]))},[a]),Object(i.useEffect)(()=>{void 0!==u&&p.current&&b.current&&(b.current.offsetTop-p.current.offsetHeight+b.current.offsetHeight>p.current.scrollTop||b.current.offsetTop<p.current.scrollTop+b.current.offsetHeight)&&b.current.scrollIntoView()},[u]),Object(i.useEffect)(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g))),Object(D.jsx)(D.Fragment,{children:o&&a.length?Object(D.jsx)("div",{className:r()(x,{[T]:t}),ref:p,"data-testid":"chatmessage-emoji-autocomplete",children:Object(D.jsx)(c.db,{className:L,children:a.map((e,t)=>Object(D.jsxs)("button",{className:r()(k,{[w]:t===u}),ref:t===u?b:void 0,onClick:()=>n(e),children:["emoji"===l&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("span",{className:_,children:e[1]})," ",e[0]]}),"mention"===l&&Object(D.jsxs)("div",{className:N,children:[d?Object(D.jsx)(A.a,{avatarUrl:e.avatarUrl,modifiers:["square"],name:e.displayName,size:40,"aria-hidden":"true"}):Object(D.jsx)(c.g,{avatarUrl:e.avatarUrl,modifiers:["square"],name:e.displayName,size:40,"aria-hidden":"true"}),Object(D.jsx)("span",{children:e.displayName})]})]},"emoji"===l?e:e.clientId||t))})}):null})}P.propTypes={canBroadcast:n.a.bool,featureBrandAvatarsOn:n.a.bool,isOpen:n.a.bool,items:n.a.array.isRequired,onSelect:n.a.func.isRequired,triggered:n.a.object,type:n.a.oneOf(["emoji","mention"])};var M=P;var F=o(47),B=o(69),q="fileShareButton-7wEO",z="fileShareDisabledButton-8bb3",G=o(105);function U(e){let{openFilePicker:t,fileSharingSessionActive:o}=e;return Object(D.jsx)(D.Fragment,{children:o?Object(D.jsx)(l.Localized,{id:"ChatMessage-file-picker",attrs:{"aria-label":!0,title:!0},children:Object(D.jsx)(G.a,{className:q,onClick:t,"data-testid":"ChatMessage-file-picker-toggle","aria-label":"Open file picker",title:"Open file picker",name:"file-picker",children:Object(D.jsx)(c.kb,{modifiers:["sized","darkGrey","primary"]})})}):Object(D.jsx)(c.Tb,{content:Object(D.jsx)(l.Localized,{id:"ChatMessage-file-picker-disabled",children:"Share files when more people join the meeting."}),position:"top",children:Object(D.jsx)("button",{className:z,children:Object(D.jsx)(c.kb,{modifiers:["sized","grey"]})})})})}var H=U;U.propTypes={fileSharingSessionActive:n.a.bool,openFilePicker:n.a.func};const V=[{key:"@",id:"mention"},{key:":",id:"emoji"}];function W(e){let{autoFocus:t=!1,canBroadcast:o,chatFilesToShare:a,chatFileSharingEnabled:n,chatFileSharingSessionActive:s,chatIsUploadingFiles:x,chatUnusedMessage:T,clients:L,doChatEmojiAutoCompleteAnalytics:k,emojiSkinTone:_,featureBrandAvatarsOn:N,hideEmojiPicker:w,isMultiline:A=!1,isReplying:P=!1,onMessageSubmit:q,onReplyCancel:z=(()=>{}),onSetStickyReaction:G,openFilePicker:U,setChatUnusedMessage:W,stickyReaction:K}=e;const{isMenuVisible:$,setIsMenuVisible:Q,onCloseMenu:Y}=Object(E.a)(),J=A?"textarea":"input",[Z,X]=Object(i.useState)(null),[ee,te]=Object(i.useState)(T),[oe,ie]=Object(i.useState)(!1),ae=Object(i.useRef)(),[ne,se]=Object(i.useState)([]),[re,ce]=Object(i.useState)(!1),{resetInputTrigger:le,triggered:de,triggerStartPosition:ue,searchValue:me,setTriggered:pe,setTriggerStartPosition:be}=function(e){let{inputRef:t,triggers:o,value:a}=e;const[n,s]=Object(i.useState)(null),[r,c]=Object(i.useState)(null),[l,d]=Object(i.useState)(""),u=Object(i.useCallback)(()=>{s(null),c(null),d("")},[]);function m(e){const{selectionStart:t}=e.target;o.some(t=>t.key===e.key)&&(n||(s(o.find(t=>t.key===e.key)),c(t)),n&&l.split(e.key).length<=1&&u())}function p(e){const{selectionStart:t}=e.target;n&&"Backspace"===e.key&&t<=r&&u()}return Object(i.useEffect)(()=>(window.addEventListener("keydown",m),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",p)})),Object(i.useEffect)(()=>{if(n&&null!=t&&t.current){const{selectionStart:e}=t.current,o=a.substring(0,e);d(o.slice(r,o.length))}},[t,a,n,r]),{triggered:n,triggerStartPosition:r,searchValue:l,resetInputTrigger:u,setTriggered:s,setTriggerStartPosition:c}}({inputRef:ae,triggers:V,value:ee}),[ge,he]=Object(i.useState)([]),je=Object(i.useRef)(),fe=Object(i.useCallback)(e=>{const t=e.length,o=ae.current,{selectionStart:i,selectionEnd:a}=o;X(i+t),te(t=>`${t.substring(0,i)}${e}${t.substring(a)}`)},[X,te]),Oe=Object(i.useMemo)(()=>Object(I.a)(e=>W(e),{edges:!1}),[W]);function Se(){const e=ee.replace(/(\n|\r|\r\n){3,}/g,"\n\n").trim();if(!e&&(null==a||!a.length))return;const t=A?function(e,t){return e.split(new RegExp(`(${Object(F.h)(t)})`,"g")).map(e=>{if(e.startsWith("@")){const o=e.slice(1);return t.find(e=>e.displayName===o)}return null}).filter(e=>!!e)}(e,L):[];q(e,oe,t),te(""),Ce(),he([])}function Re(){ae.current.focus()}Object(i.useEffect)(()=>{Oe(ee)},[ee,Oe]),Object(i.useEffect)(()=>{(null!==Z||t)&&requestAnimationFrame(()=>{const e=ae.current;e&&(e.focus(),Z&&(e.selectionStart=Z,e.selectionEnd=Z))})},[Z,t]),Object(i.useEffect)(()=>{P&&ae.current&&ae.current.focus()},[P]);const Ce=Object(i.useCallback)(()=>{le(),Y()},[Y,le]),ve=Object(i.useCallback)(e=>{if(de){if("emoji"===de.id){const t=Object(v.a)(B.a[_])[e[0].replace(/:/g,"")],o=t.length;X(ue+o+1),te(e=>`${e.substring(0,ue)}${t} ${e.substring(ue+me.length)}`),k()}else if("mention"===de.id){const t=e.displayName.length+1;X(ue+t+1),te(t=>`${t.substring(0,ue)}@${e.displayName} ${t.substring(ue+me.length)}`)}Ce()}},[X,te,_,me,ue,Ce,k,de]),ye=Object(i.useCallback)(()=>{const e=Object(v.a)(B.a[_]);if(me.length>2){Q(!0),se(function(e,t){return Object.entries(e).map(e=>{let[t,o]=e;return[`:${t}:`,""+o]}).filter(e=>{let[o]=e;return t.includes("_")?o.startsWith(t.toLowerCase()):o.split("_").some(e=>e.replace(/:/g,"").startsWith(t.replace(/:/g,"").toLowerCase()))}).sort((e,o)=>{let[i]=e,[a]=o;return a.startsWith(t)-i.startsWith(t)}).slice(0,25)}(e,me));const t=Object.entries(e).find(e=>{let[t]=e;return`:${t}:`===me.toLowerCase()});t&&ve(t)}else Y()},[_,me,Q,se,Y,ve]),Ie=Object(i.useCallback)(()=>{me.length?(Q(!0),se(L.filter(e=>e.displayName.toLowerCase().startsWith(me.replace(/@/g,"").toLowerCase())))):Y()},[L,Q,se,me,Y]);function Ee(){requestAnimationFrame(()=>function(){const e=ae.current,t=je.current;e&&t&&(t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft)}())}return Object(i.useEffect)(()=>{de&&A?("emoji"===(null==de?void 0:de.id)&&ye(),"mention"===(null==de?void 0:de.id)&&Ie()):Y()},[de,A,Y,ye,Ie]),Object(i.useEffect)(()=>{L&&L.length&&he(Object(F.j)(ee,Object(d.a)(),L))},[ee,L]),Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x||(ie(!1),Se())},"aria-labelledby":"chat-label",children:[Object(D.jsx)(c.ac,{children:Object(D.jsx)("span",{id:"chat-label",children:Object(D.jsx)(l.Localized,{id:"Chat-label",children:"Chat"})})}),Object(D.jsx)(M,{canBroadcast:o,featureBrandAvatarsOn:N,isOpen:$,items:ne,onClose:Y,onSelect:ve,triggered:de,type:null==de?void 0:de.id}),Object(D.jsxs)("div",{className:r()(u,{[m]:A,[p]:P}),children:[!w&&Object(D.jsx)(y.a,{emojiSkinTone:_,onSelect:fe,onSetStickyReaction:G,stickyReaction:K,children:e=>{let{onToggle:t}=e;return Object(D.jsx)(l.Localized,{id:"Chat-emoji-picker-toggle",attrs:{"aria-label":!0,title:!0},children:Object(D.jsx)("button",{type:"button",onClick:t,className:S,"data-testid":"chatmessage-emoji-picker-toggle","aria-label":"Open emoji picker",title:"Open emoji picker",children:Object(D.jsx)(c.Ib,{modifiers:["sized","primary"]})})})}}),n&&A?Object(D.jsx)(H,{openFilePicker:U,fileSharingSessionActive:s}):null,Object(D.jsxs)("div",{className:r()(b),children:[Object(D.jsx)(l.Localized,{id:P?"Chat-input-field-reply":"Chat-input-field",attrs:{placeholder:!0},children:Object(D.jsx)(J,{autoComplete:"off",name:"message",placeholder:"Send a chat message...",className:g,value:ee,onChange:function(e){te(e.target.value)},maxLength:"1000",ref:ae,onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||re||(e.preventDefault(),$&&ne.length||Se()),([" ","Esc","Escape"].includes(e.key)||"Enter"===e.key&&e.shiftKey)&&Y(),P&&["Esc","Escape"].includes(e.key)&&z()},onKeyUp:function(e){const{selectionStart:t}=e.target;"Backspace"===e.key&&(de||"@"!==ee.substring(t-1,t)||(pe({key:"@",id:"mention"}),be(t-1)))},"data-testid":"chatmessage-input-field",onScroll:Ee,onCompositionStart:()=>ce(!0),onCompositionEnd:()=>ce(!1)})}),A&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:h,"aria-hidden":"true","data-testid":"chatmessage-input-replica",children:ee+" "}),Object(D.jsxs)("div",{ref:je,className:j,onScroll:Ee,children:[ge.map(e=>e.mention?Object(D.jsx)("span",{className:f,onClick:Re,"data-testid":"chatmessage-mention",children:e.text},e.id):Object(D.jsx)("span",{children:e.text},e.id))," "]})]})]}),Object(D.jsx)(l.Localized,{id:"Chat-input-button",children:Object(D.jsx)(c.k,{disabled:x,type:"submit",modifiers:["extraSmall","primary","invisible"],className:O,"data-testid":"chatmessage-send-button",children:"Send"})})]}),o&&Object(D.jsx)("div",{className:R,children:Object(D.jsx)("div",{className:C,children:Object(D.jsx)(l.Localized,{id:"Chat-checkbox-broadcast",attrs:{label:!0},children:Object(D.jsx)(c.w,{checked:oe,label:"Broadcast to all groups",modifiers:["small"],onChange:function(e){ie(e.target.checked)}})})})})]})}W.propTypes={autoFocus:n.a.bool,canBroadcast:n.a.bool.isRequired,chatFileSharingEnabled:n.a.bool,chatFileSharingSessionActive:n.a.bool,chatFilesToShare:n.a.array,chatIsUploadingFiles:n.a.bool,chatUnusedMessage:n.a.string.isRequired,clients:n.a.array,doChatEmojiAutoCompleteAnalytics:n.a.func.isRequired,emojiSkinTone:n.a.string,featureBrandAvatarsOn:n.a.bool,hideEmojiPicker:n.a.bool,isMultiline:n.a.bool,isReplying:n.a.bool,onMessageSubmit:n.a.func.isRequired,onReplyCancel:n.a.func,onSetStickyReaction:n.a.func.isRequired,openFilePicker:n.a.func,setChatUnusedMessage:n.a.func.isRequired,stickyReaction:n.a.object};t.a=W},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="SplitLayout-ttjq",c="content-l+11",l="sidebarContainer-1B5C",d="isFullscreen-HAgt",u="clearTopToolbar-Q+zs",m="isFloating-wpLt",p="sidebarContent-MlxQ",b=o(2),g="Scrollbar-EDRF",h="bar-lPs3",j=o(147),f=o(0);const O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{containerHeight:window.innerHeight-e,scrollHeight:document.documentElement.scrollHeight-e}},S=()=>window.scrollY,R=e=>{let{offset:t,containerHeight:o,scrollHeight:i}=e;return t/i*o},C=e=>{let{offset:t,containerHeight:o,scrollHeight:i}=e;return t/o*i},v=e=>{let{scrollY:t,containerHeight:o,scrollHeight:i,padding:a=0}=e;const n=i>o;return{height:n?o/i*o-2*a:0,top:n?R({offset:t,containerHeight:o,scrollHeight:i})+a:i,hasScroll:n}};function y(e){let{offsetTop:t=0,padding:o=4,style:i}=e;const a=Object(b.useRef)(null),n=Object(b.useRef)(null),s=Object(b.useCallback)(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(a.current){const{containerHeight:e,scrollHeight:i}=O(t),{top:n,height:s,hasScroll:r}=v({scrollY:S(),containerHeight:e,scrollHeight:i,padding:o});Object.assign(a.current.style,{height:s+"px",transform:`translateY(${n}px`,display:r?"block":"none"})}n.current=null})},[t,o]);Object(b.useLayoutEffect)(()=>{s()}),Object(b.useEffect)(()=>(window.onscroll=s,()=>{window.onscroll=null}),[s]);const r=Object(b.useRef)(0),c=Object(j.a)(e=>{let{isFirstEvent:i,isActive:a,xy:n,delta:s}=e;i&&(r.current=S());const{containerHeight:c,scrollHeight:l}=O(t),{top:d,height:u}=v({scrollY:r.current,containerHeight:c,scrollHeight:l,padding:o}),m=n[1];if(i&&(m<d||m>d+u)){const e=C({offset:m<d?m-d:-1*(d+u-m),containerHeight:c,scrollHeight:l});r.current=Math.min(Math.max(r.current+e,0),l),window.scrollTo({top:r.current})}else if(a){const e=C({offset:-1*s[1],containerHeight:c,scrollHeight:l});window.scrollTo({top:Math.min(Math.max(r.current+e,0),l)})}});return Object(f.jsx)("div",{role:"presentation",className:g,style:i,...c(),children:Object(f.jsx)("div",{ref:a,role:"presentation",className:h,tabIndex:-1})})}y.propTypes={offsetTop:a.a.number,padding:a.a.number,style:a.a.object};var I=y,E=o(12);function x(e){let{className:t,content:o,frame:i,hasTopToolbar:a,isConstrained:n,isPortrait:b,isSidebarFloating:g,sidebar:h,sidebarWidth:j}=e;const O=s()(r,t,{[m]:!n&&g}),S=s()(l,"jstest-sidebar",{[d]:n,[u]:a&&n&&b,[m]:!n&&g}),R={width:i.bounds.width-(h&&!g?j:0),left:i.origin.left},C={width:n||g?"100%":j,paddingLeft:!n&&g?i.bounds.width-j:0},v={width:n?"100%":j},y={right:h&&!g?j:0};return Object(f.jsxs)("div",{className:O,children:[Object(f.jsx)("div",{className:c,style:R,children:o}),!!h&&Object(f.jsx)("div",{className:S,style:C,children:Object(f.jsx)("div",{className:p,style:v,children:h})}),Object(f.jsx)(I,{style:y,offsetTop:i.origin.top})]})}x.propTypes={className:a.a.string,content:a.a.node.isRequired,frame:E.d.isRequired,hasTopToolbar:a.a.bool.isRequired,isConstrained:a.a.bool.isRequired,isPortrait:a.a.bool.isRequired,isSidebarFloating:a.a.bool.isRequired,sidebar:a.a.element,sidebarWidth:a.a.number.isRequired};t.a=x},function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var i=o(7),a=o(149),n=o.n(a),s=o(10),r=o(20);var c=o(95),l=o(47);const d={reaction(e){var t;let{reactions:o={},userMetadata:i,chatMessage:a,selfId:n}=e;const{id:s,senderId:r,text:c}=a,{displayName:l}=i||{},d=[...(null==(t=o[c])?void 0:t.data)||[],{id:s,senderId:r,displayName:l}],u=d.reduce((e,t)=>{let{displayName:o,id:i,senderId:a}=t;const s=e.findIndex(e=>e.displayName===o);return-1===s?e[n===a?"unshift":"push"]({displayName:o,id:i,count:1}):e[s]={...e[s],count:e[s].count+1},e},[]),m=u.slice(0,3),p=u.length-m.length;return{reactions:{...o,[c]:{data:d,totalCount:d.length,tooltipSubset:m,tooltipLeftoverCount:p}}}},broadcast(e){let{messages:t=[],userMetadata:o,chatMessage:i,urlMetadata:a,selfId:n}=e;return{...o,senderId:i.senderId,fromSelf:n===i.senderId,messages:[...t,{...i,urlMetadata:a}]}},chatMessage(e){let{messages:t=[],userMetadata:o,chatMessage:i,urlMetadata:a,selfId:n}=e;return{...o,senderId:i.senderId,fromSelf:n===i.senderId,mentions:i.mentions,messages:[...t,{...i,urlMetadata:a}]}},chatLogMessage(){return this.chatMessage(...arguments)}},u=e=>{let{chatMessage:t,type:o,selfId:i,userMetadata:a,urlMetadata:n,prepend:s={messages:[],reactions:{}}}=e;return{id:t.id+"_group",type:o,timestamp:t.timestamp,...d[o]({chatMessage:t,userMetadata:a,selfId:i,urlMetadata:n,...s})}},m=e=>new Date(6e4*Math.floor(e/6e4)),p=e=>{let{prevChatMessageGroup:t,chatMessage:o}=e;return Math.abs(m(t.timestamp)-m(o.timestamp))<6e4};const b=e=>{let{prevChatMessageGroup:t,chatMessage:o,userMetadata:i,localClientId:a,urlMetadata:n}=e;return{...t,...d[t.type]({chatMessage:o,urlMetadata:n,userMetadata:i,selfId:a,...t})}},g=e=>{let{prevChatMessageGroup:t,chatMessage:o,localClientId:i,userMetadata:a}=e;const[n]=t.messages.slice(-1),s=t.messages.slice(0,-1);return[...s.length>0?[{...t,messages:s}]:[],u({chatMessage:o,selfId:i,userMetadata:a,type:o.type,prepend:{...d[o.type]({chatMessage:n,userMetadata:{displayName:t.displayName},selfId:n.senderId})}})]};function h(e){let{chatMessageGroups:t,chatMessage:o,chatUrlMetadata:i,chatUsersByClientId:a,localClientId:n}=e;const[s]=t.slice(-1),{senderId:r,previewUrl:c}=o,l=a[r],d=i[c];return function(e){let{prevChatMessageGroup:t,chatMessage:o}=e;if(!t)return!1;if("broadcast"===t.type&&!o.broadcast)return!1;if("broadcast"!==t.type&&o.broadcast)return!1;if("reaction"===t.type&&("reaction"!==o.type||"reaction"===o.type&&o.parentId))return!1;if("reaction"===t.type&&"reaction"===o.type&&!o.parentId)return p({prevChatMessageGroup:t,chatMessage:o});const[i]=t.messages.slice(-1);return!!("reaction"!==(null==i?void 0:i.type)||null!=i&&i.parentId||"reaction"!==o.type||o.parentId)&&(t.senderId===o.senderId&&p({prevChatMessageGroup:t,chatMessage:o}))}({prevChatMessageGroup:s,chatMessage:o})?[...t.slice(0,-1),b({prevChatMessageGroup:s,chatMessage:o,userMetadata:l,urlMetadata:d,localClientId:n})]:(e=>{let{prevChatMessageGroup:t,chatMessage:o}=e;return!!t&&("chatMessage"===t.type&&"reaction"===t.messages.slice(-1)[0].type&&"reaction"===o.type&&!o.parentId&&p({prevChatMessageGroup:t,chatMessage:o}))})({prevChatMessageGroup:s,chatMessage:o})?[...t.slice(0,-1),...g({prevChatMessageGroup:s,chatMessage:o,localClientId:n,userMetadata:l})]:[...t,u({chatMessage:o,selfId:n,userMetadata:l,urlMetadata:d,type:"chatLogMessage"===o.type?"chatLogMessage":o.broadcast?"broadcast":"chatMessage"})]}var j=o(16);const f={chatUnusedMessage:"",chatMessages:[],isChatOpen:!1,unreadMentions:[],unreadMessages:[],skipCountForClientId:null,urlMetadata:{},fetchCached:null,fetchCachedError:null,filesToShare:[]},O=3e3,S=function(e){const t=[];function o(e){const o=t.indexOf(e);t.splice(o,1)}function i(){const e=t.findIndex(e=>void 0===e.isRunning);if(e<0)return;const o=t[e];o.isRunning=!0,o()}return{runWorker:function(a){return new Promise((n,s)=>{const r=()=>a().then(e=>{o(r),n(e),i()}).catch(e=>{o(r),s(e),i()});t.push(r),t.length<=e&&(r.isRunning=!0,r())})},workers:t}}(2);let R;function C(e){let{file:t,uploadUrl:o,dispatch:i,store:a}=e;const n=new FormData;n.append("Content-Type",t.type),Object.keys(o.fields).forEach(e=>n.append(e,o.fields[e])),n.append("file",t),fetch(o.url,{method:"POST",body:n}).then(e=>{e.ok||(console.error("Failed to upload via presigned POST"),i({type:"CHAT_FILE_UPLOAD_FAILED",payload:{file:t,error:e}}),a.doSetNotification("fileUploadFailed")),i({type:"CHAT_FILE_UPLOAD_COMPLETED",payload:t.name})}).catch(e=>{console.error("Failed to upload via presigned POST",e),i({type:"CHAT_FILE_UPLOAD_FAILED",payload:{file:t,error:e}}),a.doSetNotification("fileUploadFailed")})}function v(e,t,o){const i=e.filesToShare.find(e=>e.name===t);if(!i)return console.error("Did not find file for update "+t),e;const a=e.filesToShare.indexOf(i),n=[...e.filesToShare];return n.splice(a,1,{...i,...o}),{...e,filesToShare:n}}t.b={name:"chat",init:()=>{R=Object(c.a)()},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"CHAT_ADD_FILES_TO_SHARE":return{...e,filesToShare:[...e.filesToShare,...o]};case"CHAT_FILE_TO_SHARE_REPLACED":return v(e,o.name,o);case"CHAT_FILE_UPLOAD_COMPLETED":return v(e,o,{isUploading:!1});case"CHAT_FILE_UPLOAD_FAILED":return v(e,o.file.name,{isUploading:!1,error:o.error});case"CHAT_FILE_REMOVED":return{...e,filesToShare:e.filesToShare.filter(e=>e!==o)};case"CHAT_LOG":return{...e,chatMessages:[...e.chatMessages,o]};case s.a.CHAT_MESSAGE:{var i;const t=Object(l.c)(o),a=(null==(i=t.mentions)?void 0:i.length)>0,n=!e.isChatOpen&&"chatMessage"===t.type&&!Object(l.f)(t.text)&&(e.skipCountForClientId?t.senderId!==e.skipCountForClientId:a||!document.hasFocus());if(Object(l.g)(t)){const o=e.chatMessages.findIndex(e=>{let{id:o}=e;return o===t.parentId});if(-1!==o){const i=Object(l.a)({chatMessage:t,parentChatMessage:e.chatMessages[o]});return{...e,chatMessages:[...e.chatMessages,i]}}}return{...e,chatMessages:[...e.chatMessages,t],unreadMentions:n&&a?[...e.unreadMentions,t]:e.unreadMentions,unreadMessages:n?[...e.unreadMessages,t]:e.unreadMessages}}case s.a.CHAT_MESSAGE_REMOVED:return{...e,chatMessages:e.chatMessages.map(e=>e.id!==o.id?e.replyingTo&&e.replyingTo.id===o.id?{...e,replyingTo:{...e.replyingTo,removed:!0}}:e:Object(l.c)({...e,text:"",removed:!0}))};case s.a.ROOM_SESSION_ENDED:return{...e,chatMessages:e.chatMessages.map(e=>e.file?Object(l.c)({...e,text:"",removed:!0}):e)};case"CHAT_FETCH_CACHED_STARTED":return{...e,fetchCached:!0,fetchCachedError:null};case"CHAT_FETCH_CACHED_FINISHED":{const t=o.results.map(e=>({..."chatLogMessage"===e.type?e:e.parentId?Object(l.a)({chatMessage:e,parentChatMessage:o.results.find(t=>{let{id:o}=t;return o===e.parentId})}):Object(l.c)(e),...e.fromSelf&&{senderId:o.localClientId},cached:!0}));return{...e,fetchCached:!1,chatMessages:[...e.chatMessages,...t.filter(t=>{let{id:o}=t;return!e.chatMessages.find(e=>e.id===o)})].sort((e,t)=>e.timestamp-t.timestamp)}}case"CHAT_FETCH_CACHED_FAILED":return{...e,fetchCached:!1,fetchCachedError:o};case"CHAT_FETCH_URL_METADATA_STARTED":return{...e,urlMetadata:{[o.url]:{status:"started",url:o.url,metadata:{}},...e.urlMetadata}};case"CHAT_FETCH_URL_METADATA_FINISHED":return{...e,urlMetadata:{...e.urlMetadata,[o.url]:{status:"finished",url:o.url,metadata:o.urlMetadata}}};case"CHAT_FETCH_URL_METADATA_FAILED":return{...e,urlMetadata:{...e.urlMetadata,[o.url]:{status:"failed",url:o.url,error:o.error,metadata:{}}}};case"SIDEBAR_PANE":return{...e,...o===r.g?{isChatOpen:!0,unreadMessages:[],unreadMentions:[]}:{isChatOpen:!1}};case"CHAT_UNUSED_MESSAGE_SET":return{...e,chatUnusedMessage:o};case"CHAT_SENT":return{...e,chatUnusedMessage:"",filesToShare:[]};case"ROOM_LAYOUT_FULLSCREEN":return{...e,skipCountForClientId:o.id}}return e},getMiddleware:()=>e=>t=>o=>{var i,a;const n=e.selectRecentBroadcastMessage(),r=t(o),c=e.selectRecentBroadcastMessage(),d=e.selectRoomSessionId(),u=e.selectLocalClientId();return!c||c===n||e.selectNotifications().map(e=>e.type).includes("breakoutChatBroadcast")||e.selectIsChatOpen()||c.senderId===e.selectLocalClientId()||e.doSetNotification("breakoutChatBroadcast"),!d||"CHAT_LOG"!==o.type&&o.type!==s.a.CHAT_MESSAGE_REMOVED&&o.type!==s.a.CHAT_MESSAGE&&("BATCH_ACTIONS"!==o.type||(null==(i=o.actions[0])?void 0:i.type)!==s.a.CHAT_MESSAGE&&(null==(a=o.actions[0])?void 0:a.type)!==s.a.CHAT_MESSAGE_REMOVED)||[..."BATCH_ACTIONS"===o.type?o.actions:[o]].forEach(t=>{const[o]=t.type!==s.a.CHAT_MESSAGE_REMOVED?[t.payload]:e.selectChatMessages().filter(e=>e.id===t.payload.id).map(e=>Object(l.c)({...e,text:"",removed:!0}));o&&R.updateChat({roomSessionId:d,chatMessage:{...o,...o.senderId===u&&{fromSelf:!0}}})}),o.type===s.a.ROOM_JOINED&&e.doChatFetchCached(),r},doAddChatLog:e=>{let{data:t}=e;return{type:"CHAT_LOG",payload:Object(l.b)({clientId:t.clientId,data:t.subject,eventType:t.eventType,requestedByClientId:t.requestedByClientId,senderId:"event",started:t.started,timestamp:Date.now()})}},doChatMessageRemove:e=>{let{id:t,sig:o,file:i}=e;return{type:"CHAT_MESSAGE_REMOVE",meta:{signal:{type:"remove_chat_message",payload:{id:t,sig:o,file:i}}}}},doChatFetchCached:()=>async e=>{let{store:t,dispatch:o}=e;o({type:"CHAT_FETCH_CACHED_STARTED"});try{const e=t.selectLocalClientId(),i=t.selectRoomSessionId();o({type:"CHAT_FETCH_CACHED_FINISHED",payload:{results:await R.getChat({roomSessionId:i}),localClientId:e}})}catch(i){o({type:"CHAT_FETCH_CACHED_FAILED",payload:i})}},doChatFileUpload:e=>{let{files:t,fileRejections:o}=e;return async e=>{let{dispatch:i,store:a}=e;const n=a.selectSignalSocket_();null!=o&&o.length&&a.doSetNotification("fileUploadRejected"),t.length&&n.emit("request_file_upload_url",{files:t.map(e=>({name:e.name,size:e.size,type:e.type}))},async e=>{const o=t.map((t,o)=>{const{downloadUrl:n,uploadUrl:s}=e[o];return C({file:t,uploadUrl:s,dispatch:i,store:a}),{downloadUrl:n,isUploading:!0,name:t.name,size:t.size,type:t.type,key:s.fields.key,file:t}});i({type:"CHAT_ADD_FILES_TO_SHARE",payload:o,meta:{analytics:j.b.filesShared({numFiles:o.length,roomProduct:a.selectRoomProduct(),roomType:a.selectRoomType(),roomName:a.selectRoomName()})}})})}},doChatFileRetry:e=>async t=>{let{dispatch:o,store:i}=t;i.selectSignalSocket_().emit("request_file_upload_url",{files:[{name:e.name,size:e.size,type:e.type}]},async t=>{const{downloadUrl:a,uploadUrl:n}=t[0];C({file:e.file,uploadUrl:n,dispatch:o,store:i}),o({type:"CHAT_FILE_TO_SHARE_REPLACED",payload:{downloadUrl:a,isUploading:!0,name:e.name,size:e.size,type:e.type,key:n.fields.key,error:null}})})},doChatRemoveFile:e=>({type:"CHAT_FILE_REMOVED",payload:e}),doChatLinkClicked:e=>{let{altKey:t,ctrlKey:o,metaKey:i,shiftKey:a}=e;return e=>{var n;let{dispatch:s,store:r}=e;const c=r.selectPrefs(),l=r.selectFeaturePipAutoLaunchOn(),d=t||o||i||a,u=r.selectHasTopToolbar(),m=null!=(n=c.pipAutoLaunch)?n:u;l&&m&&r.selectCanPip()&&!r.selectIsPipOpen()&&!d&&(setTimeout(()=>r.doOpenPip("chat_link"),1),void 0===c.pipAutoLaunch&&u&&r.doAddChatLog({data:{eventType:"pip_auto_launched"}})),s({type:"CHAT_LINK_OPENED"})}},doSetChatUnusedMessage:e=>({type:"CHAT_UNUSED_MESSAGE_SET",payload:e}),doSendChatMessage:(e,t,o,i)=>a=>{let{store:n,dispatch:s}=a;if(n.selectChatIsUploadingFiles())return;if("!stats"===e)return n.doToggleStats();if("!debug"===e)return n.doDebugToggle();if("!transcribe"===e)return n.selectTranscriptionHasStarted()?n.doTranscriptionStop():n.doTranscriptionStart();if(e.startsWith("!bug"))return n.doSentryReport(e.slice(5).trim());const r=n.selectChatFilesToShare();s({type:"CHAT_SENT",meta:{signal:{type:"chat_message",payload:{text:e,...!!n.selectBreakoutCurrentId()&&{breakoutGroup:n.selectBreakoutCurrentId()},...t&&n.selectBreakoutActive()&&{broadcast:!0},...o&&o.length&&{mentions:o},...i&&{parentId:i}}}}}),r.length&&r.forEach(e=>{e.isUploading||e.error||s({type:"CHAT_SENT",meta:{signal:{type:"chat_message",payload:{text:"",file:{downloadUrl:e.downloadUrl,name:e.name,size:e.size,type:e.type,key:e.key,id:e.id},...!!n.selectBreakoutCurrentId()&&{breakoutGroup:n.selectBreakoutCurrentId()},...t&&n.selectBreakoutActive()&&{broadcast:!0},...o&&o.length&&{mentions:o},...i&&{parentId:i}}}}})})},doChatDownloadFile:e=>async t=>{let{dispatch:o}=t;try{const t=await fetch(e.downloadUrl,{mode:"cors",cache:"no-cache"});if(t.ok){const o=await t.blob({type:e.type});n.a.saveAs(o,e.name)}o({type:"CHAT_FILE_DOWNLOAD_COMPLETED",payload:e.name})}catch(i){o({type:"CHAT_FILE_DOWNLOAD_FAILED",payload:{file:e,error:i},error:!0})}},doSetChatOpen:e=>({type:"CHAT_ISOPEN_CHANGED",payload:e}),doFetchChatUrlMetadata:e=>t=>{let{dispatch:o,utilsService:i}=t;o({type:"CHAT_FETCH_URL_METADATA_STARTED",payload:{url:e}}),S.runWorker(async()=>{try{const t=await i.getUrlMetadata(e);o({type:"CHAT_FETCH_URL_METADATA_FINISHED",payload:{url:e,urlMetadata:t}})}catch(t){o({type:"CHAT_FETCH_URL_METADATA_FAILED",payload:{url:e,error:t},error:!0})}})},selectChatRaw:e=>e.chat,selectChatFilesToShare:e=>e.chat.filesToShare,selectChatIsUploadingFiles:e=>e.chat.filesToShare.some(e=>e.isUploading),selectChatMessages:e=>e.chat.chatMessages,selectChatUnusedMessage:e=>e.chat.chatUnusedMessage,selectChatUrlMetadata:e=>e.chat.urlMetadata,selectChatUnreadMentionCount:Object(i.e)("selectChatRaw","selectBreakoutCurrentId","selectLocalClientId",(e,t,o)=>e.unreadMentions.filter(e=>e.mentions&&e.mentions.some(e=>e.clientId===o)).filter(e=>t?e.breakoutGroup===t:!e.breakoutGroup).length),selectChatUnreadMessageCount:Object(i.e)("selectChatRaw","selectBreakoutCurrentId",(e,t)=>e.unreadMessages.filter(e=>t?e.breakoutGroup===t:!e.breakoutGroup).length),selectChatUsersByClientId:Object(i.e)("selectLocalClient","selectRemoteClientsMetadata",(e,t)=>Object.keys(t).reduce((o,i)=>({...o,...i!==e.id&&{[i]:Object(l.d)(t[i])}}),{...e.id&&{[e.id]:Object(l.d)(e)}})),selectParsedChatMessages:Object(i.e)("selectAvailableRoomIntegrations","selectBreakoutCurrentId","selectChatMessages","selectUnavailableRoomIntegrations",(e,t,o,i)=>o.filter(e=>t?e.breakoutGroup===t||e.broadcast:!e.breakoutGroup).map(t=>({...t,tokenizedText:Object(l.j)(t.text,t.id,t.mentions),...Object(l.f)(t.text)&&{type:"reaction"},...Object(l.i)(t.text),...Object(l.e)(t.text,[...e,...i])}))),selectRecentChatMessagesByClientId:Object(i.e)("selectParsedChatMessages",e=>{const t=Date.now(),o={};for(let i=e.length-1;i>=0;i--){const a=e[i];if(a.cached||Math.abs(t-a.received)>O)break;o[a.senderId]||(o[a.senderId]=a)}return o}),selectRecentBroadcastMessage:Object(i.e)("selectParsedChatMessages",e=>{const t=Date.now(),o={};for(let i=e.length-1;i>=0;i--){const a=e[i];if(a.cached||Math.abs(t-a.received)>O)break;o[a.senderId]||(a.integration||a.broadcast&&(o[a.senderId]=a))}return Object.values(o).find(e=>e.broadcast)}),selectLatestReactionByClientId:Object(i.e)("selectParsedChatMessages",e=>e.reduce((e,t)=>{if("reaction"!==t.type)return e;const o=e[t.senderId];return(!o||o.timestamp<t.timestamp)&&(e[t.senderId]=t),e},{})),selectChatMessageGroups:Object(i.e)("selectChatUrlMetadata","selectChatUsersByClientId","selectLocalClientId","selectParsedChatMessages",(e,t,o,i)=>function(e){let{parsedChatMessages:t,chatUrlMetadata:o,chatUsersByClientId:i,localClientId:a}=e;return t.reduce((e,t)=>h({chatMessageGroups:e,chatMessage:t,chatUrlMetadata:o,chatUsersByClientId:i,localClientId:a}),[])}({chatUrlMetadata:e,chatUsersByClientId:t,localClientId:o,parsedChatMessages:i})),selectCanReact:Object(i.e)("selectPrefs",e=>!!e.chat||!!e.reactionsButton),selectChatFileSharingEnabled:Object(i.e)("selectPrefs","selectRoomIsFree","selectRoomProductName",(e,t,o)=>!t&&"embedded-free"!==o&&!!e.fileSharing),selectChatFileSharingSessionActive:Object(i.e)("selectChatFileSharingEnabled","selectRoomSessionId","selectNumClients","selectNumViewerClients",(e,t,o,i)=>e&&!!t&&o+i>=2)}},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(9),r=o(3),c=o(34),l=o(25),d=o(0);function u(e){let{children:t}=e;const{isMenuVisible:o,onButtonBlur:i,onButtonHover:a,onCloseMenu:n,onToggle:s}=Object(c.a)();return Object(d.jsx)(l.b,{keyPath:"BottomToolbar.InfoMenu",isOpen:o,onClickOutside:n,padding:0,align:"start",positions:["top"],children:t({onButtonBlur:i,onButtonHover:a,onToggle:s})})}u.propTypes={children:n.a.func.isRequired};var m=u,p="container-iT+e",b="button-gbrn",g="buttonContent-Bw6Q",h="tooltip-1Eew",j=o(15),f=o(33);function O(e){let{applicationState:t,coLocationAvailable:o,doSidebarLayerOpen:a,doToggleHelpMenu:n,doToggleKeyboardShortcutsDialog:s,doHideDiscoverFeaturesReminderTooltip:c,isTouchDevice:l,shouldShowDiscoverFeaturesReminderTooltip:u}=e;return Object(i.useEffect)(()=>{if(u){const e=setTimeout(()=>{c()},5e3);return()=>{c(),clearTimeout(e)}}},[u,c]),Object(d.jsx)(m,{applicationState:t,coLocationAvailable:o,doSidebarLayerOpen:a,doToggleHelpMenu:n,doToggleKeyboardShortcutsDialog:s,children:e=>{let{onButtonBlur:t,onButtonHover:o,onToggle:i}=e;return Object(d.jsxs)("div",{className:p,children:[Object(d.jsx)(f.a,{containerClassName:b,onMouseEnter:l?void 0:()=>{c(),o()},onMouseLeave:l?void 0:t,"aria-label":"Help",onClick:l?o:()=>{i(),n()},children:Object(d.jsx)("span",{className:g,children:"?"})}),u&&Object(d.jsx)(r.Localized,{id:"HelpButton-feature-list-reminder-tooltip",children:Object(d.jsx)("span",{className:h,children:"Reference this feature list anytime."})})]})}})}O.propTypes={applicationState:n.a.string.isRequired,coLocationAvailable:n.a.bool,doHideDiscoverFeaturesReminderTooltip:n.a.func.isRequired,doSidebarLayerOpen:n.a.func.isRequired,doToggleHelpMenu:n.a.func.isRequired,doToggleKeyboardShortcutsDialog:n.a.func.isRequired,isTouchDevice:n.a.bool.isRequired,shouldShowDiscoverFeaturesReminderTooltip:n.a.bool.isRequired};t.a=Object(j.b)(Object(s.b)("doHideDiscoverFeaturesReminderTooltip","doSidebarLayerOpen","doToggleHelpMenu","doToggleKeyboardShortcutsDialog","selectApplicationState","selectCoLocationAvailable","selectIsTouchDevice","selectShouldShowDiscoverFeaturesReminderTooltip",O))},function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(11),a=o.n(i);function n(e){let{name:t,modifiers:o,styles:i}=e;return a.a.ok(Array.isArray(o),"modifiers<Array> is required"),a.a.ok("object"===typeof i,"styles<Object> is required"),a.a.ok("string"===typeof t,"name<String> is required"),o.reduce((e,o)=>{const a=i[`${t}--${o}`];return a&&e.push(a),e},[])}},function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r="RotatingSpinner-IhOE",c="RotatingSpinnerImage-PpDG",l=o(0);function d(e){let{className:t,...o}=e;return Object(l.jsx)("div",{className:a()(t,r),...o,children:Object(l.jsxs)("svg",{className:c,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("circle",{cx:"60",cy:"60",r:"58",stroke:"#6a6feb",strokeWidth:"4"}),Object(l.jsx)("path",{d:"M60 2C67.6167 2 75.1588 3.50022 82.1955 6.41499C89.2325 9.32975 95.6265 13.602 101.012 18.9878C106.398 24.3735 110.67 30.7675 113.585 37.8045C116.5 44.8412 118 52.3833 118 60",stroke:"#ff7e6c",strokeWidth:"4"})]})})}d.propTypes={className:s.a.string};t.a=d},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(2),c=o(4),l=o(3),d="avatarWrapper-1DdE",u="avatar-iXFX",m=o(48),p=o(33),b=o(25),g=o(57),h=o(0);function j(e){let{className:t,featureBrandAvatarsOn:o,isDisplayNameForced:i,isConstrained:a,light:n,onLogin:g,onLogout:j,onSetDisplayName:f,onSignup:O,user:S}=e;const[R,C]=Object(r.useState)(!1),v=S&&S.userId,y=()=>C(!1),I=()=>C(!R),E=Object(h.jsx)(c.pb,{modifiers:["sized",n?"dark":"light"]});return v||a?Object(h.jsx)(b.b,{keyPath:"TopToolbar.LoginButton",align:"end",className:"jstest-login-popover",positions:["bottom"],onEscapeKeyPressed:()=>{y()},content:Object(h.jsx)(c.db,{onClick:e=>{e.stopPropagation(),y()},children:v?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-edit-profile",children:Object(h.jsx)(c.fb,{as:"a",href:"/user/profile",target:"_blank",rel:"noopener noreferrer",children:"Edit profile"})}),!i&&Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-set-display-name",children:Object(h.jsx)(c.fb,{onClick:f,children:"Set display name"})}),Object(h.jsx)(c.eb,{}),Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-log-out",children:Object(h.jsx)(c.fb,{onClick:j,children:"Log out"})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-log-in",children:Object(h.jsx)(c.fb,{onClick:g,children:Object(h.jsx)("span",{className:"jstest-log-in",children:"Log in"})})}),Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-sign-up",children:Object(h.jsx)(c.fb,{"data-test-class":"jstest-sign-up",...O?{onClick:O}:{as:"a",href:"/user/signup?utm_source=whereby&utm_campaign=room_signup_header&utm_medium=web",target:"_blank",rel:"noopener noreferrer"},children:"Sign up"})}),Object(h.jsx)(c.eb,{}),Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-set-display-name",children:Object(h.jsx)(c.fb,{onClick:f,children:"Set display name"})})]})}),isOpen:R,onClickOutside:y,children:v?Object(h.jsx)("button",{type:"button",onClick:I,className:s()("jstest-login-button",d),"aria-label":"Profile menu","aria-haspopup":!0,children:o?Object(h.jsx)(m.a,{className:s()("jstest-avatar",u),avatarUrl:S&&S.avatarUrl,name:S&&S.displayName,modifiers:["square"],size:40}):Object(h.jsx)(c.g,{className:s()("jstest-avatar",u),avatarUrl:S&&S.avatarUrl,name:S&&S.displayName,modifiers:["square"],size:40})}):Object(h.jsx)(p.b,{icon:E,className:"jstest-login-button-constrained",light:n,onClick:I,"aria-label":"Profile menu","aria-haspopup":!0})}):Object(h.jsx)(c.k,{type:"button",className:s()("jstest-login-button",t),onClick:g,modifiers:["grey","extraSmall"],children:Object(h.jsx)(l.Localized,{id:"LoginButtonMenuItem-log-in",children:"Log in"})})}j.propTypes={className:a.a.string,featureBrandAvatarsOn:a.a.bool,isConstrained:a.a.bool,isDisplayNameForced:a.a.bool.isRequired,light:a.a.bool,onLogin:a.a.func.isRequired,onLogout:a.a.func.isRequired,onSetDisplayName:a.a.func.isRequired,onSignup:a.a.func,user:a.a.instanceOf(g.a)};t.a=j},,function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var i=o(1),a=o.n(i),n=o(4),s=o(3),r="SignupButton-UsxQ",c=o(0);function l(e){let{onSidebarSignup:t,utmCampaign:o}=e;return t?Object(c.jsx)(n.k,{className:r,onClick:t,modifiers:["grey","extraSmall"],children:Object(c.jsx)(s.Localized,{id:"LoginButtonMenuItem-sign-up",children:"Sign up"})}):Object(c.jsx)(n.d,{className:r,href:`/user/signup?utm_source=whereby&utm_campaign=${o}&utm_medium=web`,target:"_blank",modifiers:["button","button-grey","button-extraSmall"],children:Object(c.jsx)(s.Localized,{id:"LoginButtonMenuItem-sign-up",children:"Sign up"})})}l.propTypes={onSidebarSignup:a.a.func,utmCampaign:a.a.string.isRequired}},function(e,t,o){"use strict";var i=o(11),a=o.n(i),n=o(27),s=o(2),r=o(1),c=o.n(r),l="VideoElement--Ygx",d=o(0);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends s.PureComponent{constructor(){super(...arguments),u(this,"_handleLoadedMetadata",()=>{this.props.onVideoLoaded&&this.props.onVideoLoaded()}),u(this,"_handleResize",()=>{this._videoElement.videoHeight&&this._videoElement.videoWidth&&this.props.onVideoResized&&this.props.onVideoResized()}),u(this,"_handlePause",async()=>{var e;await(null==(e=this._videoElement)?void 0:e.play())}),u(this,"refWrapper",e=>{this._wrapper=e,this._attachVideoElement()})}componentDidMount(){this._createVideoElement(),this.props.stream&&(this._attachStream(this.props.stream),"safari"===n.a.browserDetails.browser&&window.ontouchstart&&setTimeout(()=>{this._videoElement&&(this._videoElement.srcObject=this._videoElement.srcObject)},1e3))}componentDidUpdate(){const e=this.props.stream;void 0!==e&&e!==this._videoElement.srcObject&&this._attachStream(e)}componentWillUnmount(){this._videoElement.removeEventListener("loadedmetadata",this._handleLoadedMetadata),this._videoElement.removeEventListener("resize",this._handleResize),delete this._videoElement}_createVideoElement(){const e=document.createElement("video"),{ariaHidden:t,className:o}=this.props;o&&(e.className=o);const i=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)./);window.webkitRTCPeerConnection&&navigator.userAgent.match(/Android \d+./)&&i&&i[2]&&61===parseInt(i[2],10)&&e.classList.add("VideoElement-bugfixChromeAndroid"),e.addEventListener("loadedmetadata",this._handleLoadedMetadata),e.addEventListener("resize",this._handleResize),e.addEventListener("pause",this._handlePause),e.id=this.props.clientId,e.muted=!0,e.setAttribute("autoplay",""),e.setAttribute("playsinline",""),t&&e.setAttribute("aria-hidden",!0),this._videoElement=e,this._attachVideoElement()}_attachVideoElement(){this._wrapper&&this._videoElement&&this._wrapper.appendChild(this._videoElement)}_attachStream(e){a()(this._videoElement,"no video element registered"),a()(void 0!==e,"stream is required"),this._videoElement.srcObject=e}async refreshStream(){this._videoElement.srcObject=this._videoElement.srcObject,"safari"===n.a.browserDetails.browser&&await this._videoElement.play()}captureAspectRatio(){if(this._videoElement){const e=this._videoElement.videoWidth,t=this._videoElement.videoHeight;if(e&&t&&e+t>20)return e/t}return null}render(){return Object(d.jsx)("div",{className:l,ref:this.refWrapper})}}m.propTypes={ariaHidden:c.a.bool,className:c.a.string,clientId:c.a.string,onVideoLoaded:c.a.func,onVideoResized:c.a.func,stream:c.a.object};t.a=m},function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var i=o(1),a=o.n(i),n=o(4),s="PublicProfileDialog-3Tqm",r="actionElement-62qF",c="publicProfileEducation-dLr5",l=o(0);function d(e){let{actionElement:t,lang:o,localTimeLabel:i,onClose:a,publicProfile:d,publicProfileEducation:u,renderTimezoneOffset:m,timezoneLabel:p}=e;return Object(l.jsx)(n.G,{onClickClose:a,className:s,children:Object(l.jsxs)(n.G.Body,{children:[Object(l.jsx)(n.tb,{lang:o,localTimeLabel:i,publicProfile:d,variant:"open",renderTimezoneOffset:m,timezoneLabel:p}),t&&Object(l.jsx)("div",{className:r,children:t}),u&&Object(l.jsx)("div",{className:c,children:u})]})})}d.propTypes={actionElement:a.a.node,lang:a.a.string.isRequired,localTimeLabel:a.a.node.isRequired,onClose:a.a.func.isRequired,publicProfile:a.a.object.isRequired,publicProfileEducation:a.a.node,renderTimezoneOffset:a.a.func.isRequired,timezoneLabel:a.a.node.isRequired}},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c="BaseNotification-qfLC",l="isActive-U4QA",d="isExpired-6MN0",u="isWarning-Edb7",m="isError-jcU5",p=o(42),b=o(0);function g(e){let{children:t,className:o,isError:a=!1,isWarning:n=!1,onAutoDismiss:s,timeout:g=5e3,timestamp:h,...j}=e;const[f,O]=Object(i.useState)(!1),[S,R]=Object(i.useState)(!1),[C,v]=Object(i.useState)(!1),y=Object(p.a)(h),I=!!s;return Object(i.useEffect)(()=>{O(!0)},[]),Object(i.useEffect)(()=>{if(!I||C)return;const e=setTimeout(()=>R(!0),g);return()=>{clearTimeout(e)}},[g,h,I,C]),Object(i.useEffect)(()=>{S&&h!==y&&R(!1)},[h,y,S]),Object(b.jsx)("div",{className:r()(c,{[l]:f,[d]:S,[u]:n,[m]:a},o),onTransitionEnd:S&&s?s:null,onPointerEnter:I?()=>v(!0):null,onPointerLeave:I?()=>v(!1):null,"aria-live":"assertive","aria-roledescription":"notification",role:"alert",...j,children:t})}g.propTypes={children:n.a.oneOfType([n.a.node,n.a.arrayOf(n.a.node)]).isRequired,className:n.a.string,isError:n.a.bool,isWarning:n.a.bool,onAutoDismiss:n.a.func,timeout:n.a.number,timestamp:n.a.number.isRequired};t.a=g},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c=o(3),l=o(4),d="LocalVolumeControls-uOvW",u="muteToggleButton-bxK5",m="slider-g0sa",p="isMuted-G5B6",b="isDisabled-Nhdq",g=o(0);function h(e){e.preventDefault(),e.stopPropagation()}const j=()=>{};function f(e){let{isDisabled:t=!1,name:o,onChange:a,volume:n}=e;const s=Object(i.useRef)(n),f=n<=0,O=()=>{f||(s.current=n),a(f?s.current||1:0)},S={modifiers:["sizedSmall",...t?[]:["primary"]],onClick:t?j:O},R=f?"Unmute "+o:"Mute "+o,C=o+" volume",v=Object(g.jsxs)("button",{className:r()(u,{[b]:t}),title:R,"aria-label":R,children:[f&&Object(g.jsx)(l.Lb,{modifiers:["sizedSmall",...t?[]:["negative"]],onClick:O}),!f&&n<=.5&&Object(g.jsx)(l.Kb,{...S}),n>.5&&Object(g.jsx)(l.Mb,{...S})]});return Object(g.jsxs)("div",{className:d,onClick:h,children:[f?Object(g.jsx)(c.Localized,{id:"InCallParticipantFrame-volume-controls-unmute-button",$name:o,attrs:{title:!0,"aria-label":!0},children:v}):Object(g.jsx)(c.Localized,{id:"InCallParticipantFrame-volume-controls-mute-button",$name:o,attrs:{title:!0,"aria-label":!0},children:v}),Object(g.jsx)(c.Localized,{id:"InCallParticipantFrame-volume-controls-slider",$name:o,attrs:{title:!0,"aria-label":!0},children:Object(g.jsx)(l.Hb,{title:C,className:r()(m,{[p]:f}),onChange:e=>{a(e/100)},step:10,max:100,min:0,value:Math.round(100*n),disabled:t,"aria-label":C})})]})}f.propTypes={isDisabled:n.a.bool,name:n.a.string.isRequired,onChange:n.a.func.isRequired,volume:n.a.number.isRequired};t.a=f},function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r="fileIcon-iVrz",c=o(0);function l(e){let{children:t,className:o,name:i,...n}=e;const s=i.split("."),l=s[s.length-1];return Object(c.jsxs)("div",{title:i,className:a()(r,o),...n,children:[t,l]})}l.propTypes={children:s.a.node,className:s.a.string,name:s.a.string.isRequired};t.a=l},function(e,t,o){"use strict";t.a={ReactionsOverlay:"ReactionsOverlay-AEhr",reactionContainer:"reactionContainer-eJ2x",debug:"debug-+BvE"}},,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));let i=0,a=Date.now();const n=e=>100-100*e/255;function s(e){let{currentLevel:t=0,direction:o="bottom",element:s,isAudioEnabled:r=!1,isDisabled:c=!1}=e;const l=Date.now()-a;(t>i||l>2e3)&&(i=t),l>2e3&&(a=Date.now());const d=n(t),u=n(i),m=`var(${r?"--color-green-dark":"--color-red"})`,p=`var(${r?"--color-illustration-green":"--color-red-extra-dark"})`;Object.assign(s.style,{backgroundImage:c?"none":`linear-gradient(to ${o}, transparent 0%, transparent ${u}%, ${m} ${u}%, ${m} ${d}%, ${p} ${d}%)`})}},,,,function(e,t,o){"use strict";(function(e){var i=o(1),a=o.n(i),n=o(9),s=o(3),r=o(145),c=o(4),l=o(75),d=o(0);function u(){e.location.href="/"}function m(e){let{doReload:t,error:o,onAccept:i}=e;const a=r.a(o),{headerText:n,bodyText:m,showRoomName:p,customFooter:b}=function(e){let{displayError:t,doReload:o}=e;switch(t){case"Could not fetch room information":return{headerText:Object(d.jsx)(s.Localized,{id:"ErrorPage-fetch-room-failed-title",children:"Sorry, something failed while loading the room"}),bodyText:Object(d.jsx)(s.Localized,{id:"ErrorPage-fetch-room-failed-body",children:"You might have a network issue preventing you from joining. If retrying doesn\u2019t work, you could try a different network or device."}),customFooter:Object(d.jsx)(c.k,{onClick:()=>o("networkTryAgain"),modifiers:["full","small"],children:Object(d.jsx)(s.Localized,{id:"ErrorPage-fetch-room-failed-button",children:"Try again"})})};default:return{headerText:Object(d.jsx)(s.Localized,{id:"ErrorPage-unknown-error-title",children:"Sorry, something went wrong"}),bodyText:t}}}({displayError:a,doReload:t}),g=b||Object(d.jsx)(c.k,{onClick:i||u,modifiers:["full","small"],children:Object(d.jsx)(s.Localized,{id:"ErrorPage-gotit",children:"Got it"})});return Object(d.jsx)(l.a,{headerText:n,bodyText:m,footer:g,showRoomName:!!p})}m.propTypes={doReload:a.a.func.isRequired,error:a.a.oneOfType([a.a.string,a.a.object]).isRequired,onAccept:a.a.func},t.a=Object(n.b)("doReload",m)}).call(this,o(39))},function(e,t,o){e.exports=o.p+"assets/media/blockedPermissionsFirefox.4d677f79.jpg"},,function(e,t,o){"use strict";o.d(t,"a",(function(){return T})),o.d(t,"b",(function(){return L}));var i=o(1),a=o.n(i),n=o(4),s=o(3),r=o(6),c=o.n(r),l="spinnerWrapper-b3H4",d="spinner-vpAz",u="optOutButton-V78R",m="paragraphWrapper-Idyw",p="image-uC+T",b="image--firefox-+HTe",g="helpLink-erwv",h="avPermissions-hqpi",j=o(184),f=o.n(j),O=o(259),S=o.n(O),R=o(260),C=o.n(R),v=o(141),y=o(163),I=o(66),E=o(17),x=o(0);function T(e){let t,o,i,a,{canAccessCamera:n,hasUnblockStep:r,isFirefox:u,onRequestPermissions:j,precallPermissionHelpLink:O,showHelp:R=!0,state:E}=e;switch(E){case"granted":return Object(x.jsx)("div",{className:l,children:Object(x.jsx)(y.a,{className:d,"aria-label":"Loading"})});case"nodevices":i="error",o=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-preview-caption-no-devices",children:"No camera or microphone found"}),a=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-no-devices",strong:Object(x.jsx)("strong",{}),children:Object(x.jsxs)(x.Fragment,{children:["You at least need one media device attached when joining a meeting."," ",Object(x.jsx)("strong",{children:"Please attach a camera or microphone and try again"})]})});break;case"requestingPermission":case"requestedPermission":i="dark",a=n?Object(x.jsxs)("div",{"data-testid":"PreCallDevicePermissions-permissions-requested",children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-title-req-permissions",children:Object(x.jsx)("p",{children:"This service wants to use your camera and microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-req-permissions",children:"In order for others to see and hear you, your browser will request camera and microphone access."})]}):Object(x.jsxs)("div",{"data-testid":"PreCallDevicePermissions-mic-only-permissions-requested",children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-title-req-mic-only-permissions",children:Object(x.jsx)("p",{children:"This service wants to use your microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-req-mic-only-permissions",children:"In order for others to hear you, your browser will request microphone access."})]}),t=Object(x.jsx)(I.a,{showCameraIcon:n,bgModifier:i,caption:o,onRequestPermissions:j});break;case"NotAllowedError":i="error",n?(o=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-preview-caption-permissions-blocked",children:"Cam and mic are blocked"}),a=Object(x.jsx)("div",{"data-testid":"PreCallDevicePermissions-permissions-blocked",children:r?Object(x.jsxs)("div",{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-chrome-paragraph-title-permissions-blocked",children:Object(x.jsx)("p",{children:"Cannot access camera or microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-chrome-paragraph-permissions-blocked",br:Object(x.jsx)("br",{}),children:Object(x.jsxs)(x.Fragment,{children:["To allow other participants to see or hear you, click the blocked camera icon in your browser\u2019s ",Object(x.jsx)("br",{})," address bar."]})}),Object(x.jsx)("img",{className:c()(p,{[b]:u}),src:u?f.a:S.a,alt:"blocked permissions browser icon"})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-default-paragraph-title-permissions-blocked",children:Object(x.jsx)("p",{children:"Cannot access camera or microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-default-paragraph-permissions-blocked",children:"This service could not access your camera or microphone. This will affect the experience for you and others in this meeting."})]})})):(o=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-preview-caption-mic-only-permissions-blocked",children:"Mic is blocked"}),a=Object(x.jsx)("div",{"data-testid":"PreCallDevicePermissions-permissions-blocked",children:r?Object(x.jsxs)("div",{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-chrome-paragraph-title-mic-only-permissions-blocked",children:Object(x.jsx)("p",{children:"Cannot access microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-chrome-paragraph-mic-only-permissions-blocked",br:Object(x.jsx)("br",{}),children:Object(x.jsxs)(x.Fragment,{children:["To allow other participants to hear you, click the blocked microphone icon in your browser\u2019s ",Object(x.jsx)("br",{})," address bar."]})}),Object(x.jsx)("img",{className:c()(p,{[b]:u}),src:u?f.a:C.a,alt:"blocked permissions browser icon"})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-chrome-paragraph-title-mic-only-permissions-blocked",children:Object(x.jsx)("p",{children:"Cannot access microphone"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-default-paragraph-mic-only-permissions-blocked",children:"This service could not access your microphone. This will affect the experience for you and others in this meeting."})]})}));break;case"AbortError":case"NotFoundError":case"NotReadableError":o=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-preview-caption-devices-busy",children:Object(x.jsx)("div",{"data-testid":"PreCallDevicePermissions-devices-busy",children:"Cam and mic are blocked"})}),i="error",a=Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-paragraph-devices-busy",strong:Object(x.jsx)("strong",{}),children:Object(x.jsxs)(x.Fragment,{children:["Your browser is not able to access the cam and mic."," ",Object(x.jsx)("strong",{children:"Is some other app actively using them?"})]})});break;default:i="error",o=E,a=Object(x.jsx)("div",{"data-testid":"PreCallDevicePermissions-unknown-error",children:Object(x.jsx)("strong",{children:"An unexpected error has occurred"})})}return Object(x.jsxs)(x.Fragment,{children:[t||Object(x.jsx)(I.a,{showCameraIcon:n,bgModifier:i,caption:o,onRequestPermissions:j}),Object(x.jsxs)("div",{className:m,children:[a&&Object(x.jsx)("div",{className:c()(`jstest-avpermissions-${E}-paragraph`,h),children:a}),R&&Object(x.jsx)(v.a,{href:O,"data-beacon-article":"742",className:g})]})]})}function L(e){let{hasUnblockStep:t,isMediaPermissionsGranted:o=!1,onEnterWithoutDevices:i,onRequestPermissions:a,state:r}=e;if("NotAllowedError"===r&&t)return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-try-again-button",children:Object(x.jsx)(n.k,{autoFocus:Object(E.a)(),className:`jstest-avpermissions-${r}-button`,onClick:a,modifiers:["full","small",o?"pulsating":"full"],children:"Try again"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-continue-without-devices-button",children:Object(x.jsx)(n.k,{className:u,onClick:i,modifiers:["full","small","invisible"],children:"Continue without devices"})})]});switch(r){case"requestedPermission":case"requestingPermission":return Object(x.jsx)(n.k,{autoFocus:Object(E.a)(),className:`jstest-avpermissions-${r}-button`,onClick:a,modifiers:["full","small","pulsating"],disabled:"requestedPermission"===r,children:Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-request-button",children:"Request permissions"})});case"":return null;default:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-try-again-button",children:Object(x.jsx)(n.k,{autoFocus:Object(E.a)(),className:`jstest-avpermissions-${r}-button`,onClick:a,modifiers:["full","small"],children:"Try again"})}),Object(x.jsx)(s.Localized,{id:"PreCallDevicePermissions-continue-without-cam-and-mic-button",children:Object(x.jsx)(n.k,{className:u,onClick:i,modifiers:["full","small","invisible"],children:"Continue without cam and mic"})})]})}}T.propTypes={canAccessCamera:a.a.bool,hasUnblockStep:a.a.bool,isFirefox:a.a.bool,onRequestPermissions:a.a.func.isRequired,precallPermissionHelpLink:a.a.string,showHelp:a.a.bool,state:a.a.string.isRequired},L.propTypes={hasUnblockStep:a.a.bool,isMediaPermissionsGranted:a.a.bool,onEnterWithoutDevices:a.a.func.isRequired,onRequestPermissions:a.a.func.isRequired,state:a.a.string.isRequired}},,function(e,t,o){"use strict";o.d(t,"c",(function(){return g})),o.d(t,"a",(function(){return h}));var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c="editableTextWrapper-zZsM",l="inputField-4R1B",d="inputFieldInvalid-4v93",u="confirmBtn-cGpb",m=o(42),p=o(0);const b=Object(i.createContext)(null),g=()=>{const e=Object(i.useContext)(b),[t,o]=Object(i.useState)(!1);return e||{isEditMode:t,setEditMode:o}},h=e=>{let{children:t}=e;const o=g();return Object(p.jsx)(b.Provider,{value:o,children:t})};h.propTypes={children:n.a.node.isRequired};const j=e=>{let{className:t,confirmBtnClassName:o,displayValue:a="",onEdit:n,placeholder:s,validator:b,textClassName:h,value:j,withButton:f=!1}=e;const{isEditMode:O,setEditMode:S}=g(),[R,C]=Object(i.useState)(j||""),[v,y]=Object(i.useState)(!b||b(j||"")),[I,E]=Object(i.useState)(R),x=Object(m.a)(j),T=Object(m.a)(O),L=Object(i.useRef)(null),k=Object(i.useCallback)(e=>{const t=e.target.value;C(t),b&&y(b(t))},[C,y,b]),_=Object(i.useCallback)(()=>{const e=R?R.trim():"";e!==j&&v?n(e):(C(j||""),y(!0)),S(!1)},[R,v,j,n,S]),N=Object(i.useCallback)(e=>{"Enter"===e.key&&_()},[_]),w=Object(i.useCallback)(e=>{["Esc","Escape"].includes(e.key)&&(S(!1),C(I))},[I,S]),A=Object(i.useCallback)(()=>S(!0),[S]),D=Object(i.useCallback)(e=>e.stopPropagation(),[]);Object(i.useEffect)(()=>{O&&L.current&&L.current.select()},[O,L]),Object(i.useEffect)(()=>{j!==x&&C(j)},[j,x]),Object(i.useEffect)(()=>{O&&O!==T&&E(R)},[O,T,R]);const P=O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{autoCapitalize:"sentences",autoComplete:"username",autoCorrect:"off",className:r()("jstest-editable-text-input",l,{[d]:!v}),maxLength:100,name:"nickname",onBlur:_,onChange:k,onKeyDown:w,onKeyPress:N,ref:L,size:(R||s||"").length+1,spellCheck:!1,type:"text",value:R}),f&&Object(p.jsx)("button",{className:r()("jstest-editable-text-btn",u,o),onClick:_,children:"Done"})]}):Object(p.jsx)("span",{className:r()("jstest-editable-text-span",h),onClick:A,children:a||j||s});return Object(p.jsx)("span",{className:r()(c,t),onClick:D,"data-testid":"editable-text",children:P})};j.propTypes={className:n.a.string,confirmBtnClassName:n.a.string,displayValue:n.a.node,onEdit:n.a.func.isRequired,placeholder:n.a.string,textClassName:n.a.string,validator:n.a.func,value:n.a.string,withButton:n.a.bool};t.b=j},function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r="SidebarLayout-B3O3",c="content-o7US",l="bodyOnly-+AJz",d="footer-Kbtn",u=o(0);const m=e=>{let{as:t="div",body:o,className:i,footer:n,...s}=e;return Object(u.jsxs)(t,{className:a()(r,{[l]:!n},i),...s,children:[Object(u.jsx)("div",{className:c,children:o}),n&&Object(u.jsx)("footer",{className:d,children:n})]})};m.propTypes={as:s.a.elementType,body:s.a.node.isRequired,className:s.a.string,footer:s.a.node};t.a=m},,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(4),s=o(9),r=o(3),c=o(19),l=o(17),d=o(0);function u(e){let{canSetLargerRoomMode:t,doDismissRoomFullWarning:o,doSetRoomMode:i,isPeopleOpen:a,timestamp:s=0,inPeopleTab:u=!1}=e;if(a&&!u)return null;const m=t?Object(d.jsx)(n.k,{autoFocus:Object(l.a)(),onClick:()=>i("group"),modifiers:["extraSmall","full","primary"],children:Object(d.jsx)(r.Localized,{id:"RoomFullNotification-enlarge",children:"Change room size to Large"})},"upgrade-button"):Object(d.jsx)(n.k,{autoFocus:Object(l.a)(),onClick:o,modifiers:["extraSmall","full","primary"],children:Object(d.jsx)(r.Localized,{id:"RoomFullNotification-gotit",children:"Got it"})},"got-it-button");return Object(d.jsx)(c.a,{title:Object(d.jsx)(r.Localized,{id:"RoomFullNotification-title",children:"Someone is trying to join"}),buttons:[m],timestamp:s,onDismiss:o,isWarning:!0,children:t?Object(d.jsx)(r.Localized,{id:"RoomFullNotification-text-enlargable",strong:Object(d.jsx)("strong",{}),children:Object(d.jsxs)("span",{children:[Object(d.jsx)("strong",{children:"The room is full."})," To allow additional guests, please change the room size:"]})}):Object(d.jsx)(r.Localized,{id:"RoomFullNotification-text",children:"The room is full and at capacity"})})}u.propTypes={canSetLargerRoomMode:a.a.bool.isRequired,doDismissRoomFullWarning:a.a.func.isRequired,doSetRoomMode:a.a.func.isRequired,inPeopleTab:a.a.bool,isPeopleOpen:a.a.bool,timestamp:a.a.number},t.a=Object(s.b)("doDismissRoomFullWarning","doSetRoomMode","selectCanSetLargerRoomMode","selectIsPeopleOpen",u)},function(e,t,o){"use strict";var i=o(4),a=o(1),n=o.n(a),s=o(105),r=o(0);function c(e){let{onClick:t}=e;return Object(r.jsx)(s.a,{onClick:t,children:Object(r.jsx)(i.H,{modifiers:["sized"]})})}c.propTypes={onClick:n.a.func},t.a=c},function(e,t,o){"use strict";o.d(t,"c",(function(){return s})),o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return c}));var i=o(7),a=o(68),n=o(20);const s="test_call",r="room_theme",c="discover_features",l={ONBOARDING_STEP_TEST_CALL:s,ONBOARDING_ROOM_THEME:r,ONBOARDING_DISCOVER_FEATURES:c},d={init:!1,inProgress:!1,currentStep:null,steps:[],roomThemeForm:{submitted:null,error:null}};t.d={name:"onboarding",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"ONBOARDING_GOTO_STEP":return{...e,currentStep:o};case"ONBOARDING_ROOM_THEME_SUBMIT_STARTED":return{...e,roomThemeForm:{submitted:!0,error:null}};case"ONBOARDING_ROOM_THEME_SUBMIT_FAILED":return{...e,roomThemeForm:{submitted:!1,error:o}};case"ONBOARDING_ROOM_THEME_SUBMIT_FINISHED":return{...e,roomThemeForm:{submitted:!1,error:null}};case"ONBOARDING_INIT":return{...e,init:!0,inProgress:o.shouldStart,steps:o.steps};case"ONBOARDING_CLOSE":return{...e,inProgress:!1}}return e},selectOnboardingRaw:e=>e.onboarding,selectOnboardingSteps:e=>e.onboarding.steps,selectRoomThemeForm:e=>e.onboarding.roomThemeForm,selectOnboardingInProgress:e=>e.onboarding.inProgress,selectOnboardingCurrentStep:Object(i.e)("selectOnboardingRaw","selectOnboardingSteps",(e,t)=>e.currentStep||t[0]),doOnboardingStart:()=>({type:"ONBOARDING_START",meta:{persist:{onboardingStarted:Date.now()}}}),doOnboardingGoToStep:e=>({type:"ONBOARDING_GOTO_STEP",payload:e}),doOnboardingInit:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectIsRoomOwner(),n=o.selectRoomIsFree(),{onboardingStarted:r,onboardingCompleted:c}=o.selectPersisted(),d=o.selectPrefs();let u=[],m=!1,p=void 0;if(i&&n){const e=o.selectQueryObject();void 0!==e.onboarding?(o.doUpdateQuery(Object(a.a)(e,"onboarding")),m=!0,p={onboardingStarted:Date.now(),onboardingCompleted:void 0}):r&&!c&&(m=!0),d.onboardingSteps&&(u=Object.keys(l).filter(e=>d.onboardingSteps.includes(e)).map(e=>l[e])),0===u.length&&u.push(s)}t({type:"ONBOARDING_INIT",payload:{shouldStart:m,steps:u},meta:{persist:m&&p}})},doOnboardingClose:()=>e=>{let{dispatch:t,store:o}=e;o.selectSkipDiscoverFeaturesReminderTooltip()||o.selectOnboardingCurrentStep()!==c||o.doShowDiscoverFeaturesReminderTooltip(),o.selectOnboardingInProgress()&&t({type:"ONBOARDING_CLOSE",meta:{persist:{onboardingCompleted:Date.now()}}}),o.doSidebarLayerClose(n.d)},doOnboardingNextStep:()=>e=>{let t,{dispatch:o,store:i}=e;const a=i.selectOnboardingCurrentStep(),n=i.selectOnboardingSteps();n.length!==n.indexOf(a)+1&&(t=n[n.indexOf(a)+1]),t?o({type:"ONBOARDING_GOTO_STEP",payload:t}):i.doOnboardingClose()},doOnboardingRoomThemeCompleted:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectThemeTemplateError();i?t({type:"ONBOARDING_ROOM_THEME_SUBMIT_FAILED",payload:i}):(t({type:"ONBOARDING_ROOM_THEME_SUBMIT_FINISHED"}),o.doOnboardingNextStep())},doOnboardingRoomThemeSubmit:e=>{let{backgroundImage:t,palette:o}=e;return async e=>{let{dispatch:i,store:a}=e;i({type:"ONBOARDING_ROOM_THEME_SUBMIT_STARTED"});const{isKnockPageSameAsRoom:n,knockPageBackgroundImage:s,knockPagePalette:r}=a.selectThemeTemplate();a.doThemeUpdate({backgroundImage:t,palette:o,isKnockPageSameAsRoom:n,knockPageBackgroundImage:s,knockPagePalette:r,featureSource:"room:onboarding"})}},reactOnboardingRoomThemeCompleted:Object(i.e)("selectOnboardingRaw","selectThemeTemplateIsUpdating",(e,t)=>{if(e.roomThemeForm.submitted&&!1===t)return{actionCreator:"doOnboardingRoomThemeCompleted"}}),reactOnboardingInit:Object(i.e)("selectOnboardingRaw","selectHasRoomFetched","selectHasUserFetched","selectHasFeaturesFetched",(e,t,o,i)=>{if(!e.init&&t&&o&&i)return{actionCreator:"doOnboardingInit"}})}},function(e,t,o){"use strict";o.d(t,"b",(function(){return s}));var i=o(7),a=o(24),n=o(13);const s={PRECALL_CEREMONY_STEP_TEST_CAMERA:n.n,PRECALL_CEREMONY_STEP_TEST_SPEAKER:n.p,PRECALL_CEREMONY_STEP_TEST_MIC:n.o,PRECALL_CEREMONY_STEP_TEST_BANDWIDTH:n.m,PRECALL_CEREMONY_STEP_REVIEW:n.l},r={bandwidthTestResult:null,completed:!1,currentStep:null,init:!1,result:{},skipped:!1,steps:[]};t.a={name:"precallCeremony",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"PRECALL_CEREMONY_GOTO_STEP":return{...e,currentStep:o.step,result:{...e.result,...o.previousStep&&{[o.previousStep]:{isSuccessful:o.successful,warning:o.warning}}}};case"PRECALL_CEREMONY_INIT":return{...e,init:!0,completed:!1,steps:o.steps,currentStep:null};case"PRECALL_CEREMONY_RESTART":return{...e,bandwidthTestResult:null,completed:!1,currentStep:o.currentStep,result:{}};case"PRECALL_CEREMONY_STARTED":return{...e};case"PRECALL_CEREMONY_BANDWIDTH_TEST_COMPLETED":return{...e,bandwidthTestResult:o};case"PRECALL_CEREMONY_SKIPPED":return{...e,skipped:!0,completed:!0};case"PRECALL_CEREMONY_COMPLETED":return{...e,completed:!0}}return e},doPrecallCeremonySkipped:()=>e=>{let{dispatch:t,store:o}=e;o.selectCanSkipPrecallCeremony()&&t({type:"PRECALL_CEREMONY_SKIPPED"})},doPrecallCeremonyCompleted:()=>e=>{let{dispatch:t,store:o}=e;!o.selectFeaturePrecallTestOnlyOn()&&t({type:"PRECALL_CEREMONY_COMPLETED"})},doPrecallCeremonyRestart:()=>e=>{let{dispatch:t,store:o}=e;t({type:"PRECALL_CEREMONY_RESTART",payload:{currentStep:o.selectPrecallCeremonySteps()[0]}})},doPrecallCeremonyInit:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectCanAccessCamera();let a=Object.values(s);i||(a=a.filter(e=>e!==n.n)),t({type:"PRECALL_CEREMONY_INIT",payload:{steps:a}})},doPrecallCeremonyNextStep:function(){let{successful:e,warning:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let i,{dispatch:a,store:n}=o;const s=n.selectPrecallCeremonyCurrentStep(),r=n.selectPrecallCeremonySteps(),c=r.indexOf(s)+1;r.length!==c&&(i=r[c]),i?a({type:"PRECALL_CEREMONY_GOTO_STEP",payload:{step:i,previousStep:s,successful:e,warning:t}}):n.doPrecallCeremonyCompleted()}},doPrecallCeremonyPreviousStep:()=>e=>{let t,{dispatch:o,store:i}=e;const a=i.selectPrecallCeremonyCurrentStep(),n=i.selectPrecallCeremonySteps(),s=n.indexOf(a)-1;s>=0&&(t=n[s]),t?o({type:"PRECALL_CEREMONY_GOTO_STEP",payload:{step:t,previousStep:a}}):i.doPrecallCeremonyRestart()},doSetPrecallCeremonyStarted:()=>e=>{let{store:t,dispatch:o}=e;t.doPrecallCeremonyNextStep(),o({type:"PRECALL_CEREMONY_STARTED"})},doPrecallCeremonyBandwidthTest:()=>e=>{let{store:t,dispatch:o}=e;const i=new a.a,s=e=>{console.error(e),o({type:"PRECALL_CEREMONY_BANDWIDTH_TEST_COMPLETED"}),t.doPrecallCeremonyNextStep({warning:!0})};i.on("error",s);try{i.start(),o({type:"PRECALL_CEREMONY_BANDWIDTH_TEST_STARTED"});const e=e=>{const i=e.error?1:n.k;o({type:"PRECALL_CEREMONY_BANDWIDTH_TEST_COMPLETED",payload:e.details}),setTimeout(()=>{t.doPrecallCeremonyNextStep({warning:!!e.warning||!e.success,...!!e.success&&{successful:!0}})},i)};i.on("result",e)}catch(r){s(r)}},selectPrecallCeremonyRaw:e=>e.precallCeremony,selectPrecallCeremonySkipped:e=>e.precallCeremony.skipped,selectPrecallCeremonyCompleted:e=>e.precallCeremony.completed,selectPrecallCeremonyBandwidthTestResult:e=>e.precallCeremony.bandwidthTestResult,selectPrecallCeremonyResult:e=>e.precallCeremony.result,selectPrecallCeremonyInit:e=>e.precallCeremony.init,selectPrecallCeremonyCurrentStep:e=>e.precallCeremony.currentStep,selectPrecallCeremonySteps:e=>e.precallCeremony.steps,selectPrecallCeremonyHasIssues:Object(i.e)("selectPrecallCeremonyCurrentStep","selectPrecallCeremonyResult",(e,t)=>e===n.l&&Object.values(t).some(e=>!e.isSuccessful)),selectPrecallCeremonyIsSpeakerTestSuccessful:Object(i.e)("selectPrecallCeremonyResult",e=>{var t,o;return null!=(t=null==(o=e[n.p])?void 0:o.isSuccessful)&&t})}},function(e,t,o){"use strict";o.d(t,"a",(function(){return _})),o.d(t,"b",(function(){return N})),o.d(t,"d",(function(){return w}));var i=o(2),a=o(1),n=o.n(a),s=o(4),r=o(3),c=o(9),l="headerWrapper-DHQD",d="header-V4dN",u=o(96),m="ThemeError-Ghoa",p="ThemeWarning-KD-A",b=o(0);const{ImageTooLarge:g,IncorrectFileType:h}=u.a;function j(e){let{sizeRestriction:t,warning:o}=e,i=o.message||"Unknown warning";return o instanceof g&&(i=Object(b.jsx)(r.Localized,{id:"RoomTheme-warning-image-too-large",$sizeRestriction:t,children:Object(b.jsxs)(b.Fragment,{children:["This image is too big. It will be resized to fit within allowed size restrictions (",t,")"]})})),Object(b.jsx)(s.a,{className:p,variant:"warning",children:Object(b.jsx)(s.b,{children:i})})}function f(e){let{error:t}=e,o=t.message||"Unknown error";return t instanceof g&&(o=Object(b.jsx)(r.Localized,{id:"RoomTheme-error-image-too-large",children:"Image too large"})),t instanceof h&&(o=Object(b.jsx)(r.Localized,{id:"RoomTheme-error-incorrect-filetype",children:"Incorrect file type (only jpg and png allowed)"})),Object(b.jsx)(s.a,{className:m,variant:"error",children:Object(b.jsx)(s.b,{children:o})})}j.propTypes={sizeRestriction:n.a.string.isRequired,warning:n.a.object.isRequired},f.propTypes={error:n.a.object.isRequired};var O=o(6),S=o.n(O),R={ImagePreview:"ImagePreview-KJ6s","ImagePreview--background":"ImagePreview--background-d-Uc","ImagePreview--logo":"ImagePreview--logo-LZgo"},C=o(162);function v(e){let{backgroundColor:t,className:o,imgSrc:i,modifiers:a}=e;const n=Object(C.a)({name:"ImagePreview",modifiers:a,styles:R});return Object(b.jsx)("figure",{className:S()(R.ImagePreview,...n),children:Object(b.jsx)("img",{alt:"",className:o,src:i,style:{...t&&{backgroundColor:t}}})})}v.propTypes={backgroundColor:n.a.string,className:n.a.string,imgSrc:n.a.string.isRequired,modifiers:n.a.arrayOf(n.a.oneOf(["background","logo"])).isRequired};var y=v,I=o(23),E=o(15),x=o(64),T=o(38),L=o(21),k=o(32);const _={[T.a.NONE]:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-tab-none",children:"None"}),[T.a.LIBRARY]:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-tab-library",children:"Library"}),[T.a.CUSTOM]:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-tab-custom",children:"Custom"})},N={default:"No overlay",mountains:"Mountains",characters:"Characters",rocks:"Rocks",leaves:"Leaves",branch:"Branch"},w={default:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-default-title",children:"Default color"}),grey:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-grey-title",children:"Grey"}),purple:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-purple-title",children:"Purple"}),burgund:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-burgund-title",children:"Burgund"}),notDefined:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-notDefined-title",children:"Not defined"})},A=Object(b.jsx)(s.d,{href:"/org/customize-branding",target:"_blank",children:"Click here"});function D(e){let{canCustomizeOrganizationRoom:t,canSetKnockPageBackground:o,canSetLogo:a,canSetRoomBackground:n,doFetchThemeTemplates:c,doPreviewThemeTemplate:u,doThemeReset:m,doThemeImageUploadError:p,roomName:g,themeBackgroundUrl:h,themeKnockPageBackgroundUrl:O,themeKnockPageTemplateType:S,themeLogoUrl:R,themeTemplate:C,themeTemplateAvailable:v,themeTemplateError:E,themeTemplateHasFetched:T,themeTemplateImageErrors:L,themeTemplateImageWarnings:k,themeTemplateIsDefault:D,themeTemplateIsUpdating:P,themeTemplateType:M}=e;const F=Object(i.useRef)();Object(i.useEffect)(()=>{c()},[c]),Object(i.useEffect)(()=>()=>u(null),[u]),Object(i.useEffect)(()=>{E&&F.current.scrollIntoView()},[E]);const B={availableThemes:v,backgroundCategoryTitles:{default:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundCategory-default",children:"Whereby world"})},backgroundImageOptionLabels:_,backgroundImageTitles:N,backgroundTitle:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-title",children:"Background Image"}),hasFetched:T,imageRenderer:e=>Object(b.jsx)(y,{modifiers:["background"],...e}),imageUploadLabel:Object(b.jsx)(r.Localized,{id:"RoomTheme-imageUpload-button",children:" Drag or click to upload"}),onChange:e=>u({...C,...e}),paletteTitle:Object(b.jsx)(r.Localized,{id:"RoomTheme-palette-title",children:"Select Color"}),paletteTitles:w,removeBackgroundButtonLabel:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-remove-button",children:"Remove"}),theme:C,uploadDescription:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-upload-description",children:"We recommend PNG images at least 1400px wide (max 600 kb)."})};return Object(b.jsxs)(I.a,{as:"div",className:"jstest-ThemeSettings",children:[t&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.Localized,{id:"RoomTheme-organization-intro",$roomName:g,children:Object(b.jsxs)("p",{children:["Personalize this Whereby meeting room. Changes will only apply to ",g,"."]})}),Object(b.jsx)(r.Localized,{id:"RoomTheme-organization-branding",customizeBrandingLink:A,children:Object(b.jsxs)("p",{children:["Want to update all organization branding? ",A]})})]}),Object(b.jsxs)("div",{className:l,children:[Object(b.jsx)(I.a.Header,{className:d,children:Object(b.jsx)(r.Localized,{id:"RoomTheme-roomBackground-title",children:"Room Background"})}),T&&!D&&Object(b.jsx)(s.k,{className:"jstest-ThemeSettings-restore-button",disabled:P,modifiers:["extraSmall","negative","invisible"],onClick:()=>m(),children:Object(b.jsx)(r.Localized,{id:"RoomTheme-roomBackground-restore-defaults",children:"Restore defaults"})})]}),Object(b.jsx)(s.zb.BackgroundTheme,{...B,backgroundUrl:h,isUploadEnabled:n,onUploadError:e=>p({error:e,imageType:"backgroundImage"}),templateType:M}),L.backgroundImage&&Object(b.jsx)(f,{error:L.backgroundImage}),k.backgroundImage&&Object(b.jsx)(j,{sizeRestriction:x.b.background.sizeLimitAsString,warning:k.backgroundImage}),Object(b.jsx)(I.a.Header,{className:d,children:Object(b.jsx)(r.Localized,{id:"RoomTheme-knockPage-title",children:"Waiting Room Background"})}),Object(b.jsx)(s.zb.KnockPageBackgroundTheme,{...B,backgroundUrl:O,checkboxLabel:Object(b.jsx)(r.Localized,{id:"RoomTheme-knockPage-inherit-toggle",children:"Use same as Room Background"}),isUploadEnabled:o,onUploadError:e=>p({error:e,imageType:"knockPageBackgroundImage"}),templateType:S}),L.knockPageBackgroundImage&&Object(b.jsx)(f,{error:L.knockPageBackgroundImage}),k.knockPageBackgroundImage&&Object(b.jsx)(j,{sizeRestriction:x.b.background.sizeLimitAsString,warning:k.knockPageBackgroundImage}),a&&Object(b.jsxs)("div",{role:"group","aria-labelledby":"logo_head",children:[Object(b.jsx)(I.a.Header,{className:d,id:"logo_head",children:Object(b.jsx)(r.Localized,{id:"RoomTheme-logo-title",children:"Logo"})}),Object(b.jsx)(s.zb.LogoTheme,{description:Object(b.jsx)(r.Localized,{id:"RoomTheme-logo-upload-description",children:"We recommend PNG images at least 400px wide."}),imageRenderer:e=>{let{imgSrc:t}=e;return Object(b.jsx)(y,{className:"jstest-RoomTheme-LogoTheme-image",imgSrc:t,modifiers:["logo"]})},onChange:e=>u({...C,customLogo:e}),onError:e=>p({error:e,imageType:"logo"}),removeButtonLabel:Object(b.jsx)(r.Localized,{id:"RoomTheme-backgroundImage-remove-button",children:"Remove"}),themeLogoUrl:R,uploadLabel:Object(b.jsx)(r.Localized,{id:"RoomTheme-imageUpload-button",children:"Drag or click to upload"})})]}),L.logo&&Object(b.jsx)(f,{error:L.logo}),k.logo&&Object(b.jsx)(j,{sizeRestriction:x.b.logo.sizeLimitAsString,warning:k.logo}),E&&Object(b.jsx)("div",{ref:F,children:Object(b.jsx)(f,{error:E})})]})}D.propTypes={canCustomizeOrganizationRoom:n.a.bool.isRequired,canSetKnockPageBackground:n.a.bool.isRequired,canSetLogo:n.a.bool.isRequired,canSetRoomBackground:n.a.bool.isRequired,doFetchThemeTemplates:n.a.func.isRequired,doPreviewThemeTemplate:n.a.func.isRequired,doThemeImageUploadError:n.a.func.isRequired,doThemeReset:n.a.func.isRequired,roomName:n.a.string.isRequired,themeBackgroundUrl:n.a.string,themeKnockPageBackgroundUrl:n.a.string,themeKnockPageTemplateType:n.a.string.isRequired,themeLogoUrl:n.a.string,themeTemplate:L.i,themeTemplateAvailable:n.a.shape({backgroundImage:n.a.arrayOf(L.b),palette:n.a.arrayOf(L.e)}),themeTemplateError:n.a.object,themeTemplateHasFetched:n.a.bool.isRequired,themeTemplateImageErrors:n.a.shape({backgroundImage:n.a.object,knockPageBackgroundImage:n.a.object,logo:n.a.object}).isRequired,themeTemplateImageWarnings:n.a.shape({backgroundImage:n.a.object,knockPageBackgroundImage:n.a.object,logo:n.a.object}).isRequired,themeTemplateIsDefault:n.a.bool.isRequired,themeTemplateIsUpdating:n.a.bool,themeTemplateType:n.a.string.isRequired};t.c=Object(E.b)(Object(c.b)("doFetchThemeTemplates","doPreviewThemeTemplate","doThemeImageUploadError","doThemeReset","selectCanCustomizeOrganizationRoom","selectCanSetKnockPageBackground","selectCanSetLogo","selectCanSetRoomBackground","selectRoomName","selectThemeBackgroundUrl","selectThemeKnockPageBackgroundUrl","selectThemeKnockPageTemplateType","selectThemeLogoUrl","selectThemeTemplate","selectThemeTemplateAvailable","selectThemeTemplateError","selectThemeTemplateHasFetched","selectThemeTemplateImageErrors","selectThemeTemplateImageWarnings","selectThemeTemplateIsDefault","selectThemeTemplateIsUpdating","selectThemeTemplateType",D),{fallback:k.a})},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c=o(4),l=o(3),d=o(9),u="menuHeaderWrapperButton-1Yon",m="menuHeader-oUpD",p="menuAvatar-lgoN",b="menuNameRow-dhva",g="menuName-B9PR",h="editNameLabel--tM1",j=o(48),f=o(101),O=o(120),S=o(0);function R(e){e.preventDefault(),e.stopPropagation()}function C(e){let{isLocalClient:t,children:o,onSetDisplayName:i}=e;return t&&i?Object(S.jsx)("button",{className:u,onClick:i,children:o}):Object(S.jsx)("div",{onClick:R,children:o})}function v(e){let{avatarUrl:t,disableDisplayNameEdit:o,displayName:i,featureBrandAvatarsOn:a,isDialIn:n,isLocalClient:s,onSetDisplayName:r}=e;return i||(i="Guest"),Object(S.jsx)(C,{isLocalClient:s,onSetDisplayName:o?void 0:r,children:Object(S.jsxs)("div",{className:m,children:[a?Object(S.jsx)(j.a,{modifiers:["square"],className:p,avatarUrl:t,name:i,size:40}):Object(S.jsx)(c.g,{modifiers:["square"],className:p,avatarUrl:t,avatarIcon:n?Object(S.jsx)(f.a,{size:24}):null,name:i,size:40}),Object(S.jsxs)("div",{className:b,children:[Object(S.jsx)("div",{className:g,children:Object(S.jsx)(O.a,{isLocalClient:s,children:i})}),s&&!o&&Object(S.jsx)("div",{className:h,children:Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-edit-display-name",children:"Edit display name"})})]})]})})}C.propTypes={children:n.a.node.isRequired,isLocalClient:n.a.bool.isRequired,onSetDisplayName:n.a.func},v.propTypes={avatarUrl:n.a.string,disableDisplayNameEdit:n.a.bool,displayName:n.a.string,featureBrandAvatarsOn:n.a.bool,isDialIn:n.a.bool,isLocalClient:n.a.bool.isRequired,onSetDisplayName:n.a.func};var y=v,I=o(170),E="menu-UMn6",x="isDestructive-S2Yr",T="isSpotlighted-NlCk",L=o(112);function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class _ extends i.Component{constructor(){super(...arguments),k(this,"kickClient",()=>{this.props.doKickClient(this.props.client.id)}),k(this,"onToggleRequestAudioEnable",()=>{this.props.doRequestAudioEnable({clientIds:[this.props.client.id],enable:!this.props.client.isAudioEnabled})}),k(this,"onToggleRequestVideoEnable",()=>{this.props.doRequestVideoEnable({clientIds:[this.props.client.id],enable:!this.props.client.isVideoEnabled})}),k(this,"onToggleRequestScreenshareEnable",()=>{this.props.doRequestScreenshare({clientId:this.props.client.isPresentation?this.props.client.clientId:this.props.client.id,enable:!this.props.client.isPresentation})}),k(this,"onToggleSpotlight",()=>{this.props.client.isSpotlighted?this.props.doRemoveClientSpotlight({id:this.props.client.id}):this.props.doSpotlightClient({id:this.props.client.id})}),k(this,"onLocalVolumeChange",e=>{this.props.client.isPresentation?this.props.doSetRemoteClientLocalScreenshareVolume({clientId:this.props.client.clientId,volume:e}):this.props.doSetRemoteClientLocalVolume({clientId:this.props.client.id,volume:e})})}canKick(){var e,t,o;const i=this.props.client.isLocalClient,a=null==(e=this.props.permissions)?void 0:e.actionsOnRole;return Boolean(!i&&a&&(null==(t=a[null==(o=this.props.client.role)?void 0:o.roleName])?void 0:t.kick.isAllowed))}render(){var e;const{className:t,client:o,withHeader:i,isPlaceholder:a,featureBrandAvatarsOn:n,id:s}=this.props,d=o.avatarUrl,u=this.canKick(),m=!(null==(e=o.deviceCapabilities)||!e.canScreenshare),p=o.displayName,b=!!o.hasActivePresentation,g=!!o.isAudioEnabled,h=!!o.isDialIn,j=!!o.isLocalClient,f=!!o.isPresentation,O=!!o.isVideoEnabled,R=!!o.isSpotlighted,C=o.localVolume,v=a?[]:function(e){let{canApplyEffects:t,canFloat:o,canFullscreen:i,canMaximize:a,canSwitch:n,canZoom:s,doToggleDisplayNameDialog:r,isDisplayNameForced:d,isFloating:u,isFullscreen:m,isLocalClient:p,isMaximized:b,isScreenshare:g,isSpotlighted:h,isVideoOn:j,isZoomed:f,menuHasHeader:O,onClickEffects:R,onSwitch:C,onToggleFloat:v,onToggleFullscreen:y,onToggleMaximize:I,onToggleZoomState:E}=e;const x=[];return j&&p&&!g&&n&&x.push(Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-switch-camera",children:Object(S.jsx)(c.fb,{onClick:C,icon:Object(S.jsx)(c.p,{modifiers:["sizedSmall"]}),children:"Switch camera"})},"switch-cam")),j&&s&&!u&&x.push(Object(S.jsx)(c.fb,{onClick:E,icon:f?Object(S.jsx)(c.dc,{}):Object(S.jsx)(c.cc,{}),children:f?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-zoom-out",children:Object(S.jsx)("span",{children:"Zoom out"})}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-zoom-in",children:Object(S.jsx)("span",{children:"Zoom in"})})},"zoom")),!a||m||u||x.push(Object(S.jsx)(c.fb,{onClick:()=>I("menu"),icon:b?Object(S.jsx)(c.ab,{}):Object(S.jsx)(c.bb,{}),children:b?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-minimize",children:"Minimize"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-maximize",children:"Maximize"})},"maximize")),i&&!u&&x.push(Object(S.jsx)(c.fb,{onClick:y,icon:m?Object(S.jsx)(c.L,{}):Object(S.jsx)(c.M,{}),children:m?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-fullscreen-exit",children:"Exit fullscreen"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-fullscreen",children:"Fullscreen"})},"fullscreen")),!o||m||b||g||h||x.push(Object(S.jsx)(c.fb,{onClick:v,icon:u?Object(S.jsx)(c.rb,{}):Object(S.jsx)(c.sb,{}),children:u?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-float-exit",children:"Move to grid"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-float",children:"Pop out"})},"floating")),t&&p&&!g&&x.push(Object(S.jsx)(c.fb,{onClick:R,icon:Object(S.jsx)(L.a,{}),children:Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-effects",children:"Effects"})},"effects")),!p||g||O||d||(x.length&&x.push(Object(S.jsx)(c.eb,{},"divider-set-display-name")),x.push(Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-set-display-name",children:Object(S.jsx)(c.fb,{onClick:r,children:"Set display name"})},"set-display-name"))),x}({canApplyEffects:this.props.canApplyEffects,canFloat:this.props.canFloat,canFullscreen:this.props.canFullscreen,canMaximize:this.props.canMaximize,canSwitch:this.props.canSwitch,canZoom:this.props.canZoom,doToggleDisplayNameDialog:this.props.doToggleDisplayNameDialog,isDisplayNameForced:this.props.isDisplayNameForced,isFloating:this.props.isFloating,isFullscreen:this.props.isFullscreen,isLocalClient:j,isMaximized:this.props.isMaximized,isPlaceholder:a,isScreenshare:f,isSpotlighted:R,isVideoOn:O,isZoomed:this.props.isZoomed,menuHasHeader:i,onClickEffects:()=>this.props.doSetActiveSettingsDialogPane("effects"),onSwitch:this.props.onSwitch,onToggleFloat:this.props.onToggleFloat,onToggleFullscreen:this.props.onToggleFullscreen,onToggleMaximize:this.props.onToggleMaximize,onToggleZoomState:this.props.onToggleZoomState}),k=a?[]:function(e){let{canKick:t,canRequestAudioVideoEnable:o,canRequestScreenshareEnable:i,canScreenshare:a,canSpotlight:n,doToggleScreenshare:s,hasActiveScreenshare:d,hideSpotlight:u,isAudioEnabled:m,isDialIn:p,isFloating:b,isLocalClient:g,isScreenshare:h,isSpotlighted:j,isVideoOn:f,onKickClient:O,onToggleRequestAudioEnable:R,onToggleRequestScreenshareEnable:C,onToggleRequestVideoEnable:v,onToggleSpotlight:y}=e;const I=[];u||!n||b||I.push(Object(S.jsx)(c.fb,{onClick:y,icon:Object(S.jsx)(c.Ob,{}),className:r()({[T]:j}),children:j?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-spotlight-off",children:"Turn spotlight off"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-spotlight-on",children:"Spotlight"})},"spotlight")),!u&&g&&!n&&j&&I.push(Object(S.jsx)(c.fb,{onClick:y,icon:Object(S.jsx)(c.Ob,{}),className:r()({[T]:j}),children:Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-spotlight-off",children:"Turn spotlight off"})},"spotlight")),!o||g||h||(I.push(Object(S.jsx)(c.fb,{onClick:R,icon:m?Object(S.jsx)(c.hb,{}):Object(S.jsx)(c.ib,{}),children:m?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-mic-off",children:"Turn mic off"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-request-mic-on",children:"Ask to unmute"})},"toggle-audio")),p||I.push(Object(S.jsx)(c.fb,{onClick:v,icon:f?Object(S.jsx)(c.m,{}):Object(S.jsx)(c.n,{}),children:f?Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-cam-off",children:"Turn cam off"}):Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-request-cam-on",children:"Ask to turn cam on"})},"toggle-video")));const E=g&&h;return E||h&&i?(I.length&&I.push(Object(S.jsx)(c.eb,{},"divider-stop-screenshare")),I.push(Object(S.jsx)(c.fb,{onClick:E?s:C,className:x,icon:Object(S.jsx)(c.Ab,{}),children:Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-screenshare-stop",children:"Stop screenshare"})},"stop-screenshare"))):i&&a&&!d&&!p&&I.push(Object(S.jsx)(c.fb,{onClick:C,icon:Object(S.jsx)(c.Ab,{}),children:Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-request-screenshare-start",children:"Ask to share screen"})},"start-screenshare")),t&&!h&&(I.push(Object(S.jsx)(c.eb,{},"divider-kick")),I.push(Object(S.jsx)(l.Localized,{id:"InCallParticipantFrame-remove",children:Object(S.jsx)(c.fb,{onClick:O,className:x,icon:Object(S.jsx)(c.xb,{}),children:"Remove"})},"kick"))),I}({canKick:u,canRequestAudioVideoEnable:this.props.canRequestAudioVideoEnable,canRequestScreenshareEnable:this.props.canRequestScreenshareEnable,canScreenshare:m,canSpotlight:this.props.canSpotlight,doToggleScreenshare:this.props.doToggleScreenshare,hasActiveScreenshare:b,hideSpotlight:this.props.hideSpotlight,isAudioEnabled:g,isDialIn:h,isFloating:this.props.isFloating,isLocalClient:j,isScreenshare:f,isSpotlighted:R,isVideoOn:O,onKickClient:this.kickClient,onToggleRequestAudioEnable:this.onToggleRequestAudioEnable,onToggleRequestScreenshareEnable:this.onToggleRequestScreenshareEnable,onToggleRequestVideoEnable:this.onToggleRequestVideoEnable,onToggleSpotlight:this.onToggleSpotlight}),_=!a&&!j&&(!f&&i||f&&g),N=v.length>0,w=k.length>0;return Object(S.jsxs)(c.db,{onClick:e=>{e.stopPropagation(),this.props.onClick()},className:r()(E,t),id:s,"aria-labelledby":this.props["aria-labelledby"],children:[i&&Object(S.jsx)(y,{avatarUrl:d,disableDisplayNameEdit:this.props.isDisplayNameForced,displayName:p,featureBrandAvatarsOn:n,isDialIn:h,isLocalClient:j,onSetDisplayName:this.props.doToggleDisplayNameDialog}),(_||N)&&i&&Object(S.jsx)(c.eb,{}),_&&Object(S.jsx)(I.a,{volume:C,onChange:this.onLocalVolumeChange,name:p}),(N||w)&&_&&Object(S.jsx)(c.eb,{}),v,(i||N)&&w&&Object(S.jsx)(c.eb,{}),k]})}}_.propTypes={"aria-labelledby":n.a.string,canApplyEffects:n.a.bool,canFloat:n.a.bool.isRequired,canFullscreen:n.a.bool.isRequired,canMaximize:n.a.bool.isRequired,canRequestAudioVideoEnable:n.a.bool,canRequestScreenshareEnable:n.a.bool,canSpotlight:n.a.bool,canSwitch:n.a.bool.isRequired,canZoom:n.a.bool.isRequired,className:n.a.string,client:n.a.object.isRequired,doKickClient:n.a.func.isRequired,doRemoveClientSpotlight:n.a.func.isRequired,doRequestAudioEnable:n.a.func.isRequired,doRequestScreenshare:n.a.func.isRequired,doRequestVideoEnable:n.a.func.isRequired,doSetActiveSettingsDialogPane:n.a.func.isRequired,doSetRemoteClientLocalScreenshareVolume:n.a.func.isRequired,doSetRemoteClientLocalVolume:n.a.func.isRequired,doSpotlightClient:n.a.func.isRequired,doToggleDisplayNameDialog:n.a.func.isRequired,doToggleScreenshare:n.a.func.isRequired,featureBrandAvatarsOn:n.a.bool,hideSpotlight:n.a.bool,id:n.a.string,isDisplayNameForced:n.a.bool.isRequired,isFloating:n.a.bool.isRequired,isFullscreen:n.a.bool.isRequired,isMaximized:n.a.bool.isRequired,isPlaceholder:n.a.bool,isZoomed:n.a.bool.isRequired,onClick:n.a.func.isRequired,onSwitch:n.a.func,onToggleFloat:n.a.func,onToggleFullscreen:n.a.func,onToggleMaximize:n.a.func,onToggleZoomState:n.a.func,permissions:n.a.object,withHeader:n.a.bool.isRequired};t.a=Object(d.b)("doKickClient","doRemoveClientSpotlight","doRequestAudioEnable","doRequestScreenshare","doRequestVideoEnable","doSetActiveSettingsDialogPane","doSetRemoteClientLocalScreenshareVolume","doSetRemoteClientLocalVolume","doSpotlightClient","doToggleDisplayNameDialog","doToggleScreenshare","selectCanRequestAudioVideoEnable","selectCanRequestScreenshareEnable","selectCanSpotlight","selectFeatureBrandAvatarsOn","selectPermissions","selectIsDisplayNameForced",_)},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c="AudioIndicator-8p+A",l="isMuted-U7G-",d="AudioIndicator--blue-4veR",u=o(129),m=o(49);var p=e=>{let{from:{low:t,high:o},to:{low:i,high:a}}=e;return e=>{const n=(e-t)*(a-i)/(o-t)+i;return Math.max(Math.min(n,a),i)}},b=o(0);const g=p({from:{low:0,high:100},to:{low:1,high:1.2}}),h=p({from:{low:1,high:1.2},to:{low:.5,high:1}});function j(e){let{avatarSize:t=60,stream:o,isMuted:a,fftSize:n=32,variant:s="default"}=e;const p=Object(i.useRef)(null),j=Object(i.useRef)(null);Object(i.useEffect)(()=>{j.current=(t-60)/20},[t]);const[f]=(null==o?void 0:o.getAudioTracks())||[];return Object(i.useEffect)(()=>{if(o&&f&&!a)try{const e=new u.b(o,n,Object(m.a)().audioContext);if(e){const t=n/2;return e.subscribeData(e=>{const o=e.reduce((e,t)=>e+t,0)/t;requestAnimationFrame(()=>{p.current&&function(e){let{element:t,currentLevel:o,scaleMultiplier:i}=e;const a=+g(o).toFixed(2),n=+h(a).toFixed(2),s=a+-.05*i;Object.assign(t.style,{opacity:n,transform:`scale(${Math.max(s,1)})`})}({element:p.current,currentLevel:o,scaleMultiplier:j.current})})})}}catch(e){console.error("AudioIndicator: failed to instantiate StreamAudioAnalyzer",e)}},[a,o,n,f]),o?Object(b.jsx)("div",{className:r()(c,{[l]:a,[d]:"blue"===s}),ref:p}):null}j.propTypes={avatarSize:n.a.number,fftSize:n.a.number,isMuted:n.a.bool.isRequired,stream:n.a.object,variant:n.a.oneOf(["default","blue"])};t.a=j},function(e,t,o){"use strict";var i=o(2),a=o(6),n=o.n(a),s=o(1),r=o.n(s),c=o(4),l=o(3),d="KnockControl-VDL9",u="button-nBrg",m="input-Klzt",p=o(220),b=o(0);function g(e){let{className:t,onAccept:o,onHold:a,onReject:s}=e;const[r,g]=Object(i.useState)(!1);return r?Object(b.jsx)(p.a,{className:t,onAccept:o,onHold:e=>{a(e),g(!1)},onReject:e=>{s(e),g(!1)}}):Object(b.jsxs)("div",{className:n()(d,t),children:[Object(b.jsx)(c.k,{className:n()(u,"jstest-knocker-accept-button"),modifiers:["extraSmall"],onClick:()=>o(),children:Object(b.jsx)(l.Localized,{id:"KnockControl-letin",children:"Let in"})}),Object(b.jsx)(l.Localized,{id:"KnockControl-response-field",attrs:{"aria-label":!0,placeholder:!0},children:Object(b.jsx)("input",{"aria-label":"Response message",className:m,onFocus:()=>g(!0),placeholder:"Respond...",type:"text"})})]})}g.propTypes={className:r.a.string,onAccept:r.a.func.isRequired,onHold:r.a.func.isRequired,onReject:r.a.func.isRequired};t.a=g},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c=o(4),l=o(3),d="responseBox-5doi",u="input-H6UT",m="control-IaY9",p="submit-aHVe",b="chevronDown-Rvvb",g="menuItem-ZadN",h="menuButton-Qnwv",j=o(25),f=o(34),O=o(0);function S(e){let{className:t,onAccept:o,onHold:a,onReject:n}=e;const[s,S]=Object(i.useState)(""),{isMenuVisible:R,onButtonBlur:C,onCloseMenu:v,onMenuHover:y,onMenuBlur:I,onToggle:E}=Object(f.a)();return Object(O.jsx)("form",{className:t,onSubmit:function(e){e.preventDefault(),a(s.trim()),S("")},children:Object(O.jsxs)("div",{className:d,children:[Object(O.jsx)(l.Localized,{id:"RespondKnock-response-field",attrs:{"aria-label":!0,placeholder:!0},children:Object(O.jsx)("input",{"aria-label":"Response message",autoFocus:!0,className:u,maxLength:"280",onChange:e=>S(e.target.value),placeholder:"Respond...",type:"text",value:s})}),Object(O.jsxs)("div",{className:m,children:[Object(O.jsx)("button",{className:r()(p,"jstest-knocker-hold-button"),type:"submit",children:Object(O.jsx)(l.Localized,{id:"RespondKnock-hold",children:"Put on hold"})}),Object(O.jsx)(j.b,{keyPath:"RespondKnock.RespondTypePicker",content:Object(O.jsx)("div",{onMouseEnter:y,onMouseLeave:I,children:Object(O.jsxs)(c.db,{children:[Object(O.jsx)(c.fb,{onClick:()=>{v(),o()},children:Object(O.jsx)(l.Localized,{id:"RespondKnock-let-in",children:"Let in"})}),Object(O.jsx)(c.fb,{className:r()(g,"jstest-knocker-reject-button"),onClick:()=>{v(),n(s.trim()),S("")},children:Object(O.jsx)(l.Localized,{id:"RespondKnock-reject",children:"Reject"})})]})}),isOpen:R,padding:0,positions:["bottom","left"],align:"end",children:Object(O.jsx)(l.Localized,{id:"RespondKnock-more-options-button",attrs:{"aria-label":!0},children:Object(O.jsx)("button",{className:r()(h,"jstest-knocker-response-options"),"aria-label":"More response options","aria-haspopup":!0,onClick:E,onMouseLeave:C,type:"button",children:Object(O.jsx)(c.i,{className:b,modifiers:["sizedSmall"]})})})})]})]})})}S.propTypes={className:n.a.string,onAccept:n.a.func.isRequired,onHold:n.a.func.isRequired,onReject:n.a.func.isRequired};t.a=S},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r={Chevron:"Chevron-CiFa","Chevron--down":"Chevron--down-2i3H","Chevron--up":"Chevron--up-7OdE","Chevron--left":"Chevron--left-LEy6","Chevron--right":"Chevron--right-fEgP"},c=o(0);function l(e){return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s()(r.Chevron,{[r["Chevron--"+e.direction]]:!0}),children:Object(c.jsx)("polyline",{points:"6 9 12 15 18 9"})})}l.propTypes={direction:a.a.string};t.a=l},,,,function(e,t,o){"use strict";(function(e){var i=o(1),a=o.n(i),n=o(2),s=o(9),r=o(4),c=o(230),l=o(102),d=o(52),u=o(232),m=o(283),p=o(86),b=o(279),g=o(233),h=o(15),j=o(183),f=o(276),O=o(272),S=o(268),R=o(280),C=o(57),v=o(0);const y=Object(n.lazy)(()=>Promise.all([o.e(2),o.e(20)]).then(o.bind(null,376))),I=Object(n.lazy)(()=>Promise.all([o.e(2),o.e(21)]).then(o.bind(null,374)));function E(e){let{theme:t}=e;return Object(r.fc)(t,document.documentElement),null}function x(t){let{applicationState:o,applicationUpdated:i,concurrencyControlsExecuted:a,doApplicationInitialize:s,doApplicationUpdated:r,fatalError:d,featureAccessibilityOn:m,hasOrganizationError:p,isRoomFetching:h,meetingWasEnded:j,roomError:f,roomName:O,roomProductName:S,shouldShowWatermark:C,themeClassName:y,themeTokens:I,timeLimitWasExecuted:x,user:L}=t;const k=Object(n.useRef)(!1),_="embedded-free"===S,N=L&&L.userId;Object(n.useEffect)(()=>{k.current||(s(Object(u.a)(window.location)),k.current=!0)},[s]),Object(n.useEffect)(()=>{e.addEventListener("application_updated",()=>{r()}),window.unsupportedBrowserTimeout&&(clearTimeout(window.unsupportedBrowserTimeout),delete window.unsupportedBrowserTimeout),l.a&&(document.documentElement.dataset.isTouch="")},[r]);return Object(v.jsxs)(v.Fragment,{children:[I&&Object(v.jsx)(E,{theme:I}),Object(v.jsx)(c.a,{}),Object(v.jsx)(R.a,{}),Object(v.jsx)(g.a,{children:Object(v.jsx)(b.a,{className:y,isWatermarkActive:C,accessibilityOn:m,isEmbeddedFreeRoom:_,isLoggedIn:N,children:Object(v.jsx)(T,{applicationState:o,applicationUpdated:i,concurrencyControlsExecuted:a,fatalError:d,handleApplicationUpdatedNotificationClick:()=>{e.location.reload(!0)},hasOrganizationError:p,isRoomFetching:h,meetingWasEnded:j,roomError:f,roomName:O,timeLimitWasExecuted:x})})})]})}E.propTypes={theme:a.a.object},x.propTypes={applicationState:a.a.string.isRequired,applicationUpdated:a.a.bool.isRequired,concurrencyControlsExecuted:a.a.bool.isRequired,doApplicationInitialize:a.a.func.isRequired,doApplicationUpdated:a.a.func.isRequired,fatalError:a.a.object,featureAccessibilityOn:a.a.bool,hasOrganizationError:a.a.bool,isRoomFetching:a.a.bool.isRequired,meetingWasEnded:a.a.bool,roomError:a.a.object,roomName:a.a.string.isRequired,roomProductName:a.a.string,shouldShowWatermark:a.a.bool,themeClassName:a.a.string,themeTokens:a.a.object,timeLimitWasExecuted:a.a.bool.isRequired,user:a.a.instanceOf(C.a)};const T=Object(h.b)(e=>{let{applicationState:t,applicationUpdated:o,concurrencyControlsExecuted:i,fatalError:a,handleApplicationUpdatedNotificationClick:s,hasOrganizationError:c,isRoomFetching:l,meetingWasEnded:u,roomError:b,roomName:g,timeLimitWasExecuted:j}=e;Object(h.a)(a);let R=Object(v.jsx)(O.a,{});return"left"===t||"kicked"===t&&(u||j||i)?R=Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(r.Nb,{}),children:Object(v.jsx)(y,{})}):"kicked"===t?R=Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(r.Nb,{}),children:Object(v.jsx)(I,{})}):g?c||b&&!(b instanceof d.c)?R=Object(v.jsx)(f.a,{}):l&&(R=Object(v.jsx)(p.a,{children:"Fetching room..."})):R=Object(v.jsx)(S.a,{}),Object(v.jsxs)("main",{children:[Boolean(o)&&Object(v.jsx)(m.a,{onClick:s,children:"Application updated. Click here to reload."}),R]})},{fallback:j.a});T.propTypes={applicationState:a.a.string.isRequired,applicationUpdated:a.a.bool.isRequired,concurrencyControlsExecuted:a.a.bool.isRequired,fatalError:a.a.object,handleApplicationUpdatedNotificationClick:a.a.func.isRequired,hasOrganizationError:a.a.bool,isRoomFetching:a.a.bool.isRequired,meetingWasEnded:a.a.bool,roomError:a.a.object,roomName:a.a.string.isRequired,timeLimitWasExecuted:a.a.bool.isRequired},t.a=Object(h.b)(Object(s.b)("doApplicationInitialize","doApplicationUpdated","selectApplicationState","selectApplicationUpdated","selectFatalError","selectFeatureAccessibilityOn","selectHasOrganizationError","selectIsRoomFetching","selectMeetingWasEnded","selectRoomError","selectRoomName","selectRoomProductName","selectShouldShowWatermark","selectThemeClassName","selectThemeTokens","selectTimeLimitWasExecuted","selectConcurrencyControlsExecuted","selectUser",x),{fallback:j.a})}).call(this,o(39))},,,,,function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(9),r=o(15),c=o(12);const l=document.createElement("style");function d(e){let{layoutRoomFrame:t,themeBackgroundColor:o}=e;return Object(i.useEffect)(()=>{const e={"--layout-room-frame-top":t.origin.top+"px","--layout-room-frame-left":t.origin.left+"px","--layout-room-frame-width":t.bounds.width+"px","--layout-room-frame-height":t.bounds.height+"px","--theme-background-color":o},i=Object.entries(e).map(e=>e.join(":")).join(";");l.textContent=`:root:root { ${i} }`},[t.origin.top,t.origin.left,t.bounds.width,t.bounds.height,o]),null}l.id="js-global-custom-properties",document.head.appendChild(l),d.propTypes={layoutRoomFrame:c.d.isRequired,themeBackgroundColor:n.a.string.isRequired},t.a=Object(r.b)(Object(s.b)("selectLayoutRoomFrame","selectThemeBackgroundColor",Object(i.memo)(d)))},,function(e,t,o){"use strict";(function(e){function i(t){const o=t.pathname.replace(/\/$/,""),i=function(e){const t=(e||"").match(/[?&]room-name=([^&]+)/);return t?t[1]:null}(t.search)||(o.length>1?o:null);return i&&e.decodeURIComponent(i)}o.d(t,"a",(function(){return i}))}).call(this,o(39))},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(9),s=o(3),r=o(86),c=o(0);const l=e=>{let{children:t,hasLocalizationFetched:o,localizationBundles:i}=e;return o?Object(c.jsx)(s.LocalizationProvider,{bundles:i,children:t}):Object(c.jsx)(r.a,{children:"Loading localization ..."})};l.propTypes={children:a.a.element.isRequired,hasLocalizationFetched:a.a.bool.isRequired,localizationBundles:a.a.oneOfType([a.a.object,a.a.array])},t.a=Object(n.b)("selectHasLocalizationFetched","selectLocalizationBundles",l)},,function(e,t,o){e.exports=o.p+"assets/media/eyes_160.e812a041.png"},function(e,t,o){e.exports=o.p+"assets/media/faces_160.3430686f.png"},function(e,t,o){e.exports=o.p+"assets/media/necks_160.357f06a5.png"},,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgb3BhY2l0eT0iLjgiIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiIGZpbGw9IiNmZmYiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuOTMxIDExLjkzMUMxNC4zNjEgMTAuNjIyIDE2IDguNTE1IDE2IDhjMC0uNzYxLTMuNTgyLTUtOC01LTEuNDI5IDAtMi43Ny40NDMtMy45MzEgMS4wNjlsMS40NTYgMS40NTZhMy41IDMuNSAwIDAxNC45NSA0Ljk1bDEuNDU2IDEuNDU2ek00LjU0NSA3LjQzNmMuMDYyLS4zODItLjAxNy0uNzg2LS4yOS0xLjA2TDIuOSA1LjAyMkEuMjE0LjIxNCAwIDAwMi42MiA1QzEuMDEgNi4yMSAwIDcuNTk2IDAgOGMwIC43NjEgMy41ODIgNSA4IDUgLjQwNyAwIC44MDctLjAzNiAxLjE5OC0uMTAyLjU5LS4xLjc2My0uODE2LjM0LTEuMjQtLjIyMS0uMjItLjU0OC0uMjg1LS44NTQtLjIyNWEzLjUgMy41IDAgMDEtNC4xMzktMy45OTh6Ii8+PHBhdGggZD0iTTkuNDE0IDkuNDE0YTIgMiAwIDEwLTIuODI4LTIuODI4TDggOGwxLjQxNCAxLjQxNHoiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEuNTI5IDEuNTI5Yy4yNi0uMjYuNjgyLS4yNi45NDIgMGwxMiAxMmEuNjY3LjY2NyAwIDExLS45NDMuOTQybC0xMi0xMmEuNjY3LjY2NyAwIDAxMC0uOTQyeiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+Cg=="},function(e,t,o){"use strict";(function(e){var i=o(2),a=o(1),n=o.n(a),s=o(3),r=o(4),c=o(278),l=o(148),d=o(6),u=o.n(d),m=o(40),p=o(285),b=o(274),g=o(286),h=o(287),j=o(158),f=o(62),O=o(48),S=o(72),R=o(0);function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const v=e=>e.reduce((e,t)=>{var o;return e+((null==(o=t.messages)?void 0:o.length)||1)},0);class y extends i.PureComponent{constructor(){super(...arguments),C(this,"state",{numberOfUnreadMessages:0,isReplying:!1,highlightId:null,reply:{id:null,sender:null,text:null}}),C(this,"componentDidMount",()=>{this._scrollToBottom()}),C(this,"_setupLegacyScrollListener",e=>{this._scrollListener=e.addEventListener("scroll",Object(S.a)(()=>{const t=e.clientHeight;this._isAtBottom=e.scrollHeight===e.scrollTop+t,this._isAtBottom&&this.setState({numberOfUnreadMessages:0})},{delay:500,edges:!0}))}),C(this,"_setupIntersectionObserver",(e,t)=>{this._intersectionObserver=new IntersectionObserver(e=>{const t=e[0];this._isAtBottom=!!t.intersectionRatio,this._isAtBottom&&this.setState({numberOfUnreadMessages:0})},{root:e}).observe(t)}),C(this,"_refScrollDetector",e=>{e&&(this._scrollDetector=e)}),C(this,"_refScrollArea",t=>{if(!t)return;if(this._scrollArea=t,!("IntersectionObserver"in e))return void this._setupLegacyScrollListener(t);if(!this._scrollDetector)throw new Error("Could not setup IntersectionObserver");const o=t,i=this._scrollDetector;this._setupIntersectionObserver(o,i)}),C(this,"_scrollToBottom",()=>{var e;null==(e=this._scrollArea)||null==e.scrollTo||e.scrollTo(0,this._scrollArea.scrollHeight),this.setState(()=>({numberOfUnreadMessages:0}))}),C(this,"_handleMessageSubmit",(t,o,i)=>{this._scrollToBottom();const a=this.state.reply.id;e.requestAnimationFrame(()=>{this.props.sendChatMessage(t,o,i,a)}),this.setState({isReplying:!1,reply:{id:null,sender:null,text:null}})}),C(this,"_handleChatMessageLoaded",()=>{this._isAtBottom&&!this.state.highlightId&&this._scrollToBottom()}),C(this,"_handleReply",e=>{const{messageGroups:t}=this.props,o=t.filter(e=>e.messages).map(e=>e.messages).flat().find(t=>t.id===e),i=t.find(e=>o.senderId===e.senderId);this.setState({reply:{id:e,sender:i,text:o.text},isReplying:!0})}),C(this,"_handleCopyMessage",e=>{const{messageGroups:t}=this.props,o=t.filter(e=>e.messages).flatMap(e=>e.messages).find(t=>t.id===e);Object(l.a)(null==o?void 0:o.text)}),C(this,"_handleCloseReplyUi",()=>{this.setState({isReplying:!1,reply:{id:null,sender:null,text:null}})}),C(this,"_clearHighlightState",()=>this.setState({highlightId:null})),C(this,"_highlightMessage",(e,t)=>{t.scrollIntoView(),this.setState({highlightId:e},()=>{window.setTimeout(this._clearHighlightState,1e3)})})}componentDidUpdate(e){this._handleChatMessageLoaded();const{messageGroups:t}=this.props,[o]=t.slice(-1),[i]=e.messageGroups.slice(-1);if(!o||!i||o===i)return;t.length+v(t)!==e.messageGroups.length+v(e.messageGroups)&&this.setState(e=>({numberOfUnreadMessages:e.numberOfUnreadMessages+1}))}componentWillUnmount(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._mutationObserver&&this._mutationObserver.disconnect(),this._scrollArea&&this._scrollListener&&this._scrollArea.removeEventListener("scroll",this._scrollListener)}render(){const{canAskOthersToSpeak:e,canBroadcast:t,chatFileSharingEnabled:o,chatFileSharingSessionActive:i,chatFilesToShare:a,chatIsUploadingFiles:n,clients:c,clientsWithRaisedHand:l,doChatDownloadFile:d,doChatEmojiAutoCompleteAnalytics:f,doChatFileRetry:S,doChatMessageRemove:C,emojiSkinTone:v,featureBrandAvatarsOn:y,getInputProps:I,getRootProps:E,hideEmojiPicker:x,isDragActive:T,isRoomOwner:L,localClientId:k,messageGroups:_,onAskToSpeakClicked:N,onChatLinkClicked:w,onRemoveFile:A,onSeeWhoRaisedHandClicked:D,onSetStickyReaction:P,open:M,roomSessionId:F,showGroupBanner:B,stickyReaction:q,userIsAdmin:z}=this.props;return Object(R.jsxs)("div",{className:m.a.component,...E({onClick:e=>e.stopPropagation()}),children:[Object(R.jsx)("input",{...I()}),B&&Object(R.jsx)("div",{className:m.a.groupBanner,children:Object(R.jsx)(s.Localized,{id:"Chat-breakout-group-banner",children:"This chat is only visible to members in the group"})}),Object(R.jsxs)("div",{className:m.a.chatMessages,ref:this._refScrollArea,"data-testid":"chat-scroll-area",children:[Object(R.jsx)(b.a,{doChatDownloadFile:d,doChatMessageRemove:C,featureBrandAvatarsOn:y,isRoomOwner:L,localClientId:k,highlightId:this.state.highlightId,messageGroups:_,onChatLinkClicked:w,onHighlight:this._highlightMessage,onReply:this._handleReply,onCopy:this._handleCopyMessage,userIsAdmin:z,lastSeenChatSidebar:this.props.lastSeenChatSidebar,roomSessionId:F}),Object(R.jsx)("div",{className:m.a.scrollDetector,ref:this._refScrollDetector})]}),this.state.numberOfUnreadMessages>0&&Object(R.jsx)("div",{className:m.a.unreadMessagesIndicator,children:Object(R.jsx)(h.a,{numberOfUnreadMessages:this.state.numberOfUnreadMessages,onClick:this._scrollToBottom})}),l.length>0&&Object(R.jsx)(g.a,{canAskOthersToSpeak:e,className:m.a.raisedHandNotification,clients:l,onAskToSpeakClicked:N,onLowerHandClicked:()=>P(null),onSeeWhoClicked:D}),this.state.isReplying?Object(R.jsxs)("div",{className:m.a.replyContainer,children:[Object(R.jsx)("div",{className:m.a.replyMessageAvatar,children:y?Object(R.jsx)(O.a,{modifiers:["square"],avatarUrl:this.state.reply.sender.avatarUrl,name:this.state.reply.sender.displayName||"Guest",size:32}):Object(R.jsx)(r.g,{modifiers:["square"],avatarUrl:this.state.reply.sender.avatarUrl,name:this.state.reply.sender.displayName||"Guest",size:32})}),Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:m.a.replyMessageName,children:this.state.reply.sender.displayName||"Guest"}),Object(R.jsxs)("div",{className:m.a.replyMessageText,children:[this.state.reply.text,Object(R.jsx)("button",{className:m.a.cancelReplyButton,onClick:this._handleCloseReplyUi,children:Object(R.jsx)(r.D,{modifiers:["sizedSmall"]})})]})]})]}):null,(null==a?void 0:a.length)>0&&Object(R.jsx)(p.a,{files:a,onRemoveFile:A,onRetryFile:S}),Object(R.jsx)("div",{className:m.a.chatMessageInput,children:Object(R.jsx)(j.a,{autoFocus:this.props.autoFocusChatInput,canBroadcast:t,chatIsUploadingFiles:n,chatFilesToShare:a,chatUnusedMessage:this.props.chatUnusedMessage,clients:c,doChatEmojiAutoCompleteAnalytics:f,emojiSkinTone:v,featureBrandAvatarsOn:y,onMessageSubmit:this._handleMessageSubmit,onReplyCancel:this._handleCloseReplyUi,onSetStickyReaction:P,setChatUnusedMessage:this.props.setChatUnusedMessage,stickyReaction:q,isReplying:this.state.isReplying,isMultiline:!0,hideEmojiPicker:x,openFilePicker:M,chatFileSharingEnabled:o,chatFileSharingSessionActive:i})}),o&&T&&Object(R.jsx)("div",{className:u()(m.a.dragActiveOverlay,{[m.a["dragActiveOverlay--error"]]:!i}),children:Object(R.jsx)("div",{className:m.a.dropZoneWrapper,children:i?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.Localized,{id:"Chat-dropzone-dropzone-files-here-title",children:Object(R.jsx)("span",{className:m.a.dropZoneTitle,children:"Drop files here to upload"})}),Object(R.jsx)("span",{className:m.a.dropZoneDescription,children:"PDF, DOCX, TXT, RTF, CSV, XLSX, JPEG, PNG, GIF, WEBP, MP3, WAV, MP4, MOV, WEBM, MKV"}),Object(R.jsx)(s.Localized,{id:"Chat-dropzone-file-here-description",children:Object(R.jsx)("span",{className:m.a.dropZoneDescription,children:"Max file size: 15MB"})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.Localized,{id:"Chat-dropzone-join-room-title",children:Object(R.jsx)("span",{className:m.a.dropZoneTitle,children:"There's no one else here yet"})}),Object(R.jsx)(s.Localized,{id:"Chat-dropzone-join-room-description",children:Object(R.jsx)("span",{className:m.a.dropZoneDescription,children:"Share files when more people join the meeting."})})]})})})]})}}const I={autoFocusChatInput:n.a.bool.isRequired,canAskOthersToSpeak:n.a.bool.isRequired,canBroadcast:n.a.bool.isRequired,chatFilesToShare:n.a.array,chatFileSharingEnabled:n.a.bool.isRequired,chatIsUploadingFiles:n.a.bool.isRequired,chatUnusedMessage:n.a.string.isRequired,clients:n.a.array.isRequired,clientsWithRaisedHand:n.a.array.isRequired,doChatEmojiAutoCompleteAnalytics:n.a.func.isRequired,doChatFileRetry:n.a.func.isRequired,doChatMessageRemove:n.a.func.isRequired,doChatDownloadFile:n.a.func.isRequired,emojiSkinTone:n.a.string,featureBrandAvatarsOn:n.a.bool,hideEmojiPicker:n.a.bool,isRoomOwner:n.a.bool.isRequired,lastSeenChatSidebar:n.a.number,localClientId:n.a.string.isRequired,messageGroups:n.a.arrayOf(f.b).isRequired,onAskToSpeakClicked:n.a.func.isRequired,onChatLinkClicked:n.a.func.isRequired,onRemoveFile:n.a.func.isRequired,onSeeWhoRaisedHandClicked:n.a.func.isRequired,onSetStickyReaction:n.a.func.isRequired,roomSessionId:n.a.string,sendChatMessage:n.a.func.isRequired,setChatUnusedMessage:n.a.func.isRequired,showGroupBanner:n.a.bool.isRequired,stickyReaction:n.a.object,userIsAdmin:n.a.bool.isRequired};function E(e){let{chatFilesToShare:t,doChatFileUpload:o,roomSessionId:a,chatFileSharingSessionActive:n,...s}=e;const r=Object(i.useCallback)((e,t)=>{n&&(e.length>0||t.length>0)&&o({files:e,fileRejections:t})},[o,n]),{getRootProps:l,getInputProps:d,isDragActive:u,open:m}=Object(c.a)({onDrop:r,accept:{"application/doc":[".doc",".docx"],"application/msword":[".doc",".docx"],"application/pdf":[".pdf"],"application/rtf":[".rtf"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"audio/mpeg":[".mp3"],"audio/wav":[".wav"],"image/gif":[".gif"],"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"],"text/csv":[".csv"],"text/plain":[".txt"],"video/mp4":[".mp4"],"video/quicktime":[".mov"],"video/webm":[".webm"],"video/x-matroska":[".mkv"]},maxFiles:10,maxSize:15728640,disabled:(null==t?void 0:t.length)>=10||!s.chatFileSharingEnabled});return Object(R.jsx)(y,{getRootProps:l,getInputProps:d,isDragActive:u,open:m,chatFilesToShare:t,roomSessionId:a,chatFileSharingSessionActive:n,...s})}y.propTypes={...I,getInputProps:n.a.func.isRequired,getRootProps:n.a.func.isRequired,isDragActive:n.a.bool.isRequired,open:n.a.func},E.propTypes={...I,doChatFileUpload:n.a.func.isRequired},t.a=E}).call(this,o(39))},,function(e,t,o){e.exports=o.p+"assets/media/butterfly.6725910d.png"},function(e,t,o){e.exports=o.p+"assets/media/timer.d16527f0.svg"},function(e,t,o){e.exports=o.p+"assets/media/pip-animation.a37ee30a.gif"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+CiAgIDxkZWZzPgogICAgICA8bGluZWFyR3JhZGllbnQgeTI9IjE2MS4yOSIgeDI9IjAiIHkxPSIyMTguMjIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iMCI+CiAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNjNTI4MjgiIC8+CiAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNTQ1NCIgLz4KICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgPC9kZWZzPgogICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTI4NTcgMCAwIC45Mjg1Ny02NjYuOTQtMTQ0LjM3KSI+CiAgICAgIDxjaXJjbGUgcj0iMjgiIGN5PSIxODkuOTMiIGN4PSI3NTIuNyIgZmlsbD0idXJsKCMwKSIgLz4KICAgICAgPGcgZmlsbD0iI2ZmZiIgZmlsbC1vcGFjaXR5PSIuODUxIj4KICAgICAgICAgPHBhdGggZD0ibTczOS41NCAxODAuMjNjMC0yLjE2NiAxLjc1Ni0zLjkyMiAzLjkyMi0zLjkyMiAyLjE2NSAwIDMuOTIyIDEuNzU2IDMuOTIyIDMuOTIyIDAgMi4xNjctMS43NTYgMy45MjMtMy45MjIgMy45MjMtMi4xNjYgMC0zLjkyMi0xLjc1Ni0zLjkyMi0zLjkyM20xNy43ODQgMGMwLTIuMTY2IDEuNzU4LTMuOTIyIDMuOTIzLTMuOTIyIDIuMTY1IDAgMy45MjIgMS43NTYgMy45MjIgMy45MjIgMCAyLjE2Ny0xLjc1NiAzLjkyMy0zLjkyMiAzLjkyMy0yLjE2NiAwLTMuOTIzLTEuNzU2LTMuOTIzLTMuOTIzIiAvPgogICAgICAgICA8cGF0aCBkPSJtNzY2Ljg5IDIwMC41MWMtMi40MzEtNS42MjEtOC4xMjMtOS4yNTMtMTQuNTAyLTkuMjUzLTYuNTE2IDAtMTIuMjQyIDMuNjUtMTQuNTg4IDkuMy0uNDAyLjk2Ny4wNTYgMi4wNzggMS4wMjUgMi40OC4yMzguMDk3LjQ4NS4xNDQuNzI3LjE0NC43NDQgMCAxLjQ1LS40NCAxLjc1My0xLjE3IDEuNzU2LTQuMjI5IDYuMTA3LTYuOTYgMTEuMDgtNi45NiA0Ljg2NCAwIDkuMTg5IDIuNzMzIDExLjAyIDYuOTY1LjQxNi45NjIgMS41MzMgMS40MDUgMi40OTUuOTg5Ljk2MS0uNDE3IDEuNDA1LTEuNTMzLjk4OS0yLjQ5NSIgLz4KICAgICAgPC9nPgogICA8L2c+Cjwvc3ZnPgo="},function(e,t,o){e.exports=o.p+"assets/media/butterfly.3e852bf5.png"},function(e,t,o){e.exports=o.p+"assets/media/birds.6e01a33a.png"},,,,,,function(e,t,o){e.exports=o.p+"assets/media/pointer.b964bd54.svg"},function(e,t,o){e.exports=o.p+"assets/media/room-status-bar.4666b249.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMTIiIGZpbGw9IiMxQjlDODQiLz4KICA8cmVjdCB4PSI4IiB5PSI2IiB3aWR0aD0iMjQiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41NiIvPgogIDxyZWN0IHg9IjIyIiB5PSI4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCIgZmlsbD0iI2ZmZiIvPgogIDxyZWN0IHg9IjgiIHk9IjIyIiB3aWR0aD0iMjQiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNCIvPgogIDxyZWN0IHg9IjEwIiB5PSIyNCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjQiIGZpbGw9IiNmZmYiLz4KPC9zdmc+Cg=="},function(e,t,o){e.exports=o.p+"assets/media/logo-idporten.151f56a4.png"},function(e,t,o){e.exports=o.p+"assets/media/viewer-illustration.8ebee9ca.svg"},function(e,t,o){"use strict";(function(e){var i=o(1),a=o.n(i),n=o(2),s=o(9),r=o(3),c=o(27),l=o(30),d=o(186),u=o(43),m=o(44),p=o(86),b=o(49),g=o(0);function h(t){let{browserIsIos:o,canAccessCamera:i,doRequestDummyStream:a,doRequestLocalStream:s,doUpdateLocalDevices:h,isMissingDeviceLabels:j,localStream:f,localStreamError:O,mediaPermissionStatus:S,precallPermissionHelpLink:R,roomType:C}=t;const[v,y]=Object(n.useState)(""),I=Object(n.useCallback)(()=>{const{unlockSafari:e}=Object(b.a)();e(),s(),y("requestedPermission")},[s]),E="firefox"===c.a.browserDetails.browser,x=("chrome"===c.a.browserDetails.browser||"firefox"===c.a.browserDetails.browser)&&!e.navigator.userAgent.includes("Android")&&!o||!1,T=!j;if(Object(n.useEffect)(()=>{O?y(O.name||"unknown error"):"prompt"===S&&y("requestingPermission")},[f,O,S]),Object(n.useEffect)(()=>{if(x&&"NotAllowedError"!==v)return;const e=setInterval(async()=>{try{h()}catch(e){console.warn(e)}},750);return()=>clearInterval(e)},[h,x,v]),!v)return Object(g.jsx)(p.a,{children:Object(g.jsx)(r.Localized,{id:"PreCallDevicePermissions-loading-message",children:"Loading camera and audio..."})});const L="NotAllowedError"!==v;return Object(g.jsx)(u.a,{showRoomName:L,children:Object(g.jsx)(m.a,{footer:Object(g.jsx)(d.b,{hasUnblockStep:x,isMediaPermissionsGranted:T,onEnterWithoutDevices:a,onRequestPermissions:I,state:v}),children:Object(g.jsx)(d.a,{canAccessCamera:i,precallPermissionHelpLink:R,onRequestPermissions:I,hasUnblockStep:x,isFirefox:E,roomType:C,roomUrl:l.a.organization,showHelp:"prompt"!==S,state:v})})})}h.propTypes={browserIsIos:a.a.bool.isRequired,canAccessCamera:a.a.bool.isRequired,doRequestDummyStream:a.a.func.isRequired,doRequestLocalStream:a.a.func.isRequired,doUpdateLocalDevices:a.a.func.isRequired,isMissingDeviceLabels:a.a.bool,localStream:a.a.object,localStreamError:a.a.object,mediaPermissionStatus:a.a.string.isRequired,precallPermissionHelpLink:a.a.string,roomType:a.a.string.isRequired},t.a=Object(s.b)("doRequestDummyStream","doRequestLocalStream","doSetPrecallReviewDone","doUpdateLocalDevices","selectBrowserIsIos","selectCanAccessCamera","selectIsMissingDeviceLabels","selectLocalStream","selectLocalStreamError","selectMediaPermissionStatus","selectRoomType","selectShouldShowKnockPage","selectPrecallPermissionHelpLink",h)}).call(this,o(39))},function(e,t,o){e.exports=o.p+"assets/media/blockedPermissionsChrome.ed26ccc2.svg"},function(e,t,o){e.exports=o.p+"assets/media/blockedMicPermissionsChrome.10965951.svg"},function(e,t,o){e.exports=o.p+"assets/media/cabin-90.da9aec7c.jpg"},function(e,t,o){e.exports=o.p+"assets/media/concrete-90.531e73ea.jpg"},function(e,t,o){e.exports=o.p+"assets/media/brick-90.910dc2f8.jpg"},function(e,t,o){e.exports=o.p+"assets/media/sunrise-90.3ae827c6.png"},function(e,t,o){e.exports=o.p+"assets/media/day-90.df0b7f92.png"},function(e,t,o){e.exports=o.p+"assets/media/night-90.74a2a254.png"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjIxNCIgdmlld0JveD0iMCAwIDQ0MCAyMTQiIHdpZHRoPSI0NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI2Y4ZTNjOCIgaGVpZ2h0PSIyMTQiIHJ4PSIxMiIgd2lkdGg9IjQ0MCIvPjxyZWN0IGZpbGw9IiNmZmYiIGhlaWdodD0iMTA4IiByeD0iOCIgd2lkdGg9IjM0MSIgeD0iNTAiIHk9IjUzIi8+PHBhdGggZD0ibTI5NSA1M3YxMDgiIHN0cm9rZT0iI2YxZjFmMSIvPjxwYXRoIGQ9Im0zOTEgMTA3aC05NiIgc3Ryb2tlPSIjZjFmMWYxIi8+PGNpcmNsZSBjeD0iMTA0IiBjeT0iMTA3IiBmaWxsPSIjMWI5Yzg0IiByPSIzMCIvPjxyZWN0IGZpbGw9IiNjNGM0YzQiIGhlaWdodD0iMTIiIHJ4PSI2IiB3aWR0aD0iNjQiIHg9IjMxMSIgeT0iNzciLz48cmVjdCBmaWxsPSIjYzRjNGM0IiBoZWlnaHQ9IjEyIiByeD0iNiIgd2lkdGg9IjY0IiB4PSIzMTEiIHk9IjEyNSIvPjxwYXRoIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTk5Ljk0NDIgMTAxLjgyM2MtLjcyMSAxLjAzLS45NDQyIDIuMzA4LS45NDQyIDMuMTc3djdoMTB2LTdjMC0uODY5LS4yMjMtMi4xNDctLjk0NC0zLjE3Ny0uNjgxLS45NzItMS44NjktMS44MjMtNC4wNTYtMS44MjNzLTMuMzc1Ljg1MS00LjA1NTggMS44MjN6bTExLjA1NTggMTIuMTc3aDFjLjU1MiAwIDEtLjQ0OCAxLTFzLS40NDgtMS0xLTFoLTF2LTdjMC0xLjEzMS0uMjc3LTIuODUzLTEuMzA2LTQuMzIzLTEuMDY5LTEuNTI4My0yLjg4MS0yLjY3Ny01LjY5NC0yLjY3N3MtNC42MjQ4IDEuMTQ4Ny01LjY5NDIgMi42NzdjLTEuMDI5IDEuNDctMS4zMDU4IDMuMTkyLTEuMzA1OCA0LjMyM3Y3aC0xYy0uNTUyMyAwLTEgLjQ0OC0xIDFzLjQ0NzcgMSAxIDFoMSAxIDEyem0tOC43NTUgMS45NTljLS4yNjUtLjQ4NS4yMDMtLjk1OS43NTUtLjk1OWgyYy41NTIgMCAxLjAyLjQ3NC43NTUuOTU5LS4wOS4xNjYtLjIwNS4zMTktLjM0MS40NTUtLjM3NS4zNzUtLjg4NC41ODYtMS40MTQuNTg2cy0xLjAzOS0uMjExLTEuNDE0LS41ODZjLS4xMzYtLjEzNi0uMjUxLS4yODktLjM0MS0uNDU1eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},function(e,t,o){"use strict";var i=o(3),a=o(75),n=o(0);t.a=function(){return Object(n.jsx)(a.a,{headerText:Object(n.jsx)(i.Localized,{id:"ErrorPage-room-name-title",children:"You need to be in a room"}),bodyText:Object(n.jsx)(i.Localized,{id:"ErrorPage-room-name-body",children:"We couldn\u2019t locate the room you\u2019re trying to enter"}),severity:"error"})}},function(e,t,o){"use strict";(function(e){var i=o(7),a=o(30),n=o(10),s=o(52),r=o(16),c=o(79),l=o(156);const d=[c.a.MAX_VIEWER_LIMIT_REACHED,c.a.ROOM_FULL,c.a.ROOM_LOCKED,c.a.ROOM_MEETING_TIME_EXHAUSTED,c.a.ROOM_CONCURRENCY_CONTROL_ERROR,c.a.FREE_TIER_EXHAUSTED],u=document.querySelector('link[rel="icon"]');t.a={name:"clientState",getReducer:()=>{let e;try{e=sessionStorage.reloadReason||""}catch(o){}e&&delete sessionStorage.reloadReason;const t={activeSettingsDialogPane:null,applicationState:"",applicationUpdated:!1,endMeetingDialogValue:null,isDisplayNameDialogOpen:!1,isEmbedInstructionsDialogOpen:!1,isIntegrationInfoDialogOpen:!1,isKeyboardShortcutDialogOpen:!1,isMeetingTimerDialogOpen:!1,isMeetingTimeLimitDialogOpen:!1,isProGuideOpen:null,isReportAbuseDialogOpen:!1,kickRequestedByClientId:null,meetingWasEnded:!1,needDeviceApply:!1,reloadReason:e,roomName:"",roomLeftContext:null,selectedAudioId:null,selectedCameraEffectId:null,selectedSpeakerId:null,selectedVideoId:null,startTime:Date.now(),timeLimitWasExecuted:!1,concurrencyControlsExecuted:!1};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case n.a.ROOM_JOINED:return{...e,applicationState:"joined"};case n.a.CLIENT_KICKED:return{...e,applicationState:"kicked",kickRequestedByClientId:i.requestedByClientId,meetingWasEnded:"end-meeting"===i.reasonId,timeLimitWasExecuted:"time-limit"===i.reasonId,concurrencyControlsExecuted:"concurrency-controls"===i.reasonId};case"ROOM_ENTERED":return{...e,applicationState:"started",roomName:i.toLowerCase()};case"ROOM_LEFT":return{...e,applicationState:"left",roomLeftContext:i.context||null};case"END_MEETING":return{...e,meetingWasEnded:!0};case"EXECUTE_MEETING_TIME_LIMIT":return{...e,timeLimitWasExecuted:!0};case"APPLICATION_UPDATED":return{...e,applicationUpdated:!0};case"DISPLAYNAMEDIALOG_TOGGLED":return{...e,isDisplayNameDialogOpen:!e.isDisplayNameDialogOpen};case"KEYBOARDSHORTCUTSDIALOG_TOGGLED":return{...e,isKeyboardShortcutDialogOpen:!e.isKeyboardShortcutDialogOpen};case"INTEGRATIONINFODIALOG_TOGGLED":return{...e,isIntegrationInfoDialogOpen:!e.isIntegrationInfoDialogOpen};case"PROGUIDE_ISOPEN_CHANGED":return{...e,isProGuideOpen:i};case"MEETINGTIMERDIALOG_TOGGLED":return{...e,isMeetingTimerDialogOpen:!e.isMeetingTimerDialogOpen};case"MEETINGTIMELIMITDIALOG_TOGGLED":return{...e,isMeetingTimeLimitDialogOpen:!e.isMeetingTimeLimitDialogOpen};case"EMBEDINSTRUCTIONSDIALOG_TOGGLED":return{...e,isEmbedInstructionsDialogOpen:!e.isEmbedInstructionsDialogOpen};case"ENDMEETINGDIALOG_TOGGLED":return{...e,endMeetingDialogValue:e.endMeetingDialogValue?null:i.stayBehind?"stay":"leave"};case"REPORTABUSEDIALOG_TOGGLED":return{...e,isReportAbuseDialogOpen:!e.isReportAbuseDialogOpen};case"SETTINGSDIALOG_PANE_SET":return{...e,...!i&&{selectedAudioId:null,selectedVideoId:null,selectedSpeakerId:null},activeSettingsDialogPane:i};case"SELECTED_AUDIOID_SET":return{...e,selectedAudioId:i};case"SELECTED_CAMERAEFFECT_SET":return{...e,selectedCameraEffectId:i};case"SELECTED_VIDEOID_SET":return{...e,selectedVideoId:i};case"SELECTED_SPEAKERID_SET":return{...e,selectedSpeakerId:i};case"CLIENTSTATE_DEVICECHANGE_APPLIED":return{...e,selectedAudioId:null,selectedVideoId:null,selectedSpeakerId:null}}return e}},getMiddleware:()=>e=>t=>o=>{if(!u)return t(o);const i=e.selectIsWindowFocused(),a=e.selectShouldShowNotificationFavicon(),n=t(o),s=e.selectIsWindowFocused(),r=e.selectShouldShowNotificationFavicon();return i&&!s&&r||!s&&!a&&r?u.href=u.href.replace("favicon.svg","favicon-notification.svg"):(!i&&s||!s&&!r)&&(u.href=u.href.replace("favicon-notification.svg","favicon.svg")),n},doApplicationInitialize:e=>t=>{let{store:o}=t;""===o.selectApplicationState()&&(e&&(o.doLoadRoomKey(e),o.doEnterRoom(e),o.doFetchRoom(e),o.doFetchRoomFeatures(e),window.document.title=`${a.a.subdomain}${e} - Whereby`),o.doFetchUser(),o.doFetchCurrentOrganization(),o.doFetchExperiments(),o.doFetchHeroContent())},doApplicationUpdated:()=>({type:"APPLICATION_UPDATED"}),doEnterRoom:e=>({type:"ROOM_ENTERED",payload:e}),doLeaveRoom:function(){let{context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"ROOM_LEFT",payload:{context:e}}},doEndMeeting:function(){let{context:e,stayBehind:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{dispatch:i,store:a}=o;const n=a.selectRemoteClientsAndViewerClients().map(e=>e.id);i({type:"END_MEETING",payload:{requestedByClientId:t?null:a.selectLocalClientId()},meta:{signal:n.length?{type:"kick_client",payload:{clientIds:n,reasonId:"end-meeting"}}:void 0}}),t||a.doLeaveRoom({context:e})}},doReload:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"action";try{sessionStorage.reloadReason=t}catch(o){}return setTimeout(()=>e.location.reload(),0),{type:"RELOAD",payload:t}},doSetSelectedAudioId:e=>({type:"SELECTED_AUDIOID_SET",payload:e}),doSetSelectedCameraEffectId:e=>({type:"SELECTED_CAMERAEFFECT_SET",payload:e}),doSetSelectedVideoId:e=>({type:"SELECTED_VIDEOID_SET",payload:e}),doSetSelectedSpeakerId:e=>({type:"SELECTED_SPEAKERID_SET",payload:e}),doApplyChangeDevices:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectPreferSpeakerId(),{selectedSpeakerId:a}=o.selectClientStateRaw();a&&a!==i&&o.doSetSpeaker(a);const n=o.selectAudioId(),s=o.selectVideoId(),r=o.selectDefaultMediaIds(),c={...r.audioId!==n&&{audioId:r.audioId},...r.videoId!==s&&{videoId:r.videoId}};Object.keys(c).length&&o.doSwitchLocalStream(c),t({type:"CLIENTSTATE_DEVICECHANGE_APPLIED"})},doToggleDisplayNameDialog:()=>({type:"DISPLAYNAMEDIALOG_TOGGLED"}),doToggleKeyboardShortcutsDialog:()=>({type:"KEYBOARDSHORTCUTSDIALOG_TOGGLED"}),doToggleIntegrationInfoDialog:()=>({type:"INTEGRATIONINFODIALOG_TOGGLED"}),doSetProGuideOpen:e=>({type:"PROGUIDE_ISOPEN_CHANGED",payload:e,meta:e?void 0:{persist:{hasSeenProGuide:!0}}}),doToggleMeetingTimerDialog:()=>({type:"MEETINGTIMERDIALOG_TOGGLED"}),doToggleMeetingTimeLimitDialog:()=>e=>{let{dispatch:t}=e;t({type:"MEETINGTIMELIMITDIALOG_TOGGLED"})},doToggleEmbedInstructionsDialog:function(){let{source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{dispatch:o,store:i}=t;i.doSetActiveSettingsDialogPane(null),o({type:"EMBEDINSTRUCTIONSDIALOG_TOGGLED",meta:e?{analytics:r.b.roomEmbedInstructionsDialogOpen({source:e})}:void 0})}},doEmbedInstructionsConsent:e=>{let{optedIn:t}=e;return{type:"EMBEDINSTRUCTIONS_CONSENT_SET",meta:{persist:{embedInstructionsUserResearchConsent:Date.now()},analytics:r.b.roomConsentsGranted({consents:[...t?["user-research"]:[]],context:"embedInstructions"}),consents:{"user-research":{optedIn:t}}}}},doReportAbuse:e=>{let{category:t,abusers:o,description:i}=e;return async e=>{let{dispatch:a,store:n,roomService:s}=e;const r=n.selectRoomName(),c=n.selectRoomSessionId();try{await s.reportAbuse({category:t,abusers:o,description:i,roomSessionId:c,roomName:r}),n.doSetNotification("abuseReported",{doLeaveRoom:()=>n.doLeaveRoom({context:"abuseReported"})}),a({type:"ABUSE_REPORTED"})}catch(l){a({type:"ABUSE_REPORT_FAILED"})}}},doToggleEndMeetingDialog:function(){let{stayBehind:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"ENDMEETINGDIALOG_TOGGLED",payload:{stayBehind:e}}},doToggleReportAbuseDialog:()=>({type:"REPORTABUSEDIALOG_TOGGLED"}),doSetActiveSettingsDialogPane:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectResolution()[0];o({type:"SETTINGSDIALOG_PANE_SET",payload:"media"===e&&a<l.a?"none":e})},selectClientStateRaw:e=>e.clientState,selectApplicationState:e=>e.clientState.applicationState,selectApplicationUpdated:e=>e.clientState.applicationUpdated,selectAppStartTime:e=>e.clientState.startTime,selectRoomName:e=>e.clientState.roomName,selectRoomLeftContext:e=>e.clientState.roomLeftContext,selectShouldShowDisplayNameDialog:e=>e.clientState.isDisplayNameDialogOpen,selectShouldShowKeyboardShortcutDialog:e=>e.clientState.isKeyboardShortcutDialogOpen,selectShouldShowIntegrationInfoDialog:e=>e.clientState.isIntegrationInfoDialogOpen,selectIsProGuideOpen:e=>Boolean(e.clientState.isProGuideOpen),selectShouldShowMeetingTimerDialog:e=>e.clientState.isMeetingTimerDialogOpen,selectShouldShowMeetingTimeLimitDialog:e=>e.clientState.isMeetingTimeLimitDialogOpen,selectShouldShowEmbedInstructionsDialog:e=>e.clientState.isEmbedInstructionsDialogOpen,selectShouldShowEndMeetingDialog:e=>!!e.clientState.endMeetingDialogValue,selectShouldShowReportAbuseDialog:e=>e.clientState.isReportAbuseDialogOpen,selectEndMeetingDialogValue:e=>e.clientState.endMeetingDialogValue,selectMeetingWasEnded:e=>e.clientState.meetingWasEnded,selectKickRequestedByClientId:e=>e.clientState.kickRequestedByClientId,selectActiveSettingsDialogPane:e=>e.clientState.activeSettingsDialogPane,selectSelectedAudioId:e=>e.clientState.selectedAudioId,selectSelectedVideoId:e=>e.clientState.selectedVideoId,selectSelectedSpeakerId:e=>e.clientState.selectedSpeakerId,selectSelectedCameraEffectId:e=>e.clientState.selectedCameraEffectId,selectTimeLimitWasExecuted:e=>e.clientState.timeLimitWasExecuted,selectConcurrencyControlsExecuted:e=>e.clientState.concurrencyControlsExecuted,selectClientStateEmbedNeeded:Object(i.e)("selectPrefs","selectLocalClientIsRecorder","selectLocalClientIsStreamer","selectRoomIsEmbedded",(e,t,o,i)=>!i&&Boolean(e.needAncestor)&&!(t||o)),selectKickRequestedByClient:Object(i.e)("selectKickRequestedByClientId","selectRemoteClients",(e,t)=>t.find(t=>t.id===e)),selectFatalError:Object(i.e)("selectRoomConnectionError","selectRoomError",(e,t)=>e&&!d.includes(e)?new Error(e):t instanceof s.c?t:null),selectIsEmbeddingFreeRoom:Object(i.e)("selectFeatureFreeRoomEmbedOff","selectRoomIsEmbedded","selectRoomIsFree",(e,t,o)=>t&&e&&o),selectShouldShowEmbedOption:Object(i.e)("selectIsRoomOwner","selectRoomIsEmbedded","selectRoomProduct","selectRoomType",(e,t,o,i)=>!t&&e&&!["embedded","personal_free","organization_business_custom"].includes(o)&&"personal"===i),selectShouldShowWatermark:Object(i.e)("selectHasRoomFetched","selectFeatureEmbedWatermarkForceOn","selectRoomIsEmbedded","selectRoomProduct","selectRoomProductName",(e,t,o,i,a)=>e&&(t||"embedded-free"===a||o&&!["embedded","organization_business_custom"].includes(i))),selectShouldShowPrecall:Object(i.e)("selectHasRequestedDevices","selectLocalDevices","selectShouldRequestMediaPermissions","selectShouldShowBrowserSupport","selectShouldShowKnockPage","selectShouldShowNamePrompt","selectShouldShowReviewPage",(e,t,o,i,a,n,s)=>i||n||e&&(!t||0===t.length)&&o||s||a),selectDefaultMediaIds:Object(i.e)("selectClientStateRaw","selectAudioId","selectAudioInputDevices","selectVideoId","selectVideoInputDevices",(e,t,o,i,a)=>{let n=e.selectedAudioId||t,s=e.selectedVideoId||i;var r,c;o.some(e=>e.audioId===n)||(n=null==(r=o.find(e=>!e.busy)||o[0])?void 0:r.audioId);a.some(e=>e.videoId===s)||(s=null==(c=a.find(e=>!e.busy)||a[0])?void 0:c.videoId);return{audioId:n||null,videoId:s||null}}),selectNeedDeviceChangeApply:Object(i.e)("selectClientStateRaw","selectAudioId","selectDefaultMediaIds","selectPreferSpeakerId","selectPrefs","selectSelectedCameraEffectId","selectVideoId",(e,t,o,i,a,n,s)=>{const{selectedSpeakerId:r}=e;return!!(o.audioId!==t||o.videoId!==s||null!==n&&(n||null)!==(a.cameraEffect||null)||r&&r!==i)}),selectShouldShowNotificationFavicon:Object(i.e)("selectChatUnreadMessageCount","selectKnockers",(e,t)=>e>0||t.length>0),reactShowProGuide:Object(i.e)("selectClientStateRaw","selectIsRoomOwner","selectIsPublicOrganization","selectCanCancelSubscription","selectIsPhoneResolution","selectRoomMode","selectPersisted",(e,t,o,i,a,n,s)=>{const r=t&&o&&i,c="normal"===n&&null===e.isProGuideOpen;if(r&&!a&&c&&!s.hasSeenProGuide)return{actionCreator:"doSetProGuideOpen",args:[!0]}})}}).call(this,o(39))},function(e,t,o){"use strict";(function(e){var i=o(11),a=o.n(i),n=o(7),s=o(24),r=o(45),c=o(67),l=o(49),d=o(72);let u;t.a={name:"localStream",init:t=>{u=Object(d.a)(t.doUpdateLocalDevices,{delay:500}),e.navigator.mediaDevices&&e.navigator.mediaDevices.addEventListener("devicechange",u)},getReducer:()=>{const e={beforeEffectTracks:{video:null,audio:null},busyDeviceIds:[],devices:null,deviceSwitchStartTime:0,dummy:!1,error:null,hasRequestedDevices:!1,isSwitching:!1,lastAudioId:null,lastVideoId:null,metrics:{deviceSwitches:0,deviceAutoSwitches:0,deviceSwitchMinTime:0,deviceSwitchMaxTime:0,deviceSwitchAvgTime:0,deviceSwitchFails:0,deviceStops:0,deviceUpdates:0},stream:null,streamTracks:{audio:null,video:null},speakerId:null,audio:{},video:{}};return t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case"RTC_CONNECTION_INITIALIZING":case"RTC_CONNECTION_READY":return{...t};case"SWITCH_LOCAL_STREAM_STARTED":return{...t,isSwitching:!0,beforeEffectTracks:{...t.beforeEffectTracks,...i.beforeEffectTracks},deviceSwitchStartTime:Date.now()};case"SWITCH_LOCAL_STREAM_FINISHED":{const e=Date.now()-t.deviceSwitchStartTime;return{...t,error:null,isSwitching:!1,beforeEffectTracks:{...t.beforeEffectTracks,...i.beforeEffectTracks},metrics:{...t.metrics,deviceSwitchMinTime:t.metrics.deviceSwitches?Math.min(t.metrics.deviceSwitchMinTime,e):e,deviceSwitchMaxTime:Math.max(t.metrics.deviceSwitchMaxTime,e),deviceSwitchAvgTime:(t.metrics.deviceSwitchAvgTime*t.metrics.deviceSwitches+e)/(t.metrics.deviceSwitches+1),deviceSwitches:t.metrics.deviceSwitches+1,deviceAutoSwitches:t.metrics.deviceAutoSwitches+(i.autoSwitched?1:0)}}}case"SWITCH_LOCAL_STREAM_FAILED":return{...t,error:i,isSwitching:!1,metrics:{...t.metrics,deviceSwitchFails:t.metrics.deviceSwitchFails+1}};case"LOCAL_STREAM_DEVICE_BUSY":return t.busyDeviceIds.includes(i)?t:{...t,busyDeviceIds:[...t.busyDeviceIds,i]};case"LOCAL_SPEAKER_UPDATED":return{...t,speakerId:i};case"LOCAL_DEVICES_UPDATE_STARTED":return{...t,hasRequestedDevices:!0,metrics:{...t.metrics,deviceUpdates:t.metrics.deviceUpdates+1}};case"LOCAL_DEVICES_UPDATE_FINISHED":return{...t,devices:i};case"LOCAL_DEVICES_SKIPPED":return{...t,devices:[]};case"LOCAL_STREAM_REQUEST_STARTED":return{...t,isSwitching:!0};case"LOCAL_STREAM_REQUEST_FAILED":return{...t,audio:{deviceId:null},error:i,isSwitching:!1,video:{deviceId:null}};case"LOCAL_STREAM_REQUEST_FINISHED":return{...t,error:null,isSwitching:!1,stream:t.stream||i.stream,streamTracks:{audio:i.audio,video:i.video}};case r.b.LOCAL_STREAM_TRACK_ADDED:return{...t,streamTracks:i.screenShare?t.streamTracks:{...t.streamTracks,...i.tracks.reduce((e,t)=>({...e,[t.kind]:t}),{})}};case r.b.LOCAL_STREAM_TRACK_REMOVED:return{...t,streamTracks:i.stream.screenShare?t.streamTracks:{...t.streamTracks,[i.track.kind]:null}};case"LOCAL_STREAM_DUMMY":return{...t,error:null,stream:t.stream||new MediaStream([]),dummy:!0};case"LOCAL_STREAM_STOPPED":return{...t,stream:null,beforeEffectTracks:e.beforeEffectTracks,metrics:{...t.metrics,deviceStops:t.metrics.deviceStop+1}};case"LOCAL_STREAM_METADATA":{const{audio:e,video:o}=i;return{...t,audio:e,video:o,busyDeviceIds:t.busyDeviceIds.filter(t=>t!==e.deviceId&&t!==o.deviceId)}}}return t},(e,o)=>{var i,a;const n=t(e,o);return e===n?e:(n.lastAudioId=(null==(i=n.audio)?void 0:i.deviceId)||n.lastAudioId,n.lastVideoId=(null==(a=n.video)?void 0:a.deviceId)||n.lastVideoId,n)};var t},getMiddleware:()=>e=>t=>o=>{const i=e.selectLocalStream(),a=e.selectIsAudioEnabled(),n=e.selectIsVideoEnabled(),s=e.selectIsLocalStreamSwitching(),r=t(o),c=e.selectLocalStream();if(c){const t=i!==c||s&&!e.selectIsLocalStreamSwitching(),o=e.selectIsAudioEnabled();(a!==o||t)&&c.getAudioTracks().forEach(e=>e.enabled=o);const r=e.selectIsVideoEnabled();(n!==r||t)&&c.getVideoTracks().forEach(e=>e.enabled=r),t&&e.selectIsMissingDeviceLabels()&&e.doUpdateLocalDevices()}return["LOCAL_STREAM_REQUEST_FINISHED","LOCAL_DEVICES_UPDATE_FINISHED","SWITCH_LOCAL_STREAM_FAILED","SWITCH_LOCAL_STREAM_FINISHED"].includes(o.type)&&e.doLocalStreamMetadata(),r},doUpdateLocalDevices:()=>async e=>{var t,o,i;let a,n,{store:r,dispatch:l}=e;const d=r.selectApplicationState(),u=r.selectLocalStream(),m=r.selectLocalClientIsRecorder(),p=r.selectLocalClientIsViewer();if(m||p)return void l({type:"LOCAL_DEVICES_SKIPPED"});l({type:"LOCAL_DEVICES_UPDATE_STARTED"});try{a=await Object(s.g)(),n=r.selectLocalDevices(),l({type:"LOCAL_DEVICES_UPDATE_FINISHED",payload:a})}catch(E){l({type:"LOCAL_DEVICES_UPDATE_FAILED",payload:E,error:!0})}r.selectPreferSpeakerId()&&r.selectPreferredSpeakerMissing()&&r.doSetSpeaker(r.selectDefaultSpeakerDeviceId());if(!(d.match(/started|joined/)&&u&&!r.selectIsLocalStreamSwitching()&&a&&n&&n.find(e=>e.deviceId)))return;const{changedDevices:b,addedDevices:g,removedDevices:h}=Object(s.q)({oldDevices:n,newDevices:a||[],currentAudioId:r.selectLocalStreamRaw().lastAudioId,currentVideoId:r.selectLocalStreamRaw().lastVideoId,currentSpeakerId:r.selectPreferSpeakerId()});r.doRtcAnalyticsCustomEvent("localDevicesUpdatedFinished",{_time:Date.now(),changedDevices:b,addedDevices:g,removedDevices:h});let j=null==(t=b.audioinput)?void 0:t.deviceId,f=null==(o=b.videoinput)?void 0:o.deviceId,O=null==(i=b.audiooutput)?void 0:i.deviceId,S=!1;if(!f){const e=r.selectLocalStreamRaw().lastVideoId;var R;if(e&&!n.find(t=>t.deviceId===e)&&(a||[]).find(t=>t.deviceId===e))S=!0,"live"!==(null==(R=r.selectBeforeEffectTracks())||null==(R=R.video)?void 0:R.readyState)&&(f=e||void 0)}if("started"===d){var C,v,y;if(void 0===j)j=null==(C=g.audioinput)?void 0:C.deviceId;if(void 0===f)f=null==(v=g.videoinput)?void 0:v.deviceId;if(Object(c.a)()&&void 0===O)O=null==(y=g.audiooutput)?void 0:y.deviceId}else if("joined"===d){if(void 0===j&&g.audioinput){var I;const e=null==(I=g.audiooutput)?void 0:I.deviceId;r.doSetNotification("audioDeviceAdded",{...g.audioinput,...e?{speakerId:e}:{}})}void 0===f&&g.videoinput&&!S&&r.doSetNotification("videoDeviceAdded",g.videoinput)}void 0===j&&void 0===f||r.doSwitchLocalStream({audioId:j,videoId:f,autoSwitched:!0}),Object(c.a)()&&void 0!==O&&r.doSetSpeaker(O)},doLocalStreamEffect:(e,t,o)=>i=>{let{dispatch:n,store:r}=i;a()(["audio","video"].includes(t),"only is required");let c=r.selectBeforeEffectTracks();const l=c[t];if(e||l){n({type:"SWITCH_LOCAL_STREAM_STARTED",payload:{effect:!0,only:t}});try{const i=r.selectLocalStream();let a=null;if(e){var d;if(!l)c={[t]:null==(d="audio"===t?i.getAudioTracks():i.getVideoTracks())?void 0:d[0]};a=Object(s.v)(i,e,t)}else o?l&&(c={[t]:null},l.stop()):(a=Object(s.v)(i,l?new MediaStream([l]):new MediaStream,t),c={[t]:null});n({type:"SWITCH_LOCAL_STREAM_FINISHED",payload:{effectStream:e,beforeEffectTracks:c,replacedTracks:a}})}catch(u){return console.error(u),void n({type:"SWITCH_LOCAL_STREAM_FAILED",payload:u,error:!0})}}},doRequestDummyStream:()=>({type:"LOCAL_STREAM_DUMMY"}),doRequestLocalStream:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectLocalClientIsViewer())return;t({type:"LOCAL_STREAM_REQUEST_STARTED"});const i=o.selectGetConstraintsOptions();return Object(s.p)(i).then(e=>{var i,a;let{error:n,stream:s}=e;if(n){var r;let e="Recovered";const t=s.getTracks().filter(e=>e.enabled).map(e=>e.kind),i=null==(r=n.details)?void 0:r.constraints;if(null!=i&&i.video&&null!=i&&i.audio&&2!==t.length&&(e=`Partially recovered (only ${t[0]})`),e="doRequestLocalStream: "+e,"NotReadableError"===n.name)console.warn(e,n);else{const t=n.details||{};o.doCaptureMessage(e,{level:"info",tags:{from:"doRequestLocalStream",constraint:t.constraint,error:n.name,prevError:(""+t.error).split(":")[0]||""},extra:t})}}t({type:"LOCAL_STREAM_REQUEST_FINISHED",payload:{stream:s,video:null==(i=s.getVideoTracks())?void 0:i[0],audio:null==(a=s.getAudioTracks())?void 0:a[0]}})}).catch(e=>{if("NotAllowedError"!==e.name){const t=e.details||{};o.doCaptureException(e,{tags:{from:"doRequestLocalStream",constraint:e.constraint,prevError:(""+t.error).split(":")[0]||""},extra:t})}t({type:"LOCAL_STREAM_REQUEST_FAILED",payload:e,error:!0})})},doSetSpeaker:e=>({type:"LOCAL_SPEAKER_UPDATED",payload:e,meta:{persist:{preferSpeakerId:e}}}),doSetLocalStreamDeviceBusy:e=>({type:"LOCAL_STREAM_DEVICE_BUSY",payload:e}),doStopLocalStream:()=>t=>{let{dispatch:o,store:i}=t;e.navigator.mediaDevices&&e.navigator.mediaDevices.removeEventListener("devicechange",u);const a=i.selectLocalStream(),n=i.selectBeforeEffectTracks();a&&Object(s.y)(a),Object.values(n).forEach(e=>null==e?void 0:e.stop()),o({type:"LOCAL_STREAM_STOPPED"});Object(l.a)().close()},doSwitchLocalStream:e=>{let{videoId:t,audioId:o,autoSwitched:i}=e;return e=>{let{dispatch:n,store:r}=e;const c=r.selectApplicationState(),l=t&&!o||!t&&o,d=r.selectLocalStream();if(!d)return void r.doCaptureMessage("Switching no stream makes no sense");const u={...r.selectLocalStreamRaw().beforeEffectTracks};void 0!==o&&u.audio&&(u.audio.stop(),u.audio=null),t&&u.video&&(u.video.stop(),u.video=null),n({type:"SWITCH_LOCAL_STREAM_STARTED",payload:{videoId:t,audioId:o,beforeEffectTracks:u}}),Object(s.p)({...r.selectGetConstraintsOptions(),videoId:void 0!==t&&t,audioId:void 0!==o&&o,type:"exact"},{replaceStream:d}).then(async e=>{let{stream:s,error:u,replacedTracks:m}=e;if(a()(s===d,"should replace tracks in existing stream"),u){l&&r.doSetLocalStreamDeviceBusy(o||t);const e="doSwitchLocalStream: Recovered from error";if(["OverconstrainedError","NotReadableError"].includes(u.name))console.warn(e,u);else{const t=u.details||{};r.doCaptureMessage(e,{level:"info",tags:{from:"doSwitchLocalStream",constraint:t.constraint,error:u.name,prevError:(""+t.error).split(":")[0]||""},extra:{...t,error:String(u)}})}}if(await n({type:"SWITCH_LOCAL_STREAM_FINISHED",payload:{replacedTracks:m,autoSwitched:i},...!u&&!i&&{meta:{persist:{...t&&{preferVideoId:t},...o&&{preferAudioId:o}}}}}),i&&"joined"===c&&"joined"===r.selectApplicationState()){const e=r.selectLocalStreamRaw();var p,b;if(void 0!==o&&!1!==o)r.doSetNotification("audioDeviceChanged",{label:null==(p=e.audio)?void 0:p.label});if(void 0!==t&&!1!==t)r.doSetNotification("videoDeviceChanged",{label:null==(b=e.video)?void 0:b.label})}null!=m&&m.some(e=>"audio"===e.kind)&&r.doDismissNotification("micTrackEnded")}).catch(e=>{const i=e.details||{};l&&r.doSetLocalStreamDeviceBusy(o||t),r.doCaptureException(e,{tags:{from:"doSwitchLocalStream",constraint:e.constraint,prevError:(""+i.error).split(":")[0]||""},extra:i}),n({type:"SWITCH_LOCAL_STREAM_FAILED",payload:e,error:!0})})}},doSwitchNextCamera:()=>e=>{let{store:t}=e;const o=t.selectVideoInputDevices(),i=t.selectBusyDeviceIds(),a=t.selectVideoId();function n(e){const t=a?e.findIndex(e=>e.videoId===a):0;return(e[(t+1)%e.length]||{}).videoId}let s=n(o.filter(e=>!i.includes(e.videoId)));s&&a!==s||(s=n(o)),a!==s&&t.doSwitchLocalStream({videoId:s})},doLocalStreamMetadata:()=>e=>{var t,o;let{dispatch:i,store:a}=e;const n=a.selectLocalStream(),r=a.selectLocalDevices(),c=a.selectRtcManager_();if(!n)return;const{beforeEffectTracks:l,lastAudioId:d,lastVideoId:u}=a.selectLocalStreamRaw();i({type:"LOCAL_STREAM_METADATA",payload:Object(s.i)({stream:n,audioTrack:l.audio||(null==(t=n.getAudioTracks())?void 0:t[0]),videoTrack:l.video||(null==(o=n.getVideoTracks())?void 0:o[0]),devices:r,stoppedVideoTrack:(null==c?void 0:c.stoppedVideoTrack)||(null==c?void 0:c._stoppedVideoTrack),lastAudioId:d,lastVideoId:u})})},selectLocalStreamRaw:e=>e.localStream,selectAudioId:e=>e.localStream.audio.deviceId,selectBusyDeviceIds:e=>e.localStream.busyDeviceIds,selectHasRequestedDevices:e=>e.localStream.hasRequestedDevices,selectIsLocalStreamSwitching:e=>e.localStream.isSwitching,selectLocalStream:e=>e.localStream.stream,selectLocalStreamMetrics:e=>e.localStream.metrics,selectLocalDevices:e=>e.localStream.devices||[],selectLocalStreamIsDummy:e=>e.localStream.dummy,selectActiveAudioTrackId:e=>{var t,o;if(null!=(t=e.localStream.stream)&&t.getAudioTracks)return null==(o=e.localStream.stream.getAudioTracks()[0])?void 0:o.id},selectVideoId:e=>e.localStream.video.deviceId,selectLocalStreamRes:e=>{const t=e.localStream.video;return`${t.width||"?"}\xd7${t.height||"?"}@${t.frameRate||"?"}`},selectLocalStreamTracks:e=>e.localStream.streamTracks,selectAudioInputDevices:Object(n.e)("selectLocalDevices","selectBusyDeviceIds",(e,t)=>Object(s.f)({busyDeviceIds:t,devices:e,kind:"audioinput"})),selectBeforeEffectTracks:e=>e.localStream.beforeEffectTracks,selectSpeakerDevices:Object(n.e)("selectLocalDevices",e=>Object(s.f)({busyDeviceIds:[],devices:e,kind:"audiooutput"})),selectVideoInputDevices:Object(n.e)("selectLocalDevices","selectBusyDeviceIds",(e,t)=>Object(s.f)({busyDeviceIds:t,devices:e,kind:"videoinput"})),selectPreferSpeakerId:Object(n.e)("selectLocalStreamRaw","selectPersisted",(e,t)=>e.speakerId||t.preferSpeakerId),selectPreferredSpeakerMissing:Object(n.e)("selectPreferSpeakerId","selectSpeakerDevices",(e,t)=>!t.find(t=>t.speakerId===e)),selectDefaultSpeakerDeviceId:Object(n.e)("selectSpeakerDevices",e=>{var t,o;if(e.length>0)return null!=(t=null==(o=e.find(e=>/[dD]efault/.test(e.speakerId)))?void 0:o.speakerId)?t:e[0].speakerId}),selectLocalStreamError:Object(n.e)("selectLocalClientIsViewer","selectLocalStreamRaw","selectLocalDevices","selectLocalStream",(e,t,o,i)=>e?null:t.error?t.error:i||null===t.devices||o.some(e=>"audioinput"===e.kind||"videoinput"===e.kind)?null:new s.b),selectShouldRequestMediaPermissions:Object(n.e)("selectLocalClientIsViewer","selectLocalStream","selectMediaPermissionStatus",(e,t,o)=>!e&&(!t||"granted"!==o)),selectGetConstraintsOptions:Object(n.e)("selectAudioId","selectCanAccessCamera","selectIsSimulcast","selectLocalDevices","selectPersisted","selectPrefHd","selectPrefLowData","selectPrefWidescreen","selectPrefs","selectVideoId",(e,t,o,i,a,n,s,r,c,l)=>({devices:i,videoId:t&&(l||a.preferVideoId),audioId:e||a.preferAudioId,options:{disableAEC:!c.aec,disableAGC:!c.agc,hd:n,lowDataMode:s,resolution:c.resolution,simulcast:o,widescreen:r}})),selectIsMissingDeviceLabels:Object(n.e)("selectLocalDevices",e=>e.length?e.every(e=>!e.label):null),selectIsSelfieCam:Object(n.e)("selectIsLocalStreamSwitching","selectLocalStream","selectPrefs",(e,t,o)=>{if(!0===o.mirror||!1===o.mirror)return o.mirror;let i;try{i=t.getVideoTracks()[0]}catch{}if(!i)return!0;if(i.getCapabilities){const e=i.getCapabilities();if(e.facingMode&&e.facingMode.length)return"user"===e.facingMode[0]}return!/(back|environ)/i.test(i.label)}),selectMediaPermissionStatus:Object(n.e)("selectIsAndroidApp","selectIsMissingDeviceLabels","selectLocalClientIsViewer","selectLocalStream","selectLocalStreamError","selectLocalStreamIsDummy","selectPrefs",(e,t,o,i,a,n,s)=>n||o?"granted":null===t?"":!i&&a?"NotAllowedError"===a.name?"denied":"prompt":!t||e||s.skipMediaPermissionPrompt?"granted":"prompt"),reactUpdateLocalDevices:Object(n.e)("selectLocalStreamRaw",e=>{if(!e.hasRequestedDevices&&!e.devices)return{actionCreator:"doUpdateLocalDevices"}}),reactUpdateLocalStream:Object(n.e)("selectHasExperimentsFetched","selectHasFeaturesFetched","selectHasRoomFetched","selectIsLocalStreamSwitching","selectLocalStream","selectLocalStreamError","selectMediaPermissionStatus","selectRoomConnectionStatus","selectLocalClientIsViewer","selectLocalClientIsRecorder","selectOrganizationHasValidTrial",(e,t,o,i,a,n,s,r,c,l,d)=>{if(e&&o&&t&&!["kicked","left"].includes(r)&&!i&&!a&&!1!==d){if("granted"===s&&!n&&!c)return{actionCreator:"doRequestLocalStream"};if(l)return{actionCreator:"doRequestDummyStream"}}if(a&&["kicked","left"].includes(r))return{actionCreator:"doStopLocalStream"}})}}).call(this,o(39))},function(e,t,o){"use strict";(function(e){var i=o(20),a=o(16);const n={loginStatusChangedAt:null,form:{email:"",error:null,isSending:!1,ssoError:null},verificationForm:{code:"",error:null,isSending:!1},step:"form"};t.a={name:"login",init:t=>{e.addEventListener("message",e=>{e.origin===window.origin&&"login:succeeded"===e.data&&t.dispatch({type:"LOGIN_IFRAME_FINISHED",payload:Date.now()})})},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"LOGIN_VERIFY_FINISHED":case"LOGIN_SSO_FINISHED":case"LOGIN_IFRAME_FINISHED":case"LOGOUT":case"SIGNUP_VERIFY_FINISHED":case"SIGNUP_SSO_LOGIN_FINISHED":return{...n,loginStatusChangedAt:Date.now()};case"LOGIN_STARTED":return{...e,form:{...e.form,...o,isSending:!0,error:null}};case"LOGIN_FINISHED":return{...e,form:{...e.form,isSending:!1,error:null},step:"verification"};case"LOGIN_FAILED":return{...e,form:{...e.form,isSending:!1,error:o}};case"LOGIN_SSO_FAILED":return{...e,form:{...e.form,isSending:!1,ssoError:o}};case"LOGIN_VERIFY_STARTED":return{...e,verificationForm:{...e.verificationForm,isSending:!0,code:o,error:null}};case"LOGIN_VERIFY_FAILED":return{...e,verificationForm:{...e.verificationForm,isSending:!1,error:o}};case"LOGIN_RESTART":return n;case"SIDEBAR_LAYER_CLOSE":if(o.layer===i.c&&o.data)return{...e,form:{...e.form,email:o.data.email},verificationForm:{...e.verificationForm,code:o.data.verificationCode}}}return e},doLogin:e=>{let{email:t}=e;return async e=>{let{dispatch:o,linkService:i}=e;o({type:"LOGIN_STARTED",payload:{email:t}});try{await i.requestLinkTokenForCurrentOrganization({email:t,phoneNumber:null}),o({type:"LOGIN_FINISHED",meta:{analytics:a.b.userLoginCodeSent()}})}catch(n){o({type:"LOGIN_FAILED",payload:n})}}},doLoginVerify:e=>async t=>{let{credentialsService:o,dispatch:i,idTokenService:n,linkService:s,store:r,userService:c}=t;i({type:"LOGIN_VERIFY_STARTED",payload:e});try{const t=r.selectLoginForm(),a=await n.requestIdToken({code:e,email:t.email,phoneNumber:null});await s.createLink({idToken:a});const l=await c.getUser();await o.setUserId(l?l.userId:null),i({type:"LOGIN_VERIFY_FINISHED",payload:Date.now()})}catch(l){i({type:"LOGIN_VERIFY_FAILED",payload:l,meta:{analytics:a.b.userLoginVerificationAttempted()}})}},doLoginRestart:()=>({type:"LOGIN_RESTART"}),doLoginSso:e=>async t=>{let{credentialsService:o,dispatch:i,linkService:a,organizationService:n,ssoService:s,store:r,userService:c}=t;i({type:"LOGIN_SSO_STARTED"});try{const t=r.selectOrganizationId(),l=r.selectIsPublicOrganization(),{idToken:d}=await s.requestSsoLogin({provider:e}),u=await n.getOrganizationsByIdToken({idToken:d});if(!u.some(e=>e.organizationId===t))throw l?new Error("ssoNotFound"):new Error("organizationSsoNotFound");await a.createLink({idToken:d});const m=await c.getUser();await o.setUserId(m?m.userId:null),i({type:"LOGIN_SSO_FINISHED",payload:Date.now()})}catch(l){i({type:"LOGIN_SSO_FAILED",payload:l})}},doLogout:()=>async e=>{let{credentialsService:t,dispatch:o,userService:i}=e;await i.logout(),await t.setUserId(null),o({type:"LOGOUT",payload:Date.now()})},selectLoginRaw:e=>e.login,selectLoginForm:e=>e.login.form,selectLoginStatusChangedAt:e=>e.login.loginStatusChangedAt,selectLoginStep:e=>e.login.step,selectLoginVerificationForm:e=>e.login.verificationForm}}).call(this,o(39))},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(2),s=o.n(n),r=o(9),c=o(4),l=o(12),d=o(3),u="dialog-NXEx",m="paddedWrapper-Fysd",p="header-1K1w",b="intro-MBlE",g="options-m3-Q",h="stayBehind-orVQ",j="illustration-cHJA",f="footer-AH0K",O=o(242),S=o.n(O),R=o(17),C=o(15),v=o(0);const y=e=>{let{onCancel:t,onEndMeeting:o,defaultStayBehind:i=!1}=e;const[a,s]=Object(n.useState)(i);return Object(v.jsx)(c.G,{onClickClose:t,className:u,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("div",{className:j,children:Object(v.jsx)("img",{src:S.a,alt:""})}),Object(v.jsxs)("div",{className:m,children:[Object(v.jsx)("header",{className:p,children:Object(v.jsx)(d.Localized,{id:"EndMeetingConfirmationDialog-title",children:"End meeting"})}),Object(v.jsx)("div",{className:b,children:Object(v.jsx)(d.Localized,{id:"EndMeetingConfirmationDialog-text-intro",children:Object(v.jsx)(v.Fragment,{children:"Ending the meeting will remove everyone from the room. Are you sure?"})})}),Object(v.jsx)("div",{className:g,children:Object(v.jsx)("div",{className:h,children:Object(v.jsx)(c.w,{checked:a,modifiers:["small"],onChange:()=>s(!a),label:Object(v.jsx)(d.Localized,{id:"EndMeetingConfirmationDialog-text-stay-behind",children:"Stay behind for another meeting"})})})})]}),Object(v.jsxs)("div",{className:f,children:[Object(v.jsx)(d.Localized,{id:"EndMeetingConfirmationDialog-button-end-meeting",children:Object(v.jsx)(c.k,{modifiers:["full","small","negative"],onClick:()=>{o({stayBehind:a}),t()},children:"End meeting"})}),Object(v.jsx)(d.Localized,{id:"EndMeetingConfirmationDialog-button-cancel",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","grey"],onClick:t,children:"Cancel"})})]})]})})};y.propTypes={defaultStayBehind:a.a.bool,onCancel:a.a.func.isRequired,onEndMeeting:a.a.func.isRequired};var I=Object(C.c)(y),E="body-Z4LX",x="header-7qe8",T="paddedWrapper-KyoS",L="illustration-F6Uu";const k={runningIntegration(e){let{onClose:t}=e;return Object(v.jsx)(d.Localized,{id:"IntegrationInfoDialog-button-got-it",children:Object(v.jsx)(c.k,{onClick:t,modifiers:["full","small","primary","outlined"],children:"Got it"})})},discoveryFeatureList(e){let{doSetActiveSettingsDialogPane:t,onClose:o}=e;return Object(v.jsx)(d.Localized,{id:"IntegrationInfoDialog-button-configure",children:Object(v.jsx)(c.k,{onClick:()=>{t("integrations"),o()},modifiers:["full","small","primary"],children:"Configure integrations"})})}},_=e=>{let{context:t,doSetActiveSettingsDialogPane:o,onClose:i}=e;return Object(v.jsx)(c.G,{onClickClose:i,children:Object(v.jsxs)(c.G.Body,{className:E,children:[Object(v.jsxs)("div",{className:T,children:[Object(v.jsx)("h1",{className:x,children:Object(v.jsx)(d.Localized,{id:"IntegrationInfoDialog-title",children:"Integrations"})}),Object(v.jsx)(d.Localized,{id:"IntegrationInfoDialog-paragraph-documents",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("p",{children:["Share and collaborate together in-room with your favorite services. Open"," ",Object(v.jsx)("strong",{children:"Miro whiteboards"}),", ",Object(v.jsx)("strong",{children:"Google Docs"})," and"," ",Object(v.jsx)("strong",{children:"Trello boards"})," directly inside your Whereby room \u2014 and all participants can interact with it."]})}),Object(v.jsx)(d.Localized,{id:"IntegrationInfoDialog-paragraph-youtube",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("p",{children:["Or watch ",Object(v.jsx)("strong",{children:"YouTube videos"})," together, in sync for all participants."]})})]}),Object(v.jsx)("div",{className:L}),Object(v.jsx)("div",{className:T,children:k[t]({doSetActiveSettingsDialogPane:o,onClose:i})})]})})};_.defaultProps={context:"runningIntegration",doSetActiveSettingsDialogPane:()=>{}},_.propTypes={context:a.a.oneOf(["runningIntegration","discoveryFeatureList"]).isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,onClose:a.a.func.isRequired};var N=Object(C.c)(_),w=o(117),A=o(86),D="dialog-wpqY",P="paddedWrapper-p779",M="header-rbBN",F="intro--Rpp",B="illustration-WCM9",q=o(243),z=o.n(q);const G=e=>{let{isEnabled:t,onClose:o,onToggle:i}=e;const a=()=>{i(),o()};return Object(v.jsxs)(c.G,{onClickClose:o,className:D,children:[Object(v.jsxs)(c.G.Body,{children:[Object(v.jsxs)("div",{className:P,children:[Object(v.jsx)("header",{className:M,children:Object(v.jsx)(d.Localized,{id:"MeetingTimerConfigDialog-title",children:"Meeting timer"})}),Object(v.jsx)("div",{className:F,children:Object(v.jsx)(d.Localized,{id:"MeetingTimerConfigDialog-text-intro",children:"Keep track of the meeting duration. Starts counting up as soon as more than one person joins the room:"})})]}),Object(v.jsx)("div",{className:B,children:Object(v.jsx)("img",{src:z.a,alt:""})})]}),Object(v.jsx)(c.G.Footer,{children:t?Object(v.jsx)(d.Localized,{id:"MeetingTimerConfigDialog-button-hide",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","primary"],onClick:a,children:"Hide timer"})}):Object(v.jsx)(d.Localized,{id:"MeetingTimerConfigDialog-button-show",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["full","small","primary"],onClick:a,children:"Show timer"})})})]})};G.propTypes={isEnabled:a.a.bool.isRequired,onClose:a.a.func.isRequired,onToggle:a.a.func.isRequired};var U=Object(C.c)(G),H="dialog-8b9j",V="paddedWrapper-X5gd",W="header-ud-d",K="intro-gW7a",$="illustration-QgZR",Q="footerText-aS+W",Y="shortcutKey-FREE",J=o(244),Z=o.n(J);const X=e=>{let{onClose:t,onStartPip:o}=e;return Object(v.jsxs)(c.G,{onClickClose:t,className:H,children:[Object(v.jsxs)(c.G.Body,{children:[Object(v.jsxs)("div",{className:V,children:[Object(v.jsx)("header",{className:W,children:Object(v.jsx)(d.Localized,{id:"PipInfoDialog-title",children:"Picture in Picture"})}),Object(v.jsx)("div",{className:K,children:Object(v.jsx)(d.Localized,{id:"PipInfoDialog-text-intro",children:"Continue watching while you navigate between different apps."})})]}),Object(v.jsx)("img",{className:$,src:Z.a,alt:""})]}),Object(v.jsxs)(c.G.Footer,{children:[Object(v.jsx)(d.Localized,{id:"PipInfoDialog-button-start",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["small","full","primary"],onClick:()=>{o("info dialog"),t()},children:"Start Picture in Picture"})}),Object(v.jsxs)("p",{className:Q,children:[Object(v.jsx)(d.Localized,{id:"PipInfoDialog-shortcut-hint",children:"Try the shortcut:"}),Object(v.jsx)("span",{className:Y,children:"p"})]})]})]})};X.propTypes={onClose:a.a.func.isRequired,onStartPip:a.a.func.isRequired};var ee=Object(C.c)(X),te="dialog-QwaV",oe="paddedWrapper-e08J",ie="header-1XsA",ae="intro-pHyL",ne="illustration-BErx",se=o.p+"assets/media/chrome_shareaudio_macos.e5c7fc82.webm",re=o.p+"assets/media/chrome_shareaudio_windows.97302d46.webm",ce=o.p+"assets/media/edge_shareaudio_macos.9c270f3f.webm",le=o.p+"assets/media/edge_shareaudio_windows.a2685ed6.webm",de=o.p+"assets/media/opera_shareaudio_macos.c693679f.webm",ue=o.p+"assets/media/opera_shareaudio_windows.566e3247.webm",me=o.p+"assets/media/brave_shareaudio_macos.939dcc59.webm",pe=o.p+"assets/media/brave_shareaudio_windows.3081cd06.webm";const be=(()=>{if(window.navigator.brave)return"brave";const e=window.navigator.userAgent.toLowerCase();return e.indexOf("edg")>-1?"edge":e.indexOf("opr")>-1&&window.opr?"opera":"chrome"})(),ge=e=>{let{platform:t,vendor:o}=e;const i=(e=>{let[t,...o]=e;return`${t.toUpperCase()}${o.join("")}`})(o),a={Win32:Object(v.jsx)(d.Localized,{id:"ScreenshareWithAudioDialog-windows-text-intro",p:Object(v.jsx)("p",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:"Great news, you can now share audio with your screen share."}),Object(v.jsx)("p",{children:"Check the share audio box in the bottom left of the share modal."})]})}),MacIntel:Object(v.jsx)(d.Localized,{id:"ScreenshareWithAudioDialog-mac-text-intro",p:Object(v.jsx)("p",{}),$browserLabel:i,children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:["Great news, you can now share ",i," tabs with audio."]}),Object(v.jsxs)("p",{children:["Select ",i," tab, then check the share audio box in the bottom left of the share modal"]})]})})};return a[t]||a.MacIntel},he=e=>{let{platform:t,vendor:o}=e;const i={chrome:{Win32:re,MacIntel:se},opera:{Win32:ue,MacIntel:de},edge:{Win32:le,MacIntel:ce},brave:{Win32:pe,MacIntel:me}};return i[o][t]||i[o].MacIntel},je=e=>{let{onClose:t,onStartScreenshare:o,platform:i=navigator.platform,vendor:a=be}=e;const n=Object(v.jsx)("span",{role:"img","aria-label":"Speaker",children:"\ud83d\udd0a"});return Object(v.jsxs)(c.G,{onClickClose:t,className:te,children:[Object(v.jsxs)(c.G.Body,{children:[Object(v.jsxs)("div",{className:oe,children:[Object(v.jsx)("header",{className:ie,children:Object(v.jsx)(d.Localized,{id:"ScreenshareWithAudioDialog-title",icon:n,children:Object(v.jsxs)(v.Fragment,{children:["Share with audio ",n]})})}),Object(v.jsx)("div",{className:ae,children:ge({platform:i,vendor:a})})]}),Object(v.jsx)("video",{className:ne,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:Object(v.jsx)("source",{src:he({platform:i,vendor:a}),type:"video/webm"})})]}),Object(v.jsx)(c.G.Footer,{children:Object(v.jsx)(d.Localized,{id:"ScreenshareWithAudioDialog-button-start",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["small","full","primary"],onClick:()=>{t(),o()},children:"Continue with share screen"})})})]})};je.propTypes={onClose:a.a.func.isRequired,onStartScreenshare:a.a.func.isRequired,platform:a.a.string,vendor:a.a.string};var fe=Object(C.c)(je),Oe=o(6),Se=o.n(Oe),Re="notificationsOverlay-EJTc",Ce="isOverflow-ukJf",ve="isSidebarOpen-OPsu",ye="content-QZgZ";function Ie(e){let{children:t,isSidebarOpen:o=!1,topPadding:i=8}=e;const a=Object(n.useRef)(null),[s,r]=Object(n.useState)(!1),c={paddingTop:i};return Object(n.useEffect)(()=>{const e=a.current&&Math.round(a.current.scrollHeight-a.current.offsetHeight)>0;s!==e&&r(e)}),Object(v.jsx)("div",{className:Se()(Re,{[Ce]:s,[ve]:o}),ref:a,style:c,children:Object(v.jsx)("div",{className:ye,children:t})})}Ie.propTypes={children:a.a.node.isRequired,isSidebarOpen:a.a.bool,topPadding:a.a.number};var Ee=Object(C.b)(Ie),xe={dialog:"dialog-TjIS",paddedWrapper:"paddedWrapper-aq1+",header:"header-1Tlx",intro:"intro-OyDE",upgrade:"upgrade-Q5mq",dialogFooter:"dialogFooter-xPI1",footnote:"footnote-Ttao"};const Te=Object(v.jsx)(c.d,{className:xe.learnMoreLink,href:"/information/pricing?utm_source=whereby&utm_campaign=room_upgrade_to_pro_dialog&utm_medium=web",target:"_blank",children:"Learn more\u2026"}),Le=e=>{let{onClose:t,onButtonClick:o}=e;return Object(v.jsxs)(c.G,{onClickClose:t,className:xe.dialog,children:[Object(v.jsx)(c.G.Body,{children:Object(v.jsxs)("div",{className:xe.paddedWrapper,children:[Object(v.jsx)("header",{className:xe.header,children:Object(v.jsx)(d.Localized,{id:"MeetingUpgradeToProDialog-title",children:Object(v.jsx)(v.Fragment,{children:"Need more time?"})})}),Object(v.jsx)("div",{className:xe.intro,children:Object(v.jsx)(d.Localized,{id:"MeetingUpgradeToProDialog-text-intro",learnMoreLink:Te,children:Object(v.jsxs)(v.Fragment,{children:["Upgrade to Pro to enjoy unlimited group calls, 3 meeting rooms, recording and custom room branding for $8.99 monthly. ",Te]})})})]})}),Object(v.jsxs)(c.G.Footer,{className:xe.dialogFooter,children:[Object(v.jsx)(d.Localized,{id:"MeetingUpgradeToProDialog-button-upgrade",children:Object(v.jsx)(c.k,{className:xe.upgrade,modifiers:["full","primary"],autoFocus:Object(R.a)(),onClick:()=>{window.open("/user/in-room-upgrade/billing","_blank","noopener"),o({buttonLabel:"Upgrade now"})},children:"Upgrade now"})}),Object(v.jsx)(d.Localized,{id:"MeetingUpgradeToProDialog-button-no-thanks",children:Object(v.jsx)(c.k,{modifiers:["full","outlined","small","primary"],onClick:()=>{o({buttonLabel:"No, thanks"}),t()},children:"No, thanks"})}),Object(v.jsx)(d.Localized,{id:"MeetingUpgradeToProDialog-footnote",children:Object(v.jsx)("p",{className:xe.footnote,children:"The upgrade page will open in a new tab and your meeting will continue."})})]})]})};Le.propTypes={onButtonClick:a.a.func.isRequired,onClose:a.a.func.isRequired};var ke=Object(C.c)(Le),_e="EmbedInvalidTrial-PG-u",Ne="body-U6c9",we="header--bge",Ae="message-VWhI";var De=()=>Object(v.jsx)(c.G,{className:Se()(_e,"jstest-EmbedTrialExpired"),disableOverlay:!0,"data-testid":"embed-trial-expired",children:Object(v.jsxs)(c.G.Body,{className:Ne,children:[Object(v.jsx)(d.Localized,{id:"EmbedTrialExpired-title",children:Object(v.jsx)("header",{className:we,children:"The trial for this meeting has expired"})}),Object(v.jsx)(d.Localized,{id:"EmbedTrialExpired-text",children:Object(v.jsx)("p",{className:Ae,children:"Please upgrade to continue"})})]})}),Pe={title:"title-bxUu",text:"text-vczl",footer:"footer-JxM0"};const Me=e=>{let{coLocationActive:t,doBreakoutOpenInfo:o,doCoLocationSessionUpdate:i,doSetRoomMode:a}=e;const n=()=>o(!1);return Object(v.jsx)(c.G,{className:Pe.dialog,onClickClose:n,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:Pe.title,children:Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-title",children:"Breakout Groups"})}),Object(v.jsx)("p",{className:Pe.text,children:t?Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-text-coLocation",children:"In order to start Breakout Groups, you need to end the co-location session. Do you want to end the co-location session now?"}):Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-text",children:"In order to start Breakout Groups, you need to change the room size to large. Do you want to switch the room to large size now? This will reload the window for all participants."})}),Object(v.jsxs)("div",{className:Pe.footer,children:[t?Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-button-accept-coLocation",children:Object(v.jsx)(c.k,{className:Pe.button,onClick:()=>{i({active:!1}),o(!1)},children:"Yes, end the co-location session"})}):Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-button-accept",children:Object(v.jsx)(c.k,{modifiers:["full","small"],onClick:()=>a("group"),children:"Yes, change room size"})}),Object(v.jsx)(d.Localized,{id:"BreakoutInfoDialog-button-cancel",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","grey"],onClick:n,children:"Dismiss"})})]})]})})};Me.propTypes={coLocationActive:a.a.bool.isRequired,doBreakoutOpenInfo:a.a.func.isRequired,doCoLocationSessionUpdate:a.a.func.isRequired,doSetRoomMode:a.a.func.isRequired};var Fe=Object(C.c)(Object(r.b)("doBreakoutOpenInfo","doCoLocationSessionUpdate","doSetRoomMode","selectCoLocationActive",Me)),Be="openAppButton-ZwuV",qe="callout-zduR";var ze=()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(c.a,{className:qe,variant:"warning",children:Object(v.jsx)(c.c,{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-legacy-os",children:"Your browser is running on a version of Windows that is out of date and no longer secure. Therefore, we cannot guarantee that video conferencing will work on your device."})})})}),Ge="SupportedBrowsersList-w3ED",Ue="helpLink-iw1y",He="browserLink-RX0j",Ve="browserIcon-L2bL",We="browserName-7nak";const Ke=[{name:"Chrome",url:"https://chrome.google.com",iconUrl:o(328)},{name:"Firefox",url:"https://www.mozilla.org/firefox/all",iconUrl:o(329)},{name:"Edge",url:"https://www.microsoft.com/edge",iconUrl:o(330)},{name:"Opera",url:"https://www.opera.com",iconUrl:o(331)},{name:"Vivaldi",url:"http://vivaldi.com/bk/whereby-nos",iconUrl:o(332)}],$e=e=>{let{name:t,url:o,iconUrl:i}=e;return Object(v.jsxs)("a",{className:He,href:o,rel:"noreferrer",children:[Object(v.jsx)("img",{className:Ve,width:48,height:48,src:i,alt:""}),Object(v.jsx)("span",{className:We,children:t})]})};$e.propTypes={iconUrl:a.a.string.isRequired,name:a.a.string.isRequired,url:a.a.string.isRequired};const Qe=e=>"partialSupport"===e?Object(v.jsx)(d.Localized,{id:"BrowserSupport-SupportedBrowsersList-partialSupport",children:"For the full experience try one of these fully supported browsers:"}):"noSfu"===e?Object(v.jsx)(d.Localized,{id:"BrowserSupport-SupportedBrowsersList-noSfu",children:"To join larger rooms, try one of these browsers:"}):"noWebRTC"===e?Object(v.jsx)(d.Localized,{id:"BrowserSupport-SupportedBrowsersList-noWebRTC",children:"To join the meeting, try one of these browsers:"}):null,Ye=e=>{let{variant:t}=e;return Object(v.jsxs)("div",{className:Ge,children:[t&&Object(v.jsx)("p",{children:Qe(t)}),Object(v.jsx)("ul",{children:Ke.map(e=>Object(v.jsx)("li",{children:Object(v.jsx)($e,{...e})},e.name))}),Object(v.jsx)(c.d,{href:"https://whereby.helpscoutdocs.com/article/505-unsupported-browser",target:"_blank",className:Ue,children:"Need help?"})]})};Ye.propTypes={variant:a.a.oneOf(["partialSupport","noSfu","noWebRTC"]).isRequired};var Je=()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(c.a,{variant:"warning",children:[Object(v.jsx)(c.c,{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-NoSfuStep-title",children:"Your browser doesn\u2019t support larger rooms"})}),Object(v.jsx)(Ye,{text:"noSfu"})]})});var Ze=()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(c.a,{variant:"warning",children:[Object(v.jsx)(c.c,{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-NoWebRtcStep-title",children:"Your browser doesn\u2019t support Whereby meetings"})}),Object(v.jsx)(Ye,{variant:"noWebRTC"})]})});const Xe=e=>{let{canRecord:t}=e;const o=t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-PartialSupportStep-screen-sharing-support-title",children:"Heads up: Your browser doesn\u2019t support screen sharing"})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-PartialSupportStep-screen-sharing-support-body",children:"If you join using this browser you can\u2019t share your screen with other participants (but you can still see screen sharing done by others)"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-PartialSupportStep-recording-screen-sharing-support-title",children:"Heads up: Your browser doesn\u2019t support recording or screen sharing"})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-PartialSupportStep-recording-screen-sharing-support-body",children:"If you join using this browser you can\u2019t use the recording feature or share your screen with other participants (but you can still see screen sharing done by others)"})})]});return Object(v.jsxs)(c.a,{variant:"warning",children:[o,Object(v.jsx)(Ye,{variant:"partialSupport"})]})};Xe.propTypes={canRecord:a.a.bool.isRequired};var et=Xe,tt=o(13);var ot=()=>Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.a,{variant:"warning",children:Object(v.jsx)(c.c,{children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-UnsupportedIosStep-title",children:"Your browser doesn\u2019t support Whereby meetings"})})}),Object(v.jsx)(d.Localized,{id:"PrecallInstallIosApp-button",children:Object(v.jsx)(c.d,{autoFocus:Object(R.a)(),className:Be,href:tt.d,modifiers:["button","button-full","button-small"],target:"_top",children:"Install the Whereby app"})})]}),it=o(43),at=o(44);function nt(e){let t,o,{browserIsIos:i,browserOsIsLegacy:a,browserSupportSFU:n,browserSupportWebRTC:s,canJoinUsingIosBrowser:r,canStartRecording:l,doBrowserSupportAcceptPartial:u,roomMode:m}=e;return i&&!r?t=Object(v.jsx)(ot,{}):s?"group"!==m||n?(t=a?Object(v.jsx)(ze,{}):Object(v.jsx)(et,{canRecord:l}),o=Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:u,modifiers:["full","small"],children:Object(v.jsx)(d.Localized,{id:"BrowserSupport-continue-button",children:"Continue anyway"})})):t=Object(v.jsx)(Je,{}):t=Object(v.jsx)(Ze,{}),Object(v.jsx)(it.a,{children:Object(v.jsx)(at.a,{footer:o,children:t})})}nt.propTypes={browserIsIos:a.a.bool.isRequired,browserOsIsLegacy:a.a.bool.isRequired,browserSupportSFU:a.a.bool.isRequired,browserSupportWebRTC:a.a.bool.isRequired,canJoinUsingIosBrowser:a.a.bool.isRequired,canStartRecording:a.a.bool.isRequired,doBrowserSupportAcceptPartial:a.a.func.isRequired,roomMode:a.a.string.isRequired};var st=Object(r.b)("doBrowserSupportAcceptPartial","selectBrowserIsIos","selectBrowserOsIsLegacy","selectBrowserSupportSFU","selectBrowserSupportWebRTC","selectCanJoinUsingIosBrowser","selectCanStartRecording","selectRoomMode",nt),rt=o(61),ct=o.n(rt),lt="dialog-B+SA",dt="content-m1Vn",ut="message-IEby";function mt(e){let{onClose:t,presenterLimit:o}=e;return Object(v.jsx)(c.G,{className:lt,onClickClose:t,hideCloseButton:!0,children:Object(v.jsx)(c.G.Body,{children:Object(v.jsxs)("aside",{className:dt,children:[Object(v.jsx)(d.Localized,{id:"PresenterLimitReachedDialog-title",children:Object(v.jsx)("h1",{children:"Sorry, you can\u2019t turn your cam on at the moment"})}),Object(v.jsx)(d.Localized,{id:"PresenterLimitReachedDialog-text",$presenterLimit:o,children:Object(v.jsxs)("p",{className:ut,children:["Only ",o," people can have video on at the same time. Try again when less people are active."]})}),Object(v.jsx)(d.Localized,{id:"PresenterLimitReachedDialog-gotit",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["small","full"],onClick:t,children:"Got it"})})]})})})}mt.propTypes={onClose:a.a.func.isRequired,presenterLimit:a.a.number.isRequired};var pt=mt,bt=o(116),gt=o.p+"assets/media/broadcast.a1fe6ca8.mp3",ht=o.p+"assets/media/conversation-started-sound.de2fa55e.mp3",jt=o.p+"assets/media/knock-sound.116619a4.mp3";function ft(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ot=e=>e&&e.catch(e=>{console.warn("Couldn't play sound",e)});class St extends n.PureComponent{constructor(){super(...arguments),ft(this,"conversationStartedRef",Object(n.createRef)()),ft(this,"incomingKnockerRef",Object(n.createRef)()),ft(this,"broadcastRef",Object(n.createRef)())}componentDidUpdate(e){e.numClients<=1&&this.props.numClients>1&&Ot(this.conversationStartedRef.current.play()),this.props.knockers.length>e.knockers.length&&Ot(this.incomingKnockerRef.current.play()),this.props.notifications.map(e=>e.type).includes("breakoutChatBroadcast")&&!e.notifications.map(e=>e.type).includes("breakoutChatBroadcast")&&Ot(this.broadcastRef.current.play()),this.props.shouldPlayKnockAcceptedSound&&(Ot(this.conversationStartedRef.current.play()),this.props.doMarkKnockSoundAsPlayed())}render(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(bt.a,{ref:this.conversationStartedRef,src:ht,speakerId:this.props.preferSpeakerId,doCaptureException:this.props.doCaptureException,onReady:()=>{this.props.shouldPlayKnockAcceptedSound&&this.forceUpdate()}}),Object(v.jsx)(bt.a,{ref:this.incomingKnockerRef,src:jt,speakerId:this.props.preferSpeakerId,doCaptureException:this.props.doCaptureException}),Object(v.jsx)(bt.a,{ref:this.broadcastRef,src:gt,speakerId:this.props.preferSpeakerId,doCaptureException:this.props.doCaptureException})]})}}ft(St,"propTypes",{doCaptureException:a.a.func.isRequired,doMarkKnockSoundAsPlayed:a.a.func.isRequired,knockers:a.a.array.isRequired,notifications:a.a.array.isRequired,numClients:a.a.number.isRequired,preferSpeakerId:a.a.string,shouldPlayKnockAcceptedSound:a.a.bool.isRequired});var Rt=Object(C.b)(Object(r.b)("doCaptureException","doMarkKnockSoundAsPlayed","selectKnockStatus","selectKnockers","selectShouldPlayKnockAcceptedSound","selectNotifications","selectNumClients","selectPreferSpeakerId",St)),Ct="RoomHeader-i4sL",vt="isDefault-h367",yt="upgradeButton-Rx99",It="trialButton-BUJq",Et="isModal-tIiE",xt="modeMenu-PJ6y",Tt="button-w3Om",Lt="icon-lumg",kt="buttonText-KgAT",_t=o(33);function Nt(e){let{className:t,onClick:o}=e;const i=Object(v.jsx)("div",{className:Lt,children:Object(v.jsx)(c.L,{modifiers:["sizedSmall","light"]})});return Object(v.jsxs)(_t.a,{className:Se()("jstest-room-exit-fullscreen-button",Tt,t),"aria-label":"Exit fullscreen view",onClick:o,children:[i,Object(v.jsx)(d.Localized,{id:"ExitFullscreenButton-label",children:Object(v.jsx)("span",{className:kt,children:"Exit fullscreen view"})})]})}Nt.propTypes={className:a.a.string,onClick:a.a.func.isRequired};var wt=Nt,At="button-F6UU",Dt="icon-bTvA",Pt="buttonText-O1-T";function Mt(e){let{className:t,onClick:o}=e;const i=Object(v.jsx)("div",{className:Dt,children:Object(v.jsx)(c.ab,{modifiers:["sizedSmall","light"]})});return Object(v.jsxs)(_t.a,{className:Se()("jstest-room-exit-maximize-button",At,t),"aria-label":"Exit maximize view",onClick:o,children:[i,Object(v.jsx)(d.Localized,{id:"ExitMaximizeButton-label",children:Object(v.jsx)("span",{className:Pt,children:"Exit maximize view"})})]})}Mt.propTypes={className:a.a.string,onClick:a.a.func.isRequired};var Ft=Mt,Bt=o(30),qt="menu-U1mt",zt="trialTextRed-jpvS";function Gt(e){let{organizationTrialDaysLeft:t}=e;return null===t?null:t>0?Object(v.jsx)("div",{className:Se()({[zt]:t<=3}),children:Object(v.jsx)(d.Localized,{id:"RoomHeader-trialtext-daysleft",$organizationTrialDaysLeft:t,strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:t})," days left of trial"]})})}):0===t?Object(v.jsx)("div",{className:zt,children:Object(v.jsx)(d.Localized,{id:"RoomHeader-trialtext-today",children:"Trial expires today"})}):Object(v.jsx)("div",{className:zt,children:Object(v.jsx)(d.Localized,{id:"RoomHeader-trialtext-expired",children:"Trial has expired"})})}Gt.propTypes={organizationTrialDaysLeft:a.a.number};var Ut=o(25),Ht=o(20);function Vt(e){let{applicationState:t,areToolbarsHidden:o,canAcceptKnock:i,canPip:a,canReportAbuse:s,className:r,doOpenPipInfoDialog:l,doSetNotification:u,doSidebarLayerOpen:m,doToggleHelpMenu:p,doToggleMeetingTimerDialog:b,doTogglePip:g,doToggleReportAbuseDialog:h,doToggleToolbars:j,doTrialClickedAnalytics:f,featurePoorQualityReportOn:O,hasOpenedPip:S,isConstrained:R,isEmbedded:C,isPipOpen:y,noHelp:I,noPeople:E,onPeopleClick:x,onSettingsClick:T,organizationTrialDaysLeft:L,shouldShowOrganizationTrialBanner:k}=e;const[_,N]=Object(n.useState)(!1),w=Object(v.jsx)(c.I,{modifiers:["sized","light"]}),A=()=>N(e=>!e),D=Object(n.useCallback)(()=>{N(!1)},[N]);return Object(v.jsx)(Ut.b,{autoFocusFirstElement:!0,keyPath:"TopToolbar.MoreMenu",className:"jstest-room-more-popover",align:"end",positions:["bottom","left"],onEscapeKeyPressed:D,content:Object(v.jsx)(c.db,{onClick:e=>{e.stopPropagation(),A()},className:qt,children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.fb,{onClick:b,children:Object(v.jsx)(d.Localized,{id:"MoreButton-meeting-timer",children:"Meeting timer"})}),a&&R&&Object(v.jsx)(c.fb,{onClick:S?g:l,children:y?Object(v.jsx)(d.Localized,{id:"MoreButton-hide-pip",children:"Exit Picture in Picture"}):Object(v.jsx)(d.Localized,{id:"MoreButton-show-pip",children:"Picture in Picture"})}),Object(v.jsx)(c.fb,{onClick:()=>j({pin:!0}),children:o?Object(v.jsx)(d.Localized,{id:"MoreButton-show-toolbars",children:"Show toolbars"}):Object(v.jsx)(d.Localized,{id:"MoreButton-hide-toolbars",children:"Hide toolbars"})}),R&&k&&Object(v.jsx)(c.fb,{as:"a",href:"/org/subscriptions",target:"_blank",className:"jstest-room-trial-button",onClick:f,rel:"noopener noreferrer",children:Object(v.jsx)(Gt,{organizationTrialDaysLeft:L})}),R&&Object(v.jsx)(c.fb,{onClick:T,className:"jstest-room-settings-button",children:Object(v.jsx)(d.Localized,{id:"MoreButton-settings",children:"Settings"})}),!i&&!E&&Object(v.jsx)(c.fb,{onClick:x,children:Object(v.jsx)(d.Localized,{id:"MoreButton-people",children:"People"})}),O&&Object(v.jsx)(c.fb,{onClick:()=>u("reportPoorQuality"),children:Object(v.jsx)(d.Localized,{id:"MoreButton-report-poor-quality",children:"Report poor quality"})}),R&&Object(v.jsx)(c.eb,{}),!I&&R&&Object(v.jsxs)(v.Fragment,{children:["joined"===t&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(c.fb,{onClick:()=>{m(Ht.f)},children:Object(v.jsx)(d.Localized,{id:"Info-menu-features",children:"Features"})})}),Object(v.jsx)(c.fb,{onClick:p,children:Object(v.jsx)(d.Localized,{id:"Info-menu-help",children:"Help"})})]}),R&&s&&Object(v.jsx)(c.fb,{onClick:h,children:Object(v.jsx)(d.Localized,{id:"MoreButton-report-abuse",children:"Report abuse"})}),!C&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{as:"a",href:Bt.a.service+"/information/tos/privacy-policy/",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)(d.Localized,{id:"Info-menu-privacy-policy",children:"Privacy Policy"})}),Object(v.jsx)(c.fb,{as:"a",href:Bt.a.service+"/information/tos/",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)(d.Localized,{id:"Info-menu-terms-of-service",children:"Terms of Service"})})]})]})}),isOpen:_,onClickOutside:A,children:Object(v.jsx)("div",{children:Object(v.jsx)(_t.b,{icon:w,className:Se()("jstest-room-more-button",r),"aria-label":"More","aria-haspopup":!0,onClick:A,title:"More"})})})}Vt.propTypes={applicationState:a.a.string.isRequired,areToolbarsHidden:a.a.bool.isRequired,canAcceptKnock:a.a.bool,canPip:a.a.bool.isRequired,canReportAbuse:a.a.bool.isRequired,className:a.a.string,doOpenPipInfoDialog:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doToggleHelpMenu:a.a.func.isRequired,doToggleMeetingTimerDialog:a.a.func.isRequired,doTogglePip:a.a.func.isRequired,doToggleReportAbuseDialog:a.a.func.isRequired,doToggleToolbars:a.a.func.isRequired,doTrialClickedAnalytics:a.a.func.isRequired,featurePoorQualityReportOn:a.a.bool,hasOpenedPip:a.a.bool.isRequired,isConstrained:a.a.bool.isRequired,isEmbedded:a.a.bool.isRequired,isPipOpen:a.a.bool.isRequired,noHelp:a.a.bool.isRequired,noPeople:a.a.bool.isRequired,onPeopleClick:a.a.func.isRequired,onSettingsClick:a.a.func.isRequired,organizationTrialDaysLeft:a.a.number,shouldShowOrganizationTrialBanner:a.a.bool.isRequired};var Wt=Vt,Kt=o(21),$t="GroupStatusBar-xLo7",Qt="ended-WcSJ",Yt="backButton--Ln4",Jt="endedButton-BEU-",Zt="groupButton-6dU-";function Xt(e){let{breakoutActive:t,group:o,onLeaveGroup:i}=e;return Object(v.jsx)("div",{className:Se()($t,{[Qt]:!t}),children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.k,{modifiers:["grey","extraSmall"],onClick:i,className:Se()(Yt,"jstest-inside-breakout-group"),type:"button",children:Object(v.jsx)(c.i,{modifiers:["sized"]})}),Object(v.jsx)(c.k,{className:Zt,modifiers:["grey","extraSmall"],type:"button",children:o.name})]}):Object(v.jsxs)(c.k,{modifiers:["grey","extraSmall","pulsating"],onClick:i,className:Se()(Jt,"jstest-inside-breakout-group"),type:"button",children:[Object(v.jsx)(c.i,{modifiers:["sized"]}),!t&&Object(v.jsx)(d.Localized,{id:"BreakoutStatusBar-title-ended",children:Object(v.jsx)("span",{children:"Session ended"})})]})})}Xt.propTypes={breakoutActive:a.a.bool.isRequired,group:a.a.object.isRequired,onLeaveGroup:a.a.func.isRequired};var eo=o(164),to="button-8uAM",oo="buttonText-ErHk";function io(e){let{active:t,className:o,onClick:i,showLabel:a}=e;const n=Object(v.jsx)(c.qb,{modifiers:["sized",t?"meetingRed":"light"]});return Object(v.jsxs)(_t.a,{icon:n,className:Se()("jstest-room-pip-button",to,o),"aria-label":"Picture in Picture",onClick:i,title:"Picture in Picture",children:[n,a&&Object(v.jsx)(d.Localized,{id:"PipButton-label",children:Object(v.jsx)("span",{className:oo,children:"Picture in picture"})})]})}io.propTypes={active:a.a.bool,className:a.a.string,onClick:a.a.func.isRequired,showLabel:a.a.bool};var ao=io,no="button-Kp33",so="active-0aOK",ro="buttonText-w9y-";function co(e){let{active:t,className:o,onClick:i}=e;const a=Object(v.jsx)(c.Fb,{modifiers:["sized","light"]});return Object(v.jsxs)(_t.a,{icon:a,className:Se()("jstest-room-call-quality-button",{[so]:t},no,o),"aria-label":"Call quality",onClick:i,title:"Call quality",children:[a,t&&Object(v.jsx)(d.Localized,{id:"CallQualityButton-bad-label",children:Object(v.jsx)("span",{className:ro,children:"Poor"})})]})}co.propTypes={active:a.a.bool,className:a.a.string,onClick:a.a.func.isRequired};var lo=co,uo="lockTooltipContainer-2ZLK",mo="lockTooltipArrow-3A88",po="isCapturing-6Rtf",bo="isDoubleCapturing-n6dk",go="isTripleCapturing--G+P",ho="lockTooltipButtonContainer-0nu3",jo="lockTooltipButton-eHtJ";function fo(e){let{isAnyoneRecording:t,isAnyoneStreaming:o,isTranscribing:i,onDismiss:a}=e;const n=[t,o,i].filter(Boolean).length;return Object(v.jsxs)("div",{className:uo,"data-testid":"RoomStatusBar-lockTooltip",children:[Object(v.jsx)("span",{className:Se()(mo,{[po]:1===n,[bo]:2===n,[go]:3===n})}),Object(v.jsx)(d.Localized,{id:"LockRoomTooltip-text",children:"We recommend locking this room whenever possible. This allows you to stay safe, and avoid unwanted guests."}),a&&Object(v.jsx)("div",{className:ho,children:Object(v.jsx)(d.Localized,{id:"LockRoomTooltip-accept-button",children:Object(v.jsx)(c.k,{onClick:a,className:jo,modifiers:["outlined"],type:"button",children:"Got it"})})})]})}fo.propTypes={isAnyoneRecording:a.a.bool,isAnyoneStreaming:a.a.bool,isTranscribing:a.a.bool,onDismiss:a.a.func};var Oo="PublicProfileCard-Nit7",So="card-6Pgy",Ro="showProfile-u4SB";function Co(e){let{publicProfile:t,lang:o,localTimeLabel:i,onViewProfile:a,...n}=e;return Object(v.jsx)("div",{className:Oo,"data-testid":"RoomStatusBar-profileCard",...n,children:Object(v.jsx)(c.s,{className:So,modifiers:["small","tight"],children:Object(v.jsx)(c.tb,{lang:o,publicProfile:t,localTimeLabel:i,variant:"constrained",viewProfile:Object(v.jsx)("button",{className:Ro,onClick:a,children:Object(v.jsx)(d.Localized,{id:"Public-Profile-view-profile",children:"View Profile"})})})})})}Co.propTypes={lang:a.a.string.isRequired,localTimeLabel:a.a.node.isRequired,onViewProfile:a.a.func.isRequired,publicProfile:a.a.object.isRequired};var vo=o(168),yo={tooltipContainer:"tooltipContainer-QZjz",fadeIn:"fadeIn-xB6X",transcriptionTooltipArrow:"transcriptionTooltipArrow-LGAo",isDoubleCapturing:"isDoubleCapturing-Hza9",isTripleCapturing:"isTripleCapturing-Lseu",recordingTooltipArrow:"recordingTooltipArrow-GKJw"};function Io(e){let{isAnyoneRecording:t,isAnyoneStreaming:o,isTranscribing:i,type:a}=e;const n=[t,o,i].filter(Boolean).length;return Object(v.jsx)("div",{className:yo.tooltipContainer,children:"transcription"===a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:Se()(yo.transcriptionTooltipArrow,{[yo.isCapturing]:1===n,[yo.isDoubleCapturing]:2===n,[yo.isTripleCapturing]:3===n})}),Object(v.jsx)(d.Localized,{id:"TranscriptionTooltip-text",children:"This session is being transcribed"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:Se()(yo.recordingTooltipArrow,{[yo.isCapturing]:1===n,[yo.isDoubleCapturing]:2===n,[yo.isTripleCapturing]:3===n})}),Object(v.jsx)(d.Localized,{id:"RecordingTooltip-text",children:"This session is being recorded"})]})})}Io.propTypes={isAnyoneRecording:a.a.bool,isAnyoneStreaming:a.a.bool,isTranscribing:a.a.bool,type:a.a.string};var Eo={RoomStatusBar:"RoomStatusBar-dUhW",roomLogo:"roomLogo-vk4O",isHidden:"isHidden-dPWH",roomLogoAnchor:"roomLogoAnchor-ZvAq",newLogoWrapper:"newLogoWrapper-4ft3",isConstrained:"isConstrained-R4VQ",roomLogoImg:"roomLogoImg-IGCs",statusButtonGroup:"statusButtonGroup-RNd8",isWide:"isWide-ZaKB",isNarrow:"isNarrow--1+3",isTranscribing:"isTranscribing-nD7d",settingsButton:"settingsButton-7wRY",section:"section-D3ZR",viewerCountSection:"viewerCountSection-LKDk",withSeparator:"withSeparator-5eTT",mainSectionWrapper:"mainSectionWrapper-Ypt9","--cols-1":"--cols-1-0lcY","--cols-2":"--cols-2-Wpp3","--cols-3":"--cols-3-8tnx","--cols-4":"--cols-4-FB4G",roomName:"roomName-kqBg",lockWrapper:"lockWrapper-9+u0",isUnlocked:"isUnlocked-u36X",shake:"shake--fpq",isLocked:"isLocked-w-DT",wrapper:"wrapper-BZ3L",rec:"rec-JHs3",transcribingIcon:"transcribingIcon-JbhQ",recIcon:"recIcon-C38W",eyeIcon:"eyeIcon-yQsn"},xo="timingSection-VWrm",To="hasColumns-8H5x",Lo="timingSectionTooltip-QY9P",ko=o(11),_o=o.n(ko),No=o(63);function wo(e){let{timeLimitEnabledAtTime:t,timeLimit:o}=e;const i=function(e){let{timeLimitEnabledAt:t,timeLimit:o}=e;return _o.a.ok("function"===typeof t.getTime,"timeLimitEnabledAt needs to have getTime method"),_o.a.ok("number"===typeof o,"timeLimit is required to be a number"),new Date(t.getTime()+o)}({timeLimitEnabledAt:new Date(t),timeLimit:o});return Math.max(Object(No.b)(i-Date.now()),0)+1}function Ao(e){let{timeLimitEnabledAtTime:t,timeLimit:o}=e;const[i,a]=Object(n.useState)(wo({timeLimitEnabledAtTime:t,timeLimit:o}));return Object(n.useEffect)(()=>{const e=setInterval(()=>{a(wo({timeLimitEnabledAtTime:t,timeLimit:o}))},500);return()=>clearInterval(e)},[t,o]),Object(v.jsx)(c.s,{modifiers:["small","tight"],children:Object(v.jsx)("div",{className:Lo,children:Object(v.jsx)(d.Localized,{id:"TimingSectionTooltip-text",strong:Object(v.jsx)("strong",{}),$minutesLeft:i,children:Object(v.jsxs)(v.Fragment,{children:["Group calls on the Free plan are time limited:"," ",Object(v.jsxs)("strong",{children:[i<=1?"less than ":"",i," minute",i>1?"s":""," left"]})]})})})})}Ao.propTypes={timeLimit:a.a.number.isRequired,timeLimitEnabledAtTime:a.a.number.isRequired};var Do=Ao,Po="meetingTimer-T1HS",Mo="elapsedTime-7Fk2",Fo="isEnding-vYlu";function Bo(e){const t=Object(n.useRef)(null),o=Object(n.useRef)(e);o.current=e;const i=Object(n.useRef)(0),a=Object(n.useCallback)(e=>{e-i.current>1e3&&(o.current(),i.current=e),t.current=requestAnimationFrame(a)},[]);return Object(n.useEffect)(()=>a(),[a]),Object(n.useMemo)(()=>()=>t.current&&cancelAnimationFrame(t.current),[])}function qo(e){let{isEnding:t,time:o=0}=e;const i=Object(n.useRef)(null),a=Bo(()=>{if(i.current){const e=Object(No.d)(o);e!==i.current.innerHTML&&(i.current.innerHTML=e)}});return Object(n.useEffect)(()=>()=>a,[a]),Object(v.jsx)("div",{className:Se()(Po,"jstest-room-meetingtimer"),children:Object(v.jsx)("span",{ref:i,className:Se()(Mo,{[Fo]:t}),children:Object(No.d)(o)})})}qo.propTypes={isEnding:a.a.bool,time:a.a.number};var zo=qo,Go="progressCircle-B6bf",Uo="minutesLeft-PBWc",Ho=o(115);function Vo(e){let{isInUrgentState:t,minutesLeft:o,progress:i}=e;return Object(v.jsxs)("div",{className:Go,children:[Object(v.jsx)(Ho.a,{progress:i,variant:t?"meetingRed":"white"}),t&&Object(v.jsx)("span",{className:Uo,children:Object(v.jsx)(d.Localized,{id:"MeetingTimeLimitProgress-min",$minutesLeft:o,children:Object(v.jsxs)(v.Fragment,{children:[o," min"]})})})]})}Vo.propTypes={isInUrgentState:a.a.bool.isRequired,minutesLeft:a.a.number.isRequired,progress:a.a.number.isRequired};var Wo=Vo,Ko=o(34);function $o(e){let{canUpgradeRoom:t,doToggleMeetingTimeLimitDialog:o,doToggleMeetingTimerDialog:i,isEnding:a,isInUrgentState:n,isTimeLimitEnabled:s,minutesLeft:r=0,showMeetingTimer:c,timeLimitEnabledAtTime:l=0,time:d=0,timeLimit:u=0,timeLimitProgress:m=0}=e;const{isMenuVisible:p,onButtonBlur:b,onButtonHover:g}=Object(Ko.a)(),h=c&&!n;if(!(h||s&&m))return null;const j=s?Object(v.jsx)(Do,{timeLimitEnabledAtTime:l,timeLimit:u}):null;return Object(v.jsx)(Ut.b,{keyPath:"RoomStatus.TimingSectionTooltip",content:j,isOpen:p,align:"start",positions:["bottom"],children:Object(v.jsxs)("button",{className:Se()(xo,{[To]:h&&s}),onClick:()=>{m&&t?o():i()},onMouseEnter:g,onMouseLeave:b,type:"button",children:[h&&Object(v.jsx)(zo,{time:d,isEnding:a}),s&&m&&Object(v.jsx)(Wo,{progress:m,isInUrgentState:n,minutesLeft:r})]})})}$o.propTypes={canUpgradeRoom:a.a.bool.isRequired,doToggleMeetingTimeLimitDialog:a.a.func.isRequired,doToggleMeetingTimerDialog:a.a.func.isRequired,isEnding:a.a.bool.isRequired,isInUrgentState:a.a.bool.isRequired,isTimeLimitEnabled:a.a.bool.isRequired,minutesLeft:a.a.number,showMeetingTimer:a.a.bool.isRequired,time:a.a.number.isRequired,timeLimit:a.a.number,timeLimitEnabledAtTime:a.a.number,timeLimitProgress:a.a.number};var Qo=$o;var Yo=function(e){let{isTimeLimitEnabled:t,timeLimitEnabledAtTime:o,timeLimit:i}=e;const[a,s]=Object(n.useState)(null),r=Object(n.useCallback)(()=>{t&&o&&s(((e,t)=>{const o=Math.min((Date.now()-e)/t*100,100);return o>90&&o<100?90:o})(o,i))},[s,t,o,i]);Object(n.useEffect)(()=>{r();const e=setInterval(r,1e4);return()=>clearInterval(e)},[r]);const c=a&&wo({timeLimitEnabledAtTime:o,timeLimit:i});return{timeLimitProgress:a,minutesLeft:c,isInUrgentState:Boolean(a&&c<=5),isInEmergencyState:Boolean(a&&c<=1)}},Jo="toast-MGLJ",Zo="recIcon-fWnG",Xo="text-lWWW",ei="streamIcon-C-3Y",ti="transcribingIcon-NYlT",oi="toast-timeLimit-7qNu",ii="toast-timeLimitEmergency-e75I",ai="toast-timeLimitEnabled-ThTP",ni="trimmable-uZFi",si="withMinwidth-4fNm",ri="progressCircle-XyxX",ci="isConstrained-eOIc",li="needMoreTime-pqKb",di="progressText-rzIm";function ui(e){let{doToggleMeetingTimeLimitDialog:t,isAnyoneRecording:o,isAnyoneStreaming:i,isConstrained:a,isTimeLimitEnabled:n,isTimeLimitInEmergencyState:s,isTimeLimitInUrgentState:r,isTranscribing:l,minutesLeft:u,timeLimitProgress:m}=e;const p=[],b=Object(v.jsxs)("div",{className:di,children:[Object(v.jsx)("span",{className:Se()(ni,si),children:Object(v.jsx)(d.Localized,{id:"NavToast-timeLimitEmergencyState",children:"Meeting will end shortly"})}),Object(v.jsx)(d.Localized,{id:"NavToast-timeLimitEmergencyState-needMoreTime",children:Object(v.jsx)(c.k,{type:"button",modifiers:["link"],className:li,onClick:t,children:"Need more time?"})})]});return s&&p.push(Object(v.jsxs)("div",{className:Se()(Jo,oi,ii),children:[Object(v.jsx)("div",{className:Se()(ri,{[ci]:a}),children:Object(v.jsx)(Ho.a,{progress:m,variant:"white"})}),b]},"timeLimitEmergencyState")),n&&p.push(Object(v.jsxs)("div",{className:Se()(Jo,oi,ai),children:[Object(v.jsx)("div",{className:ri,children:Object(v.jsx)(Ho.a,{progress:m,variant:"black"})}),Object(v.jsx)("span",{className:ni,children:Object(v.jsx)(d.Localized,{id:"NavToast-timeLimitEnabled",$minutesLeft:u,children:Object(v.jsxs)(v.Fragment,{children:["Meeting will end in ",u," minutes"]})})})]},"timeLimitEnabled")),i&&p.push(Object(v.jsxs)("div",{className:Jo,children:[Object(v.jsx)(c.Qb,{className:ei,modifiers:["sized"]})," ",Object(v.jsx)("span",{className:Xo,children:Object(v.jsx)(d.Localized,{id:"NavToast-streaming",children:"Streaming"})})]},"streaming")),o&&p.push(Object(v.jsxs)("div",{className:Jo,children:[Object(v.jsx)("span",{className:Se()("jstest-recording-inprogress",Zo)}),Object(v.jsx)("span",{className:Xo,children:Object(v.jsx)(d.Localized,{id:"NavToast-recording",children:"Recording"})})]},"recording")),l&&p.push(Object(v.jsxs)("div",{className:Jo,children:[Object(v.jsx)(c.Ub,{className:Se()("jstest-transcribing-inprogress",ti),modifiers:["sized"]})," ",Object(v.jsx)("span",{className:Xo,children:Object(v.jsx)(d.Localized,{id:"NavToast-transcribing",children:"Transcribing"})})]},"transcribing")),r&&p.push(Object(v.jsxs)("div",{className:Se()(Jo,oi),children:[Object(v.jsx)("div",{className:ri,children:Object(v.jsx)(Ho.a,{progress:m,variant:"white"})}),Object(v.jsx)("span",{className:ni,children:Object(v.jsx)(d.Localized,{id:"NavToast-timeLimitUrgentState",$minutesLeft:u,children:Object(v.jsxs)(v.Fragment,{children:["Meeting will end in ",u," minutes"]})})})]},"timeLimitUrgentState")),p}ui.propTypes={isAnyoneRecording:a.a.bool.isRequired,isAnyoneStreaming:a.a.bool.isRequired,isConstrained:a.a.bool,isTimeLimitEnabled:a.a.bool.isRequired,isTimeLimitInEmergencyState:a.a.bool.isRequired,isTimeLimitInUrgentState:a.a.bool.isRequired,isTranscribing:a.a.bool.isRequired,minutesLeft:a.a.number,timeLimitProgress:a.a.number};var mi=ui;function pi(e){let{isLocked:t,onBlur:o,onHover:i}=e;return Object(v.jsx)("div",{onMouseEnter:i,onMouseLeave:o,className:Se()(Eo.lockWrapper,{[Eo.isUnlocked]:!t,[Eo.isLocked]:t}),"data-testid":"RoomStatusBar-lockStatus",children:t?Object(v.jsx)(c.V,{"aria-label":"Locked",modifiers:["sizedSmall"]}):Object(v.jsx)(c.Xb,{"aria-label":"Unlocked",modifiers:["sizedSmall"]})})}function bi(e){let{onHover:t,onBlur:o}=e;return Object(v.jsx)("div",{className:Se()(Eo.wrapper,Eo.rec),onMouseEnter:t,onMouseLeave:o,children:Object(v.jsx)("span",{"aria-label":"Is recording",className:Se()(Eo.recIcon),"data-testid":"RoomStatusBar-recording-indicator"})})}function gi(){return Object(v.jsx)("div",{className:Se()(Eo.wrapper),children:Object(v.jsx)(c.Qb,{"aria-label":"Is streaming","data-testid":"RoomStatusBar-streaming-indicator",modifiers:["sized","meetingRed"]})})}function hi(e){let{onHover:t,onBlur:o}=e;return Object(v.jsx)("div",{className:Se()(Eo.wrapper),onMouseEnter:t,onMouseLeave:o,children:Object(v.jsx)(c.Ub,{className:Se()(Eo.transcribingIcon),"aria-label":"Is transcribing",modifiers:["sizedSmall","meetingRed"],"data-testid":"RoomStatusBar-transcribing-indicator"})})}pi.propTypes={isLocked:a.a.bool,onBlur:a.a.func.isRequired,onHover:a.a.func.isRequired},bi.propTypes={onBlur:a.a.func.isRequired,onHover:a.a.func.isRequired},hi.propTypes={onBlur:a.a.func.isRequired,onHover:a.a.func.isRequired};const ji=Object(n.forwardRef)((e,t)=>{let{canSetLock:o,canUpgradeRoom:i,doToggleMeetingTimeLimitDialog:a,doToggleMeetingTimerDialog:s,isAnyoneRecording:r,isAnyoneStreaming:l,isConstrained:u,isLocked:m,isRoomSessionEnding:p,isTimeLimitEnabled:b,isTranscribing:g,language:h,meetingStartTime:j,numClients:f,numViewerClients:O,onClick:S,onDismissLockTooltip:R,onViewerCountClick:C,publicProfile:y,roomLogoSrc:I,roomName:E,roomParticipantLimit:x,roomPublicProfileEnabled:T,showLock:L,showLogo:k,showMeetingTimer:_,showParticipantCount:N,showRoomName:w,stickyLockTooltip:A,timeLimitEnabledAtTime:D,timeLimit:P}=e;const M=(o||m)&&L,[F,B]=Object(n.useState)(!1),[q,z]=Object(n.useState)(!1),[G,U]=Object(n.useState)(!1),[H,V]=Object(n.useState)(!1),[W,K]=Object(n.useState)(!1),$=w;let Q=[w,M,r,l,g].filter(e=>e).length;!$&&N&&Q++;const Y=`${f}/${x}`,J=T&&F||!!(o&&!m&&!u&&(A||q)||G||H),Z=q&&o?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(fo,{isAnyoneRecording:r,isAnyoneStreaming:l,isTranscribing:g,onDismiss:A?R:void 0})}):F&&T?Object(v.jsx)(Co,{publicProfile:y,lang:h,localTimeLabel:Object(v.jsx)(d.Localized,{id:"Public-Profile-localtime-label",children:"Local time"}),onViewProfile:()=>{B(!1),K(!0)},onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1)}):G||H?Object(v.jsx)(Io,{isAnyoneRecording:r,isAnyoneStreaming:l,isTranscribing:g,type:G?"transcription":"recording"}):null,{timeLimitProgress:X,minutesLeft:ee,isInEmergencyState:te,isInUrgentState:oe}=Yo({isTimeLimitEnabled:b,timeLimitEnabledAtTime:D,timeLimit:P});return Object(v.jsxs)("div",{className:Se()(Eo.RoomStatusBar),"data-testid":"RoomStatusBar",ref:t,children:[Object(v.jsx)("div",{className:Se()(Eo.roomLogo,{[Eo.isHidden]:u&&I||!k}),children:I?!u&&Object(v.jsx)("img",{src:I,className:Eo.roomLogoImg,alt:"Room logo"}):Object(v.jsx)("div",{className:Se()(Eo.newLogoWrapper,{[Eo.isConstrained]:u}),children:Object(v.jsx)(c.X,{monogram:u,modifiers:["light"]})})}),W&&Object(v.jsx)(vo.a,{lang:h,localTimeLabel:Object(v.jsx)(d.Localized,{id:"Public-Profile-localtime-label",children:"Local time"}),publicProfile:y,onClose:()=>K(!1),renderTimezoneOffset:e=>Object(v.jsx)(d.Localized,{id:"Public-Profile-timezone-offset",$offset:e,children:Object(v.jsxs)(v.Fragment,{children:["(",e,"hr)"]})}),timezoneLabel:Object(v.jsx)(d.Localized,{id:"Public-Profile-timezone-label",children:"Timezone"})}),Object(v.jsx)(Ut.b,{keyPath:"RoomStatus.LockTooltip",content:Z,isOpen:J,align:"start",positions:["bottom"],children:Object(v.jsxs)("div",{className:Se()(Eo.statusButtonGroup,{[Eo.isWide]:te},{[Eo.isNarrow]:te&&u},{[Eo.isTranscribing]:g}),children:[Object(v.jsxs)("button",{className:Eo.settingsButton,onClick:S,"data-testid":"RoomStatusBar-popover-trigger",children:[!!Q&&Object(v.jsxs)("div",{className:Se()(Eo.mainSectionWrapper,Eo.section,Eo["--cols-"+Q],{[Eo.withSeparator]:w&&N||_||O>0}),children:[r&&Object(v.jsx)(bi,{onHover:()=>V(!0),onBlur:()=>V(!1)}),l&&Object(v.jsx)(gi,{}),g&&Object(v.jsx)(hi,{onHover:()=>U(!0),onBlur:()=>U(!1)}),M&&Object(v.jsx)(pi,{onHover:()=>z(!0),onBlur:()=>z(!1),isLocked:m}),E&&w&&Object(v.jsx)("div",{onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),className:Se()(Eo.roomName),"data-testid":"RoomStatusBar-roomName",children:E}),!$&&N&&Object(v.jsx)("div",{children:Y})]}),$&&N&&Object(v.jsx)("div",{className:Se()(Eo.section,{[Eo.withSeparator]:_||b||O>0}),children:Y})]}),Boolean(O>0)&&Object(v.jsx)("button",{className:Eo.settingsButton,onClick:C,children:Object(v.jsxs)("div",{className:Se()(Eo.section,Eo.viewerCountSection,{[Eo.withSeparator]:_||b}),children:[Object(v.jsx)(c.K,{className:Eo.eyeIcon,modifiers:["sizedSmall"]}),O]})}),Object(v.jsx)(Qo,{canUpgradeRoom:i,doToggleMeetingTimeLimitDialog:a,doToggleMeetingTimerDialog:s,isEnding:p,isInUrgentState:oe,isTimeLimitEnabled:b,minutesLeft:ee,showMeetingTimer:_,timeLimitEnabledAtTime:D,time:j,timeLimit:P,timeLimitProgress:X}),Object(v.jsx)(mi,{doToggleMeetingTimeLimitDialog:a,isAnyoneRecording:r,isAnyoneStreaming:l,isTimeLimitEnabled:b&&!te&&!oe,isTimeLimitInUrgentState:b&&oe&&!te,isTimeLimitInEmergencyState:b&&te,isTranscribing:g,timeLimitProgress:X,minutesLeft:ee,isConstrained:u})]})})]})});ji.displayName="RoomStatusBar",ji.propTypes={canSetLock:a.a.bool.isRequired,canUpgradeRoom:a.a.bool.isRequired,doToggleMeetingTimeLimitDialog:a.a.func.isRequired,doToggleMeetingTimerDialog:a.a.func.isRequired,isAnyoneRecording:a.a.bool.isRequired,isAnyoneStreaming:a.a.bool.isRequired,isConstrained:a.a.bool,isLocked:a.a.bool,isRoomSessionEnding:a.a.bool,isTimeLimitEnabled:a.a.bool.isRequired,isTranscribing:a.a.bool.isRequired,language:a.a.string.isRequired,meetingStartTime:a.a.number.isRequired,numClients:a.a.number.isRequired,numViewerClients:a.a.number.isRequired,onClick:a.a.func,onDismissLockTooltip:a.a.func.isRequired,onViewerCountClick:a.a.func.isRequired,publicProfile:a.a.object,roomLogoSrc:a.a.string,roomName:a.a.string,roomParticipantLimit:a.a.number,roomPublicProfileEnabled:a.a.bool.isRequired,showLock:a.a.bool,showLogo:a.a.bool,showMeetingTimer:a.a.bool,showParticipantCount:a.a.bool,showRoomName:a.a.bool.isRequired,stickyLockTooltip:a.a.bool,timeLimit:a.a.number.isRequired,timeLimitEnabledAtTime:a.a.number.isRequired};var fi=ji;function Oi(e){let{className:t,onClick:o}=e;const i=Object(v.jsx)(c.Db,{modifiers:["sized","light"]});return Object(v.jsx)(_t.b,{icon:i,className:Se()("jstest-room-settings-button",t),"aria-label":"Settings",onClick:o,title:"Settings"})}Oi.propTypes={className:a.a.string,onClick:a.a.func.isRequired};var Si=Oi,Ri=o(166),Ci=o(57),vi=o(35),yi=o(22),Ii=o(136),Ei="button-hEcD";function xi(e){let{active:t,className:o,onClick:i}=e;const a=Object(v.jsx)(c.Y,{modifiers:["sized",t?"meetingRed":"light"]});return Object(v.jsx)(_t.a,{icon:a,className:Se()("jstest-room-loud-speaker-button",Ei,o),"aria-label":"Loudspeaker",onClick:i,children:a})}xi.propTypes={active:a.a.bool,className:a.a.string,onClick:a.a.func.isRequired};var Ti=xi;function Li(e){let{applicationState:t,areToolbarsHidden:o,bounds:i,breakoutActive:a=!1,breakoutCurrentGroup:n,canAcceptKnock:s,canPip:r,canReportAbuse:l,canSetLock:u,canUpgradeRoom:m,coLocationCurrentGroupHasLoudSpeaker:p,coLocationCurrentId:b,doBreakoutJoin:g,doExitFullscreenMode:h,doExitMaximizeMode:j,doLogout:f,doOpenPipInfoDialog:O,doPersist:S,doSetNotification:R,doSidebarLayerClose:C,doSidebarLayerOpen:y,doToggleDisplayNameDialog:I,doToggleHelpMenu:E,doToggleKeyboardShortcutsDialog:x,doToggleLoudSpeakerDialog:T,doToggleMeetingTimeLimitDialog:L,doToggleMeetingTimerDialog:k,doTogglePip:_,doToggleReportAbuseDialog:N,doToggleToolbars:w,doTrialClickedAnalytics:A,featureBrandAvatarsOn:D,featureLockRoomTooltipOn:P,featurePoorQualityReportOn:M,hasOpenedPip:F,isAnyoneRecording:B,isAnyoneStreaming:q,isCallQualityOpen:z,isDisplayNameForced:G,isEligibleForTimeLimit:U,isFullscreenMode:H,isLiveTranscriptionTranscribing:V,isMaximizeMode:W,isPipOpen:K,isRoomSessionEnding:$,isTimeLimitEnabled:Q,language:Y,localCallQualityScores:J,localClientIsRecorder:Z,meetingStartTime:X,numClients:ee,numViewerClients:te,onSettingsClick:oe,onStatusClick:ie,onToggleParticipantList:ae,organizationTrialDaysLeft:ne,persisted:se,prefHelp:re,prefLogo:ce,prefs:le,roomIsLocked:de,roomName:ue,roomParticipantLimit:me,roomProduct:pe,roomPublicProfile:be,roomPublicProfileEnabled:ge,roomTimeLimitEnabledAtTime:he,roomType:je,shouldShowCallQualityButton:fe,shouldShowOrganizationTrialBanner:Oe,themeLogoUrl:Re,user:Ce}=e;const ve=i.width<yi.PHONE_BREAKPOINT,ye=i.width<640,Ie=i.width<840,Ee=(pe||"").startsWith("personal_"),xe="embedded"===pe,Te=()=>y(Ht.e),Le=!!le.timer,ke="transient"!==je&&!(Oe&&Le&&ye||Le&&ve),_e=Object(v.jsx)(Wt,{applicationState:t,areToolbarsHidden:o,canAcceptKnock:s,canPip:r,canReportAbuse:l,doOpenPipInfoDialog:O,doSetNotification:R,doSidebarLayerOpen:y,doToggleHelpMenu:E,doToggleKeyboardShortcutsDialog:x,doToggleMeetingTimerDialog:k,doTogglePip:()=>_("toolbar"),doToggleReportAbuseDialog:N,doToggleToolbars:w,doTrialClickedAnalytics:A,featurePoorQualityReportOn:M,hasOpenedPip:F,isConstrained:H||W||ye,isEmbedded:xe,isPipOpen:K,noHelp:!1===re,noPeople:!1===le.people,onPeopleClick:ae,onSettingsClick:()=>oe(),organizationTrialDaysLeft:ne,shouldShowOrganizationTrialBanner:Oe});return H?Object(v.jsx)("header",{className:Se()(Ct,Et),children:Object(v.jsxs)("div",{className:xt,children:[!Object(vi.c)()&&_e,Object(v.jsx)(wt,{onClick:h})]})}):W?Object(v.jsx)("header",{className:Se()(Ct,Et),children:Object(v.jsxs)("div",{className:xt,children:[!Object(vi.c)()&&_e,Object(v.jsx)(Ft,{onClick:j})]})}):Object(v.jsxs)("header",{className:Se()(Ct,vt),children:[n?Object(v.jsx)(Xt,{breakoutActive:a,group:n,onLeaveGroup:()=>g()}):Object(v.jsx)(fi,{canSetLock:u,canUpgradeRoom:m,doToggleMeetingTimeLimitDialog:L,doToggleMeetingTimerDialog:k,isAnyoneRecording:B,isAnyoneStreaming:q,isConstrained:Ie,isLocked:de,isRoomSessionEnding:$,isTimeLimitEnabled:Q,isTranscribing:V,language:Y,meetingStartTime:X,numClients:ee,numViewerClients:te,onClick:ie,onDismissLockTooltip:()=>S({hasDismissedLockTooltip:new Date}),onViewerCountClick:le.people?ae:ie,publicProfile:be,roomPublicProfileEnabled:Boolean(ge),roomLogoSrc:Re,roomName:ue,roomParticipantLimit:me,showMeetingTimer:Le,showRoomName:ke,showParticipantCount:le.participantCount,showLogo:ce,showSettings:le.settingsButton,showLock:le.locking,stickyLockTooltip:!!P&&!se.hasDismissedLockTooltip,timeLimitEnabledAtTime:he,timeLimit:Ii.a}),!Z&&Object(v.jsxs)(v.Fragment,{children:[!ye&&!!b&&Object(v.jsx)(Ti,{active:p,onClick:T}),m&&!ye&&!U&&Object(v.jsx)(c.d,{className:yt,href:"/user/subscriptions?utm_source=appearin&utm_campaign=in_room_upgrade&utm_medium=web",target:"_blank",modifiers:["button","button-extraSmall"],children:Object(v.jsx)(d.Localized,{id:"RoomHeader-upgrade-button",children:"Upgrade"})}),Oe&&!ve&&Object(v.jsx)(c.d,{className:It,href:"/org/subscriptions",target:"_blank",onClick:A,modifiers:["button","button-grey","button-extraSmall"],children:Object(v.jsx)(Gt,{organizationTrialDaysLeft:ne})}),!ye&&r&&le.pipButton&&Object(v.jsx)(ao,{active:K,onClick:F?()=>_("toolbar"):O,showLabel:!Ie&&!F}),fe&&Object(v.jsx)(lo,{active:J.total===tt.f.CRITICAL,onClick:()=>z?C(Ht.a):y(Ht.a,{context:"call-quality-button"})}),!ye&&le.settingsButton&&Object(v.jsx)(Si,{onClick:()=>oe()}),le.moreButton&&_e,!1!==le.userAuth&&Object(v.jsx)(eo.a,{featureBrandAvatarsOn:D,isDisplayNameForced:G,isConstrained:ye,onLogin:()=>y(Ht.c),onLogout:f,onSetDisplayName:I,onSignup:Ee?Te:void 0,user:Ce},Ce&&Ce.userId),!1!==le.userAuth&&(!Ce||!Ce.userId)&&!ye&&Object(v.jsx)(Ri.a,{onSidebarSignup:Ee?Te:null,utmCampaign:"room_signup_header"})]})]})}Li.propTypes={applicationState:a.a.string.isRequired,areToolbarsHidden:a.a.bool.isRequired,bounds:l.a.isRequired,breakoutActive:a.a.bool,breakoutCurrentGroup:a.a.object,canAcceptKnock:a.a.bool,canPip:a.a.bool.isRequired,canReportAbuse:a.a.bool,canSetLock:a.a.bool.isRequired,canUpgradeRoom:a.a.bool,coLocationCurrentGroupHasLoudSpeaker:a.a.bool,coLocationCurrentId:a.a.string,doBreakoutJoin:a.a.func.isRequired,doExitFullscreenMode:a.a.func.isRequired,doExitMaximizeMode:a.a.func.isRequired,doLogout:a.a.func.isRequired,doOpenPipInfoDialog:a.a.func.isRequired,doPersist:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSidebarLayerClose:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doToggleDisplayNameDialog:a.a.func.isRequired,doToggleHelpMenu:a.a.func.isRequired,doToggleKeyboardShortcutsDialog:a.a.func.isRequired,doToggleLoudSpeakerDialog:a.a.func.isRequired,doToggleMeetingTimeLimitDialog:a.a.func.isRequired,doToggleMeetingTimerDialog:a.a.func.isRequired,doTogglePip:a.a.func.isRequired,doToggleReportAbuseDialog:a.a.func.isRequired,doToggleToolbars:a.a.func.isRequired,doTrialClickedAnalytics:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,featureLockRoomTooltipOn:a.a.bool,featurePoorQualityReportOn:a.a.bool,hasOpenedPip:a.a.bool,isAnyoneRecording:a.a.bool.isRequired,isAnyoneStreaming:a.a.bool.isRequired,isCallQualityOpen:a.a.bool,isDisplayNameForced:a.a.bool.isRequired,isEligibleForTimeLimit:a.a.bool.isRequired,isFullscreenMode:a.a.bool.isRequired,isLiveTranscriptionTranscribing:a.a.bool.isRequired,isMaximizeMode:a.a.bool.isRequired,isPipOpen:a.a.bool.isRequired,isRoomSessionEnding:a.a.bool,isTimeLimitEnabled:a.a.bool.isRequired,language:a.a.string.isRequired,localCallQualityScores:Kt.c,localClientIsRecorder:a.a.bool,meetingStartTime:a.a.number.isRequired,numClients:a.a.number,numViewerClients:a.a.number,onSettingsClick:a.a.func,onStatusClick:a.a.func,onToggleParticipantList:a.a.func.isRequired,organizationTrialDaysLeft:a.a.number,persisted:a.a.object.isRequired,prefHelp:a.a.bool.isRequired,prefLogo:a.a.bool.isRequired,prefs:a.a.object.isRequired,roomIsLocked:a.a.bool,roomName:a.a.string.isRequired,roomParticipantLimit:a.a.number.isRequired,roomProduct:a.a.string.isRequired,roomPublicProfile:a.a.object,roomPublicProfileEnabled:a.a.bool,roomTimeLimitEnabledAtTime:a.a.number.isRequired,roomType:a.a.string.isRequired,shouldShowCallQualityButton:a.a.bool.isRequired,shouldShowOrganizationTrialBanner:a.a.bool.isRequired,themeLogoUrl:a.a.string,user:a.a.instanceOf(Ci.a)};var ki=Object(C.b)(Object(r.b)("doBreakoutJoin","doExitFullscreenMode","doExitMaximizeMode","doLogout","doOpenPipInfoDialog","doPersist","doSetNotification","doSidebarLayerClose","doSidebarLayerOpen","doToggleDisplayNameDialog","doToggleHelpMenu","doToggleKeyboardShortcutsDialog","doToggleLoudSpeakerDialog","doToggleMeetingTimeLimitDialog","doToggleMeetingTimerDialog","doTogglePip","doToggleReportAbuseDialog","doTrialClickedAnalytics","selectApplicationState","selectBreakoutActive","selectBreakoutCurrentGroup","selectLocalCallQualityScores","selectCanAcceptKnock","selectCanPip","selectCanReportAbuse","selectCanSetLock","selectCanUpgradeRoom","selectCoLocationCurrentGroupHasLoudSpeaker","selectCoLocationCurrentId","selectFeatureBrandAvatarsOn","selectFeatureLockRoomTooltipOn","selectFeaturePoorQualityReportOn","selectHasOpenedPip","selectIsAnyoneRecording","selectIsAnyoneStreaming","selectIsCallQualityOpen","selectIsDisplayNameForced","selectIsEligibleForTimeLimit","selectIsFullscreenMode","selectIsMaximizeMode","selectIsLiveTranscriptionTranscribing","selectIsPipOpen","selectIsRoomSessionEnding","selectIsTimeLimitEnabled","selectLanguage","selectLocalClientIsRecorder","selectMeetingStartTime","selectNumClients","selectNumViewerClients","selectOrganizationTrialDaysLeft","selectPersisted","selectPrefHelp","selectPrefLogo","selectPrefs","selectRoomIsLocked","selectRoomName","selectRoomParticipantLimit","selectRoomProduct","selectRoomPublicProfile","selectRoomPublicProfileEnabled","selectRoomTimeLimitEnabledAtTime","selectRoomType","selectShouldShowCallQualityButton","selectShouldShowOrganizationTrialBanner","selectThemeLogoUrl","selectUser",Li)),_i=o(69),Ni=o(108);function wi(e){e.stopPropagation(),e.preventDefault()}function Ai(e){let{event:t,isDisabled:o=!1,isReactionsDisabled:i=!1}=e;if(o)return!0;const a=Object(R.b)(t.target);if(t.repeat&&"Space"===t.code)return wi(t),!0;return!(!i||!["h","1","2","3","4","5","6","7","8"].includes(t.key))||!("Escape"===t.code||"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&"SELECT"!==a.tagName&&"BUTTON"!==a.tagName&&"button"!==a.getAttribute("role")&&!t.repeat&&!t.metaKey)}function Di(e){let{canReact:t,canFloat:o,canPip:i,canScreenshare:a,canSetLock:s,doPref:r,doSendChatMessage:c,doSetRoomLock:l,doToggleAudioEnabled:d,doToggleChat:u,doToggleKeyboardShortcutsDialog:m,doTogglePip:p,doToggleScreenshare:b,doToggleVideoEnabled:g,isAudioEnabled:h,isVideoEnabled:j,localClientStickyReaction:f,onToggleToolbars:O,prefs:S,roomIsLocked:R,doLocalClientSetStickyReaction:C}=e;const[v,y]=Object(n.useState)(0),I=Object(n.useCallback)((function(){let{isTemporary:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(!h,{context:"keyboard",isTemporary:e})}),[d,h]),E=Object(n.useCallback)(()=>{g(!j,{context:"keyboard"})},[g,j]),x=Object(n.useCallback)(()=>{const e="\u270b"+(_i.a[S.emojiSkinTone]||""),{reaction:t}=f||{};C(t===e?null:e)},[f,C,S.emojiSkinTone]),T=Object(n.useMemo)(()=>Object(Ni.b)(_i.a[S.emojiSkinTone]),[S.emojiSkinTone]);Object(n.useEffect)(()=>{const e=setInterval(()=>{y(0)},1e4);return()=>{clearInterval(e)}},[]);const L=Object(n.useCallback)(e=>{t&&v<10&&(c(e),y(v+1))},[t,c,v]),k=Object(n.useCallback)(e=>{if(!Ai({event:e,isDisabled:!S.keyboardShortcuts,isReactionsDisabled:!S.reactions})){var t;if("Space"===e.code&&(wi(e),I({isTemporary:!0})),"Escape"===e.code)null==(t=document.activeElement)||t.blur();if("Tab"===e.code&&"body"===document.activeElement.tagName.toLowerCase()){var o;const t=null==(o=document.querySelector("#VideoControls"))?void 0:o.querySelector("button");void 0!==t&&(wi(e),t.focus())}}},[S.keyboardShortcuts,S.reactions,I]),_=Object(n.useCallback)(e=>{if(Ai({event:e,isDisabled:!S.keyboardShortcuts,isReactionsDisabled:!S.reactions}))return;let t=!0;({m:()=>I(),v:()=>E(),c:()=>u(),f:()=>!1!==S.topToolbar&&O({pin:!0}),l:()=>e.shiftKey&&s&&l(!R,"keyboard"),p:()=>e.shiftKey?o&&r("floatSelf",!S.floatSelf):i&&p("keyboard"),s:()=>a&&e.shiftKey&&b(),"?":()=>m(),h:()=>x(),1:()=>L(T[1]),2:()=>L(T[2]),3:()=>L(T[3]),4:()=>L(T[4]),5:()=>L(T[5]),6:()=>L(T[6]),7:()=>L(T[7]),8:()=>L(T[8]),escape:()=>{var e;null==(e=document.activeElement)||e.blur()}}[(e.key||"").toLowerCase()]||(()=>t=!1))(),t&&wi(e)},[o,i,a,s,r,l,u,m,p,b,L,O,S.floatSelf,S.topToolbar,T,R,I,x,E,S.keyboardShortcuts,S.reactions]);return Object(n.useEffect)(()=>(document.addEventListener("keypress",_),document.addEventListener("keydown",k),document.addEventListener("keyup",k),()=>{document.removeEventListener("keypress",_),document.removeEventListener("keydown",k),document.removeEventListener("keyup",k)}),[_,k]),null}Di.propTypes={canFloat:a.a.bool,canPip:a.a.bool,canReact:a.a.bool.isRequired,canScreenshare:a.a.bool.isRequired,canSetLock:a.a.bool.isRequired,doLocalClientSetStickyReaction:a.a.func.isRequired,doPref:a.a.func.isRequired,doSendChatMessage:a.a.func.isRequired,doSetRoomLock:a.a.func.isRequired,doToggleAudioEnabled:a.a.func.isRequired,doToggleChat:a.a.func.isRequired,doToggleKeyboardShortcutsDialog:a.a.func.isRequired,doTogglePip:a.a.func.isRequired,doToggleScreenshare:a.a.func.isRequired,doToggleVideoEnabled:a.a.func.isRequired,isAudioEnabled:a.a.bool.isRequired,isVideoEnabled:a.a.bool.isRequired,localClientStickyReaction:a.a.object,onToggleToolbars:a.a.func.isRequired,prefs:a.a.object.isRequired,roomIsLocked:a.a.bool.isRequired};var Pi=Object(r.b)("doPref","doLocalClientSetStickyReaction","doSendChatMessage","doSetRoomLock","doToggleAudioEnabled","doToggleChat","doToggleKeyboardShortcutsDialog","doTogglePip","doToggleScreenshare","doToggleVideoEnabled","selectCanReact","selectCanFloat","selectCanPip","selectCanScreenshare","selectCanSetLock","selectIsAudioEnabled","selectIsVideoEnabled","selectLocalClientStickyReaction","selectPrefs","selectRoomIsLocked",Di),Mi="RoomFooter-7L1H",Fi="noCornerButtons-mfQQ",Bi="cornerButtonsContainer-gnBk",qi="videoControlsContainer-UQz7",zi=o(161),Gi="buttonContainer-UpZt",Ui="button-dWW2",Hi="buttonContent-aiS0",Vi="buttonIconBadge-bKs+",Wi="animate-6BZG";function Ki(e){let{doSidebarLayerOpen:t,doSidebarLayerClose:o,isWhatsNewOpen:i,roomFeatures:a,roomProduct:s,prefs:r}=e;const[l,d]=Object(n.useState)(!1),u=null==r?void 0:r.animations,{lastUpdatedAt:m}=a||{};Object(n.useEffect)(()=>{if(Object(vi.c)())return;const e=(e=>{var t;const o=null==(t=localStorage)?void 0:t.getItem(e);if(o)try{return JSON.parse(o)}catch(i){return o}return null})("featuresNotification");if(e||d(!0),m||d(!0),null!=e&&e.lastOpened){const t=new Date(null==e?void 0:e.lastOpened),o=new Date(m),i=t.getTime()<o.getTime();d(i)}},[m]);const p=Object(n.useCallback)(()=>{i?o(Ht.f):(t(Ht.f),((e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(o){localStorage.setItem(e,t)}})("featuresNotification",{lastOpened:(new Date).toISOString()}),d(!1))},[o,t,i]),b="embedded"===s;return Object(v.jsx)("div",{children:!b&&Object(v.jsxs)(_t.a,{className:Ui,containerClassName:Gi,onMouseEnter:()=>{},"aria-label":"Features",onClick:p,children:[Object(v.jsx)("span",{className:Hi,children:Object(v.jsx)(c.N,{"aria-label":"Features",modifiers:["sizedSmall"]})}),l&&Object(v.jsx)("div",{className:Se()(Vi,{[Wi]:u})})]})})}Ki.propTypes={doSidebarLayerClose:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,isWhatsNewOpen:a.a.bool,prefs:a.a.object.isRequired,roomFeatures:a.a.object.isRequired,roomProduct:a.a.string.isRequired};var $i=Object(C.b)(Object(r.b)("doSidebarLayerClose","doSidebarLayerOpen","selectIsWhatsNewOpen","selectPrefs","selectRoomFeatures","selectRoomProduct",Ki)),Qi="buttonContainer-apSh",Yi="button-OGil",Ji="buttonContent-v5nn";function Zi(e){let{doToggleReportAbuseDialog:t}=e;return Object(v.jsx)("div",{children:Object(v.jsx)(d.Localized,{id:"ReportAbuseButton",attrs:{title:!0,"aria-label":!0},children:Object(v.jsx)(_t.a,{className:Yi,containerClassName:Qi,title:"Report Abuse","aria-label":"Report Abuse",onClick:()=>t(),children:Object(v.jsx)("span",{className:Ji,children:Object(v.jsx)(c.bc,{"aria-label":"Report Abuse",modifiers:["sizedSmall"]})})})})})}Zi.propTypes={doToggleReportAbuseDialog:a.a.func.isRequired};var Xi=Object(C.b)(Object(r.b)("doToggleReportAbuseDialog",Zi)),ea="VideoControls-vf5D",ta="buttonIconWrapper-+LC1",oa="isOff-Hj7k",ia="isDisabled-B63l",aa="baseButtonWrapper-WqP0",na="isFloating-chXb",sa="isInPip-Vafc",ra="buttonsWrapper-Vl6R",ca="hidden-evZU",la="reduceEffects-HpDl",da="buttonCenterWrapper-jQqL",ua="buttonIconBadge-5-XE",ma="buttonIconBadgeIcon-hBHq",pa="hoverMenuWrapper-jfbA",ba="menuItemWithBadge-wKpg",ga="newBadge-v-eG",ha="destructiveMenuItem-tB6b",ja="audioEffectsIcon-BpfX",fa="stickyReaction-TCuo",Oa="raisedHandIcon-3Ehj",Sa="breakoutOuterContainer-EuDE",Ra="breakoutIconContainer-5AGe",Ca="breakoutHeadingContainer-IyNE",va="breakoutTimerHeading-Ew9I",ya="breakoutButtonsContainer-5O06",Ia="buttonSmall-cErm",Ea="BaseButton-lJOU",xa="inner-Y0jp",Ta="label-czps",La="dark-+enc",ka="isFloating-r8MI";const _a=e=>{let{className:t,onClick:o,isDisabled:i,legend:a,hideLegend:n,isFloating:s,prefs:r,children:l,triggerButtonRef:d,...u}=e;return Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{ref:d,type:"button",className:Se()(Ea,t,{[ka]:s}),onClick:o,disabled:i,...u,children:Object(v.jsxs)("div",{className:xa,children:[l,Object(v.jsx)(c.ac,{children:a})]})}),!n&&!s&&Object(v.jsx)("div",{className:Se()(Ta,{[La]:r.toolbarDarkText}),children:a})]})};_a.propTypes={children:a.a.node.isRequired,className:a.a.string,doTheRef:a.a.func,hideLegend:a.a.bool,isDisabled:a.a.bool,isFloating:a.a.bool,legend:a.a.node.isRequired,onClick:a.a.func.isRequired,prefs:a.a.object.isRequired,triggerButtonRef:a.a.object},_a.displayName="BaseButton";var Na=Object(r.b)("selectPrefs",_a),wa="chevronRight-+9df",Aa="checkIcon-M4DB",Da="deviceMenu-6Ecr",Pa="deviceMenuItem-RswQ",Ma="hoverMenuWrapper-3lTj",Fa="muted-V+IT",Ba=o(112);const qa=a.a.oneOf(["audioinput","audiooutput","videoinput"]),za=a.a.shape({deviceId:a.a.string.isRequired,kind:qa.isRequired,label:a.a.string.isRequired}),Ga=a.a.shape({currentDevice:za.isRequired,devices:a.a.arrayOf(za).isRequired,kind:qa.isRequired}),Ua=Object(v.jsx)(c.v,{className:Aa,modifiers:["sized"]});function Ha(e){let{deviceSection:t,disabled:o,onSwitchDevice:i,toggleDeviceMenuIsOpen:a}=e;const{isMenuVisible:n,onButtonBlur:s,onButtonHover:r,onMenuHover:l,onMenuBlur:d,onToggle:u}=Object(Ko.a)(),{currentDevice:m,devices:p,kind:b}=t,g="audioinput"===b?Object(v.jsx)(c.ib,{modifiers:["sizedSmall"]}):"audiooutput"===b?Object(v.jsx)(c.Mb,{modifiers:["sizedSmall"]}):"videoinput"===b?Object(v.jsx)(c.n,{modifiers:["sizedSmall"]}):null;return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.DevicePicker.List",content:Object(v.jsx)("div",{onMouseEnter:l,onMouseLeave:d,children:Object(v.jsx)(c.db,{className:Da,children:p.map(e=>Object(v.jsx)(c.fb,{accessory:e.deviceId===m.deviceId?Ua:null,className:Pa,disabled:o,onClick:t=>{t.stopPropagation(),i(e.deviceId)},onKeyDown:t=>{"Space"!==(null==t?void 0:t.code)&&"Enter"!==(null==t?void 0:t.code)||(t.preventDefault(),i(e.deviceId))},children:Object(v.jsx)("div",{children:e.label})},e.deviceId))})}),isOpen:n,align:"start",padding:0,positions:["right"],onEscapeKeyPressed:()=>{u(),a()},children:Object(v.jsx)("div",{onMouseEnter:r,onMouseLeave:s,children:Object(v.jsx)(c.fb,{className:Pa,disabled:o,icon:g,accessory:Object(v.jsx)(c.i,{className:wa,modifiers:["sizedSmall"]}),onKeyDown:e=>{"Space"!==(null==e?void 0:e.code)&&"Enter"!==(null==e?void 0:e.code)||(u(),a())},children:Object(v.jsx)("div",{children:m.label})})})})}function Va(e){let{audioDenoiserWanted:t,audioId:o,audioInputDevices:i,children:a,isEnabled:s,onAudioDenoiserToggle:r,onSettingsClick:l,onSwitchAudioInput:u,onSwitchSpeaker:m,onToggleEnabled:p,speakerId:b,speakerDevices:g}=e;const[h,j]=Object(n.useState)(!1),{isMenuVisible:f,onButtonBlur:O,onButtonHover:S,onCloseMenu:R,onMenuHover:C,onMenuBlur:y,onToggle:I}=Object(Ko.a)(),E=i.find(e=>e.audioId===o),x=e=>({deviceId:e.audioId,kind:"audioinput",label:e.label}),T=()=>{j(!h)},L=E&&i.length?{kind:"audioinput",currentDevice:x(E),devices:i.map(x)}:void 0,k=g.find(e=>e.speakerId===b),_=e=>({deviceId:e.speakerId,kind:"audiooutput",label:e.label}),N=k&&g.length?{kind:"audiooutput",currentDevice:_(k),devices:g.map(_)}:void 0;return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,hasNestedPopoverOpen:h,className:"jstest-audio-device-popover",keyPath:"BottomToolbar.AudioDevicePicker.Menu",content:Object(v.jsx)("div",{className:Ma,onMouseEnter:C,onMouseLeave:y,children:Object(v.jsxs)(c.db,{className:Da,children:[L&&Object(v.jsx)(Ha,{deviceSection:L,onSwitchDevice:u,toggleDeviceMenuIsOpen:T},L.kind),N&&Object(v.jsx)(Ha,{deviceSection:N,onSwitchDevice:m,toggleDeviceMenuIsOpen:T},N.kind),(L||N)&&Object(v.jsx)(c.eb,{}),r&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(c.fb,{as:"label",accessory:Object(v.jsx)(c.Sb,{size:"small",onToggle:r,isActive:t}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-mic-button-menu-audio-denoiser",children:Object(v.jsx)("span",{children:"Noise reduction"})})})}),l&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.fb,{onClick:()=>{l&&l(),R()},children:Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-mic-button-menu-settings",children:Object(v.jsx)("span",{children:"Audio settings"})})}),Object(v.jsx)(c.eb,{})]}),Object(v.jsx)(c.fb,{disabled:!E,onClick:p,children:s?Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-mic-button-menu-mute",children:Object(v.jsx)("span",{className:Fa,children:"Mute"})}):Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-mic-button-menu-unmute",children:Object(v.jsx)("span",{children:"Unmute"})})})]})}),isOpen:f,onEscapeKeyPressed:R,onClickOutside:R,onLongPress:S,padding:0,positions:["top"],align:"center",children:a({onButtonBlur:O,onButtonHover:S,onToggle:I})})}function Wa(e){let{audioOnlyModeEnabled:t,cameraEffectsEnabled:o,children:i,isEnabled:a,onSettingsClick:s,onSwitchVideoInput:r,onToggleAudioOnlyMode:l,onToggleEnabled:u,videoId:m,videoInputDevices:p}=e;const[b,g]=Object(n.useState)(!1),{isMenuVisible:h,onButtonBlur:j,onButtonHover:f,onCloseMenu:O,onMenuHover:S,onMenuBlur:R,onToggle:C}=Object(Ko.a)(),y=p.find(e=>e.videoId===m),I=e=>({deviceId:e.videoId,kind:"videoinput",label:e.label}),E=e=>{s&&s(e),O()},x=y&&p.length?{kind:"videoinput",currentDevice:I(y),devices:p.map(I)}:void 0;return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,hasNestedPopoverOpen:b,keyPath:"BottomToolbar.VideoDevicePopover",content:Object(v.jsx)("div",{className:Ma,onMouseEnter:S,onMouseLeave:R,children:Object(v.jsxs)(c.db,{className:Da,children:[x&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ha,{deviceSection:x,onSwitchDevice:r,toggleDeviceMenuIsOpen:()=>{g(!b)}}),Object(v.jsx)(c.eb,{})]}),o&&s&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.fb,{icon:Object(v.jsx)(Ba.a,{}),onClick:()=>E("effects"),children:Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button-menu-effects",children:Object(v.jsx)("span",{children:"Background effects"})})}),Object(v.jsx)(c.eb,{})]}),Object(v.jsx)(c.fb,{as:"label",accessory:Object(v.jsx)(c.Sb,{size:"small",onToggle:l,isActive:t}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button-menu-audio-only",children:Object(v.jsx)("span",{children:"Disable videos"})})}),s&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.fb,{onClick:()=>E("media"),children:Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button-menu-settings",children:Object(v.jsx)("span",{children:"Video settings"})})}),Object(v.jsx)(c.eb,{})]}),Object(v.jsx)(c.fb,{disabled:!y,onClick:u,children:a?Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button-menu-mute",children:Object(v.jsx)("span",{className:Fa,children:"Turn off"})}):Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button-menu-unmute",children:Object(v.jsx)("span",{children:"Turn on"})})})]})}),isOpen:h,onEscapeKeyPressed:O,onClickOutside:O,onLongPress:f,padding:0,positions:["top"],align:"center",children:i({onButtonBlur:j,onButtonHover:f,onToggle:C})})}function Ka(e){let{as:t="button",className:o,onToggle:i,isButtonDisabled:a,isEnabled:n,hideLegend:s,isFloating:r,onMouseEnter:l,onMouseLeave:u,onKeyDown:m}=e;const p=n?Object(v.jsx)(c.n,{modifiers:"button"===t?["light","sized"]:["sizedSmall"],"aria-hidden":"true"}):Object(v.jsx)(c.m,{modifiers:"button"===t?["light","sized"]:["sizedSmall"],"aria-hidden":"true"}),b=Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-cam-button",children:"Cam"});return"button"===t?Object(v.jsx)(Na,{className:Se()(o,aa),onClick:()=>i(),isDisabled:a,legend:b,hideLegend:s,isFloating:r,onMouseEnter:l,onMouseLeave:u,"aria-pressed":n?"true":"false",onKeyDown:m,children:Object(v.jsx)("div",{className:Se()("jstest-button-icon-wrapper",ta,{[oa]:!n,[ia]:a}),children:p})}):Object(v.jsx)(c.fb,{onClick:()=>i(),icon:p,children:b})}function $a(e){let{cameraEffectsEnabled:t,audioOnlyModeEnabled:o,isEnabled:i,onSettingsClick:a,onSwitchVideoInput:n,onToggle:s,onToggleAudioOnlyMode:r,popoverDisabled:c,videoId:l,videoInputDevices:d,...u}=e;return Object(v.jsx)(Wa,{cameraEffectsEnabled:t,audioOnlyModeEnabled:o,isEnabled:i,onSettingsClick:a,onSwitchVideoInput:n,onToggleEnabled:s,onToggleAudioOnlyMode:r,videoId:l,videoInputDevices:d,children:e=>{let{onButtonBlur:t,onButtonHover:o,onToggle:a}=e;return Object(v.jsx)(Ka,{isEnabled:i,onMouseEnter:c?void 0:o,onMouseLeave:t,onToggle:s,onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),a())},...u})}})}Ha.propTypes={deviceSection:Ga.isRequired,disabled:a.a.bool,onSwitchDevice:a.a.func.isRequired,toggleDeviceMenuIsOpen:a.a.func},Va.propTypes={audioDenoiserWanted:a.a.bool,audioId:a.a.string,audioInputDevices:a.a.arrayOf(Kt.a),children:a.a.func.isRequired,isEnabled:a.a.bool.isRequired,onAudioDenoiserToggle:a.a.func,onSettingsClick:a.a.func,onSwitchAudioInput:a.a.func,onSwitchSpeaker:a.a.func,onToggleEnabled:a.a.func.isRequired,speakerDevices:a.a.arrayOf(Kt.h),speakerId:a.a.string},Wa.propTypes={audioOnlyModeEnabled:a.a.bool.isRequired,cameraEffectsEnabled:a.a.bool.isRequired,children:a.a.func.isRequired,isEnabled:a.a.bool.isRequired,onSettingsClick:a.a.func,onSwitchVideoInput:a.a.func.isRequired,onToggleAudioOnlyMode:a.a.func.isRequired,onToggleEnabled:a.a.func.isRequired,videoId:a.a.string,videoInputDevices:a.a.arrayOf(Kt.j)},Ka.propTypes={as:a.a.oneOf(["button","menuItem"]),className:a.a.string,hideLegend:a.a.bool,isButtonDisabled:a.a.bool,isEnabled:a.a.bool.isRequired,isFloating:a.a.bool,onMouseEnter:a.a.func,onMouseLeave:a.a.func,onToggle:a.a.func.isRequired},$a.propTypes={...Ka.propTypes,audioOnlyModeEnabled:a.a.bool.isRequired,onSettingsClick:a.a.func,onSwitchVideoInput:a.a.func.isRequired,onToggleAudioOnlyMode:a.a.func.isRequired,popoverDisabled:a.a.bool.isRequired,videoId:a.a.string,videoInputDevices:a.a.array};const Qa=e=>{let{isLiveCaptionsEnabled:t}=e;return t?Object(v.jsx)(d.Localized,{id:"InCallCaptions-disable-button-copy",children:"Stop"}):Object(v.jsx)(d.Localized,{id:"InCallCaptions-button-copy",children:"Captions"})};function Ya(e){let{as:t="button",className:o,isLiveCaptionsEnabled:i,liveCaptionsIsStarting:a,doToggleLiveCaptions:n,isFloating:s}=e;const r=Object(v.jsx)(Qa,{isLiveCaptionsEnabled:i&&!a}),l=()=>n(),d=Object(v.jsx)(c.r,{modifiers:[..."button"===t?["sized"]:["sizedSmall"],...i?["meetingRed"]:"button"===t?["light"]:[]],"aria-hidden":"true"});return"button"===t?Object(v.jsx)(Na,{"data-testid":i?"CaptionsButton-captions-enabled":"CaptionsButton-captions-disabled",className:Se()(o,aa),onClick:l,legend:r,isDisabled:a,isFloating:s,children:Object(v.jsx)("div",{className:ta,children:d})}):Object(v.jsx)(c.fb,{onClick:l,icon:d,children:r})}Qa.propTypes={isLiveCaptionsEnabled:a.a.bool.isRequired},Ya.displayName="CaptionsButton",Ya.propTypes={as:a.a.oneOf(["button","menuItem"]),className:a.a.string,doToggleLiveCaptions:a.a.func.isRequired,isFloating:a.a.bool.isRequired,isLiveCaptionsEnabled:a.a.bool.isRequired,liveCaptionsIsStarting:a.a.bool.isRequired};var Ja=Object(r.b)("doToggleLiveCaptions","selectIsLiveCaptionsEnabled","selectLiveCaptionsIsStarting",Ya),Za="EmojiPickerFooter-8mli",Xa=o(114),en=o(158);function tn(e){let{onClick:t,onToggle:o,className:i}=e;return Object(v.jsx)("button",{type:"button",className:Se()("jstest-emoji-footer-open-chat-button",Za,i),onClick:()=>{t(),o&&o()},children:"Open Chat"})}function on(e){let{as:t="button",canBroadcast:o,chatUnreadMentionCount:i,chatUnreadMessageCount:a,chatUnusedMessage:s,doChatEmojiAutoCompleteAnalytics:r,doLocalClientSetStickyReaction:l,doSendChatMessage:u,doSetChatUnusedMessage:m,emojiSkinTone:p,isChatOpen:b,isFloating:g,isTouchDevice:h,hideEmojis:j,localClientStickyReaction:f,onClick:O}=e;const S=Object(n.useRef)(),R=h?Object(v.jsx)(tn,{onClick:O}):b?null:Object(v.jsx)(en.a,{autoFocus:!0,canBroadcast:o,chatUnusedMessage:s,hideEmojiPicker:!0,onMessageSubmit:u,onSetStickyReaction:l,setChatUnusedMessage:m,doChatEmojiAutoCompleteAnalytics:r});return Object(v.jsx)(Xa.a,{emojiSkinTone:p,onSelect:u,onSetStickyReaction:l,footer:R,hideEmojis:j,stickyReaction:f,children:e=>{let{onButtonBlur:o,onButtonHover:n,onCloseMenu:s,onToggle:r,isMenuVisible:l}=e;return"button"===t?Object(v.jsxs)(Na,{className:Se()("jstest-open-chat-button",aa),onClick:e=>{S.current&&document.activeElement===S.current&&!l?n():h?l?(r(),O(e)):n():(O(),s())},onKeyDown:e=>{"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),O())},onMouseEnter:h?void 0:n,onMouseLeave:h?void 0:o,legend:Object(v.jsx)(d.Localized,{id:"VideoControls-chat-button",children:"Chat"}),isFloating:g,triggerButtonRef:S,children:[i>0?Object(v.jsxs)("div",{className:Se()("jstest-chat-unread-mention-count-badge",ua),children:["@",i]}):Object(v.jsx)(v.Fragment,{children:a>0&&Object(v.jsx)("div",{className:Se()("jstest-chat-unread-count-badge",ua),children:a})}),Object(v.jsx)("div",{className:ta,children:Object(v.jsx)(c.t,{modifiers:["sized","light"],"aria-hidden":"true"})})]}):Object(v.jsx)(c.fb,{onClick:O,icon:Object(v.jsx)(c.t,{modifiers:["sizedSmall"],"aria-hidden":"true"}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-chat-button",children:"Chat"})})}})}tn.propTypes={className:a.a.string,onClick:a.a.func.isRequired,onToggle:a.a.func},on.propTypes={as:a.a.oneOf(["button","menuItem"]),canBroadcast:a.a.bool.isRequired,chatUnreadMentionCount:a.a.number,chatUnreadMessageCount:a.a.number,chatUnusedMessage:a.a.string.isRequired,doChatEmojiAutoCompleteAnalytics:a.a.func.isRequired,doLocalClientSetStickyReaction:a.a.func.isRequired,doSendChatMessage:a.a.func.isRequired,doSetChatUnusedMessage:a.a.func.isRequired,emojiSkinTone:a.a.string,hideEmojis:a.a.bool.isRequired,isChatOpen:a.a.bool,isFloating:a.a.bool,isTouchDevice:a.a.bool.isRequired,localClientStickyReaction:a.a.object,onClick:a.a.func.isRequired};var an=Object(r.b)("doLocalClientSetStickyReaction","doSetChatUnusedMessage","doSendChatMessage","doChatEmojiAutoCompleteAnalytics","selectChatUnusedMessage","selectChatUnreadMentionCount","selectChatUnreadMessageCount","selectLocalClientStickyReaction",on);function nn(e){let{canLeaveGroup:t,disableMenu:o,isFloating:i,isMenuVisible:a,isTouchDevice:n,onButtonBlur:s,onButtonHover:r,onClick:l,onKeyDown:u}=e;return Object(v.jsx)(Na,{className:Se()("jstest-leave-room-button",aa),onClick:o||!n||a?l:r,onMouseEnter:o||n?void 0:r,onMouseLeave:o||n?void 0:s,legend:Object(v.jsx)(d.Localized,{id:"VideoControls-leave-button",children:"Leave"}),isFloating:i,onKeyDown:u,children:Object(v.jsx)("div",{className:ta,children:t?Object(v.jsx)(c.yb,{modifiers:["sized","meetingRed"],"aria-hidden":"true"}):Object(v.jsx)(c.U,{modifiers:["sized","meetingRed"],"aria-hidden":"true"})})})}function sn(e){let{canEndMeeting:t,canLeaveGroup:o,isPip:i=!1,isTouchDevice:a,onLeave:n,onLeaveGroup:s,onEndMeeting:r,isFloating:l}=e;const{isMenuVisible:u,onButtonBlur:m,onButtonHover:p,onCloseMenu:b,onMenuHover:g,onMenuBlur:h,onToggle:j}=Object(Ko.a)(),f=!i&&t&&!o;return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.LeaveMenu",className:"jstest-leavepicker-popover",content:f?Object(v.jsx)("div",{className:pa,onMouseEnter:g,onMouseLeave:h,children:Object(v.jsxs)(c.db,{onClick:e=>{e.stopPropagation(),b()},children:[Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"VideoControls-leave-button-menu-end-meeting",children:Object(v.jsx)(c.fb,{className:ha,onClick:r,children:"End meeting for all"})}),!o&&Object(v.jsx)(c.eb,{})]}),Object(v.jsx)(d.Localized,{id:"VideoControls-leave-button-menu-leave",children:Object(v.jsx)(c.fb,{className:ha,onClick:n,children:"Leave room"})})]})}):null,isOpen:u,onClickOutside:b,onEscapeKeyPressed:b,padding:0,align:"center",positions:["top"],onLongPress:p,children:Object(v.jsx)(nn,{canLeaveGroup:o,disableMenu:!f,isFloating:l,isMenuVisible:u,isTouchDevice:a,onButtonBlur:m,onButtonHover:p,onClick:o?s:n,onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),f?j():n())}})})}nn.propTypes={canLeaveGroup:a.a.bool,disableMenu:a.a.bool.isRequired,isFloating:a.a.bool,isMenuVisible:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,onButtonBlur:a.a.func,onButtonHover:a.a.func,onClick:a.a.func.isRequired,onKeyDown:a.a.func},sn.propTypes={canEndMeeting:a.a.bool,canLeaveGroup:a.a.bool,isFloating:a.a.bool,isPip:a.a.bool,isTouchDevice:a.a.bool.isRequired,onEndMeeting:a.a.func.isRequired,onLeave:a.a.func.isRequired,onLeaveGroup:a.a.func.isRequired};var rn=sn,cn=o(129),ln=o(49),dn=o(67),un=o(179);function mn(e){let{as:t="button",audioDenoiserEnabled:o,audioId:i,className:a,fftSize:s=32,hideLegend:r,isAudioMeterEnabled:l,isButtonDisabled:u,isEnabled:m,isFloating:p,onMouseEnter:b,onMouseLeave:g,onToggle:h,stream:j,videoId:f,onKeyDown:O}=e;const S=Object(n.useRef)(null),[R]=(null==j?void 0:j.getAudioTracks())||[];Object(n.useEffect)(()=>{if(j&&l&&!u)try{const e=new cn.b(j,s,Object(ln.a)().audioContext),t=s/2;return e.subscribeData(e=>{const o=e.reduce((e,t)=>e+t,0)/t;requestAnimationFrame(()=>{S.current&&Object(un.a)({element:S.current,currentLevel:o,isAudioEnabled:m})})})}catch(e){console.error("AudioIndicator: failed to instantiate StreamAudioAnalyzer",e)}else requestAnimationFrame(()=>{S.current&&Object(un.a)({element:S.current,isDisabled:!0})})},[i,s,l,u,m,j,f,R]);const C=m?Object(v.jsx)(c.ib,{modifiers:"button"===t?["light","sized"]:["sizedSmall"],"aria-hidden":"true"}):Object(v.jsx)(c.hb,{modifiers:"button"===t?["light","sized"]:["sizedSmall"],"aria-hidden":"true"}),y=Object(v.jsx)(d.Localized,{id:"VideoControls-toggle-mic-button",children:"Mic"});return"button"===t?Object(v.jsxs)(Na,{className:Se()(a,aa),onClick:()=>h(),isDisabled:u,legend:y,hideLegend:r,isFloating:p,onMouseEnter:b,onMouseLeave:g,"aria-pressed":m?"true":"false",onKeyDown:O,children:[Object(v.jsx)("div",{className:Se()(ta,{[oa]:!m,[ia]:u}),ref:S,children:C}),o&&m&&Object(v.jsx)(c.f,{className:ja,modifiers:["light"]})]}):Object(v.jsx)(c.fb,{onClick:()=>h(),icon:C,children:y})}function pn(e){var t,o;let{audioDenoiserEnabled:i,audioDenoiserWanted:a,audioId:n,audioInputDevices:s,isEnabled:r,onAudioDenoiserToggle:c,onSettingsClick:l,onSwitchAudioInput:d,onSwitchSpeaker:u,onToggle:m,popoverDisabled:p,speakerDevices:b,speakerId:g,...h}=e;return Object(v.jsx)(Va,{audioDenoiserWanted:a,audioId:n,audioInputDevices:s,isEnabled:r,onAudioDenoiserToggle:c,onSettingsClick:l,onSwitchAudioInput:d,onSwitchSpeaker:u,onToggleEnabled:m,speakerDevices:b,speakerId:Object(dn.a)()?g||(null==(t=b.find(e=>"default"===e.speakerId))?void 0:t.speakerId)||(null==(o=b[0])?void 0:o.speakerId):null,children:e=>{let{onButtonBlur:t,onButtonHover:o,onToggle:a}=e;return Object(v.jsx)(mn,{audioDenoiserEnabled:i,audioId:n,isEnabled:r,onMouseEnter:p?void 0:o,onMouseLeave:p?void 0:t,onToggle:m,onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),a())},...h})}})}function bn(e){let{isFloating:t,isTouchDevice:o,menuItems:i}=e;const{isMenuVisible:a,onButtonBlur:n,onButtonHover:s,onCloseMenu:r,onMenuHover:l,onMenuBlur:u}=Object(Ko.a)();return Object(v.jsx)(Ut.b,{autoFocusFirstElement:!0,keyPath:"BottomToolbar.MoreMenu",className:"jstest-moremenu-popover",content:Object(v.jsx)("div",{className:pa,onMouseEnter:l,onMouseLeave:u,children:Object(v.jsx)(c.db,{onClick:e=>{e.stopPropagation(),r()},children:i})}),isOpen:a,onLongPress:s,onClickOutside:r,onEscapeKeyPressed:r,padding:0,align:"center",positions:["top"],children:Object(v.jsx)(Na,{className:Se()("jstest-more-button",aa),isFloating:t,legend:Object(v.jsx)(d.Localized,{id:"VideoControls-more-button",children:"More"}),onClick:s,onMouseEnter:o?void 0:s,onMouseLeave:o?void 0:n,children:Object(v.jsx)("div",{className:ta,children:Object(v.jsx)(c.I,{modifiers:["light","sized"]})})})})}mn.propTypes={as:a.a.oneOf(["button","menuItem"]),audioDenoiserEnabled:a.a.bool,audioId:a.a.string,className:a.a.string,fftSize:a.a.number,hideLegend:a.a.bool,isAudioMeterEnabled:a.a.bool.isRequired,isButtonDisabled:a.a.bool,isEnabled:a.a.bool.isRequired,isFloating:a.a.bool,onMouseEnter:a.a.func,onMouseLeave:a.a.func,onToggle:a.a.func.isRequired,stream:a.a.object,videoId:a.a.string},pn.propTypes={...mn.propTypes,audioInputdevices:a.a.array,onAudioDenoiserToggle:a.a.func,onSettingsClick:a.a.func,onSwitchAudioInput:a.a.func.isRequired,onSwitchSpeaker:a.a.func.isRequired,popoverDisabled:a.a.bool.isRequired,speakerDevices:a.a.array,speakerId:a.a.string},bn.propTypes={isFloating:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,menuItems:a.a.array.isRequired};var gn=bn,hn=o(105);var jn=e=>{const[t,o]=Object(n.useState)(e),[i,a]=Object(n.useState)(!1),s=Object(n.useRef)(null);return Object(n.useEffect)(()=>(s.current=setInterval(()=>{o(e=>e<=1?(clearInterval(s.current),a(!0),0):e-1)},1e3),()=>clearInterval(s.current)),[]),{countdown:t,isFinished:i}};function fn(e){let{doBreakoutTimerStopped:t,doBreakoutUpdateTimerDuration:o,breakoutEndTime:i,disableMenu:a}=e;const n=(e=>{const t=new Date,o=new Date(Number(e));return Math.abs((o-t)/1e3)})(i),{countdown:s}=jn(n),r=`${Math.floor(s/60)}:${Math.floor(s%60).toString().padStart(2,"0")}`,l=s<60?["negative","sizedSmall"]:["lightBlue","sizedSmall"];return Object(v.jsxs)("div",{className:"jstest-breakout-timer-controls",children:[Object(v.jsxs)("div",{className:Sa,children:[Object(v.jsx)("div",{className:Ra,children:Object(v.jsx)(hn.a,{variant:"grey",children:Object(v.jsx)(c.x,{modifiers:l})})}),Object(v.jsxs)("div",{className:Ca,children:[Object(v.jsx)("div",{className:va,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-breakout-timer-heading",children:"Breakout Timer"})}),Object(v.jsx)("div",{className:va,children:r})]})]}),!1===a&&Object(v.jsxs)("div",{className:ya,children:[Object(v.jsx)(c.k,{className:Se()(Ia,"jstest-add-one-minute-button"),modifiers:["outlined"],onClick:o,children:"+1 min"}),Object(v.jsx)(c.k,{className:Se()(Ia,"jstest-cancel-timer-button"),modifiers:["negative","outlined"],onClick:t,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-breakout-timer-stop",children:"Stop"})})]})]})}fn.propTypes={breakoutEndTime:a.a.number,disableMenu:a.a.bool.isRequired,doBreakoutTimerStopped:a.a.func.isRequired,doBreakoutUpdateTimerDuration:a.a.func.isRequired};var On=o(84);function Sn(e){let{coLocationShouldShowGift:t,knockersCount:o,shouldShowRoomFullWarning:i,breakoutActive:a,breakoutTimerSetting:n}=e;return o>0||i?Object(v.jsx)("div",{className:Se()("jstest-incoming-knock-badge",ua),children:o||"!"}):t?Object(v.jsx)("div",{className:ma,children:Object(v.jsx)(c.N,{modifiers:["sized"]})}):a&&n?Object(v.jsx)("div",{className:ma,children:Object(v.jsx)(c.x,{modifiers:["sized"]})}):null}function Rn(e){let{breakoutTimerSetting:t,coLocationShouldShowGift:o,disableMenu:i,isBreakoutActive:a,isFloating:n,isMenuVisible:s,isTouchDevice:r,knockersCount:l,onBlur:u,onClick:m,onHover:p,shouldShowRoomFullWarning:b,onKeyDown:g}=e;return Object(v.jsxs)(Na,{className:Se()("jstest-open-people-button",aa),isFloating:n,legend:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button",children:"People"}),onClick:i||!r||s?m:p,onMouseEnter:r?void 0:p,onMouseLeave:r?void 0:u,onKeyDown:g,children:[Object(v.jsx)(Sn,{coLocationShouldShowGift:o,knockersCount:l,shouldShowRoomFullWarning:b,breakoutActive:a,breakoutTimerSetting:t}),Object(v.jsx)("div",{className:ta,children:a?Object(v.jsx)(c.j,{modifiers:["sized","light"],"aria-hidden":"true"}):Object(v.jsx)(c.mb,{modifiers:["sized","light"],"aria-hidden":"true"})})]})}function Cn(e){let{as:t="button",breakoutEndTime:o,breakoutTimerSetting:i,coLocationAvailable:a,coLocationShouldShowGift:n,disableMenu:s,doBreakoutTimerStopped:r,doBreakoutUpdateTimerDuration:l,isBreakoutActive:u,isCoLocationActive:m,isFloating:p,isTouchDevice:b,knockersCount:g,onBreakoutClick:h,onBreakoutStop:j,onClick:f,onCoLocationClick:O,onCoLocationStop:S,shouldShowRoomFullWarning:R}=e;const{isMenuVisible:C,onButtonBlur:y,onButtonHover:I,onCloseMenu:E,onMenuHover:x,onMenuBlur:T,onToggle:L}=Object(Ko.a)(),k="button"===t?Object(v.jsx)(Rn,{breakoutTimerSetting:i,coLocationShouldShowGift:n,disableMenu:s,isBreakoutActive:u,isFloating:p,isMenuVisible:C,isTouchDevice:b,knockersCount:g,onBlur:y,onClick:f,onHover:I,shouldShowRoomFullWarning:R,onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),s?f():L())}}):Object(v.jsx)(c.fb,{onClick:f,icon:Object(v.jsx)(c.mb,{modifiers:["sizedSmall"],"aria-hidden":"true"}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button",children:"People"})});return s?Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.LeaveMenu",className:"jstest-leavepicker-popover",content:Object(v.jsx)("div",{className:pa,onMouseEnter:x,onMouseLeave:T,children:Object(v.jsx)(c.db,{onClick:e=>{e.stopPropagation(),E()},children:u&&i&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(fn,{doBreakoutTimerStopped:r,doBreakoutUpdateTimerDuration:l,breakoutEndTime:o,disableMenu:s}),Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{onClick:f,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-people",children:"People"})})]})})}),isOpen:C,onLongPress:I,onClickOutside:E,onEscapeKeyPressed:E,padding:0,align:"button"===t?"center":"start",positions:"button"===t?["top"]:["left"],children:k}):Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.LeaveMenu",className:"jstest-leavepicker-popover",content:Object(v.jsx)("div",{className:pa,onMouseEnter:x,onMouseLeave:T,children:Object(v.jsxs)(c.db,{onClick:e=>{e.stopPropagation(),E()},children:[a&&(m?Object(v.jsx)(c.fb,{className:ha,onClick:S,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-co-location-end",children:"End co-location session"})}):Object(v.jsxs)(c.fb,{onClick:O,children:[Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-co-location",children:"Co-location Groups"}),Object(v.jsx)(On.a,{className:ga,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-co-location-new-badge",children:"New"})})]})),u?i?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(fn,{doBreakoutTimerStopped:r,doBreakoutUpdateTimerDuration:l,breakoutEndTime:o,disableMenu:s}),Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{className:ha,onClick:j,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-breakout-groups-end",children:"End breakout session"})})]}):Object(v.jsx)(c.fb,{className:ha,onClick:j,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-breakout-groups-end",children:"End breakout session"})}):Object(v.jsx)(c.fb,{onClick:h,className:"jstest-breakout-button",children:Object(v.jsx)("div",{className:ba,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-breakout-groups",children:"Breakout Groups"})})}),Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{onClick:f,children:Object(v.jsx)(d.Localized,{id:"VideoControls-people-button-menu-people",children:"People"})})]})}),isOpen:C,onLongPress:I,onClickOutside:E,onEscapeKeyPressed:E,padding:0,align:"button"===t?"center":"start",positions:"button"===t?["top"]:["left"],children:k})}Sn.propTypes={breakoutActive:a.a.bool,breakoutTimerSetting:a.a.bool,coLocationShouldShowGift:a.a.bool,knockersCount:a.a.number.isRequired,shouldShowRoomFullWarning:a.a.bool},Rn.propTypes={breakoutTimerSetting:a.a.bool,coLocationShouldShowGift:a.a.bool,disableMenu:a.a.bool.isRequired,isBreakoutActive:a.a.bool.isRequired,isFloating:a.a.bool.isRequired,isMenuVisible:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,knockersCount:a.a.number,onBlur:a.a.func,onClick:a.a.func.isRequired,onHover:a.a.func,onKeyDown:a.a.func,shouldShowRoomFullWarning:a.a.bool},Cn.propTypes={as:a.a.oneOf(["button","menuItem"]),breakoutEndTime:a.a.number,breakoutTimerSetting:a.a.bool,coLocationAvailable:a.a.bool.isRequired,coLocationShouldShowGift:a.a.bool.isRequired,disableMenu:a.a.bool.isRequired,doBreakoutTimerStopped:a.a.func.isRequired,doBreakoutUpdateTimerDuration:a.a.func.isRequired,isBreakoutActive:a.a.bool,isCoLocationActive:a.a.bool,isFloating:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,knockersCount:a.a.number,onBreakoutClick:a.a.func.isRequired,onBreakoutStop:a.a.func.isRequired,onClick:a.a.func.isRequired,onCoLocationClick:a.a.func.isRequired,onCoLocationStop:a.a.func.isRequired,shouldShowRoomFullWarning:a.a.bool};var vn=Cn,yn="PinButton-qEKo",In="isBottomToolbarHover-m-TB";function En(e){let{isBottomToolbarHover:t,isBottomToolbarPinned:o,onPinBottomToolbar:i}=e;return Object(v.jsx)("button",{title:o?"Hide toolbar":"Pin toolbar",className:Se()(yn,{[In]:t}),onClick:()=>i(!o),children:Object(v.jsx)("svg",{width:"18",height:"6",viewBox:"0 0 18 6",children:Object(v.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:o?"m.105792.553005c.246989-.493978.847662-.694202 1.341638-.447213l7.55279 3.776398 7.55278-3.776398c.494-.246989 1.0947-.046765 1.3416.447213.247.493975.0468 1.094655-.4472 1.341645l-7.99997 4c-.28153.14076-.6129.14076-.89442 0l-8.000005-4c-.493978-.24699-.694202-.84767-.447213-1.341645z":"m17.8942 5.44699c-.247.49398-.8477.69421-1.3416.44722l-7.55282-3.7764-7.55279 3.7764c-.493973.24699-1.094647.04676-1.341636-.44722-.24699-.49397-.046766-1.09465.447213-1.34164l8.000003-3.999996c.28153-.1407639.6129-.1407639.89442 0l8.00001 3.999996c.494.24699.6942.84767.4472 1.34164z"})})})}En.propTypes={isBottomToolbarHover:a.a.bool.isRequired,isBottomToolbarPinned:a.a.bool.isRequired,onPinBottomToolbar:a.a.func.isRequired};var xn=En;function Tn(e){let{as:t="button",doLocalClientSetStickyReaction:o,doSendChatMessage:i,emojiSkinTone:a,isFloating:s,isTouchDevice:r,localClientStickyReaction:l}=e;const u=Object(n.useRef)(),m="\u270b"+(_i.a[a]||""),p=()=>o(l?null:m);return Object(v.jsx)(Xa.a,{emojiSkinTone:a,onSelect:i,onSetStickyReaction:o,stickyReaction:l,children:e=>{let{onButtonBlur:o,onButtonHover:i,onToggle:a,isMenuVisible:n}=e;return"button"===t?Object(v.jsx)("div",{children:Object(v.jsx)(Na,{className:Se()("jstest-reactions-button",aa),onClick:()=>{u.current&&document.activeElement===u.current&&!n?i():r?n?(a(),p()):i():p()},onMouseEnter:r?void 0:i,onMouseLeave:r?void 0:o,onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),a())},legend:Object(v.jsx)(d.Localized,{id:"VideoControls-reactions-button",children:"React"}),isFloating:s,children:Object(v.jsx)("div",{className:Se()(ta,{[fa]:!!l}),children:l?l.reaction:Object(v.jsx)(c.O,{modifiers:["sized","light"],"aria-hidden":"true"})})})}):Object(v.jsx)(c.fb,{onClick:p,icon:Object(v.jsx)(c.O,{className:Se()({[Oa]:l}),modifiers:["sizedSmall"],"aria-hidden":"true"}),children:l?Object(v.jsx)(d.Localized,{id:"StickyReaction-lower-hand",children:"Lower"}):Object(v.jsx)(d.Localized,{id:"StickyReaction-raise-hand",children:"Raise"})})}})}Tn.propTypes={as:a.a.oneOf(["button","menuItem"]),doLocalClientSetStickyReaction:a.a.func.isRequired,doSendChatMessage:a.a.func.isRequired,emojiSkinTone:a.a.string,isFloating:a.a.bool,isTouchDevice:a.a.bool.isRequired,localClientStickyReaction:a.a.object};var Ln=Object(r.b)("doLocalClientSetStickyReaction","doSendChatMessage","selectLocalClientStickyReaction",Tn),kn="menu-1Yhx",_n="stop-TOWx",Nn="menuHeader-c0WT",wn="titleColumn-vWkB",An="title-+YMC",Dn="description-+TtC",Pn="iconColumn-O6pp",Mn="icon-5Bqt";function Fn(e){e.preventDefault(),e.stopPropagation()}const Bn=Object(n.forwardRef)((e,t)=>{let{description:o,icon:i,title:a}=e;return Object(v.jsxs)("div",{className:Nn,onClick:Fn,children:[Object(v.jsx)("div",{className:Pn,children:Object(v.jsx)("div",{className:Mn,children:i})}),Object(v.jsxs)("div",{className:wn,children:[Object(v.jsx)("div",{className:An,children:a}),Object(v.jsx)("div",{className:Dn,ref:t,children:o})]})]})});Bn.propTypes={description:a.a.node.isRequired,icon:a.a.node.isRequired,title:a.a.node.isRequired},Bn.displayName="MenuHeader";var qn=Bn;function zn(e){return e?Object(No.d)(e):"--:--"}function Gn(e){let{icon:t,startAt:o=0,title:i}=e;const a=Object(n.useRef)(null),s=Bo(()=>{if(a.current){const e=zn(o);e!==a.current.innerHTML&&(a.current.innerHTML=e)}});return Object(n.useEffect)(()=>()=>s(),[s]),Object(v.jsx)(qn,{ref:a,title:i,description:zn(o),icon:t})}Gn.propTypes={icon:a.a.node.isRequired,startAt:a.a.number,title:a.a.node.isRequired};var Un=Gn;const Hn=Object(vi.c)(),Vn=e=>{let{recordingStart:t}=e;return Object(v.jsx)(Un,{icon:Object(v.jsx)(c.vb,{modifiers:["sized"]}),startAt:t,title:Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-menu-header",children:"Recording"})})};Vn.propTypes={recordingStart:a.a.number};const Wn=e=>{let{streamingStart:t}=e;return Object(v.jsx)(Un,{icon:Object(v.jsx)(c.Qb,{modifiers:["sized"]}),startAt:t,title:Object(v.jsx)(d.Localized,{id:"VideoControls-stream-button-menu-header",children:"Streaming"})})};Wn.propTypes={streamingStart:a.a.number.isRequired};const Kn=e=>{let{onClick:t}=e;return Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-menu-start",children:Object(v.jsx)(c.fb,{onClick:t,className:Se()("jstest-recording-popup-start"),children:"Start recording"})})};Kn.propTypes={onClick:a.a.func.isRequired};const $n=e=>{let{onClick:t}=e;return Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-menu-stop",children:Object(v.jsx)(c.fb,{className:Se()("jstest-recording-popup-stop",_n),onClick:t,children:"Stop recording"})})};$n.propTypes={onClick:a.a.func.isRequired};const Qn=e=>{let{onClick:t}=e;return Object(v.jsx)(d.Localized,{id:"VideoControls-stream-button-menu-start",children:Object(v.jsx)(c.fb,{onClick:t,className:Se()("jstest-streaming-popup-start"),children:"Start streaming"})})};Qn.propTypes={onClick:a.a.func.isRequired};const Yn=e=>{let{onClick:t}=e;return Object(v.jsx)(d.Localized,{id:"VideoControls-stream-button-menu-stop",children:Object(v.jsx)(c.fb,{className:Se()("jstest-streaming-popup-stop",_n),onClick:t,children:"Stop streaming"})})};function Jn(e){let{savedRecordings:t,canRecord:o,canStream:i,children:a,disableMenu:n,doRequestRecording:s,doSetNotification:r,doSidebarLayerOpen:l,doStopRecording:u,doStopStreaming:m,doStreamingRequest:p,isCloudRecording:b,isRecording:g,isRecordingActiveAndCanBeStopped:h,isStreaming:j,positions:f,recordingStart:O=0,recordingTargetIsLocal:S,rtmpUri:R,streamingStart:C=0,unstoredRecordings:y}=e;const{isMenuVisible:I,onButtonBlur:E,onButtonHover:x,onCloseMenu:T,onMenuHover:L,onMenuBlur:k,onToggle:_}=Object(Ko.a)(),N=()=>h?u():s(),w=()=>j?m():p(R),A=y&&y.length>=1,D=t&&t.length>=1,P=A||D,M=h?Object(v.jsx)($n,{onClick:N}):Object(v.jsx)(Kn,{onClick:()=>{N(),T()}}),F=j?Object(v.jsx)(Yn,{onClick:w}):Object(v.jsx)(Qn,{onClick:()=>{w(),T()}}),B=P?Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-menu-get",children:Object(v.jsx)(c.fb,{onClick:()=>{A?r("temporaryRecordingsWarning"):l(Ht.b),T()},children:"Get recordings"})}):Object(v.jsx)(v.Fragment,{});return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.RecordingMenu",className:"jstest-recordingmenu-popover",content:n?null:Object(v.jsx)("div",{className:pa,onMouseEnter:L,onMouseLeave:k,children:Object(v.jsxs)(c.db,{className:kn,children:[h&&I&&Object(v.jsx)(Vn,{isRecording:g,isCloudRecording:b,isMenuVisible:I,recordingStart:O}),h&&!j&&Object(v.jsx)(c.eb,{}),j&&I&&Object(v.jsx)(Wn,{streamingStart:C}),j&&Object(v.jsx)(c.eb,{}),o&&S&&Object(v.jsxs)(v.Fragment,{children:[Hn?B:Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-menu-get",children:Object(v.jsx)(c.fb,{onClick:T,as:"a",href:"/user/get-recording",target:"_blank",rel:"noopener noreferrer",children:"Get recordings"})}),Object(v.jsx)(c.eb,{})]}),j&&!h?Object(v.jsxs)(v.Fragment,{children:[o&&M,o&&Object(v.jsx)(c.eb,{}),i&&F]}):Object(v.jsxs)(v.Fragment,{children:[i&&F,i&&(j||h)&&Object(v.jsx)(c.eb,{}),o&&M]})]})}),isOpen:I,onClickOutside:T,onEscapeKeyPressed:T,padding:0,align:"center",positions:f||["top"],onLongPress:x,children:a({onButtonBlur:E,onButtonHover:x,onToggle:_})})}Yn.propTypes={onClick:a.a.func.isRequired},Jn.propTypes={canRecord:a.a.bool.isRequired,canStream:a.a.bool.isRequired,children:a.a.func.isRequired,disableMenu:a.a.bool,doRequestRecording:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doStopRecording:a.a.func.isRequired,doStopStreaming:a.a.func.isRequired,doStreamingRequest:a.a.func.isRequired,isCloudRecording:a.a.bool.isRequired,isRecording:a.a.bool.isRequired,isRecordingActiveAndCanBeStopped:a.a.bool.isRequired,isStreaming:a.a.bool.isRequired,positions:a.a.arrayOf(a.a.string),recordingStart:a.a.number,recordingTargetIsLocal:a.a.bool.isRequired,rtmpUri:a.a.string,savedRecordings:a.a.array,streamingStart:a.a.number,unstoredRecordings:a.a.array};var Zn=Jn;function Xn(e){let{as:t="button",canRecord:o,canStream:i,isDisabled:a,isFloating:n,isRecording:s,isRecordingActiveAndCanBeStopped:r,isStreaming:l,isTouchDevice:u,numRecordings:m,onButtonHover:p,onClick:b,onMouseEnter:g,onMouseLeave:h}=e;const j=!!m&&!s;let f;f=r||l?Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-stop",children:"Stop"}):o?Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-start",children:"Record"}):i&&!o?Object(v.jsx)(d.Localized,{id:"VideoControls-stream-button-start",children:"Stream"}):Object(v.jsx)(d.Localized,{id:"VideoControls-record-button-start",children:"Record"});const O=[..."button"===t?["sized"]:["sizedSmall"],...r||l?["meetingRed"]:"button"===t?["light"]:[]];let S;return S=r?Object(v.jsx)(c.vb,{modifiers:O,"aria-hidden":"true"}):l||i&&!o?Object(v.jsx)(c.Qb,{modifiers:O,"aria-hidden":"true"}):Object(v.jsx)(c.vb,{modifiers:O,"aria-hidden":"true"}),"button"===t?Object(v.jsxs)(Na,{className:Se()("jstest-start-recording-button",aa),isDisabled:a,isFloating:n,legend:f,onClick:u?p:b,onMouseEnter:g,onMouseLeave:h,children:[Object(v.jsx)("div",{className:ta,children:S}),j&&Object(v.jsx)("div",{className:ua,children:m})]}):Object(v.jsx)(c.fb,{onClick:b,icon:S,children:f})}function es(e){let{as:t="button",canRecord:o,canStream:i,disableMenu:a,doRequestRecording:n,doSetNotification:s,doStreamingRequest:r,doSidebarLayerOpen:c,doStopRecording:l,doStopStreaming:d,isCloudRecording:u,isDisabled:m,isFloating:p,isRecording:b,isStreaming:g,isTouchDevice:h,numRecordings:j,recordingStart:f=0,recordingTargetIsLocal:O,rtmpUri:S,streamingStart:R=0,unstoredRecordings:C,savedRecordings:y}=e;const I=o&&(b||u),E=I||g;return Object(v.jsx)(Zn,{savedRecordings:y,canRecord:o,canStream:i,disableMenu:a,doRequestRecording:n,doSetNotification:s,doSidebarLayerOpen:c,doStopRecording:l,doStopStreaming:d,doStreamingRequest:r,isCloudRecording:u,isRecording:b,isRecordingActiveAndCanBeStopped:I,isStreaming:g,positions:"menuItem"===t?["left"]:void 0,recordingStart:f,recordingTargetIsLocal:O,rtmpUri:S,streamingStart:R,unstoredRecordings:C,children:e=>{let{onButtonBlur:a,onButtonHover:s,onToggle:c}=e;return Object(v.jsx)(Xn,{as:t,onMouseEnter:h?void 0:s,onMouseLeave:h?void 0:a,isDisabled:m,isRecordingActiveAndCanBeStopped:I,isRecording:b,isStreaming:i&&g,isTouchDevice:h,numRecordings:j,onClick:e=>{E?(e=>{e.stopPropagation(),b||u?l():g&&d()})(e):h?s(e):(c(),o?n():i?r(S):n())},onButtonBlur:a,onButtonHover:s,isFloating:p,canRecord:o,canStream:i})}})}Xn.propTypes={as:a.a.oneOf(["button","menuItem"]),canRecord:a.a.bool.isRequired,canStream:a.a.bool.isRequired,isDisabled:a.a.bool.isRequired,isFloating:a.a.bool,isRecording:a.a.bool.isRequired,isRecordingActiveAndCanBeStopped:a.a.bool.isRequired,isStreaming:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,numRecordings:a.a.number,onButtonHover:a.a.func,onClick:a.a.func.isRequired,onMouseEnter:a.a.func,onMouseLeave:a.a.func},es.propTypes={as:a.a.oneOf(["button","menuItem"]),canRecord:a.a.bool.isRequired,canStream:a.a.bool.isRequired,disableMenu:a.a.bool,doRequestRecording:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doStopRecording:a.a.func.isRequired,doStopStreaming:a.a.func.isRequired,doStreamingRequest:a.a.func.isRequired,isCloudRecording:a.a.bool.isRequired,isDisabled:a.a.bool.isRequired,isFloating:a.a.bool,isRecording:a.a.bool.isRequired,isStreaming:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,numRecordings:a.a.number,recordingStart:a.a.number,recordingTargetIsLocal:a.a.bool.isRequired,rtmpUri:a.a.string,savedRecordings:a.a.array,streamingStart:a.a.number,unstoredRecordings:a.a.array};var ts=es,os=o(245),is=o.n(os);function as(e){let{src:t,...o}=e;return Object(v.jsx)("img",{alt:"",src:t,onError:e=>{e.target.onerror=null,e.target.src=is.a},...o})}as.propTypes={src:a.a.string.isRequired};var ns=as;function ss(e){let{integration:t}=e;const{smallIcon:o,title:i,state:a}=t,n=a.props.presenterDisplayName||"Guest",s=a.props.isPresenter?Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-started-by-you",children:"Started by you"}):Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-started-by",$displayName:n,children:Object(v.jsxs)(v.Fragment,{children:["Started by ",n]})}),r=Object(v.jsx)(ns,{src:o});return Object(v.jsx)(qn,{title:i,description:s,icon:r})}ss.propTypes={integration:Kt.g};var rs=ss;var cs=function(){const e=Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-screenshare",children:"Screenshare"}),t=Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-started-by-you",children:"Started by you"}),o=Object(v.jsx)(c.Ab,{modifiers:["sized"]});return Object(v.jsx)(qn,{title:e,description:t,icon:o})},ls="integrationIcon-QJDb",ds="menu-q3gr",us="stop-Pu08";const ms=e=>{let{isRunning:t,name:o,onClick:i,smallIcon:a,title:s,...r}=e;return Object(n.createElement)(c.fb,{...r,key:o,onClick:i,accessory:t?null:Object(v.jsx)(ns,{className:ls,src:a})},Object(v.jsx)("div",{className:Se()({[us]:t}),children:t?Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-stop",$title:s,children:Object(v.jsxs)(v.Fragment,{children:["Stop ",s]})}):s}))};ms.propTypes={isRunning:a.a.bool.isRequired,name:a.a.string.isRequired,onClick:a.a.func.isRequired,smallIcon:a.a.string,title:a.a.string.isRequired};const ps=e=>{let{doStopRoomIntegration:t,integration:o}=e;const{name:i,smallIcon:a,roomIntegrationId:n,title:s}=o;return Object(v.jsx)(ms,{"data-testid":"jstest-sharepicker-running-integration",isRunning:!0,name:i,onClick:()=>{t({roomIntegrationId:n})},smallIcon:a,title:s})};ps.propTypes={doStopRoomIntegration:a.a.func.isRequired,integration:Kt.g};const bs=e=>{let{doBootstrapRoomIntegration:t,integration:o,onCloseMenu:i}=e;const{name:a,icons:n,roomIntegrationId:s,title:r}=o;return Object(v.jsx)(ms,{"data-testid":"jstest-sharepicker-available-integration-"+a,isRunning:!1,name:a,onClick:()=>{t({roomIntegrationId:s,config:"",featureSource:"toolbar"}),i()},smallIcon:n.small,title:r})};function gs(e){let{canChangeRoomIntegrations:t,canScreenshare:o,children:i,doBootstrapRoomIntegration:a,doShareDrawerToggle:n,doStopRoomIntegration:s,doToggleRoomIntegrationSettings:r,doToggleScreenshare:l,featureShareDrawerOn:u,isEmbedded:m,isRoomIntegrationsAvailable:p,isScreensharing:b,positions:g,roomIntegrations:h,runningIntegration:j}=e;const{isMenuVisible:f,onButtonBlur:O,onButtonHover:S,onCloseMenu:R,onMenuHover:C,onMenuBlur:y,onToggle:I}=Object(Ko.a)(),E=!!j,x=e=>{e.stopPropagation(),l(),R()};return Object(v.jsx)(Ut.b,{autoFocusLastElement:!0,keyPath:"BottomToolbar.SharePicker",className:"jstest-sharepicker-popover",onEscapeKeyPressed:R,content:Object(v.jsx)("div",{className:pa,onMouseEnter:C,onMouseLeave:y,children:Object(v.jsxs)(c.db,{className:ds,children:[j&&Object(v.jsx)(rs,{integration:j}),b&&Object(v.jsx)(cs,{}),!j&&b&&p&&Object(v.jsx)(c.eb,{}),!u&&!j&&p&&h.map(e=>!m||e.isEmbeddable?Object(v.jsx)(bs,{doBootstrapRoomIntegration:a,integration:e,onCloseMenu:R},e.title):null),!u&&!j&&t&&Object(v.jsx)(c.fb,{"data-testid":"jstest-sharepicker-configure-integration",onClick:()=>{r(!0),I()},children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-configure",children:Object(v.jsx)("span",{children:"Configure integrations"})})}),u&&Object(v.jsxs)(v.Fragment,{children:[!!j&&Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{"data-testid":"jstest-sharepicker-open-drawer",onClick:e=>{e.stopPropagation(),n(),I()},children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-drawer-open",children:"Open drawer"})})]}),!b&&o&&Object(v.jsxs)(v.Fragment,{children:[(p||u)&&Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{onClick:e=>{x(e),R()},"data-testid":"jstest-sharepicker-share-screen",children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-screen-start",children:"Share screen"})})]}),E&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.eb,{}),Object(v.jsx)(ps,{doStopRoomIntegration:s,integration:j})]}),b&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{className:us,onClick:x,"data-testid":"jstest-sharepicker-stop-screenshare",children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-screen-stop",children:"Stop screenshare"})})]})]})}),isOpen:f,onClickOutside:R,onLongPress:S,padding:0,align:"center",positions:g||["top"],children:i({onButtonBlur:O,onButtonHover:S,onToggle:I,isMenuVisible:f})})}bs.propTypes={doBootstrapRoomIntegration:a.a.func.isRequired,integration:Kt.f,onCloseMenu:a.a.func.isRequired},gs.propTypes={canChangeRoomIntegrations:a.a.bool.isRequired,canScreenshare:a.a.bool.isRequired,children:a.a.func.isRequired,doBootstrapRoomIntegration:a.a.func.isRequired,doShareDrawerToggle:a.a.func,doStopRoomIntegration:a.a.func.isRequired,doToggleRoomIntegrationSettings:a.a.func.isRequired,doToggleScreenshare:a.a.func.isRequired,featureShareDrawerOn:a.a.bool,isEmbedded:a.a.bool.isRequired,isRoomIntegrationsAvailable:a.a.bool.isRequired,isScreensharing:a.a.bool.isRequired,positions:a.a.arrayOf(a.a.string),roomIntegrations:a.a.arrayOf(Kt.f).isRequired,runningIntegration:Kt.g};var hs=gs;const js=e=>{let{as:t="button",className:o,onClick:i,onMouseEnter:a,onMouseLeave:n,isActive:s,isFloating:r,...l}=e;const u=s?Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-stop",children:"Stop"}):Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-start",children:"Share"}),m=Object(v.jsx)(c.Ab,{modifiers:[..."button"===t?["sized"]:["sizedSmall"],...s?["meetingRed"]:"button"===t?["light"]:[]],"aria-hidden":"true"});return"button"===t?Object(v.jsx)(Na,{className:Se()(o,aa),onClick:i,onMouseEnter:a,onMouseLeave:n,legend:u,isFloating:r,...l,children:Object(v.jsx)("div",{className:ta,children:m})}):Object(v.jsx)(c.fb,{onClick:i,icon:m,children:u})};function fs(e){let{as:t="button",canChangeRoomIntegrations:o,canScreenshare:i,className:a,doBootstrapRoomIntegration:s,doOpenScreenshareWithAudioDialog:r,doSetActiveSettingsDialogPane:c,doShareDrawerToggle:l,doStopRoomIntegration:d,doToggleScreenshare:u,enabledRoomIntegrations:m,featureShareDrawerOn:p,isEmbedded:b,isFloating:g,isRoomIntegrationRunning:h,isRoomIntegrationsAvailable:j,isScreensharing:f,isTouchDevice:O,prefs:S,runningRoomIntegrations:R,skipScreenshareWithAudioDialog:C}=e;const y=Object(n.useRef)(),I=f||h,E=f||!j?()=>u():()=>d({roomIntegrationId:R[0].roomIntegrationId});return Object(v.jsx)(hs,{canChangeRoomIntegrations:!1!==S.roomIntegrations&&o,canScreenshare:i,doBootstrapRoomIntegration:s,doShareDrawerToggle:l,doStopRoomIntegration:d,doToggleRoomIntegrationSettings:()=>c("integrations"),doToggleScreenshare:u,featureShareDrawerOn:p,isEmbedded:b,isRoomIntegrationsAvailable:j,isScreensharing:f,positions:"menuItem"===t?["left"]:void 0,roomIntegrations:m,runningIntegration:h?R[0]:null,children:e=>{let{onButtonBlur:o,onButtonHover:n,onToggle:s,isMenuVisible:c}=e;return Object(v.jsx)("div",{children:Object(v.jsx)(js,{as:t,onMouseEnter:O?void 0:n,onMouseLeave:O?void 0:o,onClick:()=>{const e=y.current&&document.activeElement===y.current;!O&&!e||"button"!==t||c?I?E():(s(),i&&(C?u():r())):n()},onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),s())},className:a,isActive:I,isFloating:g})})}})}js.propTypes={as:a.a.oneOf(["button","menuItem"]),className:a.a.string.isRequired,isActive:a.a.bool,isFloating:a.a.bool,onClick:a.a.func.isRequired,onMouseEnter:a.a.func,onMouseLeave:a.a.func},fs.propTypes={as:a.a.oneOf(["button","menuItem"]),canChangeRoomIntegrations:a.a.bool.isRequired,canScreenshare:a.a.bool.isRequired,className:a.a.string,doBootstrapRoomIntegration:a.a.func.isRequired,doOpenScreenshareWithAudioDialog:a.a.func.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,doShareDrawerToggle:a.a.func.isRequired,doStopRoomIntegration:a.a.func.isRequired,doToggleScreenshare:a.a.func.isRequired,enabledRoomIntegrations:a.a.arrayOf(Kt.f).isRequired,featureShareDrawerOn:a.a.bool,isEmbedded:a.a.bool.isRequired,isFloating:a.a.bool,isRoomIntegrationRunning:a.a.bool.isRequired,isRoomIntegrationsAvailable:a.a.bool.isRequired,isScreensharing:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,prefs:a.a.object.isRequired,runningRoomIntegrations:a.a.arrayOf(Kt.g).isRequired,skipScreenshareWithAudioDialog:a.a.bool.isRequired};var Os=Object(r.b)("doBootstrapRoomIntegration","doOpenScreenshareWithAudioDialog","doSetActiveSettingsDialogPane","doShareDrawerToggle","doStopRoomIntegration","doToggleScreenshare","selectCanChangeRoomIntegrations","selectCanScreenshare","selectEnabledRoomIntegrations","selectFeatureShareDrawerOn","selectIsRoomIntegrationRunning","selectIsRoomIntegrationsAvailable","selectIsScreensharing","selectIsTouchDevice","selectPrefs","selectRunningRoomIntegrations","selectSkipScreenshareWithAudioDialog",fs),Ss="avatar-W4fU",Rs="container-qkQq",Cs="caption-Hp4O",vs="visible-Ao-t",ys="hidden-gACE",Is="captionDisplayName-lC+e",Es="captionText-PFg+";const xs=e=>{let{text:t,captionUser:o}=e;const[i,a]=Object(n.useState)(!1);Object(n.useEffect)(()=>{setTimeout(()=>a(!0),tt.g-600)},[]);const s=i?[Cs,ys]:[Cs,vs];return Object(v.jsxs)("div",{className:Se()(...s),children:[Object(v.jsx)(c.g,{className:Se()(Ss),modifiers:["square"],avatarUrl:o.avatarUrl,name:o.displayName||"Guest",size:40}),Object(v.jsxs)("div",{className:Se()(Es),children:[Object(v.jsx)("div",{className:Se()(Is),children:o.displayName||"Guest"}),Object(v.jsx)("div",{"data-testid":"Caption-text",children:t})]})]})};function Ts(e,t,o){if(t[e.clientId])return t[e.clientId];const i=o.find(t=>t.id===e.clientId);if(i)return i;const a=e.clientId.startsWith("pres-")&&o.find(t=>"pres-"+t.clientId===e.clientId);return a||{displayName:"Unknown",avatarUrl:""}}function Ls(e){let{captionLog:t,isLiveCaptionsEnabled:o,chatUsersByClientId:i,screenshareClientViews:a}=e;return o?Object(v.jsx)("div",{className:Se()(Rs),children:t.map(e=>Object(v.jsx)(xs,{captionUser:Ts(e,i,a),text:e.text},`${e.clientId}-${e.timestamp}`))}):null}xs.propTypes={captionUser:a.a.object.isRequired,text:a.a.string.isRequired},Ls.propTypes={captionLog:a.a.array.isRequired,chatUsersByClientId:a.a.object.isRequired,isLiveCaptionsEnabled:a.a.bool.isRequired,screenshareClientViews:a.a.array.isRequired};var ks=Object(r.b)("selectCaptionLog","selectIsLiveCaptionsEnabled","selectChatUsersByClientId","selectScreenshareClientViews",Ls);const _s=e=>{let{isLiveTranscriptionEnabled:t}=e;return t?Object(v.jsx)(d.Localized,{id:"InCallLiveTranscription-disable-button",children:"Stop Transcription"}):Object(v.jsx)(d.Localized,{id:"InCallLiveTranscription-button",children:"Transcribe"})};function Ns(e){let{as:t="button",className:o,isLiveTranscriptionStarted:i,isLiveTranscriptionTranscribing:a,doLiveTranscriptionStart:n,doLiveTranscriptionStop:s,isFloating:r}=e;const l=Object(v.jsx)(_s,{isLiveTranscriptionEnabled:a||i}),d=()=>{a?s():n()},u=Object(v.jsx)(c.Vb,{modifiers:[..."button"===t?["sized"]:["sizedSmall"],...a?["meetingRed"]:"button"===t?["light"]:[]],"aria-hidden":"true"});return"button"===t?Object(v.jsx)(Na,{"data-testid":a?"LiveTranscriptionButton-liveTranscription-enabled":"LiveTranscriptionButton-liveTranscription-disabled",className:Se()(o,aa),onClick:d,legend:l,isDisabled:i,isFloating:r,children:Object(v.jsx)("div",{className:ta,children:u})}):Object(v.jsx)(c.fb,{onClick:d,icon:u,children:l})}_s.propTypes={isLiveTranscriptionEnabled:a.a.bool.isRequired},Ns.displayName="LiveTranscriptionButton",Ns.propTypes={as:a.a.oneOf(["button","menuItem"]),className:a.a.string,doLiveTranscriptionStart:a.a.func.isRequired,doLiveTranscriptionStop:a.a.func.isRequired,isFloating:a.a.bool.isRequired,isLiveTranscriptionStarted:a.a.bool.isRequired,isLiveTranscriptionTranscribing:a.a.bool.isRequired};var ws=Object(r.b)("doLiveTranscriptionStart","doLiveTranscriptionStop","selectIsLiveTranscriptionStarted","selectIsLiveTranscriptionTranscribing",Ns),As="body-OxvN",Ds="footer-SPyd",Ps="acceptButton-3y8b",Ms="dismissButton-3r5N",Fs="recIcon-Vwo4",Bs="title-9moU",qs="copy-qjQ8";function zs(e){let{onAccept:t,onDismiss:o}=e;return Object(v.jsxs)(c.G,{onClickClose:o,children:[Object(v.jsxs)(c.G.Body,{className:As,children:[Object(v.jsxs)("header",{className:Bs,children:[Object(v.jsx)("div",{className:Fs})," ",Object(v.jsx)("div",{children:"Recording"})]}),Object(v.jsxs)("div",{className:qs,children:[Object(v.jsx)(d.Localized,{id:"ProRecordingUpsellDialog-title",children:Object(v.jsx)("h1",{children:"Want to record this meeting?"})}),Object(v.jsx)(d.Localized,{id:"ProRecordingUpsellDialog-desc",children:Object(v.jsx)("p",{children:"Get unlimited recording with Pro or Business"})})]})]}),Object(v.jsxs)(c.G.Footer,{className:Ds,children:[Object(v.jsx)(c.k,{className:Ps,modifiers:["full","small","primary"],onClick:t,children:Object(v.jsx)(d.Localized,{id:"ProRecordingUpsellDialog-upgrade",children:"Upgrade"})}),Object(v.jsx)(c.k,{className:Ms,modifiers:["full","small","outlined"],onClick:o,children:Object(v.jsx)(d.Localized,{id:"ProRecordingUpsellDialog-later",children:"Later"})})]})]})}zs.propTypes={onAccept:a.a.func.isRequired,onDismiss:a.a.func.isRequired};var Gs=zs,Us="body-Klwd",Hs="recIcon-zSmR",Vs="title-Hm+e",Ws="copy-i0Qh";function Ks(e){let{onDismiss:t}=e;return Object(v.jsx)(c.G,{onClickClose:t,children:Object(v.jsxs)(c.G.Body,{className:Us,children:[Object(v.jsxs)("header",{className:Vs,children:[Object(v.jsx)("div",{className:Hs})," ",Object(v.jsx)("div",{children:"Recording"})]}),Object(v.jsx)("div",{className:Ws,children:Object(v.jsx)("p",{children:"Recording is not available in Personal rooms. To record a meeting you\u2019ll need to switch to a Shared room."})}),Object(v.jsx)(c.k,{modifiers:["full","small","outlined"],onClick:t,children:"Got it"})]})})}Ks.propTypes={onDismiss:a.a.func.isRequired};var $s=Ks;function Qs(e){let{savedRecordings:t,audioDenoiserEnabled:o,audioDenoiserWanted:i,audioId:a,audioInputDevices:s,bottomToolbarButtonItems:r,bottomToolbarOverflowItems:c,breakoutEndTime:l,breakoutTimerSetting:d,breakoutActive:u,breakoutCurrentId:m,canEndMeeting:p,canManageBreakout:b,canPinBottomToolbar:g,canRecord:h,canStartAudioDenoiser:j,canStartBreakout:f,canStartCoLocation:O,canStartStreaming:S,cloudRecordingIsRecording:R,cloudRecordingIsStarted:C,cloudRecordingStart:y,coLocationActive:I,coLocationAvailable:E,coLocationShouldShowGift:x,doAudioDenoiserToggle:T,doBreakoutEdit:L,doBreakoutJoin:k,doBreakoutOpenInfo:_,doBreakoutRequestEnd:N,doBreakoutTimerStopped:w,doBreakoutUpdateTimerDuration:A,doCoLocationEdit:D,doCoLocationOpenInfo:P,doCoLocationRequestEnd:M,doLeaveRoom:F,doRequestRecording:B,doToggleAudioOnlyModeEnabled:q,doSetNotification:z,doSetSpeaker:G,doSidebarLayerOpen:U,doStartCloudRecording:H,doStopCloudRecording:V,doStopRecording:W,doStreamingRequest:K,doStreamingStop:$,doSwitchLocalStream:Q,doToggleAudioEnabled:Y,doToggleChat:J,doToggleEndMeetingDialog:Z,doToggleVideoEnabled:X,isAudioEnabled:ee,audioOnlyModeEnabled:te,isBottomToolbarHover:oe,isBottomToolbarPinned:ie,isChatOpen:ae,isFloating:ne,isInPip:se,isPopoverDisabled:re=!1,isTouchDevice:ce,isVideoEnabled:le,knockers:de=[],localClientIsViewer:ue,localStream:me,numRecordings:pe,onPinBottomToolbar:be,onSettingsClick:ge,onToggleParticipantList:he,preferSpeakerId:je,prefs:fe,recordingIsRecording:Oe,recordingStart:Re,recordingTargetIsLocal:Ce,shouldShowBusinessRecordingUpsell:ve,shouldShowCameraEffects:ye,shouldShowProRecordingUpsell:Ie,shouldShowRoomFullWarning:Ee,speakerDevices:xe,streamingIsPending:Te,streamingIsStreaming:Le,streamingRtmpUri:ke,streamingStart:_e,videoId:Ne,videoInputDevices:we,unstoredRecordings:Ae}=e;const[De,Pe]=Object(n.useState)(!1),[Me,Fe]=Object(n.useState)(!1);function Be(){Y(!ee,{context:"toolbar"})}function qe(){X(!le,{context:"toolbar"})}function ze(){q(!te,{context:"toolbar"})}return Object(v.jsxs)("div",{id:"VideoControls",className:Se()("jstest-video-controls",ea,{[na]:ne,[sa]:se}),children:[Object(v.jsx)(ks,{}),Object(v.jsx)("div",{className:da,children:Object(v.jsx)("div",{className:Se()(ra,{[la]:!fe.effects,[ca]:se&&!ie}),children:r.map(e=>function e(n){let{type:r,as:g}=n;switch(r){case"cam":return Object(v.jsx)($a,{as:g,cameraEffectsEnabled:ye,className:"jstest-toggle-video",audioOnlyModeEnabled:te,isButtonDisabled:!Ne,isEnabled:le,isFloating:ne,onSettingsClick:ge,onSwitchVideoInput:e=>Q({videoId:e}),onToggle:qe,onToggleAudioOnlyMode:ze,popoverDisabled:re||ce,videoId:Ne,videoInputDevices:we},"cam-button");case"mic":return Object(v.jsx)(pn,{as:g,audioDenoiserEnabled:o,audioDenoiserWanted:i,audioId:a,audioInputDevices:s,className:"jstest-mute-button",isAudioMeterEnabled:ee,isButtonDisabled:!a,isEnabled:ee,onAudioDenoiserToggle:j?T:void 0,onSettingsClick:ge,onSwitchAudioInput:e=>Q({audioId:e}),onSwitchSpeaker:G,onToggle:Be,popoverDisabled:re||ce,speakerId:je,speakerDevices:xe,stream:me,videoId:Ne,isFloating:ne},"mic-button");case"share":return Object(v.jsx)(Os,{as:g,className:"jstest-share-screen-button",isEmbedded:Object(vi.a)(),isFloating:ne},"share-button");case"captions":return Object(v.jsx)(Ja,{as:g,className:"jstest-captions-button",isEmbedded:Object(vi.a)(),isFloating:ne},"captions-button");case"live-transcription":return Object(v.jsx)(ws,{as:g,className:"jstest-live-transcription-button",isEmbedded:Object(vi.a)(),isFloating:ne},"live-transcription-button");case"recording":return Object(v.jsx)(ts,{as:g,numRecordings:pe,isRecording:Oe,isCloudRecording:R,isDisabled:Te||C,isStreaming:Le,isTouchDevice:ce,doRequestRecording:Ce?B:H,doSetNotification:z,doStopRecording:Ce?W:V,doStreamingRequest:K,doStopStreaming:$,isFloating:ne,canRecord:h,recordingTargetIsLocal:Ce,canStream:S,rtmpUri:ke,recordingStart:Re||y,streamingStart:_e,unstoredRecordings:Ae,savedRecordings:t,doSidebarLayerOpen:U},"recording-button");case"recording-promo":return Object(v.jsx)(ts,{as:g,disableMenu:!pe&&!h,isRecording:!1,isCloudRecording:R,isDisabled:!1,isTouchDevice:ce,doRequestRecording:()=>{Ie&&!De?Pe(!0):ve&&!Me&&Fe(!0)},doSetNotification:()=>{},doStopRecording:()=>{},doStopStreaming:()=>{},doStreamingRequest:()=>{},recordingTargetIsLocal:Ce,isFloating:ne,isStreaming:!1,canRecord:!1,canStream:!1},"recording-button");case"reactions":return Object(v.jsx)(Ln,{as:g,emojiSkinTone:fe.emojiSkinTone,isTouchDevice:ce,isFloating:ne},"reactions-button");case"chat":return Object(v.jsx)(an,{as:g,canBroadcast:!(!u||!f),emojiSkinTone:fe.emojiSkinTone,isTouchDevice:ce,isChatOpen:ae,onClick:J,isFloating:ne,hideEmojis:ue||!!fe.reactionsButton||!fe.reactions},"chat-button");case"participants":return Object(v.jsx)(vn,{as:g,coLocationShouldShowGift:x,disableMenu:!b,coLocationAvailable:E,isBreakoutActive:u,isCoLocationActive:I,isFloating:ne,isTouchDevice:ce,knockersCount:de.length,onBreakoutClick:()=>f?L({open:!0}):_(!0),onBreakoutStop:()=>N(!0),onCoLocationClick:()=>O?D({open:!0}):P(!0),onCoLocationStop:()=>M(!0),onClick:he,shouldShowRoomFullWarning:Ee,doBreakoutTimerStopped:()=>w(),doBreakoutUpdateTimerDuration:()=>A(60),breakoutEndTime:l,breakoutTimerSetting:d},"participants-button");case"more":return Object(v.jsx)(gn,{isFloating:ne,isTouchDevice:ce,menuItems:c.map(t=>e({type:t,as:"menuItem"}))},"more-button");case"leave":return Object(v.jsx)(rn,{as:g,canEndMeeting:p,canLeaveGroup:!!m,isTouchDevice:ce,onLeave:()=>F({context:"toolbar"}),onLeaveGroup:()=>k(""),onEndMeeting:Z,isFloating:ne},"leave-button");case"pip-leave":return Object(v.jsx)(rn,{as:g,canEndMeeting:p,canLeaveGroup:!!m,isPip:!0,isTouchDevice:ce,onLeave:()=>F({context:"toolbar"}),onLeaveGroup:()=>k(""),onEndMeeting:Z,isFloating:ne},"pip-leave-button")}}({type:e,as:"button"}))})}),ne&&g&&Object(v.jsx)(xn,{isBottomToolbarHover:oe||se,isBottomToolbarPinned:ie,onPinBottomToolbar:be}),De&&Object(v.jsx)(Gs,{onAccept:function(){Pe(!1),window.open("/user/subscriptions?utm_source=appearin&utm_campaign=recording_upsell_room_toolbar&utm_medium=web","_blank","noopener")},onDismiss:()=>Pe(!1)}),Me&&Object(v.jsx)($s,{onDismiss:()=>Fe(!1)})]})}Qs.propTypes={audioDenoiserEnabled:a.a.bool,audioDenoiserWanted:a.a.bool,audioId:a.a.string,audioInputDevices:a.a.array,audioOnlyModeEnabled:a.a.bool.isRequired,bottomToolbarButtonItems:a.a.array,bottomToolbarOverflowItems:a.a.array,breakoutActive:a.a.bool,breakoutCurrentId:a.a.string,breakoutEndTime:a.a.number,breakoutTimerSetting:a.a.bool,canEndMeeting:a.a.bool,canManageBreakout:a.a.bool.isRequired,canPinBottomToolbar:a.a.bool,canRecord:a.a.bool.isRequired,canStartAudioDenoiser:a.a.bool,canStartBreakout:a.a.bool.isRequired,canStartCoLocation:a.a.bool.isRequired,canStartStreaming:a.a.bool.isRequired,cloudRecordingIsRecording:a.a.bool.isRequired,cloudRecordingIsStarted:a.a.bool.isRequired,cloudRecordingStart:a.a.number,coLocationActive:a.a.bool.isRequired,coLocationAvailable:a.a.bool.isRequired,coLocationShouldShowGift:a.a.bool.isRequired,doAudioDenoiserToggle:a.a.func,doBreakoutEdit:a.a.func.isRequired,doBreakoutJoin:a.a.func.isRequired,doBreakoutOpenInfo:a.a.func.isRequired,doBreakoutRequestEnd:a.a.func.isRequired,doBreakoutTimerStopped:a.a.func.isRequired,doBreakoutUpdateTimerDuration:a.a.func.isRequired,doCoLocationEdit:a.a.func.isRequired,doCoLocationOpenInfo:a.a.func.isRequired,doCoLocationRequestEnd:a.a.func.isRequired,doLeaveRoom:a.a.func.isRequired,doRequestRecording:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSetSpeaker:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doStartCloudRecording:a.a.func.isRequired,doStopCloudRecording:a.a.func.isRequired,doStopRecording:a.a.func.isRequired,doStreamingRequest:a.a.func.isRequired,doStreamingStop:a.a.func.isRequired,doSwitchLocalStream:a.a.func.isRequired,doToggleAudioEnabled:a.a.func.isRequired,doToggleAudioOnlyModeEnabled:a.a.func.isRequired,doToggleChat:a.a.func.isRequired,doToggleEndMeetingDialog:a.a.func.isRequired,doToggleVideoEnabled:a.a.func.isRequired,isAudioEnabled:a.a.bool.isRequired,isBottomToolbarHover:a.a.bool,isBottomToolbarPinned:a.a.bool.isRequired,isChatOpen:a.a.bool,isFloating:a.a.bool.isRequired,isInPip:a.a.bool,isPopoverDisabled:a.a.bool,isTouchDevice:a.a.bool.isRequired,isVideoEnabled:a.a.bool.isRequired,knockers:a.a.array,localClientIsViewer:a.a.bool.isRequired,localStream:a.a.object,numRecordings:a.a.number,onPinBottomToolbar:a.a.func.isRequired,onSettingsClick:a.a.func.isRequired,onToggleParticipantList:a.a.func,preferSpeakerId:a.a.string,prefs:a.a.object.isRequired,recordingIsRecording:a.a.bool.isRequired,recordingStart:a.a.number,recordingTargetIsLocal:a.a.bool.isRequired,savedRecordings:a.a.array,shouldShowBusinessRecordingUpsell:a.a.bool,shouldShowCameraEffects:a.a.bool.isRequired,shouldShowProRecordingUpsell:a.a.bool,shouldShowRoomFullWarning:a.a.bool,speakerDevices:a.a.array,streamingIsPending:a.a.bool.isRequired,streamingIsStreaming:a.a.bool.isRequired,streamingRtmpUri:a.a.string,streamingStart:a.a.number,unstoredRecordings:a.a.array,videoId:a.a.string,videoInputDevices:a.a.array};const Ys=Object(C.c)(Object(r.b)("doAudioDenoiserToggle","doBreakoutEdit","doBreakoutJoin","doBreakoutOpenInfo","doBreakoutRequestEnd","doBreakoutTimerStopped","doBreakoutUpdateTimerDuration","doCoLocationEdit","doCoLocationOpenInfo","doCoLocationRequestEnd","doLeaveRoom","doRequestRecording","doSetActiveSettingsDialogPane","doSetNotification","doSetSpeaker","doSidebarLayerOpen","doStartCloudRecording","doStopCloudRecording","doStopRecording","doStreamingRequest","doStreamingRequest","doStreamingStop","doSwitchLocalStream","doToggleAudioDenoiser","doToggleAudioOnlyModeEnabled","doToggleAudioEnabled","doToggleChat","doToggleEndMeetingDialog","doToggleVideoEnabled","selectSavedRecordings","selectAudioDenoiserEnabled","selectAudioDenoiserWanted","selectAudioId","selectAudioInputDevices","selectBottomToolbarOverflowItems","selectBreakoutActive","selectBreakoutCurrentId","selectCanEndMeeting","selectCanManageBreakout","selectCanRecord","selectCanStartAudioDenoiser","selectCanStartBreakout","selectCanStartCoLocation","selectCanStartStreaming","selectBreakoutEndTime","selectBreakoutTimerSetting","selectCloudRecordingIsRecording","selectCloudRecordingIsStarted","selectCloudRecordingStart","selectCoLocationActive","selectCoLocationAvailable","selectCoLocationShouldShowGift","selectIsAudioEnabled","selectAudioOnlyModeEnabled","selectIsChatOpen","selectIsTouchDevice","selectIsVideoEnabled","selectKnockers","selectLocalClientIsViewer","selectLocalStream","selectNumRecordings","selectPreferSpeakerId","selectPrefs","selectRecordingIsRecording","selectRecordingStart","selectRecordingTargetIsLocal","selectShouldShowBusinessRecordingUpsell","selectShouldShowCameraEffects","selectShouldShowProRecordingUpsell","selectShouldShowRoomFullWarning","selectSpeakerDevices","selectStreamingIsPending","selectStreamingIsStreaming","selectStreamingRtmpUri","selectStreamingStart","selectVideoId","selectVideoInputDevices","selectUnstoredRecordings",Qs),{},{description:Object(v.jsx)(d.Localized,{id:"VideoControls-error-description",children:"Refresh and try again."})});var Js=Object(r.b)("selectBottomToolbarButtonItems",Ys);function Zs(e){let{bounds:t,canReportAbuse:o,onSettingsClick:i,prefHelp:a,isFloating:n,...s}=e;const r=!(t.width<yi.ROOM_FOOTER_MIN_WIDTH)&&!n,c=[a,o].filter(Boolean).length+1;return Object(v.jsxs)("div",{style:{"--button-width":"60px","--button-container-width":`calc(var(--button-width) * ${c})`},className:Se()(Mi,{[Fi]:!r}),children:[r&&Object(v.jsxs)("div",{className:Bi,children:[a&&Object(v.jsx)(zi.a,{}),Object(v.jsx)($i,{}),o&&Object(v.jsx)(Xi,{})]}),Object(v.jsx)("div",{className:qi,children:Object(v.jsx)(Js,{isFloating:n,onSettingsClick:i,...s})})]})}Zs.propTypes={bounds:l.a.isRequired,canReportAbuse:a.a.bool.isRequired,isFloating:a.a.bool,onSettingsClick:a.a.func.isRequired,prefHelp:a.a.bool.isRequired};var Xs=Object(r.b)("selectCanReportAbuse","selectPrefHelp",Zs),er="VideoStage-+9Of",tr="pipRoomLayout-WjFg";function or(e){let{enabledRoomIntegrations:t}=e;return t.map(e=>{let{bootstrap:t,tagName:o}=e;return Object(n.createElement)(o,{key:o,featuresource:t&&t.featureSource,config:t&&t.config,isopen:t&&""===t.config})})}or.propTypes={enabledRoomIntegrations:a.a.arrayOf(Kt.f).isRequired};var ir=Object(r.b)("selectEnabledRoomIntegrations",or);function ar(e){let{doTrackHands:t,gestureRecognizerLoaded:o,localClientId:i,shouldShowKnockPage:a,videoId:s}=e;const r=Object(n.useCallback)(()=>{if(!s)return;const e=document.getElementById(a?"camera-preview":i);if(!e||e.paused)return setTimeout(()=>r(),1e3);t(e)},[i,a,t,s]);return Object(n.useEffect)(()=>{o&&r()},[r,o]),null}ar.propTypes={doTrackHands:a.a.func.isRequired,gestureRecognizerLoaded:a.a.bool.isRequired,localClientId:a.a.string,shouldShowKnockPage:a.a.bool,videoId:a.a.string};var nr=Object(r.b)("doTrackHands","selectGestureRecognizerLoaded","selectLocalClientId","selectShouldShowKnockPage","selectVideoId",ar),sr="EmptyRoomInvitation-bos1",rr="reduceEffects-5i0D",cr="withRoundedCorners-gaiY",lr="withShadow-UqKo",dr="contentWrapper-USZg",ur="invitation-yUrE",mr="content-cHs8",pr="isConstrained-CDu8",br="LockInput-FZio",gr="icon-NYPB",hr="linkInput-tfme",jr="isLocked-s9+E",fr="shareButton-ojA6",Or="shareButtonWrapper-TJKR",Sr="title-drnP",Rr="lockStatus-3JW1",Cr="buttonLink-4CRt",vr="lockRoomTooltipLabel-oB4R",yr="informationIcon-jdH6",Ir="lockRoomTooltip-YpAX",Er="toggleLockRoom-q8r+",xr="lockRoomLabel-LncX",Tr="embedCodeButton-mg8g",Lr="embedButtonText-32-V",kr="embedLockStatus-21vR",_r=o(55);function Nr(e){let{canSetLock:t,className:o,contentWidth:i,doSetRoomLock:a,doToggleEmbedInstructionsDialog:n,prefs:s,roomIsLocked:r,roomName:l,shouldShowEmbedOption:u,withRoundedCorners:m,withShadow:p}=e;const b=location.origin+l,g=e=>{e.preventDefault(),a(!r)},h=i<400;function j(){return Object(v.jsxs)(_r.a.Text,{className:kr,children:[Object(v.jsxs)("div",{className:xr,children:[Object(v.jsx)(c.Tb,{content:Object(v.jsx)("div",{className:Ir,children:Object(v.jsx)(d.Localized,{id:"InCallAloneInvitation-lock-tooltip",children:"Guests needs to knock to enter locked rooms"})}),children:Object(v.jsxs)("label",{className:vr,htmlFor:"in-call-alone-toggle-lock-room",tabIndex:"0",children:[Object(v.jsx)(d.Localized,{id:"InCallAloneInvitation-lock-room",children:"Lock room"}),Object(v.jsx)(c.S,{modifiers:["sizedSmall"],className:yr})]})}),Object(v.jsx)(c.Sb,{id:"in-call-alone-toggle-lock-room",className:Er,"aria-label":r?"Unlock room":"Lock room",size:"small",isActive:r,onToggle:g})]}),Object(v.jsxs)(c.k,{className:Tr,modifiers:["extraSmall"],onClick:()=>n({source:"invitationCell"}),children:[Object(v.jsx)(c.A,{modifiers:["sized"]}),Object(v.jsx)("span",{className:Lr,children:Object(v.jsx)(d.Localized,{id:"InCallAloneInvitation-embed-code",children:"Embed code"})})]})]})}return Object(v.jsx)("div",{className:Se()(sr,o,{[rr]:!s.effects,[lr]:p,[cr]:m}),children:Object(v.jsx)("div",{className:dr,children:Object(v.jsxs)("div",{className:Se()(mr,{[pr]:h}),children:[Object(v.jsx)("div",{className:Sr,children:Object(v.jsx)(d.Localized,{id:"InCallAloneInvitation-title",children:"Share link to start a meeting"})}),Object(v.jsx)("div",{children:Object(v.jsxs)(_r.a,{children:[Object(v.jsx)("div",{className:ur,children:Object(v.jsxs)("div",{className:br,children:[r&&Object(v.jsx)(c.V,{modifiers:["sizedSmall"],className:gr}),Object(v.jsx)(d.Localized,{id:"InCallAloneShare-link-label",attrs:{label:!0},children:Object(v.jsx)(_r.a.Url,{className:Se()(hr,{[jr]:r}),url:b,label:"Meeting link"})}),Object(v.jsx)("div",{className:Or,children:Object(v.jsx)(_r.a.Button,{as:c.k,modifiers:["extraSmall"],className:fr,roomName:l})})]})}),t&&!h&&Object(v.jsx)(v.Fragment,{children:u?Object(v.jsx)(j,{}):Object(v.jsx)(_r.a.Text,{className:Rr,children:r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"InCallAloneShare-desc-room-locked",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:"This room is locked"}),". Guests need to knock to enter locked rooms."]})}),Object(v.jsx)(d.Localized,{id:"InCallAloneShare-button-unlock",children:Object(v.jsx)("button",{className:Cr,onClick:g,children:"Unlock room"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"InCallAloneShare-desc-room-unlocked",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:"This room is unlocked"}),". Anyone with the link can enter unlocked rooms."]})}),Object(v.jsx)(d.Localized,{id:"InCallAloneShare-button-lock",children:Object(v.jsx)("button",{className:Cr,onClick:g,children:"Lock room"})})]})})})]})})]})})})}Nr.propTypes={canSetLock:a.a.bool.isRequired,className:a.a.string,contentWidth:a.a.number.isRequired,doSetRoomLock:a.a.func.isRequired,doToggleEmbedInstructionsDialog:a.a.func.isRequired,prefs:a.a.object.isRequired,roomIsLocked:a.a.bool.isRequired,roomName:a.a.string.isRequired,shouldShowEmbedOption:a.a.bool.isRequired,withRoundedCorners:a.a.bool,withShadow:a.a.bool};var wr=Object(r.b)("doSetRoomLock","doToggleEmbedInstructionsDialog","selectCanSetLock","selectPrefs","selectRoomIsLocked","selectRoomName","selectShouldShowEmbedOption",Nr),Ar={EmptyRoomSignupCta:"EmptyRoomSignupCta-jMFS",withRoundedCorners:"withRoundedCorners-5uQl",withShadow:"withShadow-HII3",content:"content-NGnx",title:"title-MRW+",titleXS:"titleXS-A0xt",subtitle:"subtitle-oKIx",subtitleIcon:"subtitleIcon-ooh5",subtitleText:"subtitleText-brXr",butterflyImg:"butterflyImg-kTPG",butterflyImgXL:"butterflyImgXL-9qgA",birdsImg:"birdsImg-uSNt",birdsImgXL:"birdsImgXL-jG--",button:"button-Gm1h",buttonXS:"buttonXS-Kz02",buttonXXS:"buttonXXS-INiJ"},Dr=o(246),Pr=o.n(Dr),Mr=o(247),Fr=o.n(Mr),Br=o(53);function qr(e){let{aspectRatio:t,className:o,contentHeight:i,contentWidth:a,doSidebarLayerOpen:n,withRoundedCorners:s,withShadow:r}=e;const l=Object(Br.a)(t,{width:a,height:i}),u=l.width>734?"XL":l.width>548?"L":l.width>508?"M":l.width>506?"S":l.width>450?"XS":"XXS";return Object(v.jsx)("div",{className:Se()(Ar.EmptyRoomSignupCta,o,{[Ar.withRoundedCorners]:s,[Ar.withShadow]:r}),children:Object(v.jsxs)("div",{className:Ar.content,children:[Object(v.jsxs)("h3",{className:Ar.subtitle,children:[Object(v.jsx)(c.x,{className:Ar.subtitleIcon,modifiers:["sizedSmall"]}),Object(v.jsxs)("span",{className:Ar.subtitleText,children:[Object(v.jsx)(d.Localized,{id:"EmptyRoomSignup-subtitle",children:"Waiting for your host to arrive"}),Object(v.jsx)("img",{className:Se()(Ar.birdsImg,Ar["birdsImg"+u]),src:Fr.a,alt:""})]})]}),"XXS"!==u&&Object(v.jsxs)("h2",{className:Se()(Ar.title,Ar["title"+u]),children:["XS"!==u?Object(v.jsx)(d.Localized,{id:"EmptyRoomSignup-title",children:"You\u2019re the first one here - claim your own free Whereby room while you wait"}):Object(v.jsx)(d.Localized,{id:"EmptyRoomSignup-title-short",children:"Claim your own free Whereby room while you wait"}),Object(v.jsx)("img",{className:Se()(Ar.butterflyImg,Ar["butterflyImg"+u]),src:Pr.a,alt:""})]}),Object(v.jsx)(c.k,{type:"button",onClick:()=>n(Ht.e),className:Se()(Ar.button,Ar["button"+u]),children:Object(v.jsx)(d.Localized,{id:"EmptyRoomSignup-button-short",children:"Sign up"})})]})})}qr.propTypes={aspectRatio:a.a.number.isRequired,className:a.a.string,contentHeight:a.a.number.isRequired,contentWidth:a.a.number.isRequired,doSidebarLayerOpen:a.a.func.isRequired,withRoundedCorners:a.a.bool,withShadow:a.a.bool};var zr=Object(r.b)("doSidebarLayerOpen",qr),Gr="GroupRow--953",Ur="group-UlZ+",Hr="name-NxtC",Vr="desc-IAA2",Wr="button-WSWn";function Kr(e){let{className:t,isLocalClientAssigned:o,isLocalClientGroup:i,onClick:a,variant:n="default",canJoinAnyGroup:s}=e;const r=["small"],l=o&&i,u=o&&!i,m=!i&&!s;"constrained"===n&&r.push("invisible"),m&&r.push("disabled");let p=Object(v.jsx)(d.Localized,{id:"GroupPreview-btn-join",children:"Join group"});return l?p=Object(v.jsx)(d.Localized,{id:"GroupPreview-btn-enter",children:"Enter group"}):u&&!m&&(p=Object(v.jsx)(d.Localized,{id:"GroupPreview-btn-switch",children:"Switch group"}),r.push("outlined")),Object(v.jsx)(c.k,{className:t,onClick:a,modifiers:r,children:p})}Kr.propTypes={canJoinAnyGroup:a.a.bool.isRequired,className:a.a.string,isLocalClientAssigned:a.a.bool.isRequired,isLocalClientGroup:a.a.bool.isRequired,onClick:a.a.func.isRequired,variant:a.a.oneOf(["default","constrained"])};var $r=Object(r.b)("selectCanJoinAnyGroup",Kr);function Qr(e){let{clients:t,id:o,isLocalClientAssigned:i,isLocalClientGroup:a,name:n,onJoinClick:s}=e;const r=t.filter(e=>!(e.breakoutGroupAssigned===o&&e.breakoutGroup!==e.breakoutGroupAssigned)).map(e=>e.displayName||"Guest").join(", ");return Object(v.jsxs)("div",{className:Gr,children:[Object(v.jsxs)("div",{className:Ur,children:[Object(v.jsx)("div",{className:Hr,children:n}),Object(v.jsx)("div",{className:Vr,children:r})]}),Object(v.jsx)($r,{className:Wr,isLocalClientAssigned:i,isLocalClientGroup:a,onClick:s,variant:"constrained"})]})}Qr.propTypes={clients:a.a.arrayOf(a.a.object).isRequired,id:a.a.string.isRequired,isLocalClientAssigned:a.a.bool.isRequired,isLocalClientGroup:a.a.bool.isRequired,name:a.a.string.isRequired,onJoinClick:a.a.func.isRequired};var Yr=Qr,Jr="cellWrapper-03Ob",Zr="avatarWrapper-tDah",Xr="avatar-Ikck",ec="isPlaceholder-9iXY",tc="navWrapper-kO3t",oc="name-0YfX",ic="isDialIn-ikWi",ac=o(48),nc=o(101);function sc(e){let{avatarSize:t,clients:o,count:i,featureBrandAvatarsOn:a,id:n,isLocalClientAssigned:s,isLocalClientGroup:r,name:l,onJoinClick:d,style:u}=e;const m=o.map(e=>a?Object(v.jsx)(ac.a,{avatarUrl:e.avatarUrl,borderWidth:2,className:Se()(Xr,{[ec]:e.breakoutGroupAssigned===n&&e.breakoutGroup!==e.breakoutGroupAssigned}),name:e.displayName,modifiers:["square"],size:t},e.id):Object(v.jsx)(c.g,{avatarUrl:e.avatarUrl,avatarIcon:e.isDialIn?Object(v.jsx)(nc.a,{}):null,className:Se()(Xr,{[ec]:e.breakoutGroupAssigned===n&&e.breakoutGroup!==e.breakoutGroupAssigned,[ic]:e.isDialIn}),name:e.displayName,modifiers:["square"],size:t},e.id)),p=-1*(o.length-i);return p>0&&m.push([...Array(p)].map((e,o)=>Object(v.jsx)("div",{className:Xr,style:{width:t,height:t}},"slot-"+o))),Object(v.jsx)("div",{style:u,children:Object(v.jsxs)("div",{className:Jr,children:[Object(v.jsx)("div",{className:Zr,children:m}),Object(v.jsxs)("div",{className:tc,children:[Object(v.jsx)("div",{className:oc,children:l}),Object(v.jsx)($r,{isLocalClientAssigned:s,isLocalClientGroup:r,onClick:d,className:"jstest-join-group-button"})]})]})})}sc.propTypes={avatarSize:a.a.number.isRequired,clients:a.a.arrayOf(a.a.object).isRequired,count:a.a.number.isRequired,featureBrandAvatarsOn:a.a.bool,id:a.a.string.isRequired,isLocalClientAssigned:a.a.bool.isRequired,isLocalClientGroup:a.a.bool.isRequired,name:a.a.string.isRequired,onJoinClick:a.a.func.isRequired,style:a.a.object};var rc=sc,cc="GroupsPreview-H7fK",lc="gridWrapper-kPuu",dc="tableWrapper-PrXZ",uc="grid-rBwR",mc="table-+TjR";function pc(e){let{avatarSize:t,cellLayout:o=null,doBreakoutJoin:i,featureBrandAvatarsOn:a,groupedClients:n=[],isConstrained:s=!1,localClient:r,style:c={}}=e;const{breakoutGroupAssigned:l}=r;return s&&(n=[...n].sort((e,t)=>e.group.id===l?-1:t.group.id===l?1:0)),Object(v.jsx)("div",{className:Se()(cc,{[lc]:!s,[dc]:s}),style:c,children:Object(v.jsx)("div",{className:Se()({[uc]:!s,[mc]:s}),children:n.map(e=>{let{group:n,clients:r}=e;const c={clients:r,id:n.id,isLocalClientAssigned:!!l,isLocalClientGroup:l===n.id,key:"group-"+n.id,name:n.name,onJoinClick:()=>i(n.id)};return s?Object(v.jsx)(Yr,{...c}):Object(v.jsx)(rc,{avatarSize:t,count:o.cols*o.rows,featureBrandAvatarsOn:a,style:{width:Math.round(o.bounds.width)},...c})})})})}pc.propTypes={avatarSize:a.a.number,cellLayout:a.a.shape({bounds:l.a.isRequired,rows:a.a.number.isRequired,cols:a.a.number.isRequired}),contentHeight:a.a.number,contentWidth:a.a.number,doBreakoutJoin:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,groupedClients:a.a.arrayOf(a.a.shape({group:a.a.object.isRequired,clients:a.a.arrayOf(Kt.d).isRequired})),isConstrained:a.a.bool,localClient:Kt.d.isRequired,style:a.a.object};var bc=pc,gc={wrapper:"wrapper-03Gz",withRoundedCorners:"withRoundedCorners-TgHX",withShadow:"withShadow-IrfY",header:"header-Bn+B",leftCol:"leftCol-y9R2",icon:"icon-0hRr",title:"title-Fh5E",content:"content-KHGb",disablePointerEvents:"disablePointerEvents-meIu",menuButton:"menuButton-W6-V"},hc="menu-PYKh",jc="isDestructive-8yB+",fc="isInformational-0R07",Oc=o(170);const Sc=()=>{};function Rc(e){let{canChangeVolume:t,canFullscreen:o,doRoomIntegrationMaximize:i,doStopRoomIntegration:a,doToggleIntegrationInfoDialog:n,integration:s,onClick:r,onFullscreen:l=Sc,onVolumeChange:u=Sc,volume:m}=e;const{roomIntegrationId:p,title:b}=s,{isMaximized:g,roomIntegrationSessionId:h}=s.state;return Object(v.jsxs)(c.db,{onClick:e=>{e.stopPropagation(),r(e)},className:hc,children:[Object(v.jsx)(rs,{integration:s}),Object(v.jsx)(c.eb,{}),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Oc.a,{isDisabled:void 0===m,name:b,volume:m||0,onChange:u}),Object(v.jsx)(c.eb,{})]}),Object(v.jsx)(c.fb,{onClick:()=>i({roomIntegrationSessionId:h,maximized:!s.state.isMaximized}),icon:g?Object(v.jsx)(c.ab,{modifiers:["sizedSmall"]}):Object(v.jsx)(c.bb,{modifiers:["sizedSmall"]}),children:g?Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-minimize",children:"Minimize"}):Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-maximize",children:"Maximize"})}),o&&Object(v.jsx)(c.fb,{onClick:l,icon:Object(v.jsx)(c.M,{modifiers:["sizedSmall"]}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-fullscreen",children:"Fullscreen"})}),Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{onClick:()=>{a({roomIntegrationId:p})},className:jc,icon:Object(v.jsx)(c.Ab,{modifiers:["sizedSmall"]}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-stop",$title:b,children:Object(v.jsxs)(v.Fragment,{children:["Stop ",b]})})}),Object(v.jsx)(c.eb,{}),Object(v.jsx)(c.fb,{onClick:n,className:fc,icon:Object(v.jsx)(c.S,{modifiers:["sizedSmall"]}),children:Object(v.jsx)(d.Localized,{id:"VideoControls-share-button-menu-share-integration-about-integrations",children:"About integrations"})})]})}Rc.propTypes={canChangeVolume:a.a.bool.isRequired,canFullscreen:a.a.bool.isRequired,doRoomIntegrationMaximize:a.a.func.isRequired,doStopRoomIntegration:a.a.func.isRequired,doToggleIntegrationInfoDialog:a.a.func.isRequired,integration:Kt.g.isRequired,onClick:a.a.func.isRequired,onFullscreen:a.a.func,onVolumeChange:a.a.func,volume:a.a.number};var Cc=Object(r.b)("doRoomIntegrationMaximize","doStopRoomIntegration","doToggleIntegrationInfoDialog",Rc),vc=o(87);function yc(e){let{doRoomIntegrationMaximize:t,integration:o,localClientIsRecorder:i,withRoundedCorners:a,withShadow:s}=e;const{smallIcon:r,title:l,type:d,state:{tagName:u,props:m,roomIntegrationSessionId:p,isReady:b}}=o,g=Object(n.useRef)(null),[h,j]=Object(n.useState)(!1),[f,O]=Object(n.useState)(void 0),S="video"===d,R=()=>j(e=>!e),C=Object(n.useCallback)(()=>{var e;b&&void 0!==(null==(e=g.current)?void 0:e.volume)&&O(Number(g.current.volume.toFixed(1)))},[b,O]);Object(n.useEffect)(()=>{S&&h&&C()},[C,h,S]);const y=Object(v.jsx)(Cc,{canChangeVolume:S,canFullscreen:S&&Object(vc.d)(),integration:o,onClick:R,onFullscreen:()=>Object(vc.a)({el:g.current}),onVolumeChange:e=>{g.current.volume=e,O(e)},volume:f});return Object(v.jsxs)("section",{className:Se()(gc.wrapper,{[gc.withRoundedCorners]:a,[gc.withShadow]:s}),children:[Object(v.jsxs)("div",{className:gc.header,onDoubleClick:()=>t({roomIntegrationSessionId:o.state.roomIntegrationSessionId,maximized:!o.state.isMaximized}),children:[Object(v.jsxs)("div",{className:gc.leftCol,children:[Object(v.jsx)("img",{alt:"",className:gc.icon,src:r}),Object(v.jsx)("header",{className:gc.title,children:l})]}),Object(v.jsx)("div",{className:gc.rightCol,children:Object(v.jsx)(Ut.b,{keyPath:"RunningIntegration.ContextualMenu",content:y,isOpen:h,onClickOutside:R,padding:-28,positions:["bottom","left"],align:"end",children:Object(v.jsx)("button",{className:Se()("jstest-integration-cell-more-button",gc.menuButton),onClick:R,"aria-label":"More","aria-haspopup":!0,children:Object(v.jsx)(c.I,{modifiers:["sized","light","vertical"]})})})})]}),Object(v.jsx)("div",{className:Se()(gc.content,{[gc.withRoundedCorners]:a,[gc.disablePointerEvents]:i}),children:Object(v.jsx)(u,{roomintegrationsessionid:p,ref:g,...m},"runningIntegration-contentTag-"+p)})]})}yc.propTypes={doRoomIntegrationMaximize:a.a.func.isRequired,integration:Kt.g.isRequired,localClientIsRecorder:a.a.bool.isRequired,withRoundedCorners:a.a.bool,withShadow:a.a.bool};var Ic=Object(r.b)("doRoomIntegrationMaximize","selectLocalClientIsRecorder",yc),Ec="cell-uJMD",xc="disablePointerEvents-evtR",Tc="withRoundedCorners-BKF+",Lc="withShadow-swcK",kc="icon-smWH",_c="subgridMenuButton-n4DQ",Nc="menuButton-TzXp";const wc=Object(n.forwardRef)((e,t)=>{let{className:o,isSubgrid:i,onClick:a,...n}=e;return Object(v.jsx)("button",{className:Se()("jstest-video-cell-more-button",o,i?_c:Nc),onClick:a,"aria-label":"More","aria-haspopup":"menu",ref:t,...n,children:Object(v.jsx)(c.I,{modifiers:["sized","light","vertical"]})})});wc.displayName="VideoCellMoreButton",wc.propTypes={className:a.a.string,isSubgrid:a.a.bool.isRequired,onClick:a.a.func.isRequired};var Ac=wc;const Dc=e=>{let{onClick:t,onDoubleClick:o,timeout:i=200}=e;const a=Object(n.useRef)();return Object(n.useCallback)(e=>{a&&(clearTimeout(a.current),a.current=null),t&&e.detail<=1?a.current=setTimeout(()=>{t(e)},i):o&&e.detail%2===0&&o(e)},[t,o,i])},Pc=()=>{};function Mc(e){let{avatarSize:t,doRoomIntegrationMaximize:o,integration:i,localClientIsRecorder:a,withRoundedCorners:s,withShadow:r}=e;const[c,l]=Object(n.useState)(!1),d=Object(n.useCallback)(()=>l(e=>!e),[]),u=Dc({onDoubleClick:()=>o({roomIntegrationSessionId:i.state.roomIntegrationSessionId,maximized:!i.state.isMaximized}),onClick:d}),m=Object(v.jsx)(Cc,{canChangeVolume:!1,canFullscreen:!1,integration:i,onClick:d,onFullscreen:Pc,onInfo:Pc,onStop:Pc,onToggleMaximize:Pc,onVolumeChange:Pc});return Object(v.jsxs)("div",{className:Se()(Ec,{[Tc]:s,[Lc]:r,[xc]:a}),title:`${i.title} - ${i.state.shareUrl}`,children:[Object(v.jsx)(Ut.b,{keyPath:"RunningIntegration.SubgridCell",content:m,isOpen:c,onClickOutside:d,padding:-t,positions:["bottom","left"],align:"end",children:Object(v.jsx)(Ac,{isSubgrid:!0,onClick:u})}),Object(v.jsx)("img",{src:i.smallIcon,alt:i.title,className:kc})]})}Mc.propTypes={avatarSize:a.a.number.isRequired,doRoomIntegrationMaximize:a.a.func.isRequired,integration:Kt.g.isRequired,localClientIsRecorder:a.a.bool.isRequired,withRoundedCorners:a.a.bool,withShadow:a.a.bool};var Fc=Object(r.b)("doRoomIntegrationMaximize","selectLocalClientIsRecorder",Mc),Bc=o(27),qc="VideoStageLayout-0nyj",zc="debug-MNv2",Gc="hidden-7SVd",Uc="gridVideoCell-fyFn",Hc="floatingVideoCell-+zCR",Vc="overflowBackdrop-Y3jU",Wc="debugShape-Pc8i";function Kc(e){let{origin:t,containerOrigin:o,paddings:i=Object(l.i)()}=e;return Object(l.k)({top:o.top+i.top+t.top,left:o.left+i.left+t.left})}function $c(e){let{cell:t,containerFrame:o,containerPaddings:i=Object(l.i)()}=e;const a=Kc({origin:t.origin,containerOrigin:o.origin,paddings:i});return{...t,origin:a}}function Qc(e){let{cell:t,draggedClientId:o,xy:i,delta:a,hitBuffer:n,yOffset:s=0}=e,r=null,c=null;return s&&(t.origin.top-=s),t.clientId===o?r=function(e){let{cell:t,delta:[o,i]}=e;const a=Object(l.k)({top:t.origin.top-i,left:t.origin.left-o});return{cell:t,frame:Object(Br.b)({contentAspectRatio:t.aspectRatio,containerFrame:{origin:a,bounds:t.bounds}})}}({cell:t,delta:a}):function(e){let{cell:t,xy:[o,i],hitBuffer:a=0}=e;return o>=t.origin.left-a&&o<=t.origin.left+t.bounds.width+a&&i>=t.origin.top-a&&i<=t.origin.top+t.bounds.height+a}({cell:t,xy:i,hitBuffer:n})&&(c=function(e){let{cell:t}=e;return{cell:t,frame:Object(Br.b)({contentAspectRatio:t.aspectRatio,containerFrame:{origin:t.origin,bounds:t.bounds}})}}({cell:t})),{dragIndicator:r,dropIndicator:c}}function Yc(e){var t,o;let{stageOrigin:i,stageLayout:a,xy:n,delta:s,draggedClientId:r,isMaximizeMode:c,yOffset:d=0}=e;const u=(null==(t=a.presentationGrid)?void 0:t.cells.length)>1,m=!!u&&!!a.presentationGrid.cells.find(e=>e.clientId===r),p=u&&m?a.presentationGrid:a.videoGrid,b=p.cells.filter(e=>e.isDraggable),g=1===(null==(o=a.presentationGrid)?void 0:o.cells.length)?a.presentationGrid.cells[0]:null;let h=null,j=null,f=!1,O=!1;const S=Math.round(a.gridGap/2);for(let l=0;l<b.length;l++){const e=b[l],t=Kc({origin:p.origin,containerOrigin:i}),o=Qc({cell:$c({cell:e,containerFrame:{bounds:p.bounds,origin:t},containerPaddings:p.paddings}),draggedClientId:r,xy:n,delta:s,hitBuffer:S,yOffset:d});if(o.dragIndicator?h=o.dragIndicator:o.dropIndicator&&(j=o.dropIndicator),f=h&&j,f)break}if(!f&&c&&null!=g&&g.isDraggable){const e={clientId:g.clientId,aspectRatio:g.aspectRatio||g.bounds.width/g.bounds.height,origin:g.origin,bounds:g.bounds},t=Kc({origin:a.presentationGrid.origin,containerOrigin:i}),o=Qc({cell:$c({cell:e,containerFrame:{bounds:a.presentationGrid.bounds,origin:t},containerPaddings:a.presentationGrid.paddings}),draggedClientId:r,xy:n,delta:s});o.dragIndicator?h=o.dragIndicator:o.dropIndicator&&(j=o.dropIndicator),f=!(!h||!j),O=f}return f&&O&&(h=function(e){let{indicator:t,xy:[o,i],targetBounds:a}=e;const n=(t.frame.origin.left-o)/t.frame.bounds.width,s=(t.frame.origin.top-i)/t.frame.bounds.height,r=Object(Br.a)(t.cell.aspectRatio,a),c=Object(l.k)({top:i+r.height*s,left:o+r.width*n});return{...t,frame:{origin:c,bounds:r}}}({indicator:h,xy:n,targetBounds:j.cell.bounds})),{dragIndicator:h,dropIndicator:j}}var Jc="BreakoutStage--dt4",Zc="backdrop-UEp+",Xc="isEmpty-OAtR",el="header-TXNP",tl="footer-BZDQ",ol="icon-pWkG";function il(e){let{backdropHeight:t,backdropOffset:o,canSpotlight:i,cellCount:a,className:n,isOnStage:s,onGetOffStage:r,onGetOnStage:l,style:u}=e;return Object(v.jsxs)("div",{className:Se()(Jc,{[Xc]:!a},n),style:u,children:[Object(v.jsx)("div",{className:Zc,style:{height:t,top:-1*o}}),!!a&&Object(v.jsx)(d.Localized,{id:"BreakoutStage-broadcast-desc",children:Object(v.jsx)("div",{className:el,children:"Broadcasting audio across all groups"})}),Object(v.jsx)("div",{className:tl,children:(i||s)&&Object(v.jsxs)(c.k,{modifiers:["extraSmall",s?"white":"primary"],onClick:s?r:l,children:[s&&Object(v.jsx)(d.Localized,{id:"BreakoutStage-button-leave-stage",children:"Get off stage"}),!s&&i&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.cb,{modifiers:["light"],className:ol})," ",Object(v.jsx)(d.Localized,{id:"BreakoutStage-button-join-stage",children:"Go on stage"})]})]})})]})}il.propTypes={backdropHeight:a.a.number.isRequired,backdropOffset:a.a.number.isRequired,canSpotlight:a.a.bool.isRequired,cellCount:a.a.number.isRequired,className:a.a.string,isOnStage:a.a.bool.isRequired,onGetOffStage:a.a.func.isRequired,onGetOnStage:a.a.func.isRequired,style:a.a.object.isRequired};var al=il,nl=o(147),sl="dragIndicator-iF-i",rl="dropTargetIndicator-JTm3",cl="DragOverlay-PcUV",ll="withRoundedCorners-kWVA";class dl extends n.Component{static update(e){dl.__singletonRef&&dl.__singletonRef._update(e)}constructor(e){super(e),dl.__singletonRef=this,this.dragIndicatorRef=Object(n.createRef)(),this.dropTargetIndicatorRef=Object(n.createRef)(),this._rafId=null}componentWillUnmount(){this._rafId&&cancelAnimationFrame(this._rafId)}_setStyles(e){let{el:t,frame:o,visible:i}=e;t&&Object.assign(t.style,{display:i?"block":"none",transform:`translate3d(${Math.round(o.origin.left)}px, ${Math.round(o.origin.top)}px, 0)`,width:Math.round(o.bounds.width)+"px",height:Math.round(o.bounds.height)+"px"})}_setMoveCursor(e){document.body.style.cursor=e?"move":"auto"}_update(){let{dragIndicatorFrame:e,dropIndicatorFrame:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._rafId&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(()=>{const o=Object(l.e)(e&&e.bounds);this._setStyles({el:this.dragIndicatorRef.current,frame:e||Object(l.j)(),visible:o}),this._setMoveCursor(o);const i=Object(l.e)(t&&t.bounds);this._setStyles({el:this.dropTargetIndicatorRef.current,frame:t||Object(l.j)(),visible:i}),this._rafId=null})}render(){return Object(v.jsxs)("div",{className:Se()(cl,{[ll]:this.props.withRoundedCorners}),children:[Object(v.jsx)("div",{ref:this.dropTargetIndicatorRef,className:rl}),Object(v.jsx)("div",{ref:this.dragIndicatorRef,className:sl})]})}}dl.propTypes={withRoundedCorners:a.a.bool};var ul=dl,ml={VideoCellContent:"VideoCellContent-q4uy"};function pl(e){let{aspectRatio:t,children:o,className:i,height:a,style:s,width:r,withRoundedCorners:c=!1,withShadow:l=!0,...d}=e,u=r,m=a,p=0,b=0;t&&(({width:u,height:m}=Object(Br.a)(t,{width:r,height:a})),p=(r-u)/2,b=(a-m)/2);const g={width:Math.round(u)+"px",height:Math.round(m)+"px",...p||b?{transform:`translate3d(${Math.round(p)}px, ${Math.round(b)}px, 0)`}:{}};return Object(v.jsx)("div",{className:Se()(ml.VideoCell,i),style:s,children:Object(v.jsx)("div",{className:Se()(ml.VideoCellContent),style:g,...d,children:Object(n.cloneElement)(o,{contentWidth:u,contentHeight:m,withRoundedCorners:c,withShadow:l})})})}pl.propTypes={aspectRatio:a.a.number,children:a.a.node.isRequired,className:a.a.string,height:a.a.number,style:a.a.object,width:a.a.number,withRoundedCorners:a.a.bool,withShadow:a.a.bool};var bl=pl;const gl=()=>{};function hl(e){let{origin:t,bounds:o}=e;return{top:Math.round(t.top),left:Math.round(t.left),height:Math.round(o.height),width:Math.round(o.width)}}function jl(e){let{bind:t,cell:o,child:i,className:a="",clientId:n,style:s={},withRoundedCorners:r=!1,withShadow:c=!1}=e;const d=!Object(l.e)(o.bounds);return Object(v.jsx)(bl,{width:o.bounds.width,height:o.bounds.height,aspectRatio:o.aspectRatio,style:d?{width:0,height:0}:s,withRoundedCorners:r,withShadow:c,className:Se()(a,{[Gc]:d}),...t?t({clientId:n}):{},children:i},n)}function fl(e){let{content:t}=e;const o=Object(l.j)();return t.map(e=>{const t=e.props.client.id,i=Object(n.cloneElement)(e,{key:t,canZoom:!1});return jl({cell:{aspectRatio:e.props.aspectRatio,...o},child:i,className:Uc,clientId:t})})}function Ol(e){let t=e.id;return e.isSelfieCam&&"safari"===Bc.a.browserDetails.browser&&(t+="_subgrid"),t}function Sl(e){let{breakoutStagePaddings:t,canSpotlight:o=!1,containerPaddings:i=Object(l.i)(),debug:a=!1,doRemoveClientSpotlight:s=gl,doReorderClients:r=gl,doSetMaximizedClient:c=gl,doSpotlightClient:d=gl,doSwapSpotlightOrder:u=gl,featureRoundedCornersOff:m=!1,floatingContent:p,frame:b,gridContent:g=[],hiddenGridContent:h=[],hiddenPresentationGridContent:j=[],isBreakoutNoGroup:f=!1,isConstrained:O=!1,isFullscreenMode:S=!1,isLocalClientSpotlighted:R=!1,isMaximizeMode:C=!1,isTopToolbarHidden:y=!1,layoutOverflowBackdropFrame:I=Object(l.j)(),layoutVideoStage:E,presentationGridContent:x=[],reduceEffects:T=!1,subgridContent:L=[],windowFrame:k}=e;const _=!!x.length,N=!!g.length,w=!_&&!N,A=!m&&!O&&!T,D=!x.length,P=f&&!C&&!S&&(!D||o),M=Object(nl.a)(e=>{let{isFirstEvent:t,isActive:o,xy:i,delta:a,args:{clientId:n},cancelDrag:s}=e;if(t)return;if(!n)return void s();const l=window.scrollY||0,d=Yc({stageOrigin:b.origin,stageLayout:E,xy:i,delta:a,draggedClientId:n,isMaximizeMode:C,yOffset:l});if(o)ul.update({dragIndicatorFrame:d.dragIndicator&&d.dragIndicator.frame,dropIndicatorFrame:d.dropIndicator&&d.dropIndicator.frame});else{if(d.dropIndicator){const e=d.dropIndicator.cell.clientId,t=!!E.presentationGrid.cells.find(e=>e.clientId===n);t&&!C?u({id:n,withId:e}):t&&C&&"room-integration"===n?c({id:e,source:"reorder",type:"integration"}):!t&&C&&"room-integration"===e?c({id:n,source:"reorder",type:"integration"}):r({id:n,withId:e})}ul.update()}}),F=[];g.length&&F.push(...function(e){let{bind:t,content:o,isConstrained:i,stageLayout:a,withRoundedCorners:s,withShadow:r}=e;const c=a.videoGrid.cells;return o.map((e,o)=>{const l=c[o],d={top:a.videoGrid.origin.top+a.videoGrid.paddings.top+l.origin.top,left:a.videoGrid.origin.left+a.videoGrid.paddings.left+l.origin.left},u={width:Math.round(l.bounds.width),height:Math.round(l.bounds.height),transform:`translate3d(${Math.round(d.left)}px, ${Math.round(d.top)}px, 0)`},m=e.props.client.id,p=Object(n.cloneElement)(e,{isSmallCell:l.isSmallCell,isZoomedByDefault:!!i&&!e.props.client.isPresentation,canZoom:!!i,key:m});return jl({bind:t,cell:l,child:p,className:Uc,clientId:m,withRoundedCorners:s,style:u,withShadow:r})})}({bind:M,content:g,isConstrained:O,stageLayout:E,withRoundedCorners:!f&&A,withShadow:!f&&!O&&!T})),h.length&&F.push(...fl({content:h})),x.length&&F.push(...function(e){let{bind:t,content:o,isConstrained:i,stageLayout:a,withRoundedCorners:s,withShadow:r}=e;const c=a.presentationGrid.cells;return o.map((e,o)=>{const l=c[o],d={top:a.presentationGrid.origin.top+a.presentationGrid.paddings.top+l.origin.top,left:a.presentationGrid.origin.left+a.presentationGrid.paddings.left+l.origin.left},u={width:Math.round(l.bounds.width),height:Math.round(l.bounds.height),transform:`translate3d(${Math.round(d.left)}px, ${Math.round(d.top)}px, 0)`},m=e.props.client.id,p=Object(n.cloneElement)(e,{isSmallCell:l.isSmallCell,isZoomedByDefault:!!i&&!e.props.client.isPresentation,canZoom:!!i,key:m});return jl({bind:e.props.isDraggable?t:null,cell:l,child:p,className:Se()("jstest-supersized-content",Uc),clientId:m,style:u,withRoundedCorners:s,withShadow:r})})}({bind:M,content:x,isConstrained:O,stageLayout:E,withRoundedCorners:A,withShadow:!O&&!T})),j.length&&F.push(...fl({content:j})),p&&F.push(function(e){let{content:t,windowFrame:o,stageLayout:i,withRoundedCorners:a}=e;const s=i.floatingContent,r=s.origin.top,c=s.origin.left,l={width:Math.round(s.bounds.width),height:Math.round(s.bounds.height),transform:`translate3d(${Math.round(o.origin.left+c)}px, ${Math.round(o.origin.top+r)}px, 0)`},d=t.props.client.id;return jl({cell:s,child:Object(n.cloneElement)(t,{isSmallCell:s.isSmallCell,isZoomedByDefault:!1,canZoom:!1,key:d,isDraggable:!1}),className:Hc,clientId:d,style:l,withRoundedCorners:a,withShadow:!1})}({content:p,windowFrame:k,stageLayout:E,withRoundedCorners:!m&&!T})),L.length&&F.push(...function(e){let{content:t,stageLayout:o,withRoundedCorners:i,withShadow:a}=e;const s=o.subgrid.cells,r=[];return t.forEach(e=>{const t=s.find(t=>t.clientId===e.props.client.id);if(!t)return;const c={};c.height=Math.round(t.bounds.height),c.width=Math.round(t.bounds.width);const l={top:o.subgrid.origin.top+t.origin.top,left:o.subgrid.origin.left+t.origin.left};c.transform=`translate3d(${Math.round(l.left)}px, ${Math.round(l.top)}px, 0)`;const d=e.props.client.id,u=Object(n.cloneElement)(e,{avatarSize:t.bounds.width-t.paddings.left-t.paddings.right,canZoom:!1,cellPaddings:t.paddings,isSmallCell:t.isSmallCell,isZoomedByDefault:!1,key:Ol(e.props.client),style:c});r.push(jl({cell:t,child:u,className:Uc,clientId:d,style:c,withRoundedCorners:i,withShadow:a}))}),r}({content:L,isConstrained:O,noneOnStage:w,stageBounds:b.bounds,stageLayout:E,withRoundedCorners:!m&&!T,withShadow:!T}));const{integrationCell:B,videoCells:q}=function(e){const t=[];let o=null;for(let i=0;i<e.length;i++){const a=e[i];"room-integration"===a.key?o=a:t.push(a)}return{integrationCell:o,videoCells:t}}(F);let z=null;if(P){const e=y?0:yi.TOP_TOOLBAR_HEIGHT,a=E.presentationGrid.bounds.height-t.top-t.bottom,n=i.top+e+(o&&D?0:yi.BREAKOUT_STAGE_BACKDROP_HEADER_HEIGHT)+Math.max(a,0)+(o||R?yi.BREAKOUT_STAGE_BACKDROP_FOOTER_HEIGHT:E.gridGap),r={top:D?0:E.presentationGrid.origin.top,left:0},c={height:D?yi.BREAKOUT_STAGE_BACKDROP_FOOTER_HEIGHT:E.presentationGrid.bounds.height,width:(D?b.bounds.width:E.presentationGrid.bounds.width)+2*E.gridGap};z=Object(v.jsx)(al,{backdropHeight:n,backdropOffset:e+i.top,canSpotlight:o,cellCount:x.length,isOnStage:R,onGetOffStage:s,onGetOnStage:d,style:hl({origin:r,bounds:c})})}return Object(v.jsxs)("div",{className:Se()(qc,{[zc]:a}),children:[P&&z,Object(l.e)(I.bounds)&&Object(v.jsx)("div",{className:Vc,style:hl(I)}),B,q,a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Wc,style:hl(E.presentationGrid)}),Object(v.jsx)("div",{className:Wc,style:hl(E.videoGrid)}),Object(v.jsx)("div",{className:Wc,style:hl(E.subgrid)})]}),Object(v.jsx)(ul,{withRoundedCorners:A},"drag-overlay")]},"video-stage-layout")}Sl.propTypes={breakoutStagePaddings:l.b.isRequired,canSpotlight:a.a.bool,containerPaddings:l.b,debug:a.a.bool,doRemoveClientSpotlight:a.a.func,doReorderClients:a.a.func,doSetMaximizedClient:a.a.func,doSpotlightClient:a.a.func,doSwapSpotlightOrder:a.a.func,featureRoundedCornersOff:a.a.bool,floatingContent:a.a.element,frame:l.d,gridContent:a.a.arrayOf(a.a.element),hiddenGridContent:a.a.arrayOf(a.a.element),hiddenPresentationGridContent:a.a.arrayOf(a.a.element),isBreakoutNoGroup:a.a.bool,isConstrained:a.a.bool,isFullscreenMode:a.a.bool,isLocalClientSpotlighted:a.a.bool,isMaximizeMode:a.a.bool,isTopToolbarHidden:a.a.bool,layoutOverflowBackdropFrame:l.d,layoutVideoStage:a.a.object.isRequired,presentationGridContent:a.a.arrayOf(a.a.element),reduceEffects:a.a.bool,subgridContent:a.a.arrayOf(a.a.element),windowFrame:l.d};var Rl=Sl,Cl={"WebRtcVideo--zoomed":"WebRtcVideo--zoomed-8clW","WebRtcVideo--draggable":"WebRtcVideo--draggable-peYA",loaderWrapper:"loaderWrapper-JFh6",inlineSpinner:"inlineSpinner-VKrb",WebRtcVideo:"WebRtcVideo-dcpf",mediaWrapper:"mediaWrapper-ttqF",switching:"switching-l3-k",mirror:"mirror-oN-n",withRoundedCorners:"withRoundedCorners-QGY0",withShadow:"withShadow-4bkg",coLocation:"coLocation-FMvX","coLocation--sand_yellow":"coLocation--sand_yellow-w9YE","coLocation--success_green":"coLocation--success_green-aftQ","coLocation--error_red":"coLocation--error_red-gttx","coLocation--information_blue":"coLocation--information_blue-AKNr","coLocation--pink":"coLocation--pink-NFTi","coLocation--purple":"coLocation--purple-RipO","coLocation--warning_yellow":"coLocation--warning_yellow-rvlY","coLocation--dark_blue":"coLocation--dark_blue-iB8X",isPlaceholder:"isPlaceholder-r9C-",isFloating:"isFloating-PUxm",isHiddenSelfview:"isHiddenSelfview--ZWh",SelfviewVisibilityToggle:"SelfviewVisibilityToggle-4dpA",content:"content-BNpG",moreButton:"moreButton-z6iX",topControls:"topControls-XGeU","WebRtcVideo--small":"WebRtcVideo--small-ecCv",cross:"cross-xEd1",connectionInterrupted:"connectionInterrupted-j+yf",small:"small-CSHa",controls:"controls-sgnK",controlsContent:"controlsContent-veuN",nameBanner:"nameBanner-YXNv",isSpotlighted:"isSpotlighted-CYpN",isScreenshare:"isScreenshare-1Lla",nameChangeConfirmBtn:"nameChangeConfirmBtn-LLl6",switchButton:"switchButton-rwND",muteIcon:"muteIcon-X+mP",signalIcon:"signalIcon-0uTZ","signalIcon--small":"signalIcon--small-p4Kr","signalIcon--warning":"signalIcon--warning-0M2N","signalIcon--critical":"signalIcon--critical-fQwl",speakerIconWrapper:"speakerIconWrapper-oQjA",mutedLocally:"mutedLocally-fwC4",unmutedScreenshare:"unmutedScreenshare-ETtf",coLocationIcon:"coLocationIcon-UQeR",recIcon:"recIcon-AAtX",rec:"rec-2qJe",videoOffIndicator:"videoOffIndicator-hyCl",avatarWrapper:"avatarWrapper-cXAM",isSmallCell:"isSmallCell-Zi0y",floatingMenu:"floatingMenu-ezHs","floatingMenu--hidden":"floatingMenu--hidden-h3Xf",stickyReaction:"stickyReaction-D2eg",removeStickyReaction:"removeStickyReaction-INqd",disablePointerEvents:"disablePointerEvents-EYda",audioOnlyModeLabel:"audioOnlyModeLabel-xvo9"},vl=o(218),yl={WebRtcOverflowVideo:"WebRtcOverflowVideo-tdoz",mediaWrapper:"mediaWrapper-uGhq",withRoundedCorners:"withRoundedCorners-T+SM",withShadow:"withShadow-NJfH",mirror:"mirror-xi-i",hiddenContent:"hiddenContent-KU-t",content:"content-mhp8",overlay:"overlay-PpYx",avatarWrapper:"avatarWrapper-Dt-x",topControls:"topControls-Yzt5",cellLayout:"cellLayout-RlMD",displayNameLabel:"displayNameLabel-rs67",reaction:"reaction-aHXD"},Il="avatar-ghEQ",El="withShadow-6gyU",xl="isPlaceholder-Bk5a",Tl="isSpeaking-yXRf",Ll="isMutedLocally-nX0H",kl="dialInAvatar-cLiD",_l="SelfviewVisibilityToggle-9r78",Nl="isSelfviewVisible-6Sjg",wl="arrowButton-c+AL",Al="hideButtonIcon-NOt0";function Dl(e){let{className:t,isHiddenSelfview:o,onClick:i}=e;return Object(v.jsx)("div",{className:Se()(_l,t,{[Nl]:!o}),children:Object(v.jsx)(d.Localized,{id:"SelfviewVisibilityToggle-button-label",attrs:{"aria-label":!0},$kind:o?"show":"hide",children:Object(v.jsx)("button",{"aria-label":o?"Show self view":"Hide self view",className:wl,onClick:i,type:"button",children:Object(v.jsx)(c.i,{modifiers:["sized"],className:Se()({[Al]:!o})})})})})}Dl.propTypes={className:a.a.string,isHiddenSelfview:a.a.bool.isRequired,onClick:a.a.func.isRequired};var Pl=Dl,Ml="AvatarShakeWrapper-o1Sc",Fl="avatarWrapper-ZQj6",Bl=o(42);function ql(e){let{children:t,className:o,latestMessage:i,shouldShowReaction:a,style:s}=e;const r=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(Bl.a)(null==i?void 0:i.id);return Object(n.useEffect)(()=>{if(i&&i.id!==l&&a){Math.abs(Date.now()-i.received)<=500&&(c.current=function(e){let{el:t}=e;return t.animate([{transform:"translateY(0) rotate(0deg)"},{transform:"translateY(-20%) rotate(-10deg)",offset:.2},{transform:"translateY(0)",offset:.38},{transform:"translateY(-12%) rotate(8deg)",offset:.54},{transform:"translateY(0)",offset:.74},{transform:"translateY(-5%) rotate(-5deg)",offset:.92},{transform:"translateY(0) rotate(0deg)"}],{duration:500,iterations:1,fill:"forwards",easing:"linear"})}({el:r.current}))}},[i,l,a]),Object(v.jsx)("div",{className:Se()(o,Ml),style:s,children:Object(v.jsx)("div",{ref:r,className:Fl,children:t})})}ql.propTypes={children:a.a.node,className:a.a.string,latestMessage:a.a.object,shouldShowReaction:a.a.bool,style:a.a.object};var zl=ql,Gl=o(103);const Ul=e=>{let{content:t,isOpen:o,onClickOutside:i,onEscapeKeyPressed:a,padding:s=0,triggerButton:r}=e;const c=Object(Gl.a)(),l=Object(Gl.a)();return Object(v.jsx)(Ut.b,{keyPath:"WebRtcVideo.ContextualMenu",content:Object(n.cloneElement)(t,{id:l,"aria-labelledby":c}),isOpen:o,onClickOutside:i,onEscapeKeyPressed:a,padding:s,positions:["bottom","left","right","top"],align:"end",autoFocusFirstElement:!0,children:Object(n.cloneElement)(r,{id:c,"aria-haspopup":"menu","aria-expanded":o?"true":void 0,"aria-controls":o?l:void 0})})};Ul.propTypes={content:a.a.element.isRequired,isOpen:a.a.bool,onClickOutside:a.a.func.isRequired,onEscapeKeyPressed:a.a.func.isRequired,padding:a.a.number,triggerButton:a.a.element.isRequired};var Hl=Ul,Vl=o(100),Wl=o(188),Kl=o(70),$l=o(120);function Ql(e){let{audioIndicator:t,audioOnlyModeEnabled:o,avatarUrl:i,displayName:a,featureBrandAvatarsOn:n,isDialIn:s,isSmallCell:r,isSpeaking:l,withRoundedCorners:u}=e;return Object(v.jsxs)("div",{className:Se()(Cl.videoOffIndicator,"jstest-video-muted-avatar",{[Cl.withRoundedCorners]:u}),"data-testid":"WebRtcVideo-videoMutedAvatar",children:[Object(v.jsxs)("div",{className:Se()(Cl.avatarWrapper,{[Cl.isSmallCell]:r}),children:[n?Object(v.jsx)(ac.a,{modifiers:["square"],avatarUrl:i,name:a,size:r?60:80,className:Se()(Il,{[Tl]:l})}):Object(v.jsx)(c.g,{modifiers:["square"],avatarUrl:i,avatarIcon:s?Object(v.jsx)(nc.a,{}):null,name:a,size:r?60:80,className:Se()(Il,{[Tl]:l,[kl]:s})}),t]}),o&&!r&&Object(v.jsxs)("div",{className:Cl.audioOnlyModeLabel,children:[Object(v.jsx)(c.m,{modifiers:["sizedSmall"]}),Object(v.jsx)(d.Localized,{id:"InCallControls-audio-only-label",children:"Videos disabled"})]})]})}function Yl(e){let{score:t=tt.f.OK,size:o}=e;if(t===tt.f.OK)return Object(v.jsx)(v.Fragment,{});const i=(t===tt.f.CRITICAL?"Poor":"Fair")+" connection";return Object(v.jsx)(d.Localized,{id:"InCallControls-quality-indicator",attrs:{"aria-label":!0,title:!0},children:Object(v.jsx)("div",{className:Se()(Cl.signalIcon,{[Cl["signalIcon--small"]]:"small"===o,[Cl["signalIcon--critical"]]:t===tt.f.CRITICAL,[Cl["signalIcon--warning"]]:t===tt.f.WARNING}),title:i,"aria-label":i,children:Object(v.jsx)(c.Gb,{modifiers:["sizedSmall","light"],"aria-hidden":"true"})})})}function Jl(e){let{canSwitch:t,clientCallQualityScore:o,coLocationGroup:i,onSwitch:a,isDisplayNameForced:s,isLocalClient:r,isMuted:l,isMutedLocally:u,isScreenshare:m,isSpotlighted:p,name:b,onNameChange:g,stickyReaction:h}=e;const[j,f]=Object(n.useState)(!0),O=r?"Guest (you)":"Guest",S=Object(v.jsx)(Wl.b,{confirmBtnClassName:Cl.nameChangeConfirmBtn,displayValue:b?Object(v.jsx)("span",{children:Object(v.jsx)($l.a,{isLocalClient:!0,children:b})}):null,onEdit:g,validator:e=>Object(Kl.b)(e),placeholder:O,value:b,withButton:!0}),R=r&&!s?S:b||O;return Object(n.useEffect)(()=>{if(!m)return;const e=setTimeout(()=>f(!1),5e3);return()=>clearTimeout(e)},[m]),Object(v.jsx)("div",{className:Cl.controls,children:Object(v.jsxs)("div",{className:Cl.controlsContent,children:[l&&!u&&!m&&Object(v.jsx)("div",{className:Se()("jstest-mute-icon",Cl.muteIcon),children:Object(v.jsx)(c.hb,{modifiers:["sizedSmall","light"]})}),u&&Object(v.jsx)("div",{className:Se()(Cl.speakerIconWrapper,Cl.mutedLocally),children:Object(v.jsx)(c.Lb,{modifiers:["sizedSmall","light"]})}),m&&!u&&!l&&Object(v.jsx)("div",{className:Se()(Cl.speakerIconWrapper,Cl.unmutedScreenshare),children:Object(v.jsx)(c.Mb,{modifiers:["sizedSmall","light"]})}),Object(v.jsxs)("div",{className:Se()("jstest-displayname",Cl.nameBanner,{[Cl.isSpotlighted]:p,[Cl.isScreenshare]:m&&!j}),children:[p&&Object(v.jsx)(c.Jb,{modifiers:["sizedSmall"]}),R]}),t&&Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-switch-camera-video-cell",attrs:{title:!0,"aria-label":!0},children:Object(v.jsx)("button",{onClick:a,className:Cl.switchButton,"data-testid":"WebRtcVideo-switchCamera",title:"Switch camera","aria-label":"Switch camera",children:Object(v.jsx)(c.p,{modifiers:["sizedSmall","light"]})})}),Object(v.jsx)(Yl,{score:o}),i&&Object(v.jsx)("div",{className:Se()(Cl.coLocationIcon,{[Cl.isScreenshare]:m&&!j}),children:Object(v.jsx)(c.z,{modifiers:["sizedSmall","light"]})}),h]})})}function Zl(e){var t;let{audioIndicator:o,avatarSize:i,avatarUrl:a,canSwitch:s,canZoom:r,cellPaddings:l,className:u,clientCallQualityScore:m,clientConnectionStatus:p,clientId:b,clientStats:g,coLocationGroup:h,coLocationGroupColors:j,contextualMenuContent:f,displayName:O,doSelfviewHiddenAnalytics:S,featureBrandAvatarsOn:R,floatingMenu:C,isAudioMuted:y,isDialIn:I,isDisplayNameForced:E,isDraggable:x,isFloating:T,isFullscreen:L,isLocalClient:k,isMutedLocally:_,isPip:N,isPlaceholder:w,isRecording:A,isScreenshare:D,isSelfieCam:P,isSmallCell:M,isSpotlighted:F,isSubgrid:B,isVideoForcedOffAudioOnlyMode:q,isVideoLoaded:z,isVideoMuted:G,isVideoSwitching:U,isZoomed:H,mediaContentNode:V,localClientIsRecorder:W,onClearStickyReaction:K,onDoubleClick:$,onSetLocalDisplayName:Q,onSwitch:Y,prefs:J,recentChatMessage:Z,shouldShowReaction:X,showSpinnerWhileSwitching:ee,stickyReaction:te,withRoundedCorners:oe,withShadow:ie}=e;const[ae,ne]=Object(n.useState)(null);Object(n.useLayoutEffect)(()=>{ae&&V&&ae.appendChild(V)},[ae,V]);const[se,re]=Object(n.useState)(!1),[ce,le]=Object(n.useState)(null!=(t=J.autoHideSelfView)&&t),de=Object(n.useCallback)(()=>re(e=>!e),[]),ue=f?Object(n.cloneElement)(f,{onClick:de}):null,me=Dc({onDoubleClick:$,onClick:de}),pe=Object(v.jsx)(Ac,{className:Cl.moreButton,isSubgrid:B,onClick:me}),be=A?Object(v.jsx)("div",{className:Cl.recIcon,title:"Is recording"}):null;if(B){const e={width:i,height:i},t=Object(v.jsxs)(v.Fragment,{children:[!N&&ue&&Object(v.jsx)(Hl,{padding:-i,isOpen:se,content:ue,onClickOutside:de,onEscapeKeyPressed:de,triggerButton:pe}),Object(v.jsx)("div",{className:Se()(yl.overlay,Il,{"jstest-mute-icon":y,[Ll]:_,[xl]:w,[Tl]:!y,[El]:ie}),children:(G||q)&&Object(v.jsx)(v.Fragment,{children:R?Object(v.jsx)(ac.a,{className:"jstest-video-muted-avatar",modifiers:oe?["square"]:[],avatarUrl:a,name:O,size:i,"data-testid":"WebRtcVideo-videoMutedAvatar"}):Object(v.jsx)(c.g,{className:Se()("jstest-video-muted-avatar",{[kl]:I}),modifiers:oe?["square"]:[],avatarUrl:a,avatarIcon:I?Object(v.jsx)(nc.a,{}):null,name:O,size:i,"data-testid":"WebRtcVideo-videoMutedAvatar"})})}),Object(v.jsx)("div",{ref:ne,className:yl.mediaWrapper}),o,A&&Object(v.jsx)("div",{className:yl.topControls,children:be}),te&&Object(v.jsx)("div",{className:Se()(yl.stickyReactionWrapper,{[yl.withRoundedCorners]:oe}),children:Object(v.jsx)(Vl.a,{className:yl.reaction,size:"medium",reaction:te.reaction})})]}),n=l.top!==l.bottom;return Object(v.jsx)("div",{className:Se()(yl.WebRtcOverflowVideo,u,"jstest-client-video",{"jstest-local-client-video":k,[yl.mirror]:P,[yl.hiddenContent]:G,[yl.withRoundedCorners]:oe,[yl.withShadow]:ie,[Cl.disablePointerEvents]:W}),"data-clientid":b,"data-testid":"WebRtcOverflowVideo-"+b,title:`${O}${A?" (is recording)":""}`,children:Object(v.jsxs)("div",{className:yl.cellLayout,style:{padding:`${l.top}px ${l.right}px`},children:[Object(v.jsx)("div",{className:yl.content,style:e,children:Object(v.jsxs)(zl,{className:yl.avatarWrapper,shouldShowReaction:X,latestMessage:Z,style:e,children:[t,Object(v.jsx)(Yl,{size:"small",score:m})]})}),n&&Object(v.jsx)("div",{className:yl.displayNameLabel,children:Object(v.jsx)($l.a,{isLocalClient:k,children:O})})]})})}const ge=h?j[h]:null;return Object(v.jsx)("div",{className:Se()(Cl.WebRtcVideo,u,"WebRtcVideo","jstest-client-video",{"jstest-local-client-video":k,[Cl.mirror]:P,[Cl.switching]:U,[Cl.withRoundedCorners]:oe,[Cl.withShadow]:ie,[Cl.isPlaceholder]:w,[Cl.isFloating]:T,[Cl.isHiddenSelfview]:ce,[Cl.disablePointerEvents]:W,[Cl.coLocation]:!!h,[Cl["coLocation--"+ge]]:!!ge,[Cl["WebRtcVideo--zoomed"]]:H||!r&&!L,[Cl["WebRtcVideo--small"]]:M,[Cl["WebRtcVideo--draggable"]]:x}),"data-clientid":b,"data-testid":"WebRtcVideo-"+b,onDoubleClick:$,children:Object(v.jsxs)("div",{className:Cl.content,children:[T&&Object(v.jsx)(Pl,{className:Cl.SelfviewVisibilityToggle,isHiddenSelfview:ce,onClick:()=>{S(!ce),le(!ce)}}),!!ee&&U&&Object(v.jsx)(c.T,{className:Cl.inlineSpinner,modifiers:["light"]}),Object(v.jsx)("div",{ref:ne,className:Cl.mediaWrapper,children:!z&&Object(v.jsx)("div",{className:Cl.loaderWrapper,children:Object(v.jsx)(c.T,{className:Cl.inlineSpinner,modifiers:["light"]})})}),(G||q)&&Object(v.jsx)(Ql,{audioIndicator:o,audioOnlyModeEnabled:q,avatarUrl:a,displayName:O,featureBrandAvatarsOn:R,isDialIn:I,isSmallCell:M,isSpeaking:!y&&!_,withRoundedCorners:oe}),["connection_disconnected","connection_failed"].includes(p)&&Object(v.jsxs)("div",{className:Se()(Cl.connectionInterrupted,{[Cl.withRoundedCorners]:oe,[Cl.small]:M}),children:[Object(v.jsx)("p",{children:Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-connection-interrupted",children:"Connection interrupted"})})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-trying-to-reconnect",children:"Trying to reconnect..."})})]}),g,A&&Object(v.jsx)("div",{className:Cl.topControls,children:be}),Object(v.jsx)(Jl,{canSwitch:s,clientCallQualityScore:m,coLocationGroup:h,onSwitch:Y,isDisplayNameForced:E,isLocalClient:k,isMuted:y,isMutedLocally:_,isScreenshare:D,isSpotlighted:F,name:O,onNameChange:Q,stickyReaction:te&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Vl.a,{className:Se()(Cl.stickyReaction,{[Cl.isSmallCell]:M}),size:M?"medium":"large",reaction:te.reaction}),k&&!M&&!J.reactionsButton&&Object(v.jsx)("button",{onClick:()=>K(),className:Cl.removeStickyReaction,children:Object(v.jsx)(c.D,{className:Cl.cross,modifiers:["sizedSmall"]})})]})}),!N&&(C?Object(v.jsx)("div",{className:Se()(Cl.floatingMenu),children:C}):Object(v.jsx)(Hl,{padding:M?-34:-40,isOpen:se,content:ue,onClickOutside:de,onEscapeKeyPressed:de,triggerButton:pe}))]})})}Ql.propTypes={audioIndicator:a.a.element,audioOnlyModeEnabled:a.a.bool,avatarUrl:a.a.string,displayName:a.a.string,featureBrandAvatarsOn:a.a.bool,isDialIn:a.a.bool,isSmallCell:a.a.bool,isSpeaking:a.a.bool,withRoundedCorners:a.a.bool},Yl.propTypes={score:a.a.oneOf(Object.values(tt.f)),size:a.a.oneOf(["small"])},Jl.propTypes={canSwitch:a.a.bool,clientCallQualityScore:a.a.oneOf(Object.values(tt.f)),coLocationGroup:a.a.string,isDisplayNameForced:a.a.bool,isLocalClient:a.a.bool,isMuted:a.a.bool,isMutedLocally:a.a.bool,isScreenshare:a.a.bool,isSpotlighted:a.a.bool,name:a.a.string,onNameChange:a.a.func,onSwitch:a.a.func,stickyReaction:a.a.node},Zl.propTypes={audioIndicator:a.a.element,avatarSize:a.a.number,avatarUrl:a.a.string,canSwitch:a.a.bool.isRequired,canZoom:a.a.bool.isRequired,cellPaddings:l.b,className:a.a.string,clientCallQualityScore:a.a.oneOf(Object.values(tt.f)),clientConnectionStatus:a.a.string,clientId:a.a.string.isRequired,clientStats:a.a.element,coLocationGroup:a.a.string,coLocationGroupColors:a.a.object,contextualMenuContent:a.a.element,displayName:a.a.string,doSelfviewHiddenAnalytics:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,floatingMenu:a.a.node,isAudioMuted:a.a.bool.isRequired,isDialIn:a.a.bool.isRequired,isDisplayNameForced:a.a.bool.isRequired,isDraggable:a.a.bool,isFloating:a.a.bool,isFullscreen:a.a.bool.isRequired,isLocalClient:a.a.bool.isRequired,isMutedLocally:a.a.bool.isRequired,isPip:a.a.bool.isRequired,isPlaceholder:a.a.bool.isRequired,isRecording:a.a.bool.isRequired,isScreenshare:a.a.bool.isRequired,isSelfieCam:a.a.bool.isRequired,isSmallCell:a.a.bool,isSpotlighted:a.a.bool.isRequired,isSubgrid:a.a.bool.isRequired,isVideoForcedOffAudioOnlyMode:a.a.bool.isRequired,isVideoLoaded:a.a.bool.isRequired,isVideoMuted:a.a.bool.isRequired,isVideoSwitching:a.a.bool.isRequired,isZoomed:a.a.bool.isRequired,localClientIsRecorder:a.a.bool.isRequired,mediaContentNode:a.a.instanceOf(Element).isRequired,onClearStickyReaction:a.a.func.isRequired,onDoubleClick:a.a.func.isRequired,onSetLocalDisplayName:a.a.func.isRequired,onSwitch:a.a.func.isRequired,prefs:a.a.object,recentChatMessage:a.a.object,shouldShowReaction:a.a.bool,showSpinnerWhileSwitching:a.a.bool,stickyReaction:a.a.object,withRoundedCorners:a.a.bool.isRequired,withShadow:a.a.bool.isRequired};var Xl=Zl,ed="container-ST9l",td="withRoundedCorners-g5Zv",od="isHidden-Oxrl",id="image-hdTm",ad="overlay-2a7y",nd="blur-V+la",sd="icon-esSL",rd="title-1AYq";function cd(e){return new Promise(t=>{const o=new FileReader,i=()=>{o.removeEventListener("load",i),t(o.result)};o.addEventListener("load",i),o.readAsDataURL(e)})}function ld(e){const t=document.createElement("canvas"),o=t.getContext("2d"),{width:i,height:a}=function(e){const{videoWidth:t,videoHeight:o}=e,i=t/o,a=Math.floor(320/i);if(a>2e3)throw new Error("Invalid image dimension");return{width:320,height:a}}(e);return t.width=i,t.height=a,o.drawImage(e,0,0,i,a),t}function dd(e){return new Promise((t,o)=>{const i=new MediaStream;i.addTrack(e);const a=document.createElement("video");a.srcObject=i;let n=null;const s=async()=>{clearTimeout(n),a.removeEventListener("playing",s),a.pause();try{const o=await async function(e){const t=ld(e);for(let a=1;a>0;o=a,i=.1,a=Number.parseFloat(Number.parseFloat(o-i).toFixed(1))){const e=await new Promise(e=>{t.toBlob(t=>e(cd(t)),"image/jpeg",a)});if(e.length<6e4)return e}var o,i;throw new Error("Unable to create image from stream")}(a);t(o)}catch(r){o(r)}finally{a.srcObject=null,i.removeTrack(e)}},r=t=>()=>{clearTimeout(n),a.removeEventListener("playing",s),a.srcObject=null,i.removeTrack(e),o(new Error(t))};a.addEventListener("playing",s),a.setAttribute("playsinline",""),a.muted=!0;const c=a.play();c&&c.catch(r("Unable to start camera to take picture")),n=setTimeout(r("Camera stream unavailable"),3e3)})}async function ud(e){const t=e.getVideoTracks()[0];if(!t)throw new Error("Camera stream unavailable");return await dd(t)}function md(e){let{screenshareStream:t,isWindowFocused:o,useBlur:i,withRoundedCorners:a}=e;const[s,r]=Object(n.useState)(null),[l,u]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{let e=!0;return setTimeout(()=>{e&&u(!0)},2e3),()=>{e=!1}},[]),Object(n.useEffect)(()=>{let e=!0;return(async()=>{const o=await ud(t);e&&r(o)})(),()=>{e=!1}},[t,o]),Object(v.jsxs)("div",{className:Se()(ed,{[od]:l&&!o,[td]:a}),children:[s&&Object(v.jsx)("img",{src:s,className:id,alt:""}),Object(v.jsxs)("div",{className:Se()(ad,{[nd]:i}),children:[Object(v.jsx)("div",{className:sd,children:Object(v.jsx)(c.Ab,{modifiers:["sized","light"]})}),Object(v.jsx)("span",{className:rd,children:Object(v.jsx)(d.Localized,{id:"ScreenshareOverlay-title",children:Object(v.jsx)("span",{children:"Sharing your entire screen"})})})]})]})}md.propTypes={isWindowFocused:a.a.bool.isRequired,screenshareStream:a.a.object.isRequired,useBlur:a.a.bool.isRequired,withRoundedCorners:a.a.bool};var pd=md,bd=o(167);class gd extends n.PureComponent{constructor(){var e,t,o;super(...arguments),o=e=>{this._wrapper=e,this._attachAudioElement()},(t="refWrapper")in(e=this)?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}componentDidMount(){this._createAudioElement(),this.props.stream&&this._attachStream(this.props.stream)}componentDidUpdate(){const e=this.props.stream,t=this.props.volume||1;this.props.featureVolumeMuteOn?this._audioElement.volume=this.props.muted?1e-4:t:(this._audioElement.muted=Boolean(this.props.muted),this._audioElement.volume=t),void 0!==e&&e!==this._audioElement.srcObject&&this._attachStream(e)}componentWillUnmount(){delete this._audioElement}_createAudioElement(){const e=document.createElement("audio"),t=this.props.volume||1;e.class=this.props.className,this.props.featureVolumeMuteOn?e.volume=this.props.muted?1e-4:t:(e.muted=Boolean(this.props.muted),e.volume=t),e.setAttribute("autoplay","true"),this._audioElement=e,this._attachAudioElement()}_attachAudioElement(){this._wrapper&&this._audioElement&&this._wrapper.appendChild(this._audioElement)}_attachStream(e){_o()(this._audioElement,"no audio element registered"),_o()(void 0!==e,"stream is required"),this._audioElement.srcObject=e}async play(){var e;await(null==(e=this._audioElement)?void 0:e.play())}setSinkId(e){var t;if(e&&this._audioElement.setSinkId&&null!=(t=this._audioElement)&&null!=(t=t.srcObject)&&t.getAudioTracks()){const t=this._audioElement.setSinkId(e);t&&t.catch(t=>{console.error("Unable to set sink to "+e,t)})}}render(){return Object(v.jsx)("div",{ref:this.refWrapper})}}gd.propTypes={className:a.a.string,featureVolumeMuteOn:a.a.bool,muted:a.a.bool,stream:a.a.object,volume:a.a.number};var hd=gd;function jd(){const e=document.createElement("div");return e.style.height="100%",e.style.width="100%",e.style.pointerEvents="none",e}const fd=e=>{var t;let{client:o,featureVolumeMuteOn:i,handleVideoLoaded:a,handleVideoResized:n,target:s,isInCoLocationGroupWithLoudSpeaker:r,isWindowFocused:c,localScreenshareSource:l,prefs:d,withRoundedCorners:u,audioElementRef:m,videoElementRef:p}=e;if(!s)return null;const b="live"===(null==(t=o.stream)||null==t.getAudioTracks||null==(t=t.getAudioTracks()[0])?void 0:t.readyState);return ct.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[o.isPresentation&&o.isLocalClient&&o.stream&&"screen"===l&&Object(v.jsx)(pd,{isWindowFocused:c,screenshareStream:o.stream,useBlur:d.effects,withRoundedCorners:u}),Object(v.jsx)(bd.a,{clientId:o.clientId,ref:p,stream:o.stream,onVideoLoaded:a,onVideoResized:n}),b&&Object(v.jsx)(hd,{ref:m,muted:!!o.isLocalClient||0===o.localVolume||r,volume:o.localVolume,stream:o.stream,featureVolumeMuteOn:i})]}),s)};fd.propTypes={client:a.a.object.isRequired,featureVolumeMuteOn:a.a.bool,handleVideoLoaded:a.a.func.isRequired,handleVideoResized:a.a.func.isRequired,isInCoLocationGroupWithLoudSpeaker:a.a.bool,isWindowFocused:a.a.bool.isRequired,localScreenshareSource:a.a.string,prefs:a.a.object.isRequired,target:a.a.instanceOf(Element),withRoundedCorners:a.a.bool};var Od=fd,Sd="MenuBar-JbSq",Rd="button-B8NZ",Cd="item-96hJ",vd="item--hasIcon-TGQs",yd="item--onlyIcon-WVZ-",Id="itemIcon-oZF8",Ed="itemText-qkWn",xd="moreButton-KK2A",Td="separator--5zf";const Ld=e=>Object(n.isValidElement)(e)&&Boolean(e.props.children),kd=e=>"undefined"===typeof e||null===e||"boolean"===typeof e||"{}"===JSON.stringify(e)?"":e.toString(),_d=(e,t)=>e instanceof Array||Object(n.isValidElement)(e)?n.Children.toArray(e).reduce((e,o)=>{let i="";return Object(n.isValidElement)(o)&&Ld(o)?(o.type===d.Localized&&t&&(i=t(o.props.id)),i&&i!==o.props.id||(i=_d(o.props.children,t))):i=Object(n.isValidElement)(o)&&!Ld(o)?"":kd(o),e.concat(i)},""):kd(e),Nd=Object(n.forwardRef)((e,t)=>{let{children:o,className:i,...a}=e;return Object(v.jsx)("div",{className:Se()(Sd,i),role:"menubar",ref:t,...a,children:o})});Nd.propTypes={children:a.a.node,className:a.a.string};const wd=e=>{let{children:t,className:o,getString:i,hideLabel:a,icon:s,...r}=e;const l=a?_d(t,i):void 0;return Object(v.jsxs)("button",{type:"button",className:Se()(Rd,Cd,o,{[vd]:!!s,[yd]:!!s&&!t||a}),role:"menuitem",title:l,"aria-label":l,...r,children:[s&&Object(n.cloneElement)(s,{"aria-hidden":!0,className:Id}),t&&(a?Object(v.jsx)(c.ac,{children:t}):Object(v.jsx)("span",{className:Ed,children:t}))]})};wd.propTypes={children:a.a.node,className:a.a.string,getString:a.a.func,hideLabel:a.a.bool,icon:a.a.element};const Ad=e=>{let{children:t,className:o,getString:i,...a}=e;const n=_d(t,i);return Object(v.jsxs)("button",{role:"menuitem",type:"button",className:Se()(Rd,xd,o),"aria-label":n,title:n,...a,children:[t&&Object(v.jsx)(c.ac,{children:t}),Object(v.jsx)(c.I,{"aria-hidden":"true",modifiers:["vertical","sized"]})]})};Ad.propTypes={children:a.a.node,className:a.a.string,getString:a.a.func,icon:a.a.element};const Dd=e=>{let{className:t,...o}=e;return Object(v.jsx)("div",{className:Se()(Td,t),...o})};Dd.propTypes={className:a.a.string},Nd.displayName="MenuBar",Nd.Item=Object(d.withLocalization)(wd),Nd.MoreButton=Object(d.withLocalization)(Ad),Nd.Separator=Dd;var Pd=Nd;const Md="LOCAL_MEDIA_SWITCHING",Fd="VIDEO_MUTE_CHANGE",Bd="VIDEO_LOADED",qd="UPDATE_IS_ZOOMED",zd=e=>({type:Md,payload:{isSwitching:e}}),Gd=e=>({type:Fd,payload:{isMuted:e}}),Ud=()=>({type:Bd}),Hd=e=>({type:qd,payload:{isZoomed:e}}),Vd={isSwitching:!1,isVideoMuted:!1,isZoomed:null,mediaPortalTarget:null},Wd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Md:return{...e,isSwitching:t.payload.isSwitching};case Fd:return{...e,isVideoMuted:t.payload.isMuted};case Bd:return{...e,isSwitching:!1};case qd:return{...e,isZoomed:null===e.isZoomed?!t.payload.isZoomed:!e.isZoomed};default:return e}};var Kd=o(217),$d=o(122),Qd="ClientStats-5468",Yd="rowHeader-txA8";const Jd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return isNaN(e)?"-":`${e}${t}`},Zd=e=>Jd(Math.round(e/1e3)," kbps"),Xd=e=>Jd(Math.round(1e3*e),"ms"),eu=e=>Jd(Math.round(100*e),"%"),tu=e=>Jd(Math.round(1e3*e)/10,"%"),ou=e=>new Date(e).toISOString().substring(11,19).replace(/^[0:]*/gi,"");function iu(e){let{issues:t,isAggregated:o}=e;if(!t)return Object(v.jsx)("div",{});const i=Object.entries(t).filter(e=>{let[,t]=e;return t.registered}).map(e=>{let[t,i]=e;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{children:i.active?"yes":"no"}),Object(v.jsxs)("td",{children:[i.registered," (",tu(i.registered/i.ticks),")"]}),Object(v.jsxs)("td",{children:[i.initial," (",tu(i.initial/i.ticks),")"]}),Object(v.jsx)("td",{children:i.ticks}),o?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("td",{children:[i.curRegistered,"/",i.curTicks," (",tu(i.curRegistered/i.curTicks),")"]})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:i.periods}),Object(v.jsx)("td",{children:i.current}),Object(v.jsx)("td",{children:i.longest})]})]},t)});return Object(v.jsx)("div",{children:Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{className:Yd,children:[Object(v.jsxs)("td",{children:[o?"Aggregated ":"","Issue"]}),Object(v.jsx)("td",{children:"Active"}),Object(v.jsx)("td",{children:"Registed"}),Object(v.jsx)("td",{children:"Initial"}),Object(v.jsx)("td",{children:"Ticks"}),o?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("td",{children:"Cur.Registered"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:"Periods"}),Object(v.jsx)("td",{children:"Current"}),Object(v.jsx)("td",{children:"Longest"})]})]}),i]})})})}function au(e){let{metrics:t,isAggregated:o}=e;if(!t)return Object(v.jsx)("div",{});const i=Object.entries(t).map(e=>{let[t,i]=e,a=e=>Math.round(100*e)/100;return/bitrate/.test(t)&&(a=Zd),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{children:a(i.min)}),Object(v.jsx)("td",{children:a(i.max)}),Object(v.jsx)("td",{children:a(i.avg)}),Object(v.jsx)("td",{children:i.ticks}),o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:a(i.curMin)}),Object(v.jsx)("td",{children:a(i.curMax)}),Object(v.jsx)("td",{children:a(i.curAvg)}),Object(v.jsx)("td",{children:i.curTicks}),Object(v.jsx)("td",{children:a(i.totMin)}),Object(v.jsx)("td",{children:a(i.totMax)}),Object(v.jsx)("td",{children:a(i.totAvg)}),Object(v.jsx)("td",{children:i.totTicks})]}):null]},t)});return Object(v.jsx)("div",{children:Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{className:Yd,children:[Object(v.jsxs)("td",{children:[o?"Aggregated ":"","Metric"]}),Object(v.jsx)("td",{children:"Min"}),Object(v.jsx)("td",{children:"Max"}),Object(v.jsx)("td",{children:"Avg"}),Object(v.jsx)("td",{children:"Ticks"}),o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:"Cur.Min"}),Object(v.jsx)("td",{children:"Cur.Max"}),Object(v.jsx)("td",{children:"Cur.Avg"}),Object(v.jsx)("td",{children:"Cur.Ticks"}),Object(v.jsx)("td",{children:"Tot.Min"}),Object(v.jsx)("td",{children:"Tot.Max"}),Object(v.jsx)("td",{children:"Tot.Avg"}),Object(v.jsx)("td",{children:"Tot.Ticks"})]}):null]}),i]})})})}function nu(e){let{candidatePairs:t}=e;if(!t)return Object(v.jsx)("div",{});let o=0,i=0;return Object(v.jsx)("div",{style:{paddingTop:20},children:Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Con/State"}),Object(v.jsx)("td",{children:"BW Out"}),Object(v.jsx)("td",{children:"BWE Out"}),Object(v.jsx)("td",{children:"BW In"}),Object(v.jsx)("td",{children:"BWE In"}),Object(v.jsx)("td",{children:"RTT"}),Object(v.jsx)("td",{children:"KA Out"}),Object(v.jsx)("td",{children:"KA In"}),Object(v.jsx)("td",{children:"Age"})]}),Object.values(t).map(e=>{e.active&&(o+=e.bitrateIn),e.active&&(i+=e.bitrateOut);const t=e.lastRtcStatsTime-e.startTime;return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsxs)("tr",{className:Yd,children:[Object(v.jsx)("td",{style:{maxWidth:70,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.id}),Object(v.jsxs)("td",{colSpan:7,style:{whiteSpace:"nowrap"},children:[e.localEp," <-> ",e.remoteEp]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.state}),Object(v.jsx)("td",{children:Zd(e.bitrateOut)}),Object(v.jsx)("td",{children:Zd(e.availableOutgoingBitrate)}),Object(v.jsx)("td",{children:Zd(e.bitrateIn)}),Object(v.jsx)("td",{children:Zd(e.availableIncomingBitrate)}),Object(v.jsx)("td",{children:Xd(e.roundTripTime)}),Object(v.jsxs)("td",{children:[Jd(e.requestsSent),"/",Jd(e.responsesReceived)]}),Object(v.jsxs)("td",{children:[Jd(e.requestsReceived),"/",Jd(e.responsesSent)]}),Object(v.jsx)("td",{children:ou(t)})]})]},e.id)}),Object(v.jsx)("tr",{className:Yd,children:Object(v.jsx)("td",{colSpan:8})}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"SUM"}),Object(v.jsx)("td",{children:Zd(i)}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{children:Zd(o)}),Object(v.jsx)("td",{})]})]})})})}function su(e){let{tracks:t}=e;return Object.entries(t).map(e=>{let[t,o]=e;const i=Object.entries(o.ssrcs).sort((e,t)=>{let[,o]=e,[,i]=t;return`${o.rid}${o.height}`.localeCompare(`${i.rid}${i.height}`)});if(!i.length)return Object(v.jsx)(v.Fragment,{});const[,a]=i[0],{mid:n,pcIndex:s,direction:r,kind:c,codec:l,startTime:d}=a,u=ou(Date.now()-d);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("header",{children:[s,":",r.toUpperCase()," mid:",n," ",l," \xa0\xa0age:",u]}),Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{style:{maxWidth:70,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),"video"===c?Object(v.jsx)("td",{children:"Resolution"}):null,"audio"===c&&"in"===r?Object(v.jsx)("td",{children:"Level"}):null,Object(v.jsx)("td",{children:"Bitrate"}),Object(v.jsx)("td",{children:"M%"}),"audio"===c&&"in"===r?Object(v.jsx)("td",{children:"Fec%"}):null,Object(v.jsx)("td",{children:"PRate"}),"video"===c?Object(v.jsx)("td",{children:"P"}):null,"video"===c?Object(v.jsx)("td",{children:"F"}):null,Object(v.jsx)("td",{children:"N"}),"video"===c?Object(v.jsx)("td",{children:"KF"}):null,"audio"===c&&"in"===r?Object(v.jsx)("td",{children:"D"}):null,"in"===r?Object(v.jsx)("td",{children:"Loss"}):null,"out"===r?Object(v.jsx)("td",{children:"RLoss"}):null,"out"===r?Object(v.jsx)("td",{children:"Rtx"}):null,"video"===c&&"out"===r?Object(v.jsx)("td",{children:"Limit"}):null,"video"===c?Object(v.jsx)("td",{children:"Q"}):null,"out"===r?Object(v.jsx)("td",{children:"RJit"}):null,"in"===r?Object(v.jsx)("td",{children:"Jit"}):null,"out"===r?Object(v.jsx)("td",{children:"RTT"}):null,"out"===r?Object(v.jsx)("td",{children:"SD"}):null,"video"===c&&"out"===r?Object(v.jsx)("td",{children:"Enc"}):null,"audio"===c&&"in"===r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:"CE"}),Object(v.jsx)("td",{children:"Con"}),Object(v.jsx)("td",{children:"Sil"}),Object(v.jsx)("td",{children:"Acc"}),Object(v.jsx)("td",{children:"Dec"})]}):null]}),i.map(e=>{let[t,o]=e;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:[o.rid,t].filter(Boolean).join(":")}),"video"===c?o.width?Object(v.jsxs)("td",{children:[o.width,"x",o.height,"@",Math.round(o.fps)]}):Object(v.jsx)("td",{children:"?"}):null,"audio"===c&&"in"===r?Object(v.jsx)("td",{children:eu(o.audioLevel)}):null,Object(v.jsx)("td",{children:Zd(o.bitrate)}),Object(v.jsx)("td",{children:eu(o.mediaRatio)}),"audio"===c&&"in"===r?Object(v.jsx)("td",{children:eu(o.fecRatio)}):null,Object(v.jsx)("td",{children:Jd(Math.round(o.packetRate)," pps")}),"video"===c?Object(v.jsx)("td",{children:o.pliCount}):null,"video"===c?Object(v.jsx)("td",{children:o.firCount}):null,Object(v.jsx)("td",{children:o.nackCount}),"video"===c?Object(v.jsx)("td",{children:o.kfCount}):null,"audio"===c&&"in"===r?Object(v.jsx)("td",{children:o.packetsDiscarded}):null,"in"===r?Object(v.jsx)("td",{children:tu(o.lossRatio)}):null,"out"===r?Object(v.jsx)("td",{children:tu(o.fractionLost)}):null,"out"===r?Object(v.jsx)("td",{children:tu(o.retransRatio)}):null,"video"===c&&"out"===r?Object(v.jsx)("td",{children:o.qualityLimitationReason||"-"}):null,"video"===c?Object(v.jsx)("td",{children:Jd(Math.round(o.qpf))}):null,Object(v.jsx)("td",{children:Xd(o.jitter)}),"out"===r?Object(v.jsx)("td",{children:Xd(o.roundTripTime)}):null,"out"===r?Object(v.jsx)("td",{children:Xd(o.sendDelay)}):null,"video"===c&&"out"===r?Object(v.jsx)("td",{children:Xd(o.encodeTime)}):null,"audio"===c&&"in"===r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:o.audioConcealmentEvents}),Object(v.jsx)("td",{children:eu(o.audioConcealment)}),Object(v.jsx)("td",{children:eu(o.audioSilentConcealment)}),Object(v.jsx)("td",{children:eu(o.audioAcceleration)}),Object(v.jsx)("td",{children:eu(o.audioDeceleration)})]}):null]},t)})]})})]},t)})}iu.propTypes={isAggregated:a.a.bool,issues:a.a.object},au.propTypes={isAggregated:a.a.bool,metrics:a.a.object},nu.propTypes={candidatePairs:a.a.object},su.propTypes={tracks:a.a.object};var ru=function(e){return e&&e.tracks&&e.issues?Object(v.jsxs)("div",{className:Qd,children:[Object(v.jsx)(su,{tracks:e.tracks}),Object(v.jsx)(nu,{candidatePairs:e.candidatePairs}),Object(v.jsx)(iu,{issues:e.issues}),e.aggregated?Object(v.jsx)(iu,{issues:e.aggregated.issues,isAggregated:!0}):null,Object(v.jsx)(au,{metrics:e.metrics}),e.aggregated?Object(v.jsx)(au,{metrics:e.aggregated.metrics,isAggregated:!0}):null]}):Object(v.jsx)("div",{})};function cu(e,t){var o,i;const{recentChatMessagesByClientId:a,...n}=t,{recentChatMessagesByClientId:s,...r}=e;return!Object.entries(n).some(e=>{let[t,o]=e;return r[t]!==o})&&(null==(o=a[t.client.id])?void 0:o.id)===(null==(i=s[e.client.id])?void 0:i.id)}const lu=e=>{let{canApplyEffects:t,canFloat:o,canMaximize:i,canSpotlight:a,client:s,contextualMenu:r,doPref:l,doRemoveClientSpotlight:u,doSpotlightClient:m,featureScreenshareQualityOn:p,hideLabels:b,isFloating:g,isFullscreen:h,isMaximized:j,isScreenshare:f,isSpotlighted:O,onClickEffects:S,onToggleFloat:R,onToggleMaximize:C,prefScreenshareQuality:y}=e;const I=Object(n.useRef)(),[E,x]=Object(n.useState)(!1),T=()=>x(e=>!e),L=r?Object(n.cloneElement)(r,{onClick:T}):null,k=()=>{s.isSpotlighted?u({id:s.id}):m({id:s.id})},_=[];!o||h||j||f||O||_.push(g?Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.rb,{}),onClick:R,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-float-exit",children:"Move to grid"})},"popIn"):Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.sb,{}),onClick:R,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-float",children:"Pop out"})},"popOut")),p&&s.isLocalClient&&s.isPresentation&&!g&&("detail"===y?_.push(Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.jb,{}),onClick:()=>l("screenshareQuality","motion"),children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-optimize-motion",children:"Optimize for motion"})},"screenshareQualityMotion")):_.push(Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.B,{}),onClick:()=>l("screenshareQuality","detail"),children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-optimize-detail",children:"Optimize for detail"})},"screenshareQualityDetail"))),a&&!g?_.push(O?Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.Ob,{}),onClick:k,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-spotlight-off-short",children:"Spotlight off"})},"spotlightOff"):Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.Ob,{}),onClick:k,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-spotlight-on",children:"Spotlight"})},"spotlight")):s.isLocalClient&&!a&&O&&_.push(Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.Ob,{}),onClick:k,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-spotlight-off-short",children:"Spotlight off"})},"spotlightOff")),s.isLocalClient||s.isPresentation||!i||a||h||g||_.push(j?Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.ab,{}),onClick:()=>C("menu"),children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-minimize",children:"Minimize"})},"minimize"):Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(c.bb,{}),onClick:()=>C("menu"),children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-maximize",children:"Maximize"})},"maximize")),!t||!s.isLocalClient||f||g||a||_.push(Object(v.jsx)(Pd.Item,{hideLabel:b,icon:Object(v.jsx)(Ba.a,{}),onClick:S,children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-effects",children:"Effects"})},"effects"));const N=()=>{I.current&&I.current.focus();const e=I.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');0!==e.length&&e[e.length-1].focus()};return Object(v.jsxs)(Pd,{className:Se()({[Cl["floatingMenu--hidden"]]:E}),ref:I,"aria-label":s.displayName||"Guest",children:[_,_.length>0&&L?Object(v.jsx)(Pd.Separator,{}):null,L&&Object(v.jsx)(Hl,{padding:-32,isOpen:E,content:L,onClickOutside:()=>{T(),N()},onEscapeKeyPressed:()=>{T(),N()},triggerButton:Object(v.jsx)(Pd.MoreButton,{onClick:T,"aria-haspopup":"menu",children:Object(v.jsx)(d.Localized,{id:"InCallParticipantFrame-more",children:"More"})})})]})};lu.propTypes={canApplyEffects:a.a.bool,canFloat:a.a.bool,canMaximize:a.a.bool,canSpotlight:a.a.bool,client:a.a.object.isRequired,contextualMenu:a.a.node,doPref:a.a.func,doRemoveClientSpotlight:a.a.func,doSpotlightClient:a.a.func,featureScreenshareQualityOn:a.a.bool,hideLabels:a.a.bool,isFloating:a.a.bool,isFullscreen:a.a.bool,isMaximized:a.a.bool,isScreenshare:a.a.bool,isSpotlighted:a.a.bool,onClickEffects:a.a.func,onToggleFloat:a.a.func,onToggleMaximize:a.a.func,prefScreenshareQuality:a.a.oneOf(["detail","motion","text"])};const du=e=>{let{aspectRatio:t,avatarSize:o,canFloat:i,canFullscreen:a,canSpotlight:s,canZoom:r,cellPaddings:c=Object(l.i)(),className:d,client:u,coLocationGroupColors:m,coLocationIsInGroupWithLoudSpeaker:p,contentWidth:b,doEnterFullscreenMode:g,doLocalClientSetStickyReaction:h,doPref:j,doRemoveClientSpotlight:f,doSelfviewHiddenAnalytics:O,doSetActiveSettingsDialogPane:S,doSetClientAspectRatio:R,doSetLocalDisplayName:C,doSetMaximizedClient:y,doSpotlightClient:I,doSwitchNextCamera:E,doUnsetMaximizedClient:x,featureBrandAvatarsOn:T,featureRefreshSelfviewOff:L,featureScreenshareQualityOn:k,featureVolumeMuteOn:_,floatingClientView:N,fullscreenClientView:w,audioOnlyModeEnabled:A,isChatOpen:D,isDisplayNameForced:P,isDraggable:M,isLocalStreamSwitching:F,isPhoneResolution:B,isPip:q,isPlaceholder:z,isSmallCell:G,isSubgrid:U,isTouchDevice:H,isWindowFocused:V,isZoomedByDefault:W,localClientAudioHasBeenResumed:K,localClientId:$,localClientIsRecorder:Q,localDevices:Y=[],localScreenshareSource:J,maximizedClientView:Z,prefs:X,preferSpeakerId:ee,prefScreenshareQuality:te,recentChatMessagesByClientId:oe,localCallQualityScores:ie,remoteCallQualityScores:ae,shouldShowCallQualityButton:ne,shouldShowCameraEffects:se,shouldShowQualityIndicators:re,stats:ce,statsIsRunning:le,withRoundedCorners:de,withShadow:ue}=e;const[me,pe]=Object(n.useReducer)(Wd,Vd,()=>({...Vd,mediaPortalTarget:jd()})),be=Object(n.useRef)(null),ge=Object(n.useRef)(null),[he,je]=Object(n.useState)(!1),fe=Object(n.useMemo)(()=>z||!u.isAudioEnabled,[z,u.isAudioEnabled]),Oe=Object(n.useMemo)(()=>z||!u.isVideoEnabled,[z,u.isVideoEnabled]),Se=Object(n.useMemo)(()=>!Oe&&!u.isLocalClient&&!u.isPresentation&&A,[A,Oe,u.isLocalClient,u.isPresentation]),Re=Object(n.useMemo)(()=>Boolean(u.isLocalClient),[u.isLocalClient]),Ce=Object(n.useMemo)(()=>oe[u.id],[oe,u.id]);let ve=null;le&&(ve={...ce[u.id]},u.isLocalClient&&!u.isPresentation&&(ve.aggregated=ce.aggregated));const ye=Object(n.useMemo)(()=>Boolean(Re&&Y.filter(e=>"videoinput"===e.kind).length>1&&(B||H)),[Re,Y,B,H]),Ie=Object(n.useMemo)(()=>Boolean(Z&&Z.id===u.id),[Z,u.id]),Ee=Object(n.useMemo)(()=>Boolean(w&&w.id===u.id),[w,u.id]),xe=Object(n.useMemo)(()=>(null==N?void 0:N.id)===u.id,[N,u.id]),Te=Object(n.useMemo)(()=>Boolean(u.isPresentation),[u.isPresentation]),Le=Object(n.useMemo)(()=>null===me.isZoomed?Boolean(W):me.isZoomed,[me.isZoomed,W]),ke=Object(n.useMemo)(()=>i&&Re&&!Te,[i,Re,Te]),_e=Object(n.useMemo)(()=>Boolean(u.isSpotlighted),[u.isSpotlighted]),Ne=Object(n.useMemo)(()=>0===u.localVolume,[u.localVolume]),we=Object(n.useMemo)(()=>{var e;return ne||re?re&&u.id===$?(null==ie?void 0:ie.total)||tt.f.OK:(null==(e=ae[u.id])?void 0:e.total)||tt.f.OK:tt.f.OK},[ne,re,$,ie,ae,u.id]);Object(n.useEffect)(()=>{if(L)return;if(!Re)return;const e=F!==me.isSwitching,t=Oe!==me.isVideoMuted;if(!e&&!t)return;if(e&&!F||t&&!Oe)try{var o;null==ge||null==(o=ge.current)||o.refreshStream()}catch{}e&&pe(zd(Boolean(F))),t&&pe(Gd(Boolean(Oe)))},[F,me.isSwitching,Oe,me.isVideoMuted,Re,L]);const Ae=Object(dn.a)();Object(n.useEffect)(()=>{Ae&&ee&&be.current&&u.stream&&be.current.setSinkId(ee)},[ee,u.stream,Ae]),Object(n.useEffect)(()=>{K&&be.current&&(be.current.play(),(async()=>{const{audioContext:e}=Object(ln.a)();"suspended"===(null==e?void 0:e.state)&&await e.resume()})())},[K]);const De=Object(n.useCallback)(()=>{pe(Ud()),je(!0)},[]),Pe=Object(n.useCallback)(()=>{const e=ge.current&&ge.current.captureAspectRatio();e!==t&&R&&R({aspectRatio:e,id:u.id})},[t,R,u.id]),Me=Object(n.useCallback)(()=>{ye&&!me.isSwitching&&E()},[ye,me.isSwitching,E]),Fe=Object(n.useCallback)(()=>{Re&&j("floatSelf",!X.floatSelf)},[Re,j,X.floatSelf]),Be=Object(n.useCallback)(e=>{const t=Te?"screenshare":Re?"local":"remote";return Ie?x({source:e,type:t}):y({id:u.id,source:e,type:t})},[Ie,x,y,u.id,Te,Re]),qe=Object(n.useCallback)(()=>{if(s)return u.isSpotlighted?f({id:u.id}):I({id:u.id})},[s,u.isSpotlighted,f,u.id,I]),ze=Object(n.useCallback)(e=>{if("INPUT"!==e.target.tagName&&!B&&!Ee&&!q)return xe?Fe():e.shiftKey?qe():Be("double-click")},[B,q,Ee,xe,Fe,qe,Be]),Ge=Object(n.useCallback)(()=>g(Ee?null:u.id),[Ee,g,u.id]),Ue=Object(n.useCallback)(()=>{pe(Hd(W))},[W]),He=z?null:Object(v.jsx)(vl.a,{avatarSize:o,isMuted:!u.isAudioEnabled||Ne,stream:u.stream}),Ve=!H&&b>160&&!q,We=Object(v.jsx)(Kd.a,{canApplyEffects:Ve?se&&!(u.isLocalClient&&!Te&&!xe&&!s):se,canFloat:Ve?ke&&!(!Ee&&!Ie&&!Te&&!_e):ke,canFullscreen:a,canMaximize:!Ve||!(!Re&&!u.isPresentation&&!Ee&&!xe&&!s),canSwitch:ye,canZoom:r,client:u,hideSpotlight:!!Ve&&(s&&!xe||Re&&!s&&_e),isFloating:xe,isFullscreen:Ee,isMaximized:Ie,isPlaceholder:z,isZoomed:Le,onSwitch:Me,onToggleFloat:Fe,onToggleFullscreen:Ge,onToggleMaximize:Be,onToggleZoomState:Ue,withHeader:!xe&&!Te}),Ke=Ve?Object(v.jsx)(lu,{canApplyEffects:se,canFloat:ke,canMaximize:!0,canSpotlight:s,client:u,contextualMenu:We,doPref:j,doRemoveClientSpotlight:f,doSpotlightClient:I,featureScreenshareQualityOn:k,hideLabels:b<420,isFloating:xe,isFullscreen:Ee,isMaximized:Ie,isScreenshare:Te,isSpotlighted:_e,onClickEffects:()=>S("effects"),onToggleFloat:Fe,onToggleMaximize:Be,prefScreenshareQuality:te}):null;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Xl,{audioIndicator:He,avatarSize:o,avatarUrl:u.avatarUrl,canSwitch:ye,canZoom:r,cellPaddings:c,className:d,clientCallQualityScore:we,clientConnectionStatus:u.connectionStatus,clientId:u.id,clientStats:ve?Object(v.jsx)(ru,{...ve}):void 0,contentWidth:b,contextualMenuContent:We,coLocationGroup:u.coLocationGroup,coLocationGroupColors:m,displayName:u.displayName,doSelfviewHiddenAnalytics:O,featureBrandAvatarsOn:T,floatingMenu:Ke,isAudioMuted:fe,audioOnlyModeEnabled:A,isDialIn:Boolean(u.isDialIn),isDisplayNameForced:P,isDraggable:M,isFloating:xe,isFullscreen:Ee,isLocalClient:Re,isMutedLocally:Ne,isPip:q,isPlaceholder:z,isRecording:Boolean(u.isRecording),isScreenshare:Te,isSelfieCam:Boolean(u.isSelfieCam),isSmallCell:G,isSpotlighted:_e,isStreaming:Boolean(u.isStreaming),isSubgrid:U,isVideoForcedOffAudioOnlyMode:Se,isVideoLoaded:he,isVideoMuted:Oe,isVideoSwitching:me.isSwitching||!!L&&Re&&F,isZoomed:Le,localClientIsRecorder:Q,mediaContentNode:me.mediaPortalTarget,onClearStickyReaction:()=>h(null),onDoubleClick:ze,onSetLocalDisplayName:C,onSwitch:Me,prefs:X,recentChatMessage:Ce,shouldShowReaction:Object($d.b)({recentChatMessage:Ce,isChatOpen:D}),showSpinnerWhileSwitching:!!L,stickyReaction:u.stickyReaction,withRoundedCorners:de,withShadow:ue},"ui-"+u.id),Object(v.jsx)(Od,{audioElementRef:be,videoElementRef:ge,client:u,featureVolumeMuteOn:_,handleVideoLoaded:De,handleVideoResized:Pe,prefs:X,target:me.mediaPortalTarget,isInCoLocationGroupWithLoudSpeaker:p,isWindowFocused:V,localScreenshareSource:J,withRoundedCorners:de},"media-"+u.id)]})};du.propTypes={aspectRatio:a.a.number,audioOnlyModeEnabled:a.a.bool.isRequired,avatarSize:a.a.number,canFloat:a.a.bool.isRequired,canFullscreen:a.a.bool.isRequired,canSpotlight:a.a.bool.isRequired,canZoom:a.a.bool.isRequired,cellPaddings:l.b,className:a.a.string,client:a.a.object.isRequired,coLocationGroupColors:a.a.object,coLocationIsInGroupWithLoudSpeaker:a.a.bool,connectionMonitorIssuesReport:a.a.object,contentWidth:a.a.number,doEnterFullscreenMode:a.a.func.isRequired,doLocalClientSetStickyReaction:a.a.func.isRequired,doPref:a.a.func,doRemoveClientSpotlight:a.a.func.isRequired,doSelfviewHiddenAnalytics:a.a.func.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,doSetClientAspectRatio:a.a.func,doSetLocalDisplayName:a.a.func.isRequired,doSetMaximizedClient:a.a.func.isRequired,doSetNotification:a.a.func.isRequired,doSpotlightClient:a.a.func.isRequired,doSwitchNextCamera:a.a.func.isRequired,doUnsetMaximizedClient:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,featureRefreshSelfviewOff:a.a.bool,featureScreenshareQualityOn:a.a.bool,featureVolumeMuteOn:a.a.bool,floatingClientView:a.a.object,fullscreenClientView:a.a.object,isChatOpen:a.a.bool.isRequired,isDisplayNameForced:a.a.bool,isDraggable:a.a.bool,isLocalStreamSwitching:a.a.bool,isPhoneResolution:a.a.bool.isRequired,isPip:a.a.bool,isPlaceholder:a.a.bool.isRequired,isSmallCell:a.a.bool,isSubgrid:a.a.bool,isTouchDevice:a.a.bool.isRequired,isWindowFocused:a.a.bool.isRequired,isZoomedByDefault:a.a.bool,localCallQualityScores:a.a.object,localClientAudioHasBeenResumed:a.a.bool.isRequired,localClientId:a.a.string,localClientIsRecorder:a.a.bool.isRequired,localDevices:a.a.array,localScreenshareSource:a.a.string,maximizedClientView:a.a.object,prefScreenshareQuality:a.a.oneOf(["detail","motion","text"]),preferSpeakerId:a.a.string,prefs:a.a.object.isRequired,recentChatMessagesByClientId:a.a.object.isRequired,remoteCallQualityScores:a.a.object,shouldShowCallQualityButton:a.a.bool,shouldShowCameraEffects:a.a.bool,shouldShowQualityIndicators:a.a.bool,stats:a.a.object,statsIsRunning:a.a.bool,withRoundedCorners:a.a.bool.isRequired,withShadow:a.a.bool.isRequired};var uu=Object(r.b)("doEnterFullscreenMode","doLocalClientSetStickyReaction","doPref","doRemoveClientSpotlight","doSelfviewHiddenAnalytics","doSetActiveSettingsDialogPane","doSetLocalDisplayName","doSetMaximizedClient","doSetNotification","doSpotlightClient","doSwitchNextCamera","doUnsetMaximizedClient","selectShouldShowCameraEffects","selectShouldShowCallQualityButton","selectShouldShowQualityIndicators","selectAudioOnlyModeEnabled","selectCanFloat","selectCanFullscreen","selectCanSpotlight","selectCoLocationGroupColors","selectCoLocationIsInGroupWithLoudSpeaker","selectConnectionMonitorIssuesReport","selectFeatureBrandAvatarsOn","selectFeatureRefreshSelfviewOff","selectFeatureScreenshareQualityOn","selectFeatureVolumeMuteOn","selectFloatingClientView","selectFullscreenClientView","selectIsChatOpen","selectIsDisplayNameForced","selectIsLocalStreamSwitching","selectIsPhoneResolution","selectIsTouchDevice","selectIsWindowFocused","selectLocalClientAudioHasBeenResumed","selectLocalClientId","selectLocalClientIsRecorder","selectLocalDevices","selectLocalScreenshareSource","selectMaximizedClientView","selectPreferSpeakerId","selectPrefs","selectPrefScreenshareQuality","selectRecentChatMessagesByClientId","selectLocalCallQualityScores","selectRemoteCallQualityScores","selectStats","selectStatsIsRunning",Object(n.memo)(du,cu));function mu(e){let{cellView:t,featureBrandAvatarsOn:o,props:i={}}=e;switch(t.type){case"video":return Object(v.jsx)(uu,{aspectRatio:t.aspectRatio,client:t.client,isDraggable:t.isDraggable,isPlaceholder:t.isPlaceholder,isSubgrid:t.isSubgrid,...i},t.client.id);case"integration":return t.isSubgrid?Object(v.jsx)(Fc,{aspectRatio:t.aspectRatio,client:{id:t.clientId},isDraggable:t.isDraggable,integration:t.integration,...i},t.clientId):Object(v.jsx)(Ic,{aspectRatio:t.aspectRatio,client:{id:t.clientId},isDraggable:t.isDraggable,integration:t.integration,...i},t.clientId);case"copy_link":return Object(v.jsx)(wr,{aspectRatio:t.aspectRatio,client:{id:t.clientId},isDraggable:t.isDraggable,roomName:t.roomName,...i},t.clientId);case"signup_cta":return Object(v.jsx)(zr,{aspectRatio:t.aspectRatio,client:{id:t.clientId},isDraggable:t.isDraggable,roomName:t.roomName,...i},t.clientId);case"groups":return Object(v.jsx)(bc,{aspectRatio:t.aspectRatio,client:{id:t.clientId},featureBrandAvatarsOn:o,groupedClients:t.groupedClients,...i},t.clientId);default:throw new Error("Unhandled cellView type",t.type)}}function pu(e){let{breakoutActive:t,breakoutCurrentGroup:o,canSpotlight:i,cellViewsFloating:a,cellViewsHiddenGrid:s,cellViewsHiddenPresentationGrid:r,cellViewsPipPresentationGrid:c,cellViewsPresentationGrid:l,cellViewsSubgrid:d,cellViewsVideoGrid:u,containerPaddings:m,doBreakoutJoin:p,doRemoveClientSpotlight:b,doReorderClients:g,doSetClientAspectRatio:h,doSetMaximizedClient:j,doSpotlightClient:f,doSwapSpotlightOrder:O,documentPipFrame:S,featureBrandAvatarsOn:R,featureJsGridMobileLayoutOff:C,featureRoundedCornersOff:y,frame:I,isFullscreenMode:E,isLocalClientSpotlighted:x,isMaximizeMode:T,isPhoneResolution:L,isPip:k=!1,isTopToolbarHidden:_,layoutBreakoutStagePaddings:N,layoutOverflowBackdropFrame:w,layoutVideoStage:A,localClient:D,pipLayoutVideoStage:P,prefs:M,windowFrame:F}=e;const B=Object(n.useMemo)(()=>A.groups?{avatarSize:A.groups.avatarSize,cellLayout:A.groups.cellLayout,isConstrained:A.groups.isConstrained,style:{...A.groups.bounds},doBreakoutJoin:p,localClient:D,isPip:k}:{},[A.groups,p,D,k]),[q,z]=Object(n.useState)(!1),G=Object(n.useCallback)(e=>"video"===e.type?{doSetClientAspectRatio:h,isPip:k}:"groups"===e.type?B:{},[h,B,k]),U=Object(n.useMemo)(()=>a.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)}))[0]||null,[a,G,R]),H=Object(n.useMemo)(()=>l.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[l,G,R]),V=Object(n.useMemo)(()=>c.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[c,G,R]),W=Object(n.useMemo)(()=>r.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[r,G,R]),K=Object(n.useMemo)(()=>d.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[d,G,R]),$=Object(n.useMemo)(()=>u.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[u,G,R]),Q=Object(n.useMemo)(()=>s.map(e=>mu({cellView:e,featureBrandAvatarsOn:R,props:G(e)})),[s,G,R]);return k?Object(v.jsxs)("div",{className:tr,children:[Object(v.jsx)($d.a,{layoutVideoStage:P,layoutVideoStageFrame:S}),Object(v.jsx)(Rl,{breakoutStagePaddings:N,canSpotlight:i,containerPaddings:m,doRemoveClientSpotlight:b,doReorderClients:g,doSetClientAspectRatio:h,doSetMaximizedClient:j,doSpotlightClient:f,doSwapSpotlightOrder:O,featureRoundedCornersOff:y,floatingContent:null,frame:S,gridContent:$,hiddenGridContent:Q,hiddenPresentationGridContent:W,isBreakoutNoGroup:t&&!o,isConstrained:!C&&L,isFullscreenMode:E,isLocalClientSpotlighted:x,isMaximizeMode:T,isTopToolbarHidden:_,layoutOverflowBackdropFrame:w,layoutVideoStage:P,presentationGridContent:V,rebalanceLayout:!0,reduceEffects:!M.effects,subgridContent:K,windowFrame:F}),Object(v.jsx)(Ys,{bottomToolbarButtonItems:["cam","mic","pip-leave"],canPinBottomToolbar:!0,isBottomToolbarPinned:q,isFloating:!0,isInPip:!0,isPopoverDisabled:!0,onPinBottomToolbar:z,onSettingsClick:()=>{},onToggleChatOpen:()=>{}})]}):Object(v.jsxs)("div",{className:er,children:[Object(v.jsx)(ir,{}),Object(v.jsx)(nr,{}),Object(v.jsx)($d.a,{layoutVideoStage:A,layoutVideoStageFrame:I}),Object(v.jsx)(Rl,{breakoutStagePaddings:N,canSpotlight:i,containerPaddings:m,doRemoveClientSpotlight:b,doReorderClients:g,doSetClientAspectRatio:h,doSetMaximizedClient:j,doSpotlightClient:f,doSwapSpotlightOrder:O,featureRoundedCornersOff:y,floatingContent:U,frame:I,gridContent:$,hiddenGridContent:Q,hiddenPresentationGridContent:W,isBreakoutNoGroup:t&&!o,isConstrained:!C&&L,isFullscreenMode:E,isLocalClientSpotlighted:x,isMaximizeMode:T,isTopToolbarHidden:_,layoutOverflowBackdropFrame:w,layoutVideoStage:A,presentationGridContent:H,rebalanceLayout:!0,reduceEffects:!M.effects,subgridContent:K,windowFrame:F})]})}pu.propTypes={breakoutActive:a.a.bool.isRequired,breakoutCurrentGroup:a.a.object,canSpotlight:a.a.bool.isRequired,cellViewsFloating:a.a.array.isRequired,cellViewsHiddenGrid:a.a.array.isRequired,cellViewsHiddenPresentationGrid:a.a.array.isRequired,cellViewsPipPresentationGrid:a.a.array.isRequired,cellViewsPresentationGrid:a.a.array.isRequired,cellViewsSubgrid:a.a.array.isRequired,cellViewsVideoGrid:a.a.array.isRequired,containerPaddings:l.b.isRequired,doBreakoutJoin:a.a.func.isRequired,doRemoveClientSpotlight:a.a.func.isRequired,doReorderClients:a.a.func.isRequired,doSetClientAspectRatio:a.a.func.isRequired,doSetMaximizedClient:a.a.func.isRequired,doSpotlightClient:a.a.func.isRequired,doSwapSpotlightOrder:a.a.func.isRequired,documentPipFrame:l.d,featureBrandAvatarsOn:a.a.bool,featureJsGridMobileLayoutOff:a.a.bool.isRequired,featureRoundedCornersOff:a.a.bool.isRequired,frame:l.d.isRequired,isFullscreenMode:a.a.bool.isRequired,isLocalClientSpotlighted:a.a.bool.isRequired,isMaximizeMode:a.a.bool.isRequired,isPhoneResolution:a.a.bool.isRequired,isPip:a.a.bool,isTopToolbarHidden:a.a.bool.isRequired,layoutBreakoutStagePaddings:l.b.isRequired,layoutOverflowBackdropFrame:l.d.isRequired,layoutVideoStage:a.a.object.isRequired,localClient:Kt.d.isRequired,pipLayoutVideoStage:a.a.object,prefs:a.a.object.isRequired,windowFrame:l.d.isRequired};var bu=Object(r.b)("doBreakoutJoin","doRemoveClientSpotlight","doReorderClients","doSetClientAspectRatio","doSetMaximizedClient","doSpotlightClient","doSwapSpotlightOrder","selectBreakoutActive","selectBreakoutCurrentGroup","selectDocumentPipFrame","selectCanSpotlight","selectCellViewsFloating","selectCellViewsHiddenGrid","selectCellViewsHiddenPresentationGrid","selectCellViewsPipPresentationGrid","selectCellViewsPresentationGrid","selectCellViewsSubgrid","selectCellViewsVideoGrid","selectFeatureBrandAvatarsOn","selectFeatureJsGridMobileLayoutOff","selectFeatureRoundedCornersOff","selectIsFullscreenMode","selectIsLocalClientSpotlighted","selectIsMaximizeMode","selectIsPhoneResolution","selectIsTopToolbarHidden","selectLayoutBreakoutStagePaddings","selectLayoutOverflowBackdropFrame","selectLayoutVideoStage","selectLocalClient","selectPipLayoutVideoStage","selectPrefs",pu),gu="Notifications-849F",hu="hiddenHelpLink-Kysg",ju="alert-tlg-",fu="title-JAwL",Ou="text-h1SH",Su="buttons-8DMC",Ru=o(19);function Cu(e){let{doLeaveRoom:t,onDismiss:o,timestamp:i}=e;return Object(v.jsxs)(Ru.a,{className:ju,timestamp:i,children:[Object(v.jsx)("p",{className:fu,children:Object(v.jsx)(d.Localized,{id:"AbuseReportedNotification-title",children:"Thanks for letting us know"})}),Object(v.jsx)("p",{className:Ou,children:Object(v.jsx)(d.Localized,{id:"AbuseReportedNotification-text",children:"Your feedback is important in helping us keep the Whereby community safe."})}),Object(v.jsxs)("div",{className:Su,children:[Object(v.jsx)(d.Localized,{id:"AbuseReportedNotification-got-it-button",children:Object(v.jsx)(c.k,{onClick:o,modifiers:["full","outlined","extraSmall"],children:"Got it"})}),Object(v.jsx)(d.Localized,{id:"AbuseReportedNotification-leave-button",children:Object(v.jsx)(c.k,{onClick:t,modifiers:["full","extraSmall","negative"],children:"Leave room"})})]})]})}Cu.propTypes={doLeaveRoom:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var vu=Cu,yu="BaseToast-Nya6",Iu="container-BjtF",Eu="dismissButton-h1d-",xu="body-d2J5",Tu=o(169);function Lu(e){let{children:t,className:o,timestamp:i,onDismiss:a,hideDismiss:n,banner:s,...r}=e;return Object(v.jsxs)(Tu.a,{className:Se()(yu,o),onAutoDismiss:a,timestamp:i,...r,children:[Object(v.jsxs)("div",{className:Iu,children:[a&&!n&&Object(v.jsx)(c.y,{className:Eu,size:"small",onClick:a}),Object(v.jsx)("div",{className:xu,children:t})]}),s]})}Lu.propTypes={banner:a.a.oneOfType([a.a.node,a.a.arrayOf(a.a.node)]),children:a.a.oneOfType([a.a.node,a.a.arrayOf(a.a.node)]).isRequired,className:a.a.string,hideDismiss:a.a.bool,onDismiss:a.a.func,timestamp:a.a.number.isRequired};var ku=Lu;function _u(e){let{displayName:t,timestamp:o,onDismiss:i}=e;return Object(v.jsx)(ku,{timestamp:o,onDismiss:i,children:Object(v.jsx)(d.Localized,{id:"AudioDisabledNotification-text",strong:Object(v.jsx)("strong",{}),$displayName:t,children:Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[t," muted your microphone."]})," You can unmute anytime."]})})})}_u.propTypes={displayName:a.a.string.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Nu=_u,wu={container:"container-UBzS",iconWrapper:"iconWrapper-97C9",text:"text-cUhj",sender:"sender-3tDw"};function Au(e){var t;let{doDismissNotification:o,recentBroadcastMessage:i,remoteClients:a,timestamp:s}=e;const r=Object(n.useRef)(null);if(Object(n.useEffect)(()=>{clearTimeout(r.current),r.current=setTimeout(()=>o("breakoutChatBroadcast"),4e3)},[o,i]),!i)return null;const l=null==(t=a.find(e=>e.id===i.senderId))?void 0:t.displayName;return Object(v.jsx)(ku,{timestamp:s,className:wu.toast,children:Object(v.jsxs)("div",{className:wu.container,children:[Object(v.jsx)("div",{className:wu.iconWrapper,children:Object(v.jsx)(c.cb,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:wu.text,children:[Object(v.jsx)("div",{className:wu.sender,children:Object(v.jsx)(d.Localized,{id:"BroadcastChatNotification-title",$senderName:l,children:Object(v.jsxs)("span",{children:["Broadcast message from ",l]})})}),Object(v.jsx)("span",{children:i.text})]})]})})}Au.propTypes={doDismissNotification:a.a.func.isRequired,recentBroadcastMessage:a.a.object,remoteClients:a.a.array.isRequired,timestamp:a.a.number.isRequired};var Du=Object(r.b)("doDismissNotification","selectRecentBroadcastMessage","selectRemoteClients",Au),Pu="toast-nMno",Mu="container-BxJv",Fu="iconWrapper-Qt6+",Bu="animation-9l1s",qu="text-RpO5";function zu(e){var t;let{breakoutBroadcastClients:o,timestamp:i}=e;if(0===o.length)return null;const a=o.length>0,n=(null==(t=o[0])?void 0:t.displayName)||"Someone";return Object(v.jsx)(ku,{timestamp:i,className:Pu,children:Object(v.jsxs)("div",{className:Mu,children:[Object(v.jsxs)("div",{className:Fu,children:[a&&Object(v.jsx)("div",{className:Bu}),Object(v.jsx)(c.cb,{modifiers:["light","sized"]})]}),Object(v.jsx)("div",{className:qu,children:Object(v.jsx)(d.Localized,{id:"BroadcastAudioNotification-title",strong:Object(v.jsx)("strong",{}),$nOtherSenders:o.length-1,$senderName:n,children:Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[n," ",o.length>1&&`(+${o.length-1})`]})," ","is broadcasting across all groups"]})})})]})})}zu.propTypes={breakoutBroadcastClients:a.a.array.isRequired,timestamp:a.a.number.isRequired};var Gu=Object(r.b)("selectBreakoutBroadcastClients",zu),Uu="BreakoutStartStop-A7JY",Hu="container-ZsnC",Vu="iconWrapper-g+Sg",Wu="content-lVFV",Ku="title-BDA2",$u="text-dVAE",Qu="enterGroupButton-siJV",Yu="BreakoutStartStop-IQoR",Ju="container-qtTf",Zu="iconWrapper-F3Ad",Xu="content-HPi-",em="title-EnZr";function tm(e){let{onDismiss:t,timestamp:o,title:i}=e;return Object(v.jsx)(ku,{className:Yu,onDismiss:t,timestamp:o,timeout:3e3,children:Object(v.jsxs)("div",{className:Ju,children:[Object(v.jsx)("div",{className:Zu,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsx)("div",{className:Xu,children:Object(v.jsx)("p",{className:Se()(em),children:i})})]})})}tm.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired,title:a.a.node.isRequired};var om=tm,im="container-C7Cd",am="innerContainer-uaTD",nm="icon-6DzH",sm="text-vCDo",rm="timer-NK1N";function cm(e){let{breakoutEndTimeWithoutGracePeriod:t,breakoutEndTime:o,breakoutSettings:i,notificationType:a}=e;const n="breakoutStart"===a?t:o,{autoMoveToGroup:s,moveToGroupGracePeriod:r}=i,l=(e=>{const t=new Date,o=new Date(Number(e));return Math.abs((o-t)/1e3)})(n),{countdown:u}=jn(l),m=`${Math.floor(u/60)}:${Math.floor(u%60).toString().padStart(2,"0")}`;return Object(v.jsx)("div",{className:im,children:Object(v.jsxs)("div",{className:am,children:[Object(v.jsx)("div",{className:nm,children:Object(v.jsx)(c.x,{modifiers:["sizedSmall"]})}),Object(v.jsx)("div",{className:sm,children:Object(v.jsx)(d.Localized,{id:"BreakoutTimerWarningTitleBody",children:"Breakout session ends in:"})}),Object(v.jsxs)("div",{className:Se()(rm,"jstest-breakout-ending-in"),children:[m,s&&"breakoutStart"===a&&`(+${r})`]})]})})}cm.propTypes={breakoutEndTime:a.a.number,breakoutEndTimeWithoutGracePeriod:a.a.number,breakoutSettings:a.a.object,notificationType:a.a.string};var lm=Object(r.b)("selectBreakoutEndTime","selectBreakoutEndTimeWithoutGracePeriod","selectBreakoutSettings",cm);const dm=e=>{let{doBreakoutJoin:t,client:o,onDismiss:i}=e;return Object(v.jsx)(c.k,{modifiers:["extraSmall","full","primary"],onClick:()=>{t(o.breakoutGroupAssigned),i()},className:Qu,children:Object(v.jsx)(d.Localized,{id:"BreakoutStartNotification-btn-accept",children:"Enter group"})},"accept")};function um(e){let{canManageBreakout:t,breakoutActive:o,breakoutGroups:i,breakoutSettings:a,doBreakoutJoin:s,localClient:r,onDismiss:l,timestamp:u,breakoutStartedAt:m}=e;const{moveToGroupGracePeriod:p,autoMoveToGroup:b,breakoutTimerSetting:g}=a,h=Number(p)||0,j=((e,t)=>{const o=new Date,i=new Date(t),a=Math.floor((o-i)/1e3);return Math.max(e-a,0)})(h,m),{countdown:f,isFinished:O}=jn(j),S=t&&!r.breakoutGroupAssigned&&b;Object(n.useEffect)(()=>{(0===f||O)&&l(),(!o||null!==r.breakoutGroup&&""!==r.breakoutGroup)&&l()},[b,o,m,r.breakoutGroup,f,h,O,l]);const R=Object(v.jsx)(d.Localized,{id:"BreakoutStartNotification-title",children:"Breakout session started"}),C=g?Object(v.jsx)(lm,{notificationType:"breakoutStart"}):void 0;if(r.breakoutGroupAssigned&&r.breakoutGroupAssigned!==r.breakoutGroup||S){const e=i[r.breakoutGroupAssigned],o=t&&!r.breakoutGroupAssigned?Object(v.jsx)(d.Localized,{id:"BreakoutStartNotification-owner",$countdown:f,children:Object(v.jsxs)(v.Fragment,{children:["Participants will join their groups in ",f,"seconds"]})}):Object(v.jsx)(d.Localized,{id:"BreakoutStartNotification-textAdvanced",$groupName:e,$countdown:f,children:Object(v.jsxs)(v.Fragment,{children:["You\u2019ve been assigned ",e,". Joining in ",f," seconds"]})});return Object(v.jsxs)(Ru.a,{className:Uu,timestamp:u,onDismiss:b?void 0:l,banner:C,children:[Object(v.jsxs)("div",{className:Hu,children:[Object(v.jsx)("div",{className:Vu,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:Wu,children:[Object(v.jsx)("p",{className:Se()(Ku),children:R}),Object(v.jsx)("p",{className:$u,children:b?o:Object(v.jsx)(d.Localized,{id:"BreakoutStartNotification-text",$groupName:e,children:Object(v.jsxs)(v.Fragment,{children:["You\u2019ve been assigned ",e]})})})]})]}),!S&&Object(v.jsx)("span",{className:Qu,children:Object(v.jsx)(dm,{doBreakoutJoin:s,client:r,onDismiss:l},"enter-breakout-button")})]})}return Object(v.jsx)(om,{onDismiss:l,timestamp:u,title:R})}dm.propTypes={client:a.a.object.isRequired,doBreakoutJoin:a.a.func.isRequired,onDismiss:a.a.func.isRequired},um.propTypes={breakoutActive:a.a.bool.isRequired,breakoutGroups:a.a.objectOf(a.a.string.isRequired).isRequired,breakoutSettings:a.a.object.isRequired,breakoutStartedAt:a.a.string,canManageBreakout:a.a.bool.isRequired,doBreakoutJoin:a.a.func.isRequired,localClient:Kt.d,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var mm=Object(r.b)("doBreakoutJoin","selectBreakoutActive","selectBreakoutGroups","selectBreakoutSettings","selectLocalClient","selectCanManageBreakout","selectBreakoutStartedAt","selectBreakoutActive",um),pm="BreakoutStartStop-Ncm6",bm="container-Nky5",gm="iconWrapper-fzQd",hm="content-cJ3K",jm="title-FDoh",fm="text-JqaB";function Om(e){let{breakoutRaw:t,breakoutSettings:o,doBreakoutJoin:i,onDismiss:a,timestamp:s,localClient:r,breakoutGroups:l,breakoutEndedAt:u}=e;const{moveToMainGracePeriod:m,autoMoveToMain:p}=o,{groupId:b}=t,g=""!==b&&null!==b,h=Number(m)||0,j=((e,t)=>{const o=new Date,i=new Date(t),a=Math.floor((o-i)/1e3);return Math.max(e-a,0)})(h,u),{countdown:f,isFinished:O}=jn(j);Object(n.useEffect)(()=>{},[u,h,p,O]);const S=Object(v.jsx)(d.Localized,{id:"BreakoutStopNotification-title",children:"Breakout session ended"}),R=l[r.breakoutGroupAssigned];if(g){const e=[Object(v.jsx)(c.k,{modifiers:["extraSmall","full","primary"],onClick:()=>{i(""),a()},children:Object(v.jsx)(d.Localized,{id:"BreakoutStopNotification-btn-leave",children:"Leave group"})},"accept")];return Object(v.jsx)(Ru.a,{className:pm,timestamp:s,buttons:e,children:Object(v.jsxs)("div",{className:bm,children:[Object(v.jsx)("div",{className:gm,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:hm,children:[Object(v.jsx)("p",{className:Se()(jm),children:S}),p&&Object(v.jsx)("p",{className:fm,children:Object(v.jsx)(d.Localized,{id:"BreakoutStopNotification-text",$countdown:f,$groupName:R,children:Object(v.jsxs)(v.Fragment,{children:["You will automatically leave ",R," in",f," seconds"]})})})]})]})})}return Object(v.jsx)(om,{onDismiss:a,timestamp:s,title:S})}Om.propTypes={breakoutEndedAt:a.a.string,breakoutGroups:a.a.object.isRequired,breakoutRaw:a.a.object.isRequired,breakoutSettings:a.a.object.isRequired,doBreakoutJoin:a.a.func.isRequired,localClient:a.a.object.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Sm=Object(r.b)("selectBreakoutSettings","doBreakoutJoin","selectBreakoutRaw","selectLocalClient","selectBreakoutGroups","selectBreakoutEndedAt",Om),Rm="container-7Kgq",Cm="iconWrapper-CUH4",vm="content-u7cR",ym="title-wx7h";function Im(e){let{timestamp:t,onDismiss:o}=e;return Object(v.jsx)(ku,{className:"jstest-breakout-timer-extended",timestamp:t,onDismiss:o,hideDismiss:!0,banner:Object(v.jsx)(lm,{}),children:Object(v.jsxs)("div",{className:Rm,children:[Object(v.jsx)("div",{className:Cm,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsx)("div",{className:vm,children:Object(v.jsx)("p",{className:Se()(ym),children:Object(v.jsx)(d.Localized,{id:"BreakoutTimerExtendedNotificationTitle",children:"Breakout session extended"})})})]})})}Im.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Em="container--+k-",xm="iconWrapper-lcQT",Tm="content-r6hS",Lm="title-6s96",km="text-ZGSD";function _m(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(ku,{onDismiss:t,timestamp:o,hideDismiss:!0,className:"jstest-breakout-timer-stopped",children:Object(v.jsxs)("div",{className:Em,children:[Object(v.jsx)("div",{className:xm,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:Tm,children:[Object(v.jsx)("p",{className:Se()(Lm),children:Object(v.jsx)(d.Localized,{id:"BreakoutTimerStoppedNotificationTitle",children:"Breakout timer stopped"})}),Object(v.jsx)("p",{className:km,children:Object(v.jsx)(d.Localized,{id:"BreakoutTimerStoppedNotificationBody",children:"The breakout session will be ended manually."})})]})]})})}_m.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Nm="container-Mn9+",wm="iconWrapper-JUKE",Am="content-+i94",Dm="title-2Dd6";function Pm(e){let{canManageBreakout:t,onDismiss:o,timestamp:i}=e;return Object(v.jsx)(ku,{timestamp:i,hideDismiss:!0,onDismiss:o,banner:Object(v.jsx)(lm,{}),children:Object(v.jsxs)("div",{className:Nm,children:[Object(v.jsx)("div",{className:wm,children:Object(v.jsx)(c.j,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:Am,children:[Object(v.jsx)("p",{className:Dm,children:Object(v.jsx)(d.Localized,{id:"BreakoutTimerWarningTitle",children:"Breakout session ending soon"})}),t&&Object(v.jsx)(d.Localized,{id:"BreakoutTimerWarningBody",children:"Extend the breakout timer for this breakout session to continue"})]})]})})}Pm.propTypes={canManageBreakout:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Mm=Object(r.b)("selectCanManageBreakout",Pm);function Fm(e){let{noHelp:t,onDismiss:o,timestamp:i,browserName:a,issueType:n}=e;const s=t?Object(v.jsx)("span",{children:"supported browsers"}):Object(v.jsx)(c.d,{href:"https://whereby.helpscoutdocs.com/article/415-supported-devices",target:"_blank","data-beacon-article":"415",onClick:o,children:"supported browsers"});return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"BrowserIssueNotification-title",$browserName:a,children:Object(v.jsxs)("span",{children:["Issues with ",a]})}),buttons:[],timestamp:i,onDismiss:o,isWarning:!0,children:Object(v.jsx)(d.Localized,{id:"BrowserIssueNotification-text",helplink:s,$browserName:a,$issueType:n,children:Object(v.jsxs)("p",{children:["The current version of ",a," has known ",n," issues. Please use one of the other"," ",s,"."]})})})}Fm.propTypes={browserName:a.a.string.isRequired,issueType:a.a.string.isRequired,noHelp:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Bm=Fm;function qm(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsxs)(ku,{timestamp:o,onDismiss:t,isError:!0,children:[Object(v.jsx)("strong",{children:"Your browser can\u2019t access your camera"}),". If another program is using your camera, try exiting that program, then reload the page."]})}qm.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var zm=qm;function Gm(e){let{onDismiss:t,timestamp:o,message:i}=e;const a={forbidden:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-forbidden",children:"Recording is not allowed"}),invalid_recording_url:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-invalid-recording-url",children:"Invalid recording url"}),missing_parameters:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-missing-parameter",children:"Missing parameter"}),missing_stream_url_permissions:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-missing-url-permissions",children:"Missing url permissions"}),stream_url_credentials_denied:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-url-credentials-denied",children:"Url credentials denied"}),recording_stopped_unexpectedly:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-stopped-unexpectedly",children:"The recording stopped unexpectedly"})}[i]||Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-unknown",children:"An unknown error occurred"}),n=[Object(v.jsx)(c.k,{onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-dismiss",children:"Dismiss"})},"dismiss-button")];return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-error-title",children:"Recording error"}),buttons:n,timestamp:o,onDismiss:t,isError:!0,children:a})}Gm.propTypes={message:a.a.string,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Um="container-U8sZ",Hm="content-iaZ7",Vm="title-CMln",Wm="recordingIcon-sVxm",Km="button-JQRO";function $m(e){let{onDismiss:t,doStartCloudRecording:o,timestamp:i}=e;return Object(v.jsxs)(Ru.a,{timestamp:i,onDismiss:t,children:[Object(v.jsx)("div",{className:Um,children:Object(v.jsx)("div",{className:Hm,children:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-ready-title",children:Object(v.jsx)("p",{className:Vm,children:"This meeting has been set up to be recorded"})})})}),Object(v.jsxs)(c.k,{autoFocus:Object(R.a)(),className:Se()(Km,"jstest-cloud-recording-ready-start-recording-button"),onClick:()=>{o(),t()},modifiers:["full","meetingRed","extraSmall"],children:[Object(v.jsx)(c.vb,{className:Wm,modifiers:["sizedSmall"]}),Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-ready-start-recording",children:"Start recording"})]},"start-recording-button")]})}$m.propTypes={doStartCloudRecording:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Qm=Object(r.b)("doStartCloudRecording",$m);function Ym(e){let{timestamp:t}=e;return Object(v.jsx)(ku,{timestamp:t,children:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-starting-title",children:Object(v.jsx)("strong",{children:"Recording starting..."})})})}Ym.propTypes={timestamp:a.a.number.isRequired};var Jm=Ym;function Zm(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-autostart-on-2nd-participant-title",children:"Automatic recording enabled"}),timestamp:o,onDismiss:t,buttons:[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),className:"jstest-cloud-recording-2nd-participant-notification-button",onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-autostart-on-2nd-participant-got-it",children:"Got it"})},"cloud-recording-2nd-participant-notification-button")],children:Object(v.jsx)(d.Localized,{id:"CloudRecordingNotification-autostart-on-2nd-participant-description",children:"Recording will start automatically once a second participant joins the room."})})}Zm.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Xm=Zm,ep={container:"container-E2t4",iconWrapper:"iconWrapper-orWB",avatar:"avatar-edIh",content:"content-E6tB",loudSpeaker:"loudSpeaker-qoj+"};function tp(e){let{clientsInGroup:t,groupName:o,loudSpeaker:i,timestamp:a,onDismiss:n,selfJoin:s}=e;const r=function(e,t,o,i){if(0===t.length||o)return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"CoLocationGroupJoin-title-no-clients",$groupName:e,children:Object(v.jsxs)("span",{children:["You joined ",e,"."]})}),Object(v.jsx)("div",{className:ep.loudSpeaker,children:i?Object(v.jsx)(d.Localized,{id:"CoLocationGroupJoin-title-loud-speaker",$displayName:i.displayName,children:Object(v.jsxs)("span",{children:[i.displayName," is the main loudspeaker"]})}):null})]});if(1===t.length)return Object(v.jsx)(d.Localized,{id:"CoLocationGroupJoin-title-one-client",$groupName:e,$displayName:t[0].displayName,children:Object(v.jsxs)("span",{children:[t[0].displayName," joined ",e]})});const a=t.length-1,{displayName:n="Guest"}=t[t.length-1];return Object(v.jsx)(d.Localized,{id:"CoLocationGroupJoin-title-many-clients",$groupName:e,$displayName:n,$othersCount:a,children:Object(v.jsxs)("span",{children:[n," and ",a," ",1===a?"other":"others"," joined ",e]})})}(o,t,s,i),l=function(e,t){return 0===e.length||t?Object(v.jsx)("div",{className:ep.iconWrapper,children:Object(v.jsx)(c.z,{className:ep.icon,modifiers:["light","sized"]})}):Object(v.jsx)(c.g,{className:ep.avatar,avatarUrl:e[e.length-1].avatarUrl,name:e[e.length-1].displayName,modifiers:["square"],size:60})}(t,s);return Object(v.jsx)(ku,{timestamp:a,onDismiss:n,children:Object(v.jsxs)("div",{className:ep.container,children:[l,Object(v.jsx)("div",{className:ep.content,children:r})]})})}tp.propTypes={clientsInGroup:a.a.array.isRequired,groupName:a.a.string.isRequired,loudSpeaker:a.a.object,onDismiss:a.a.func.isRequired,selfJoin:a.a.bool.isRequired,timestamp:a.a.number.isRequired};var op=tp,ip={CoLocationHostIsEditingNotification:"CoLocationHostIsEditingNotification-5BbO",container:"container-9ZEK",micOffIconWrapper:"micOffIconWrapper--m7u",iconWrapper:"iconWrapper-jR0c",isLocalClient:"isLocalClient-qhVH",content:"content-19yi",footer:"footer-TJ0M",micIcon:"micIcon-5m9y"};function ap(e){let{isLocalClient:t,timestamp:o,onDismiss:i}=e;return Object(v.jsx)(ku,{className:ip.CoLocationHostIsEditingNotification,timestamp:o,onDismiss:i,children:Object(v.jsxs)("div",{className:ip.container,children:[Object(v.jsx)("div",{className:ip.content,children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:ip.micOffIconWrapper,children:Object(v.jsx)(c.hb,{className:ip.icon,modifiers:["sized","darkGrey"]})}),Object(v.jsx)(d.Localized,{id:"CoLocationHostIsEditingNotification-title-local",children:"Participants muted temporarily"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:ip.iconWrapper,children:Object(v.jsx)(c.z,{className:ip.icon,modifiers:["light","sized"]})}),Object(v.jsx)(d.Localized,{id:"CoLocationHostIsEditingNotification-title",children:"The host is preparing co-location groups"})]})}),!t&&Object(v.jsxs)("div",{className:ip.footer,children:[Object(v.jsx)(c.hb,{modifiers:["sizedSmall"],className:ip.micIcon}),Object(v.jsx)(d.Localized,{id:"CoLocationHostIsEditingNotification-footer",children:"Microphone is muted temporarily"})]})]})})}ap.propTypes={isLocalClient:a.a.bool,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var np=ap,sp={CoLocationLoudSpeakerUpdated:"CoLocationLoudSpeakerUpdated-pXuT",container:"container-e1kl",iconWrapper:"iconWrapper-WIhb",content:"content-QVov",subtitle:"subtitle-2Iqe"};function rp(e){let{groupName:t,isLocalClient:o,loudSpeaker:i,onDismiss:a,timestamp:n}=e;const s=o?Ru.a:ku;return Object(v.jsx)(s,{className:sp.CoLocationLoudSpeakerUpdated,timestamp:n,onDismiss:a,children:Object(v.jsxs)("div",{className:sp.container,children:[Object(v.jsx)("div",{className:sp.iconWrapper,children:Object(v.jsx)(c.Y,{className:sp.icon,modifiers:["light","sized"]})}),Object(v.jsx)("div",{className:sp.content,children:i?Object(v.jsx)(v.Fragment,{children:o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerUpdated-title-you",$groupName:t,children:Object(v.jsxs)("span",{children:["You are the main loudspeaker for ",t]})}),Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerUpdated-content",children:Object(v.jsx)("span",{className:sp.subtitle,children:"Make sure to increase your loudspeaker volume."})})]}):Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerUpdated-title",$groupName:t,$displayName:i,children:Object(v.jsxs)("span",{children:[i," is the main loudspeaker for ",t]})})}):Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerUpdated-title-no-speaker",$groupName:t,children:Object(v.jsxs)("span",{children:["There is no main loudspeaker for ",t]})})})]})})}rp.propTypes={groupName:a.a.string.isRequired,isLocalClient:a.a.bool,loudSpeaker:a.a.string,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var cp=rp,lp={CoLocationStartStop:"CoLocationStartStop-zhul",container:"container-pzOI",dialogContainer:"dialogContainer-zQmz",iconWrapper:"iconWrapper-vE4p",content:"content-kagZ",title:"title-TWMw","title--simple":"title--simple-863L",text:"text-2uvi",addButton:"addButton-iw1A",footer:"footer-mfqg",buttons:"buttons-eGxs",addCoLocation:"addCoLocation-ou2t",input:"input-h1jH"},dp=o(154);function up(e){let{doCoLocationGroupsAdd:t,doCoLocationJoin:o,groups:i,maxGroups:a,onDismiss:s}=e;const[r,l]=Object(n.useState)("");return Object(v.jsxs)("form",{className:lp.addCoLocation,onSubmit:()=>{const e=Object(dp.b)(i);t({id:e,name:r.trim()}),o(e,"notification"),s()},"aria-labelledby":"CoLocationStartNotification-add-location",children:[Object(v.jsx)(c.ac,{children:Object(v.jsx)("span",{id:"CoLocationStartNotification-add-location",children:Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-add-location",children:"Add and join co-location"})})}),Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-add-location-input-field",attrs:{"aria-label":!0,placeholder:!0},children:Object(v.jsx)("input",{"aria-label":"Name of location to add",autoFocus:!0,className:lp.input,maxLength:"280",onChange:e=>l(e.target.value),placeholder:"Name of location...",type:"text",value:r})}),Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-btn-add-join",children:Object(v.jsx)(c.k,{modifiers:["extraSmall"],disabled:!r.length||Object.keys(i).length>=a,type:"submit",children:"Add and join"})})]})}function mp(e){let{coLocationActive:t,coLocationCurrentGroup:o,coLocationGroups:i,coLocationGroupsMinMax:a,doCoLocationGroupsAdd:s,doCoLocationJoin:r,onDismiss:l,isAudioEnabled:u,shouldShowCoLocationGroups:m,timestamp:p}=e;const[b,g]=Object(n.useState)(!1);let h=null,j=null,f=null;const[,O]=a,S=e=>{r(e,"notification"),l()};if(t){if(h=Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-title",children:"Co-location session started"}),o?j=Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-body-group",$groupName:o.name,children:Object(v.jsxs)("span",{children:["You joined ",o.name,"."]})}):m||(j=Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-body",children:"Where are you joining from?"})),!o&&!m){const e=Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-btn-remote-location",children:Object(v.jsx)(c.k,{modifiers:["extraSmall","primary"],onClick:()=>S(""),children:"I\u2019m remote"})},"defaultLocationButton");f=[...Object.entries(i).map(e=>{let[t,o]=e;return Object(v.jsx)(c.k,{modifiers:["extraSmall","outlined"],onClick:()=>S(t),children:o},t)}),e],Object.keys(i).length<O&&f.push(Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-btn-add",children:Object(v.jsx)(c.k,{className:lp.addButton,modifiers:["extraSmall","outlined"],onClick:()=>g(!0),children:"Add location"})},"add-location"))}}else h=Object(v.jsx)(d.Localized,{id:"CoLocationStopNotification-title",children:"Co-location session ended"});return f?Object(v.jsxs)(c.G,{className:lp.CoLocationStartStop,children:[Object(v.jsxs)(c.G.Header,{className:lp.dialogContainer,children:[Object(v.jsx)("div",{className:lp.iconWrapper,children:Object(v.jsx)(c.z,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:lp.content,children:[h&&Object(v.jsx)("p",{className:Se()(lp.title,{[lp["title--simple"]]:!j}),children:h}),j&&Object(v.jsx)("p",{className:lp.text,children:j})]})]}),Object(v.jsx)(c.G.Body,{children:b?Object(v.jsx)(up,{doCoLocationGroupsAdd:s,doCoLocationJoin:r,groups:i,maxGroups:O,onDismiss:l}):Object(v.jsx)("div",{className:lp.buttons,children:f})}),!u&&Object(v.jsxs)(c.G.Footer,{className:lp.footer,children:[Object(v.jsx)(c.hb,{modifiers:["sizedSmall"]}),Object(v.jsx)("div",{className:lp.footerText,children:Object(v.jsx)(d.Localized,{id:"CoLocationStartNotification-footer",children:"Microphone muted temporarily"})})]})]}):Object(v.jsx)(ku,{timeout:3e3,className:lp.CoLocationStartStop,onDismiss:l,timestamp:p,children:Object(v.jsxs)("div",{className:lp.container,children:[Object(v.jsx)("div",{className:lp.iconWrapper,children:Object(v.jsx)(c.z,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:lp.content,children:[h&&Object(v.jsx)("p",{className:Se()(lp.title,{[lp["title--simple"]]:!j}),children:h}),j&&Object(v.jsx)("p",{className:lp.text,children:j})]})]})})}up.propTypes={doCoLocationGroupsAdd:a.a.func.isRequired,doCoLocationJoin:a.a.func.isRequired,groups:a.a.objectOf(a.a.string.isRequired).isRequired,maxGroups:a.a.number.isRequired,onDismiss:a.a.func.isRequired},mp.propTypes={coLocationActive:a.a.bool.isRequired,coLocationCurrentGroup:a.a.object,coLocationGroups:a.a.objectOf(a.a.string.isRequired).isRequired,coLocationGroupsMinMax:a.a.arrayOf(a.a.number).isRequired,doCoLocationGroupsAdd:a.a.func.isRequired,doCoLocationJoin:a.a.func.isRequired,isAudioEnabled:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,shouldShowCoLocationGroups:a.a.bool.isRequired,timestamp:a.a.number.isRequired};var pp=Object(r.b)("doCoLocationGroupsAdd","doCoLocationJoin","selectCoLocationActive","selectCoLocationCurrentGroup","selectCoLocationGroups","selectCoLocationGroupsMinMax","selectIsAudioEnabled","selectShouldShowCoLocationGroups",mp),bp="CoLocationUnmuteNotification-nl3l";function gp(e){let{doToggleAudioEnabled:t,onDismiss:o,timestamp:i}=e;const a=Object(v.jsx)(d.Localized,{id:"CoLocationUnmuteNotification-title",children:"It\u2019s now safe to unmute"}),n=[Object(v.jsx)(c.k,{onClick:o,modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"CoLocationUnmuteNotification-maybe-later",children:"Maybe later"})},"maybe-later-button"),Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{t(!0),o()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"CoLocationUnmuteNotification-accept",children:"Unmute mic"})},"unmute-button")];return Object(v.jsx)(Ru.a,{className:bp,title:a,buttons:n,timestamp:i,onDismiss:o,children:Object(v.jsx)(d.Localized,{id:"CoLocationUnmuteNotification-text",children:"You can unmute your microphone when ready."})})}gp.propTypes={doToggleAudioEnabled:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var hp=Object(r.b)("doToggleAudioEnabled",gp);function jp(e){let{noHelp:t,onDismiss:o,timestamp:i}=e;const a=[Object(v.jsx)(c.k,{modifiers:["primary","full","extraSmall"],onClick:()=>location.reload(),children:Object(v.jsx)(d.Localized,{id:"ConnectionErrorNotification-reload",children:"Reload"})},"reload-button"),t?void 0:Object(v.jsx)(c.d,{href:"https://whereby.helpscoutdocs.com/article/519-i-keep-having-network-connection-issues",target:"_blank","data-beacon-article":"519",modifiers:["button","button-extraSmall","button-full","button-primary","button-outlined"],onClick:()=>o(),children:Object(v.jsx)(d.Localized,{id:"ConnectionErrorNotification-learnmore",children:"Learn more"})},"get-help-button")].filter(Boolean);return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"ConnectionErrorNotification-title",children:Object(v.jsx)("span",{children:"Connection issues?"})}),buttons:a,timestamp:i,onDismiss:o,isWarning:!0,children:Object(v.jsx)(d.Localized,{id:"ConnectionErrorNotification-text",children:Object(v.jsx)("p",{children:"Try reloading if you cannot see or hear the other participants."})})})}jp.propTypes={noHelp:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var fp=jp,Op="success-bYDW",Sp="successText-Sdsy",Rp="iconWrapper-ZOpp";function Cp(e){let{kind:t,label:o,timestamp:i,onDismiss:a}=e;return Object(v.jsx)(ku,{timestamp:i,onDismiss:a,children:Object(v.jsxs)("div",{className:Op,children:[Object(v.jsxs)("div",{className:Rp,children:["audioinput"===t&&Object(v.jsx)(c.ib,{modifiers:["sized","light"]}),"videoinput"===t&&Object(v.jsx)(c.n,{modifiers:["sized","light"]})]}),Object(v.jsxs)("span",{className:Sp,children:[Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"DeviceChangedNotification-title",$kind:t,children:Object(v.jsxs)("div",{children:["audioinput"===t?"Microphone":"Video"," source changed"]})})}),Object(v.jsx)(d.Localized,{id:"DeviceChangedNotification-text",$label:o,children:Object(v.jsxs)("span",{children:["Now using ",o]})})]})]})})}Cp.propTypes={kind:a.a.oneOf(["audioinput","videoinput"]).isRequired,label:a.a.string,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var vp=Cp;function yp(e){let{timestamp:t,onDismiss:o}=e;return Object(v.jsx)(ku,{timestamp:t,onDismiss:o,children:Object(v.jsx)(d.Localized,{id:"EmbedCodeCopiedNotification-text",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{children:[Object(v.jsx)("strong",{children:"Iframe code copied!"})," Embed this meeting room on your website"]})})})}yp.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Ip=yp,Ep="FileUploadFailed-D8E2",xp="container-w0mV",Tp="iconWrapper-LKVL",Lp="content-MNhN",kp="title-uzSA",_p="text-3oId";function Np(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(ku,{timeout:7e3,className:Ep,onDismiss:t,timestamp:o,children:Object(v.jsxs)("div",{className:xp,children:[Object(v.jsx)("div",{className:Tp,children:Object(v.jsx)(c.kb,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:Lp,children:[Object(v.jsx)(d.Localized,{id:"FileUploadFailed-title",children:Object(v.jsx)("p",{className:kp,children:"Failed to send files"})}),Object(v.jsx)(d.Localized,{id:"FileUploadFailed-text",br:Object(v.jsx)("br",{}),children:Object(v.jsx)("p",{className:_p,children:"There was a problem sending one or more of these files. Please try again."})})]})]})})}Np.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var wp=Np,Ap="FileUploadRejected-Z2xV",Dp="container-yVd7",Pp="iconWrapper-QPxh",Mp="content-5mgi",Fp="title-NqN+",Bp="text-Z37D";function qp(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(ku,{timeout:7e3,className:Ap,onDismiss:t,timestamp:o,children:Object(v.jsxs)("div",{className:Dp,children:[Object(v.jsx)("div",{className:Pp,children:Object(v.jsx)(c.kb,{modifiers:["light","sized"]})}),Object(v.jsxs)("div",{className:Mp,children:[Object(v.jsx)(d.Localized,{id:"FileUploadRejected-title",children:Object(v.jsx)("p",{className:Fp,children:"Failed to attach file"})}),Object(v.jsx)(d.Localized,{id:"FileUploadRejected-description",br:Object(v.jsx)("br",{}),children:Object(v.jsxs)("p",{className:Bp,children:["PDF, DOCX, TXT, RTF, CSV, XLSX, JPEG, PNG, GIF, WEBP, MP3, WAV, MP4, MOV, WEBM, MKV",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Max file size: 15MB"]})})]})]})})}qp.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var zp=qp;function Gp(e){let{description:t,timestamp:o,onDismiss:i}=e;return Object(v.jsxs)(ku,{timestamp:o,onDismiss:i,isError:!0,children:[Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"FullscreenErrorNotification-text",children:"Could not start fullscreen"})}),Object(v.jsxs)("div",{children:["(",t,")"]})]})}Gp.propTypes={description:a.a.string.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Up=Gp;function Hp(e){let{timestamp:t,onDismiss:o,title:i=Object(v.jsx)(d.Localized,{id:"GenericErrorNotification-default-title",children:"Sorry, something went wrong"}),description:a=Object(v.jsx)(d.Localized,{id:"GenericErrorNotification-default-description",children:"The operation couldn\u2019t be performed."})}=e;return Object(v.jsxs)(ku,{timestamp:t,onDismiss:o,isError:!0,children:[Object(v.jsx)("div",{children:Object(v.jsx)("strong",{children:i})}),a]})}Hp.propTypes={description:a.a.oneOfType([a.a.string,a.a.element]),onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired,title:a.a.oneOfType([a.a.string,a.a.element])};var Vp=Hp;function Wp(e){let{onDismiss:t,error:o,timestamp:i,title:a}=e;const n=o.message,s=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:t,modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"IntegrationNotification-error-dismiss",children:"Dismiss"})},"stop-integration-button")];return Object(v.jsx)(Ru.a,{buttons:s,timestamp:i,title:a,children:Object(v.jsx)(d.Localized,{id:"IntegrationNotification-error-text",$errorMessage:n,children:Object(v.jsxs)(v.Fragment,{children:["An error has occurred (",n,")"]})})})}Wp.propTypes={error:a.a.object.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired,title:a.a.string.isRequired};var Kp=Object(r.b)("doStopRoomIntegration",Wp),$p={outerWrapper:"outerWrapper-qmoD",previewHintWrapper:"previewHintWrapper-5o-q",raisedHandPositionBottomRight:"raisedHandPositionBottomRight-uaB4",raisedHandPositionCenter:"raisedHandPositionCenter-VIEl",smallAvatar:"smallAvatar-o-yQ",mediumAvatar:"mediumAvatar-SXBd",largeAvatar:"largeAvatar-H55u",twoAvatars:"twoAvatars-zLhh",threeAvatars:"threeAvatars-RCVW",fourOrMoreAvatars:"fourOrMoreAvatars-j1Cz",remainingKnockers:"remainingKnockers-4CBT"};const Qp={1:()=>({avatarClass:$p.largeAvatar,avatarSize:60,wrapperClass:$p.oneAvatar,raisedHandSize:"large",raisedHandPosition:$p.raisedHandPositionBottomRight}),2:()=>({avatarClass:$p.mediumAvatar,avatarSize:40,wrapperClass:$p.twoAvatars,raisedHandSize:"medium",raisedHandPosition:$p.raisedHandPositionBottomRight}),3:()=>({avatarClass:$p.smallAvatar,avatarSize:32,wrapperClass:$p.threeAvatars,raisedHandSize:"small",raisedHandPosition:$p.raisedHandPositionCenter}),4:e=>({avatarClass:$p.smallAvatar,avatarSize:32,wrapperClass:$p.fourOrMoreAvatars,knockersToShow:e.length>4?e.slice(0,3):void 0,remainingKnockers:e.length>4?e.length-3:void 0,raisedHandSize:"medium",raisedHandPosition:$p.raisedHandPositionCenter})};function Yp(e){var t;let{className:o,featureBrandAvatarsOn:i,knockers:a,previewHint:n,raisedHandBadge:s}=e;if(0===a.length)return null;const{avatarClass:r,avatarSize:l,wrapperClass:d,knockersToShow:u=a,raisedHandSize:m="small",raisedHandPosition:p,remainingKnockers:b=0}=Qp[a.length>4?4:a.length](a);return Object(v.jsxs)("div",{className:Se()($p.outerWrapper,o),children:[Object(v.jsxs)("div",{className:d,children:[u.map(e=>i?Object(v.jsx)(ac.a,{modifiers:["square"],className:r,avatarUrl:e.userAvatarUrl,name:e.displayName,size:l},e.clientId||e.id):Object(v.jsx)(c.g,{modifiers:["square"],className:r,avatarUrl:e.userAvatarUrl,name:e.displayName,size:l},e.clientId||e.id)),!!b&&Object(v.jsxs)("div",{className:$p.remainingKnockers,children:["+",a.length-3]})]}),s&&Object(v.jsx)("div",{className:p,children:Object(v.jsx)(Vl.a,{size:m,reaction:null==(t=a.find(e=>{var t;return null==(t=e.stickyReaction)?void 0:t.reaction}))?void 0:t.stickyReaction.reaction})}),n&&Object(v.jsx)("div",{className:$p.previewHintWrapper,children:Object(v.jsx)(c.K,{modifiers:["sized","light"]})})]})}Yp.propTypes={className:a.a.string,featureBrandAvatarsOn:a.a.bool,knockers:a.a.array.isRequired,previewHint:a.a.bool,raisedHandBadge:a.a.bool};var Jp=Yp,Zp="KnockNotification-s2To",Xp="alert-6pGy",eb="alertWithRibbon-7FCC",tb="ribbon-QyBL",ob="knockersInfo-6E4S",ib="knockersAvatar-tcbN",ab="knockerNames-XjqO",nb="knockControl-w-3c",sb="invisibleButton-832q",rb="visuallyHidden-Q5sG",cb="respondKnockerHint-7cOf",lb="preview-dv6F",db="onHoldTextWrapper-cbkv",ub="onHoldText-t3AQ",mb=o(219);function pb(e){let{breakoutIsEditing:t=!1,coLocationIsEditing:o=!1,doKnockerAccept:i,doKnockerHold:a,doKnockerReject:s,doSidebarPane:r,featureBrandAvatarsOn:l,heldKnockers:u,isPeopleOpen:m,isPublicOrganization:p,kind:b,orgMembersAlert:g,timestamp:h,prefs:j,unacknowledgedOrgKnockers:f,unacknowledgedNonOrgKnockers:O}=e;const[S,R]=Object(n.useState)(!1),C=S&&j.people;let y=g?f:O;if("heldKnockers"===b&&(y=u),m&&!t&&!o||!y.length)return null;const I=function(e){if(1===e.length&&e[0].displayName)return Object(v.jsx)(d.Localized,{id:"KnockAlert-title-named",$displayName:e[0].displayName,children:Object(v.jsxs)("span",{children:[e[0].displayName," requested to join"]})});const t=e.filter(e=>!e.displayName),o=e.filter(e=>!!e.displayName);if(0===o.length&&t.length>0)return Object(v.jsx)(d.Localized,{id:"KnockAlert-title-without-names",$count:t.length,children:Object(v.jsxs)("span",{children:[t.length," ",1===t.length?"person":"people"," requested to join"]})});const i=e.length-1;return Object(v.jsx)(d.Localized,{id:"KnockAlert-title-with-names",$name:o[0].displayName,$othersCount:i,children:Object(v.jsxs)("span",{children:[o[0].displayName," and ",i," ",1===i?"other":"others"," requested to join"]})})}(y),E="knockers"===b&&function(e){let{showPreviewHint:t}=e;return t?Object(v.jsx)(d.Localized,{id:"KnockAlert-respond-knocker-hint-see-who",children:Object(v.jsx)("span",{className:Se()(cb,lb),children:"Click to see who"})}):Object(v.jsx)(d.Localized,{id:"KnockAlert-respond-knocker-hint",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{className:cb,children:["Not ready? ",Object(v.jsx)("strong",{children:"Respond"})," to let them know."]})})}({showPreviewHint:C,prefs:j}),x="heldKnockers"===b&&u.length>0&&function(e,t){if(t)return Object(v.jsxs)("div",{className:db,children:[Object(v.jsx)(c.P,{modifiers:["sizedSmall","midGrey"]}),Object(v.jsx)(d.Localized,{id:"KnockAlert-respond-knocker-hint-see-who",children:Object(v.jsx)("span",{className:Se()(ub),children:"Click to see who"})})]});const o=Date.now(),i=e.sort((e,t)=>e.held-t.held)[0],a=Object(No.b)(o-i.held),n=`On hold for ${a} ${1===a?"minute":"minutes"}`;return Object(v.jsxs)("div",{className:db,children:[Object(v.jsx)(c.P,{modifiers:["sizedSmall","midGrey"]}),Object(v.jsx)(d.Localized,{id:"KnockAlert-on-hold",$elapsedTime:a,children:Object(v.jsx)("span",{className:ub,children:a>0?n:"On hold"})})]})}(u,C),T=function(e){let{hasKnockersOutsideOrganization:t,knockerCount:o}=e;return t?Object(v.jsx)("div",{className:tb,children:Object(v.jsx)(d.Localized,{id:"KnockAlert-outside-organization-info",$count:o,children:Object(v.jsxs)("span",{children:[1===o?"This person is":"These people are"," outside your organization."]})})}):null}({hasKnockersOutsideOrganization:!p&&!g&&"knockers"===b,knockerCount:O.length});return Object(v.jsxs)("div",{className:Zp,children:[j.people&&Object(v.jsx)("button",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:sb,onClick:()=>{R(!1),r(Ht.h)},children:Object(v.jsx)("span",{className:rb,children:"See who"})}),Object(v.jsxs)(Ru.a,{className:Se()(Xp,T&&eb),timestamp:h,ribbon:T,children:[T,Object(v.jsxs)("div",{className:ob,children:[Object(v.jsx)(Jp,{className:ib,featureBrandAvatarsOn:l,knockers:y,previewHint:C}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:ab,children:I}),E,x]})]}),Object(v.jsx)(mb.a,{className:nb,onAccept:()=>{y.forEach(e=>{i(e)})},onHold:e=>{y.forEach(t=>{a({responseMessage:e,...t})})},onReject:e=>{y.forEach(t=>{s({responseMessage:e,...t})})}})]})]})}pb.propTypes={breakoutIsEditing:a.a.bool,coLocationIsEditing:a.a.bool,doKnockerAccept:a.a.func.isRequired,doKnockerHold:a.a.func.isRequired,doKnockerReject:a.a.func.isRequired,doSidebarPane:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,heldKnockers:a.a.array.isRequired,isPeopleOpen:a.a.bool,isPublicOrganization:a.a.bool,kind:a.a.oneOf(["heldKnockers","knockers"]).isRequired,orgMembersAlert:a.a.bool,prefs:a.a.object.isRequired,timestamp:a.a.number.isRequired,unacknowledgedNonOrgKnockers:a.a.array.isRequired,unacknowledgedOrgKnockers:a.a.array.isRequired};var bb=Object(r.b)("doKnockerAccept","doKnockerHold","doKnockerReject","doSidebarPane","selectBreakoutIsEditing","selectCoLocationIsEditing","selectFeatureBrandAvatarsOn","selectHeldKnockers","selectIsPeopleOpen","selectIsPublicOrganization","selectKnockers","selectPrefs","selectUnacknowledgedNonOrgKnockers","selectUnacknowledgedOrgKnockers",pb);function gb(e){let{timestamp:t,onDismiss:o}=e;return Object(v.jsx)(ku,{timestamp:t,onDismiss:o,children:Object(v.jsx)(d.Localized,{id:"LinkCopiedNotification-text",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{children:[Object(v.jsx)("strong",{children:"Link copied!"})," Paste and send anywhere to invite someone to this room"]})})})}gb.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var hb=gb;function jb(e){let{onDismiss:t,timestamp:o}=e;const i=[Object(v.jsx)(c.k,{onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"LiveCaptionsNotification-error-dismiss",children:"Dismiss"})},"dismiss-button")];return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"LiveCaptionsNotification-error-title",children:"Live captions error"}),buttons:i,timestamp:o,onDismiss:t,isError:!0,children:Object(v.jsx)(d.Localized,{id:"LiveCaptionsNotification-error-failed-to-start",children:"Failed to start live captions"})})}function fb(e){let{timestamp:t}=e;return Object(v.jsx)(ku,{timestamp:t,children:Object(v.jsx)(d.Localized,{id:"LiveCaptionsStartingNotification-starting-title",children:Object(v.jsx)("strong",{children:"Live captions starting..."})})})}jb.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired},fb.propTypes={timestamp:a.a.number.isRequired};var Ob=fb;function Sb(e){let{timestamp:t}=e;return Object(v.jsx)(ku,{timestamp:t,children:Object(v.jsx)(d.Localized,{id:"TranscriptionNotification-starting-title",children:Object(v.jsx)("strong",{children:"Transcription starting..."})})})}Sb.propTypes={timestamp:a.a.number.isRequired};var Rb=Sb;function Cb(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"TranscriptionNotification-autostart-on-2nd-participant-title",children:"Automatic transcriptions enabled"}),timestamp:o,onDismiss:t,buttons:[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"TranscriptionNotification-autostart-on-2nd-participant-got-it",children:"Got it"})},"transcription-2nd-participant-notification-button")],children:Object(v.jsx)(d.Localized,{id:"TranscriptionNotification-autostart-on-2nd-participant-description",children:"Transcribing will start automatically once a second participant joins the room."})})}Cb.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var vb=Cb;function yb(e){let{onDismiss:t,timestamp:o,message:i}=e;const a=[Object(v.jsx)(c.k,{onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"LiveTranscriptionsErrorNotification-error-dismiss",children:"Dismiss"})},"dismiss-button")],n="invalid_transcription_storage_credentials"===i?Object(v.jsx)(d.Localized,{id:"LiveTranscriptionsErrorNotification-error-invalid-transcription-storage-credentials",children:"Invalid transcription storage credentials"}):Object(v.jsx)(d.Localized,{id:"LiveTranscriptionsErrorNotification-error-unknown",children:"An unknown error occurred"});return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"LiveTranscriptionsErrorNotification-error-title",children:"Live transcription error"}),buttons:a,timestamp:o,onDismiss:t,isError:!0,children:n})}function Ib(e){let{onDismiss:t,timestamp:o}=e;const i=Object(v.jsx)(d.Localized,{id:"LocalRecordingDownloadErrorNotification-unknown",children:"We were unable to download your recording"}),a=[Object(v.jsx)(c.k,{onClick:t,modifiers:["extraSmall","full"],children:Object(v.jsx)(d.Localized,{id:"LocalRecordingDownloadErrorNotification-dismiss",children:"Dismiss"})},"dismiss-button")];return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"LocalRecordingDownloadErrorNotification-title",children:"Download failed"}),buttons:a,timestamp:o,onDismiss:t,isError:!0,children:i})}function Eb(e){var t;let{lang:o,onDismiss:i,supportedLanguages:a,timestamp:n}=e;const s=(null==a||null==(t=a.find(e=>e.locale===o))?void 0:t.label)||"";return Object(v.jsxs)(ku,{timestamp:n,onDismiss:i,isError:!0,children:[Object(v.jsx)("div",{children:Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"LocalizationFetchErrorNotification-title",children:"Sorry, something went wrong"})})}),Object(v.jsx)(d.Localized,{id:"LocalizationFetchErrorNotification-description",$langName:s,children:Object(v.jsxs)("div",{children:[s," language could not be loaded"]})})]})}yb.propTypes={message:a.a.string,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired},Ib.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired},Eb.propTypes={lang:a.a.string.isRequired,onDismiss:a.a.func.isRequired,supportedLanguages:a.a.arrayOf(a.a.shape({locale:a.a.string,label:a.a.string})).isRequired,timestamp:a.a.number.isRequired};var xb=Object(r.b)("selectSupportedLanguages",Eb);function Tb(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsxs)(ku,{timestamp:o,onDismiss:t,isError:!0,children:[Object(v.jsx)("strong",{children:"Your browser can\u2019t access your microphone."})," Restarting your browser usually fixes this."]})}Tb.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Lb=Tb,kb="container-uBrr",_b="content-M9IY",Nb="title-rGG0",wb="text-UY5J";function Ab(e){let{deviceLabel:t,doSetActiveSettingsDialogPane:o,onDismiss:i,timestamp:a}=e;const n=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:i,modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"MicTrackEndedNotification-button-gotit",children:"Got it"})},"got-it-button"),Object(v.jsx)(c.k,{onClick:()=>{o("media"),i()},modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"MicTrackEndedNotification-button-open-media-settings",children:"Open settings"})},"open-media-settings")];return Object(v.jsx)(Ru.a,{timestamp:a,onDismiss:i,buttons:n,children:Object(v.jsxs)("div",{className:kb,children:[Object(v.jsx)("div",{children:Object(v.jsx)(c.ib,{modifiers:["sized","light"]})}),Object(v.jsxs)("div",{className:_b,children:[Object(v.jsx)("p",{className:Nb,children:Object(v.jsx)(d.Localized,{id:"MicTrackEndedNotification-title",children:"Microphone error"})}),Object(v.jsx)("p",{className:wb,children:Object(v.jsx)(d.Localized,{id:"MicTrackEndedNotification-text",$deviceLabel:t,children:`There is a problem with the microphone ${t}. Use a different microphone or unplug it and plug it back in (if possible).`})})]})]})})}Ab.propTypes={deviceLabel:a.a.string.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Db=Object(r.b)("doSetActiveSettingsDialogPane",Ab);const Pb={audioinput:"audioId",videoinput:"videoId"},Mb={audioinput:"audio",videoinput:"video"};function Fb(e){let{kind:t,deviceId:o,label:i,doSwitchLocalStream:a,doSetSpeaker:n,speakerId:s,onDismiss:r,timestamp:l}=e;const u=Mb[t],m=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{"audio"===u&&s&&n(s),a({[Pb[t]]:o}),r()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"NewDeviceAddedNotification-change",children:"Switch"})},"change-button"),Object(v.jsx)(c.k,{onClick:r,modifiers:["extraSmall","full","outlined"],children:Object(v.jsx)(d.Localized,{id:"NewDeviceAddedNotification-dismiss",children:"Later"})},"later-button")];return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"NewDeviceAddedNotification-title",$deviceType:u,children:Object(v.jsxs)(v.Fragment,{children:["A new ",u," device was added"]})}),buttons:m,timestamp:l,onDismiss:r,children:i})}Fb.propTypes={deviceId:a.a.string,doSetSpeaker:a.a.func,doSwitchLocalStream:a.a.func.isRequired,kind:a.a.string.isRequired,label:a.a.string,onDismiss:a.a.func.isRequired,speakerId:a.a.string,timestamp:a.a.number.isRequired};var Bb=Object(r.b)("doSwitchLocalStream","doSetSpeaker",Fb);function qb(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)("div",{children:Object(v.jsx)(Ru.a,{className:Se()("jstest-recording-downloading"),title:Object(v.jsx)(d.Localized,{id:"NewRecordingAlert-title",children:"Downloading your recording"}),timestamp:o,onDismiss:t,spinner:!0,children:Object(v.jsx)(d.Localized,{id:"NewRecordingAlert-text",children:Object(v.jsx)("span",{children:"It will be saved on your device"})})})})}qb.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var zb=qb,Gb="alert-fRfe",Ub="titleWrapper-kgP2",Hb="coLocationIconWrapper-6uu2",Vb="description-5KUh";function Wb(e){let{canStartCoLocation:t,doCoLocationEdit:o,doCoLocationOpenInfo:i,onDismiss:a,timestamp:n}=e;return Object(v.jsx)(Ru.a,{className:Gb,timestamp:n,onDismiss:a,buttons:[Object(v.jsx)(c.k,{onClick:()=>{a(),t?o({open:!0}):i(!0)},children:Object(v.jsx)(d.Localized,{id:"ParticipantsIsCoLocatedNotification-button-configure",children:"Yes, configure"})},"participants-is-colocated-notification-button-configure"),Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:a,modifiers:["outlined"],children:Object(v.jsx)(d.Localized,{id:"ParticipantsIsCoLocatedNotification-button-dismiss",children:"No, maybe later"})},"participants-is-colocated-button-dismiss")],children:Object(v.jsxs)("div",{className:Ub,children:[Object(v.jsx)("div",{className:Hb,children:Object(v.jsx)(c.z,{modifiers:["sized","light"]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(d.Localized,{id:"ParticipantsIsCoLocatedNotification-title",children:"Participants want a hybrid meeting"}),Object(v.jsx)("p",{className:Vb,children:Object(v.jsx)(d.Localized,{id:"ParticipantsIsCoLocatedNotification-description",children:"Configure Co-location Groups?"})})]})]})})}Wb.propTypes={canStartCoLocation:a.a.bool.isRequired,doCoLocationEdit:a.a.func.isRequired,doCoLocationOpenInfo:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Kb=Object(r.b)("doCoLocationEdit","doCoLocationOpenInfo","selectCanStartCoLocation",Wb);function $b(e){let{onDismiss:t,timestamp:o}=e;const i=[Object(v.jsx)(c.d,{autoFocus:Object(R.a)(),href:"/user/get-recording",modifiers:["button","button-extraSmall","button-full","button-primary"],children:Object(v.jsx)(d.Localized,{id:"QuotaExceededAlert-manage",children:"Manage"})},"manage-recording-button"),Object(v.jsx)(c.k,{onClick:t,modifiers:["extraSmall","full","outlined"],children:Object(v.jsx)(d.Localized,{id:"QuotaExceededAlert-dismiss",children:"Dismiss"})},"later-button")];return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"QuotaExceededAlert-title",children:"Your recording has stopped"}),buttons:i,timestamp:o,onDismiss:t,isError:!0,children:Object(v.jsx)(d.Localized,{id:"QuotaExceededAlert-text",children:Object(v.jsx)(v.Fragment,{children:"There isn\u2019t any space left in your browser storage. Please save your recordings and delete them from your browser."})})})}$b.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Qb="alert-QL4z",Yb="info-gmrF",Jb="avatars-LOwJ",Zb="title-DTsa";function Xb(e){let{doRequestAudioEnable:t,doSidebarPane:o,featureBrandAvatarsOn:i,isSidebarOpen:a,onDismiss:s,prefs:r,remoteClientsWithRaisedHand:l,timestamp:u}=e;const[m,p]=Object(n.useState)([]);Object(n.useEffect)(()=>{0===l.length&&s()},[l,s]);const b=l.filter(e=>!m.includes(e.id));if(0===b.length||a)return null;const g=[1===b.length?Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{t({clientIds:[b[0].id],enable:!0}),p([...m,b[0].id])},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RaisedHandNotification-ask-to-speak-button",children:"Ask to speak"})},"request-audio-button"):r.people&&Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{o("people")},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RaisedHandNotification-see-who-button",children:"See who"})},"see-who-button"),Object(v.jsx)(c.k,{onClick:()=>p([...m,...b.map(e=>e.id)]),modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RaisedHandNotification-snooze-button",children:"Snooze"})},"snooze-button")].filter(Boolean),h=b[0];return Object(v.jsx)(Ru.a,{buttons:g,className:Qb,timestamp:u,children:Object(v.jsxs)("div",{className:Yb,children:[Object(v.jsx)(Jp,{className:Jb,featureBrandAvatarsOn:i,raisedHandBadge:!0,knockers:b}),Object(v.jsx)("div",{className:Zb,children:Object(v.jsx)(d.Localized,{id:"RaisedHandNotification-title",$firstParticipantName:h.displayName||"Someone",$numOtherParticipants:b.length-1,children:Object(v.jsxs)("span",{children:[h.displayName||"Someone",b.length>1?` and ${b.length-1} others`:""," raised their hand"]})})})]})})}Xb.propTypes={doRequestAudioEnable:a.a.func.isRequired,doSidebarPane:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,isSidebarOpen:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,prefs:a.a.object.isRequired,remoteClientsWithRaisedHand:a.a.array.isRequired,timestamp:a.a.number.isRequired};var eg=Object(r.b)("doRequestAudioEnable","doSidebarPane","selectFeatureBrandAvatarsOn","selectIsSidebarOpen","selectPrefs","selectRemoteClientsWithRaisedHand",Xb);function tg(e){let{onDismiss:t,timestamp:o}=e;return Object(v.jsx)(Ru.a,{title:Object(v.jsx)(d.Localized,{id:"ReportPoorQualityNotification-title",children:"Report submitted"}),timestamp:o,onAutoDismiss:t,onDismiss:t,children:Object(v.jsx)(d.Localized,{id:"ReportPoorQualityNotification-text",children:"Thank you for reporting, this will help us look into your issue."})})}function og(e){let{displayName:t,doToggleAudioEnabled:o,onDismiss:i,timestamp:a}=e;const n=Object(v.jsx)(d.Localized,{id:"RequestAudioEnableAlert-title",children:"Unmute your microphone"}),s=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{o(!0,{context:"enableAudioRequestedNotification"}),i()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestAudioEnableAlert-accept",children:"Unmute mic"})},"unmute-button"),Object(v.jsx)(c.k,{onClick:i,modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestAudioEnableAlert-gotit",children:"Got it"})},"got-it-button")];return Object(v.jsx)(Ru.a,{title:n,buttons:s,timestamp:a,onDismiss:i,children:Object(v.jsx)(d.Localized,{id:"RequestAudioEnableAlert-text",$displayName:t,children:Object(v.jsxs)("span",{children:[t," invites you to speak. Unmute your microphone when ready."]})})})}tg.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired},og.propTypes={displayName:a.a.string.isRequired,doToggleAudioEnabled:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var ig=Object(r.b)("doToggleAudioEnabled",og);function ag(e){let{displayName:t,doToggleScreenshare:o,onDismiss:i,timestamp:a}=e;const n=Object(v.jsx)(d.Localized,{id:"RequestScreenshareEnableNotification-title",children:"Start sharing your screen"}),s=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{o(),i()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestScreenshareEnableNotification-accept",children:"Share screen"})},"start-screenshare-button"),Object(v.jsx)(c.k,{onClick:i,modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestScreenshareEnableNotification-gotit",children:"Got it"})},"got-it-button")];return Object(v.jsx)(Ru.a,{title:n,buttons:s,timestamp:a,onDismiss:i,children:Object(v.jsx)(d.Localized,{id:"RequestScreenshareEnableNotification-text",$displayName:t,children:Object(v.jsxs)("span",{children:[t," invites you to share your screen."]})})})}ag.propTypes={displayName:a.a.string.isRequired,doToggleScreenshare:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var ng=Object(r.b)("doToggleScreenshare",ag);function sg(e){let{displayName:t,doToggleVideoEnabled:o,onDismiss:i,timestamp:a}=e;const n=Object(v.jsx)(d.Localized,{id:"RequestVideoEnableAlert-title",children:"Turn your camera on"}),s=[Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>{o(!0,{context:"enableVideoRequestedNotification"}),i()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestVideoEnableAlert-accept",children:"Turn cam on"})},"turn-on-cam-button"),Object(v.jsx)(c.k,{onClick:i,modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"RequestVideoEnableAlert-gotit",children:"Got it"})},"got-it-button")];return Object(v.jsx)(Ru.a,{title:n,buttons:s,timestamp:a,onDismiss:i,children:Object(v.jsx)(d.Localized,{id:"RequestVideoEnableAlert-text",$displayName:t,children:Object(v.jsxs)("span",{children:[t," invites you to turn your camera on."]})})})}sg.propTypes={displayName:a.a.string.isRequired,doToggleVideoEnabled:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var rg=Object(r.b)("doToggleVideoEnabled",sg),cg="body-C5Pl";function lg(e){let{userName:t,timestamp:o,onDismiss:i}=e;return Object(v.jsx)(ku,{timestamp:o,onDismiss:i,children:Object(v.jsxs)("div",{className:cg,children:[Object(v.jsx)("p",{children:Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"RoomClaimedNotification-title",children:Object(v.jsx)(v.Fragment,{children:"Whereby Room Created"})})})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"RoomClaimedNotification-text",$userName:t,children:Object(v.jsxs)(v.Fragment,{children:["Way to go ",t," you created your first Whereby room!"]})})})]})})}lg.propTypes={onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired,userName:a.a.string.isRequired};var dg=lg,ug=o(212),mg="toast-Ingv",pg="iconWrapper-fynA";function bg(e){let{displayName:t,reason:o,timestamp:i,onDismiss:a}=e;return Object(v.jsx)(ku,{timestamp:i,onDismiss:a,children:Object(v.jsxs)("div",{className:mg,children:[Object(v.jsx)("div",{className:pg,children:Object(v.jsx)(c.Ab,{modifiers:["sized","light"]})}),"host_control"===o&&Object(v.jsx)(d.Localized,{id:"ScreenshareDisabledNotification-host-text",strong:Object(v.jsx)("strong",{}),$hostName:t,children:Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[t," stopped your screenshare."]})," You can start sharing your screen again anytime."]})}),"group_navigation"===o&&Object(v.jsx)("strong",{children:Object(v.jsx)(d.Localized,{id:"ScreenshareDisabledNotification-group-text",strong:Object(v.jsx)("strong",{}),$groupName:t||"no-group",children:Object(v.jsxs)("span",{children:["Your screenshare ",t?"in "+t:""," has stopped."]})})})]})})}bg.propTypes={displayName:a.a.string,onDismiss:a.a.func.isRequired,reason:a.a.oneOf(["host_control","group_navigation"]),timestamp:a.a.number.isRequired};var gg=bg;function hg(e){let{noHelp:t,timestamp:o,onDismiss:i}=e;const a=Object(v.jsx)(c.d,{className:t&&hu||null,href:"https://whereby.helpscoutdocs.com/article/534-screen-sharing",target:"_blank","data-beacon-article":"534",onClick:i,children:"Need help?"});return Object(v.jsx)(ku,{timestamp:o,onDismiss:i,isError:!0,children:Object(v.jsx)(d.Localized,{id:"ScreenshareFailedNotification-text",helpLink:a,strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{children:[Object(v.jsx)("strong",{children:"Could not start screensharing."})," The browser is having trouble accessing your screen."," ",a]})})})}hg.propTypes={noHelp:a.a.bool.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var jg=hg,fg="notificationWrapper-FSt2",Og="notificationText-K5uA",Sg="notificationTitle-6iSy",Rg="imgWrapper-nHWK",Cg="icon-TKTQ";function vg(e){var t,o,i,a;let{screenshareFeedbackRequesterClients:n,doDismissScreenshareFeedback:s,doScreenshareFeedbackSubmit:r,timestamp:l}=e;const u=n.length,m=Object(v.jsx)(d.Localized,{id:"ScreenshareFeedbackRequestNotification-title",$count:u,$displayName:(null==(t=n[0])?void 0:t.displayName)||"Guest",children:Object(v.jsx)("div",{children:1===u?((null==(o=n[0])?void 0:o.displayName)||"Guest")+" is screensharing":u+" people are screensharing"})}),p=[Object(v.jsxs)(c.k,{modifiers:["extraSmall","full","primary"],onClick:()=>{r(!0)},children:[Object(v.jsx)("span",{"aria-label":"yes-emoji",role:"img",children:"\ud83d\udc4d"})," ",Object(v.jsx)(d.Localized,{id:"ScreenshareFeedbackRequestNotification-yes",children:"Yes"})]},"yes"),Object(v.jsxs)(c.k,{modifiers:["extraSmall","full","outlined","primary"],onClick:()=>{r(!1)},children:[Object(v.jsx)("span",{"aria-label":"no-emoji",role:"img",children:"\ud83d\udc4e"})," ",Object(v.jsx)(d.Localized,{id:"ScreenshareFeedbackRequestNotification-no",children:"No"})]},"no")];return Object(v.jsx)(Ru.a,{buttons:p,timestamp:l,onDismiss:s,timeout:7e3,onAutoDismiss:s,children:Object(v.jsxs)("div",{className:fg,children:[Object(v.jsx)("div",{className:Rg,children:1===u?Object(v.jsx)(c.g,{modifiers:["square"],avatarUrl:null==(i=n[0])?void 0:i.userAvatarUrl,name:null==(a=n[0])?void 0:a.displayName,size:60}):Object(v.jsx)("div",{className:Cg,children:Object(v.jsx)(c.Ab,{modifiers:["sized","light"]})})}),Object(v.jsxs)("div",{className:Og,children:[Object(v.jsx)("div",{className:Sg,children:m}),Object(v.jsx)(d.Localized,{id:"ScreenshareFeedbackRequestNotification-text",$count:u,children:Object(v.jsxs)("span",{children:["Can you see their screen",u>1?"s":"","?"]})})]})]})})}vg.propTypes={doDismissScreenshareFeedback:a.a.func.isRequired,doScreenshareFeedbackSubmit:a.a.func.isRequired,screenshareFeedbackRequesterClients:a.a.array.isRequired,timestamp:a.a.number.isRequired};var yg=Object(r.b)("selectScreenshareFeedbackRequesterClients","doDismissScreenshareFeedback","doScreenshareFeedbackSubmit",vg);function Ig(e){let{timestamp:t}=e;return Object(v.jsx)(ku,{timestamp:t,isWarning:!0,children:Object(v.jsx)(d.Localized,{id:"SignalTroubleNotification-text",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{children:[Object(v.jsx)("strong",{children:"Your connection was lost."})," We\u2019re trying to reconnect you..."]})})})}Ig.propTypes={timestamp:a.a.number.isRequired};var Eg=Ig;function xg(e){let{doStopRoomIntegration:t,onDismiss:o,roomIntegrationId:i,timestamp:a,title:n}=e;const s=[Object(v.jsx)(c.k,{className:"jstest-stop-integration-accept-button",onClick:()=>{t({force:!0,roomIntegrationId:i}),o()},modifiers:["extraSmall","full","primary"],children:Object(v.jsx)(d.Localized,{id:"IntegrationNotification-stop-close",children:"Yes, stop"})},"stop-integration-button"),Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:o,modifiers:["extraSmall","outlined","full","primary"],children:Object(v.jsx)(d.Localized,{id:"IntegrationNotification-stop-cancel",children:"Cancel"})},"cancel-stop-integration-button")];return Object(v.jsx)(Ru.a,{buttons:s,timestamp:a,title:n,children:Object(v.jsx)(d.Localized,{id:"IntegrationNotification-stop-text",$title:n,children:Object(v.jsxs)("span",{children:["Do you want to stop ",n," for all participants in the room?"]})})})}xg.propTypes={doStopRoomIntegration:a.a.func.isRequired,onDismiss:a.a.func.isRequired,roomIntegrationId:a.a.string.isRequired,timestamp:a.a.number.isRequired,title:a.a.string.isRequired};var Tg=Object(r.b)("doStopRoomIntegration",xg),Lg=o(155),kg="container-QdYF",_g="iconWrapper-zG3J",Ng="content-S9V5",wg="title-3SmZ",Ag="button-ncQF";function Dg(e){let{onDismiss:t,doStreamingGoLive:o,timestamp:i}=e;return Object(v.jsxs)(Ru.a,{timestamp:i,onDismiss:t,children:[Object(v.jsxs)("div",{className:kg,children:[Object(v.jsx)("div",{className:_g,children:Object(v.jsx)(c.Qb,{modifiers:["light","sized","meetingRed"]})}),Object(v.jsxs)("div",{className:Ng,children:[Object(v.jsx)(d.Localized,{id:"StreamingNotification-ready-title",children:Object(v.jsx)("p",{className:wg,children:"Streaming ready"})}),Object(v.jsx)(d.Localized,{id:"StreamingNotification-ready-text",children:Object(v.jsx)("span",{children:"This meeting has been setup so it\u2019s ready to be live streamed."})})]})]}),Object(v.jsx)(d.Localized,{id:"StreamingNotification-ready-go-live",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),className:Se()(Ag,"jstest-streaming-ready-go-live-button"),onClick:()=>{o(),t()},modifiers:["full","meetingRed","extraSmall"],children:"Go Live"},"go-live-button")})]})}Dg.propTypes={doStreamingGoLive:a.a.func.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Pg=Object(r.b)("doStreamingGoLive",Dg);function Mg(e){let{timestamp:t}=e;return Object(v.jsx)(ku,{timestamp:t,children:Object(v.jsx)(d.Localized,{id:"StreamingNotification-starting-title",children:Object(v.jsx)("strong",{children:"Streaming starting..."})})})}Mg.propTypes={timestamp:a.a.number.isRequired};var Fg=Mg,Bg={container:"container-Wbw-",icon:"icon-4NnR",iconButton:"iconButton-8ksP",text:"text-crhB",title:"title-Jsic"},qg={embeddedUnstoredRecordings:"embeddedUnstoredRecordings-yOIE",recordingsList:"recordingsList-lcvN",recordingItem:"recordingItem-UXdQ",recordingItemButton:"recordingItemButton-W5iN",buttonContent:"buttonContent-TNlK",textContainer:"textContainer-d0X7",titleText:"titleText-SmzX",subtitleText:"subtitleText-NwiH",iconContainer:"iconContainer-UQPb"},zg=o(213);function Gg(e){let{unstoredRecordings:t,doRecordingDownload:o}=e;return Object(v.jsx)("div",{className:qg.embeddedUnstoredRecordings,children:Object(v.jsx)("ol",{className:qg.recordingsList,children:t.map(e=>{let{duration:t,durationISOString:i,fileSize:a,filename:n,meetingIdentifier:s}=e;return Object(v.jsx)("li",{className:qg.recordingItem,children:Object(v.jsx)("div",{className:qg.recordingItemButton,modifiers:["link"],onClick:()=>o({meetingIdentifier:s,saveTime:Date.now()}),onKeyPress:()=>o({meetingIdentifier:s,saveTime:Date.now()}),role:"button",tabIndex:"0",children:Object(v.jsxs)("div",{className:qg.buttonContent,children:[Object(v.jsxs)("div",{className:qg.textContainer,children:[Object(v.jsx)("p",{className:qg.titleText,title:n,children:n}),Object(v.jsxs)("p",{className:qg.subtitleText,children:[Object(v.jsxs)("time",{dateTime:i,children:[t," min"]})," ",Object(v.jsxs)("span",{children:["(",a,")"]})]})]}),Object(v.jsx)("div",{className:qg.icon,children:Object(v.jsx)(zg.a,{onClick:e=>{e.stopPropagation(),o({meetingIdentifier:s,saveTime:Date.now()})}})})]})})},s)})})})}Gg.propTypes={doRecordingDownload:a.a.func,unstoredRecordings:a.a.array.isRequired};var Ug=Gg;function Hg(e){let{onDismiss:t,timestamp:o,unstoredRecordings:i,doRecordingDownload:a,doSidebarLayerOpen:s,doSidebarLayerClose:r,savedRecordings:l}=e;const[u,m]=Object(n.useState)(!1);return Object(v.jsxs)(Ru.a,{timestamp:o,onDismiss:t,children:[Object(v.jsxs)("div",{className:Bg.container,children:[Object(v.jsx)("div",{className:Bg.icon,children:Object(v.jsx)(c.vb,{modifiers:["negative","sized"],className:Bg.iconButton})}),Object(v.jsxs)("div",{className:Bg.text,children:[Object(v.jsx)("p",{className:Bg.title,children:Object(v.jsx)(d.Localized,{id:"TempRecWarningNotification-title",children:"You have unsaved recordings"})}),Object(v.jsx)("p",{className:Bg.subtitle,children:Object(v.jsx)(d.Localized,{id:"TempRecWarningNotification-text",children:"Make sure to save them locally"})})]})]}),i&&i.length>0&&Object(v.jsx)(Ug,{unstoredRecordings:i,doRecordingDownload:a}),l&&l.length>0&&Object(v.jsxs)(c.k,{modifiers:["full","outlined"],onClick:()=>{u?r(Ht.b):s(Ht.b),m(!u)},children:["View previously saved recordings (",l.length,")"]})]})}Hg.propTypes={doRecordingDownload:a.a.func,doSidebarLayerClose:a.a.func,doSidebarLayerOpen:a.a.func,onDismiss:a.a.func.isRequired,savedRecordings:a.a.array,timestamp:a.a.number.isRequired,unstoredRecordings:a.a.array};var Vg=Object(r.b)("doSidebarLayerOpen","doSidebarLayerClose","doRecordingDownload","selectSavedRecordings","selectUnstoredRecordings",Hg);function Wg(e){let{displayName:t,timestamp:o,onDismiss:i}=e;return Object(v.jsx)(ku,{timestamp:o,onDismiss:i,children:Object(v.jsx)(d.Localized,{id:"VideoDisabledNotification-text",strong:Object(v.jsx)("strong",{}),$displayName:t,children:Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[t," turned your camera off."]})," You can turn your camera back on anytime."]})})})}Wg.propTypes={displayName:a.a.string.isRequired,onDismiss:a.a.func.isRequired,timestamp:a.a.number.isRequired};var Kg=Wg;const $g={abuseReported:e=>Object(v.jsx)(vu,{...e}),audioDeviceAdded:e=>Object(v.jsx)(Bb,{...e}),audioDeviceChanged:e=>Object(v.jsx)(vp,{kind:"audioinput",...e}),breakoutChatBroadcast:e=>Object(v.jsx)(Du,{...e}),breakoutMediaBroadcast:e=>Object(v.jsx)(Gu,{...e}),breakoutStart:e=>Object(v.jsx)(mm,{...e}),breakoutStop:e=>Object(v.jsx)(Sm,{...e}),breakoutTimerExtended:e=>Object(v.jsx)(Im,{...e}),breakoutTimerStopped:e=>Object(v.jsx)(_m,{...e}),breakoutTimerWarning:e=>Object(v.jsx)(Mm,{...e}),browserIssue:e=>Object(v.jsx)(Bm,{...e}),camNotWorking:e=>Object(v.jsx)(zm,{...e}),cloudRecordingError:e=>Object(v.jsx)(Gm,{...e}),cloudRecordingReady:e=>Object(v.jsx)(Qm,{...e}),cloudRecordingStarted:e=>Object(v.jsx)(Jm,{...e}),cloudRecordingStartsOn2ndParticipant:e=>Object(v.jsx)(Xm,{...e}),coLocationHostIsEditing:e=>Object(v.jsx)(np,{...e}),coLocationGroupJoin:e=>Object(v.jsx)(op,{...e}),coLocationLoudSpeakerUpdated:e=>Object(v.jsx)(cp,{...e}),coLocationStartStop:e=>Object(v.jsx)(pp,{...e}),coLocationUnmute:e=>Object(v.jsx)(hp,{...e}),connectionError:e=>Object(v.jsx)(fp,{...e}),embedCodeCopied:e=>Object(v.jsx)(Ip,{...e}),fileUploadFailed:e=>Object(v.jsx)(wp,{...e}),fileUploadRejected:e=>Object(v.jsx)(zp,{...e}),fullscreenError:e=>Object(v.jsx)(Up,{...e}),genericError:e=>Object(v.jsx)(Vp,{...e}),heldKnockers:e=>Object(v.jsx)(bb,{kind:"heldKnockers",...e}),integrationError:e=>Object(v.jsx)(Kp,{...e}),orgKnockers:e=>Object(v.jsx)(bb,{kind:"knockers",orgMembersAlert:!0,...e}),nonOrgKnockers:e=>Object(v.jsx)(bb,{kind:"knockers",...e}),linkCopied:e=>Object(v.jsx)(hb,{...e}),liveCaptionsError:e=>Object(v.jsx)(jb,{...e}),liveCaptionsStarted:e=>Object(v.jsx)(Ob,{...e}),liveTranscriptionStarting:e=>Object(v.jsx)(Rb,{...e}),liveTranscriptionStartsOn2ndParticipant:e=>Object(v.jsx)(vb,{...e}),liveTranscriptionsError:e=>Object(v.jsx)(yb,{...e}),localizationFetchError:e=>Object(v.jsx)(xb,{...e}),localRecordingDownloadError:e=>Object(v.jsx)(Ib,{...e}),micNotWorking:e=>Object(v.jsx)(Lb,{...e}),micTrackEnded:e=>Object(v.jsx)(Db,{...e}),videoDeviceAdded:e=>Object(v.jsx)(Bb,{...e}),videoDeviceChanged:e=>Object(v.jsx)(vp,{kind:"videoinput",...e}),newRecordingAdded:e=>Object(v.jsx)(zb,{...e}),participantsIsCoLocated:e=>Object(v.jsx)(Kb,{...e}),quotaExceededError:e=>Object(v.jsx)($b,{...e}),raisedHand:e=>Object(v.jsx)(eg,{...e}),reportPoorQuality:e=>Object(v.jsx)(tg,{...e}),roomFull:e=>Object(v.jsx)(ug.a,{...e}),screenshareError:e=>Object(v.jsx)(jg,{...e}),signalTrouble:e=>Object(v.jsx)(Eg,{...e}),stopIntegration:e=>Object(v.jsx)(Tg,{...e}),temporaryRecordingsWarning:e=>Object(v.jsx)(Vg,{...e}),requestAudioEnable:e=>Object(v.jsx)(ig,{...e}),requestVideoEnable:e=>Object(v.jsx)(rg,{...e}),roomClaimed:e=>Object(v.jsx)(dg,{...e}),audioDisabled:e=>Object(v.jsx)(Nu,{...e}),videoDisabled:e=>Object(v.jsx)(Kg,{...e}),screenshareDisabled:e=>Object(v.jsx)(gg,{...e}),screenshareFeedbackRequest:e=>Object(v.jsx)(yg,{...e}),requestScreenshareEnable:e=>Object(v.jsx)(ng,{...e}),streamingError:e=>Object(v.jsx)(Lg.a,{...e}),streamingReady:e=>Object(v.jsx)(Pg,{...e}),streamingStarting:e=>Object(v.jsx)(Fg,{...e})};function Qg(e){let{doDismissNotification:t,notifications:o,prefHelp:i}=e;return Object(v.jsx)("div",{className:gu,children:o.map(e=>{const{onDismiss:o,...a}=e.props,n={noHelp:!1===i,key:e.type,onDismiss:()=>{o&&o(),t(e.type)},timestamp:e.timestamp,...a};return $g[e.type](n)})})}Qg.propTypes={doDismissNotification:a.a.func.isRequired,notifications:a.a.array.isRequired,prefHelp:a.a.bool.isRequired};var Yg=Object(C.b)(Object(r.b)("doDismissNotification","selectNotifications","selectPrefHelp",Qg)),Jg="RoomSettingsAnim-o6OZ",Zg="pointerImg-1G6m",Xg="roomStatusBarImg-eYcM",eh=o(253),th=o.n(eh),oh=o(254),ih=o.n(oh);var ah=function(){return Object(v.jsxs)("div",{className:Jg,children:[Object(v.jsx)("img",{src:th.a,alt:"",className:Zg}),Object(v.jsx)("img",{src:ih.a,alt:"",className:Xg})]})},nh="wrapper-9AAW",sh="card-1-Z0",rh="header-WbA0",ch="body-sCXd",lh="footer-VeXh";function dh(e){let{noHelp:t,onClose:o,normalMaxSize:i,groupMaxSize:a}=e;return Object(v.jsxs)("div",{className:sh,children:[Object(v.jsx)("div",{className:rh,children:Object(v.jsx)(ah,{})}),Object(v.jsxs)("div",{className:ch,children:[Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"ProGuide-roomsize-title",children:Object(v.jsx)("strong",{children:"Changing the room size"})})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"ProGuide-roomsize-copy",strong:Object(v.jsx)("strong",{}),$normalMaxSize:i,$groupMaxSize:a,children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:"Your Pro room supports two sizes"}),": Small (1 - ",i," people) and Large (1 - ",a," people). To change the room size open"," ",Object(v.jsx)("strong",{children:"Room Settings"})," by clicking on the room status bar in the top left corner of the room."]})})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"ProGuide-more-than-capacity-title",children:Object(v.jsx)("strong",{children:"More than capacity"})})}),Object(v.jsxs)("p",{children:[Object(v.jsx)(d.Localized,{id:"ProGuide-more-than-capacity-copy",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:"Choosing the correct room size could impact the meeting call quality"}),". For best results only change the room size to Large when you expect larger meetings."," "]})}),!t&&Object(v.jsx)(d.Localized,{id:"ProGuide-more-than-capacity-button",children:Object(v.jsx)(c.d,{"data-beacon-article":"491",href:"https://whereby.helpscoutdocs.com/article/491-about-the-pro-plan#features",target:"_blank",children:"Learn more"})})]})]}),Object(v.jsx)("div",{className:lh,children:Object(v.jsx)(d.Localized,{id:"ProGuide-got-it-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:o,modifiers:["full","small"],children:"Got it"})})})]})}function uh(e){let{prefHelp:t,isProGuideOpen:o,doSetProGuideOpen:i,maxRoomSizeByRoomMode:a}=e;const n=a[tt.t.NORMAL],s=a[tt.t.GROUP];return o?Object(v.jsx)("div",{className:nh,children:Object(v.jsx)(dh,{noHelp:!1===t,onClose:e=>{e.preventDefault(),i(!1)},normalMaxSize:n,groupMaxSize:s})}):null}dh.propTypes={groupMaxSize:a.a.number.isRequired,noHelp:a.a.bool.isRequired,normalMaxSize:a.a.number.isRequired,onClose:a.a.func.isRequired},uh.propTypes={doSetProGuideOpen:a.a.func.isRequired,isProGuideOpen:a.a.bool.isRequired,maxRoomSizeByRoomMode:a.a.object.isRequired,prefHelp:a.a.bool.isRequired};var mh=Object(C.b)(Object(r.b)("doSetProGuideOpen","selectIsProGuideOpen","selectMaxRoomSizeByRoomMode","selectPrefHelp",uh)),ph=o(157),bh=o(88),gh="ProfilerStats-Vx0K",hh="chart-Baon",jh="bar-P9+R",fh="title-hcr4",Oh="scale-G3JC",Sh="none-C7EJ",Rh="referenceLine-VWtW",Ch="chartWrapper-xppZ",vh="interval-1isT";let yh=0;const Ih=[...Array(Math.round(15)).keys()].map(e=>10*e);function Eh(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("text",{className:Oh,x:40,y:10,children:"Agg. actualDuration"}),Ih.map(e=>Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)("text",{className:Oh,x:0,y:150-e,children:[e," ms"]}),e%30===0&&Object(v.jsx)("line",{className:Rh,x1:0,x2:300,y1:150-e,y2:150-e})]},e))]})}function xh(){const[e,t]=Object(n.useState)({}),[o,i]=Object(n.useState)(1e3);Object(n.useEffect)(()=>{const i=setInterval(()=>{Object.keys(bh.b).forEach(o=>{const i=e[o]||[...new Array(300)].map(()=>({key:`${o}_${yh++}`,actualDuration:0}));t(e=>({...e,[o]:[...i.slice(1),bh.b[o].reduce((e,t)=>({...e,actualDuration:e.actualDuration+=t.actualDuration}),{key:`${o}_${yh++}`,actualDuration:0})]})),bh.b[o].length=0})},o);return()=>clearInterval(i)},[o,e]);const a=e=>i(e.target.value);return Object(v.jsx)("div",{className:gh,children:Object.entries(e).map(e=>{let[t,i]=e;return Object(v.jsxs)("div",{className:Ch,children:[Object(v.jsx)("svg",{className:hh,width:300,height:150,children:Object(v.jsxs)("g",{className:jh,children:[Object(v.jsx)("text",{className:fh,x:150,y:"16",children:t}),Object(v.jsx)(Eh,{}),i.map((e,t)=>{let{actualDuration:o,key:i}=e;return Object(v.jsx)("line",{className:Se()({[Sh]:0===o}),x1:t,x2:t,y1:150,y2:150-Math.max(o,2)},i)})]})}),Object(v.jsxs)("select",{className:vh,onChange:a,value:o,children:[Object(v.jsx)("option",{value:250,children:"250ms"}),Object(v.jsx)("option",{value:500,children:"500ms"}),Object(v.jsx)("option",{value:1e3,children:"1s"}),Object(v.jsx)("option",{value:2e3,children:"2s"})]})]},t)})})}function Th(e){let{prefs:t}=e;if(!t.profilerStats)return null;return Object.keys(bh.b).length?Object(v.jsx)(xh,{}):null}Th.propTypes={prefs:a.a.object};var Lh=Object(C.b)(Object(r.b)("selectPrefs",Th)),kh="roomLayoutContainer-rXED",_h="content-t8Rd",Nh="bar-rK7H",wh="noTransition-yGKH",Ah="isFloating-KcgW",Dh="top-MAsc",Ph="hidden-XF+e",Mh="bottom-0y1b",Fh="needsBackground-YFlh",Bh="reduceEffects-Sg2o",qh="SkipContentButton-6cqG",zh="buttonText-1JGo";function Gh(e){let{targetRef:t,className:o}=e;return Object(v.jsx)(c.k,{className:Se()(qh,o),onClick:()=>{if(t&&t.current){const e=t.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0&&e[0].focus()}else{const e=document.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=Array.from(e).indexOf(document.activeElement),o=t+1;if(t+1<e.length){e[o].focus()}}},modifiers:["grey","small"],"data-testid":"SkipContentButton",children:Object(v.jsx)("span",{className:zh,children:Object(v.jsx)(d.Localized,{id:"SkipContentButton-skip-participants",children:"Skip participants"})})})}Gh.propTypes={className:a.a.string,targetRef:a.a.object};const Uh=()=>{};function Hh(){return Ut.a.has("TopToolbar.")}function Vh(e){let{bottomToolbar:t,bottomToolbarHeight:o,canFitToolbars:i=!0,doSetFloatingBottomToolbarActive:a=Uh,doSetFloatingTopToolbarActive:s=Uh,frame:r,frameOffsetTop:c=0,isBottomToolbarFloating:l=!1,isBottomToolbarHidden:d=!1,isBottomToolbarPinned:u=!1,isFloatingBottomToolbarActive:m=!1,isFloatingTopToolbarActive:p=!1,isScrollTriggered:b=!1,isTopToolbarFloating:g=!1,isTopToolbarHidden:h=!1,isTouchDevice:j=!1,onClick:f=Uh,overflowHeight:O=0,reduceEffects:S=!1,topToolbar:R,topToolbarHeight:C,videoStage:y}=e;const I=Object(n.useRef)(!1),E=Object(n.useRef)(!1),x=Object(n.useRef)(0),T=Object(Bl.a)(b),L=Object(n.useRef)(null);Object(n.useEffect)(()=>{const e=Hh();!e&&p&&b!==T?s(!1):e&&!p&&b!==T&&s(!0)},[b,T,p,s]);const k=g||l,_=g||!R?0:C,N=l||!t?0:o,w=r.bounds.height-_-N,A={height:C,width:r.bounds.width,top:g||b?c:0,...!R&&{display:"none"}},D={height:o,width:r.bounds.width,...!l&&{top:_+w},...!t&&{display:"none"}},P={top:_,height:w+O,width:r.bounds.width},M={position:"absolute",top:_},F=Object(n.useCallback)(()=>{Hh()?I.current=!0:s(!1)},[s]),B=Object(n.useCallback)(()=>{Ut.a.has("BottomToolbar.")?E.current=!0:a(!1)},[a]),q=g||b,z=22+c,G=C+c,U=Object(n.useCallback)(e=>{q&&!p&&e<=z?s(!0):q&&p&&e>G?F():!m&&e>=r.bounds.height-(u?o:22)?a(!0):m&&e<r.bounds.height-o&&B()},[q,p,z,G,m,r.bounds.height,u,o,s,F,a,B]);return Object(n.useEffect)(()=>Ut.a.subscribe("TopToolbar.",()=>{j||U(x.current)}),[U,j]),Object(n.useEffect)(()=>Ut.a.subscribe("BottomToolbar.",()=>{j||U(x.current)}),[U,j]),Object(n.useEffect)(()=>{if(k){const e=()=>{p&&F(),m&&B()};return document.addEventListener("mouseleave",e),()=>{document.removeEventListener("mouseleave",e)}}},[k,F,B,u,m,p]),Object(v.jsxs)("div",{className:kh,onClick:f,onMouseMove:k&&!j?e=>{e.clientY!==x.current&&(x.current=e.clientY,U(x.current))}:null,"data-testid":"RoomLayout",children:[Object(v.jsx)("div",{className:Se()(Nh,Dh,{[Ah]:g||b,[Fh]:g||b,[Ph]:(h||b&&i)&&!p,[Bh]:S,[wh]:T!==b}),style:A,children:R}),Object(v.jsx)("div",{style:M,children:Object(v.jsx)(Gh,{targetRef:L})}),Object(v.jsx)("div",{className:_h,style:P,children:y}),Object(v.jsx)("div",{ref:L,className:Se()(Nh,Mh,{[Ah]:l,[Fh]:!l&&!i,[Ph]:j&&d||l&&!u&&!m,[Bh]:S}),style:D,children:t})]})}Vh.propTypes={bottomToolbar:a.a.element,bottomToolbarHeight:a.a.number.isRequired,canFitToolbars:a.a.bool,doSetFloatingBottomToolbarActive:a.a.func,doSetFloatingTopToolbarActive:a.a.func,frame:l.d,frameOffsetTop:a.a.number,isBottomToolbarFloating:a.a.bool,isBottomToolbarHidden:a.a.bool,isBottomToolbarPinned:a.a.bool,isFloatingBottomToolbarActive:a.a.bool,isFloatingTopToolbarActive:a.a.bool,isScrollTriggered:a.a.bool,isTopToolbarFloating:a.a.bool,isTopToolbarHidden:a.a.bool,isTouchDevice:a.a.bool,onClick:a.a.func,overflowHeight:a.a.number,reduceEffects:a.a.bool,topToolbar:a.a.element,topToolbarHeight:a.a.number.isRequired,videoStage:a.a.element.isRequired};var Wh=Vh,Kh="header-yDz5";var $h=function(){return Object(n.useEffect)(()=>{const e=setTimeout(()=>window.location.reload(!0),3e3);return()=>clearTimeout(e)},[]),Object(v.jsx)(c.G,{children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:Kh,children:Object(v.jsx)(d.Localized,{id:"RoomRefreshModal-header",children:"Updating room size..."})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"RoomRefreshModal-text",$sec:3,children:"This page will refresh in 3 seconds"})})]})})},Qh=o(159);function Yh(e,t){const{disableHysteresis:o=!1,threshold:i=100,target:a}=t,n=e.current;return a&&(e.current=void 0!==a.pageYOffset?a.pageYOffset:a.scrollTop),!(!o&&void 0!==n&&e.current<n)&&e.current>i}const Jh="undefined"!==typeof window?window:null;function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getTrigger:t=Yh,target:o=Jh,...i}=e,a=Object(n.useRef)(),[s,r]=Object(n.useState)(()=>t(a,i));return Object(n.useEffect)(()=>{const e=()=>{r(t(a,{target:o,...i}))};return e(),o.addEventListener("scroll",e),()=>{o.removeEventListener("scroll",e)}},[o,t,JSON.stringify(i)]),s}function Xh(e){let{breakoutIsEditing:t,coLocationIsEditing:o,doHandleLayoutClick:i,doInitPipRenderer:a,doPinBottomToolbar:s,doSetActiveSettingsDialogPane:r,doSetFloatingBottomToolbarActive:c,doSetFloatingTopToolbarActive:l,doSetPresenterLimitModalOpen:d,doSidebarPane:u,doTeardownPipRenderer:m,doToggleToolbars:p,documentPipContainer:b,hasBottomToolbar:g,hasTopToolbar:h,isBottomToolbarFloating:j,isBottomToolbarHidden:f,isBottomToolbarPinned:O,isDocumentPipOpen:S,isFloatingBottomToolbarActive:R,isFloatingTopToolbarActive:C,isPeopleOpen:y,isPresenterLimitModalOpen:I,isSidebarOpen:E,isTopToolbarFloating:x,isTopToolbarHidden:T,isTouchDevice:L,isTownhallMode:k,layoutBottomToolbarBounds:_,layoutCanFitToolbars:N,layoutIsConstrained:w,layoutIsPortrait:A,layoutIsSidebarFloating:D,layoutRoomBottomMargin:P,layoutRoomFrame:M,layoutStageFrame:F,layoutTopToolbarBounds:B,layoutVideoStageFrame:q,layoutVideoStageOverflowHeight:z,layoutVideoStagePaddings:G,layoutWindowFrame:U,prefs:H,roomRefreshing:V,shouldBlockKeyboardShortcuts:W,townhallPresenterLimit:K}=e;Object(n.useEffect)(()=>(a(),m),[a,m]);const $=Zh({threshold:0,disableHysteresis:!0}),Q=Zh({threshold:B.height,disableHysteresis:!0}),Y=C&&!Q?!(!Q&&!$):Q,J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"media";return r(e)},Z=()=>u(!y||t||o?Ht.h:null),X=h?Object(v.jsx)(ki,{bounds:B,areToolbarsHidden:T&&f,doToggleToolbars:p,onSettingsClick:J,onStatusClick:()=>r("room"),onToggleParticipantList:Z}):null,ee=!L&&j,te=g?Object(v.jsx)(Xs,{bounds:_,canPinBottomToolbar:ee,isBottomToolbarHover:R,isBottomToolbarPinned:O,isFloating:j,onPinBottomToolbar:s,onSettingsClick:J,onToggleParticipantList:Z}):null,oe=Object(v.jsx)(bh.a,{id:"VideoStage",children:Object(v.jsx)(bu,{containerPaddings:G,frame:q,isPip:!1,windowFrame:U})}),ie=E?Object(v.jsx)(ph.a,{isConstrained:w}):null,ae=Object(v.jsx)(Wh,{bottomToolbar:te,bottomToolbarHeight:_.height,canFitToolbars:N,doSetFloatingBottomToolbarActive:c,doSetFloatingTopToolbarActive:l,frame:F,frameOffsetTop:M.origin.top,isBottomToolbarFloating:j,isBottomToolbarHidden:f,isBottomToolbarPinned:O,isFloatingBottomToolbarActive:R,isFloatingTopToolbarActive:C,isScrollTriggered:Y,isTopToolbarFloating:x,isTopToolbarHidden:T,isTouchDevice:L,onClick:i,reduceEffects:!H.effects,topToolbar:X,topToolbarHeight:B.height,videoStage:oe,overflowHeight:z}),ne=function(e){let{frame:t,containerFrame:o,containerBottomMargin:i,overflowHeight:a}=e;return{width:t.bounds.width,height:t.bounds.height+a+i,paddingLeft:t.origin.left,paddingRight:o.bounds.width-t.bounds.width-t.origin.left,paddingTop:t.origin.top,paddingBottom:o.bounds.height-t.bounds.height-t.origin.top}}({frame:M,containerFrame:U,containerBottomMargin:P,overflowHeight:z}),se=M.origin.top+(X&&!T&&!Y||C?B.height+(Y?8:0):8);return Object(v.jsxs)("div",{style:ne,children:[!W&&Object(v.jsx)(Pi,{onToggleToolbars:p}),Object(v.jsx)(Lh,{}),Object(v.jsx)(Ee,{topPadding:se,isSidebarOpen:E&&!w&&!D,children:Object(v.jsx)(Yg,{})}),Object(v.jsx)(Qh.a,{content:ae,frame:M,hasTopToolbar:h,isConstrained:w,isPortrait:A,isSidebarFloating:D,sidebar:ie,sidebarWidth:yi.SIDEBAR_WIDTH}),V&&Object(v.jsx)($h,{}),k&&I&&Object(v.jsx)(pt,{onClose:()=>d(!1),presenterLimit:K}),Object(v.jsx)(Rt,{}),Object(v.jsx)(mh,{}),S&&b?Object(rt.createPortal)(Object(v.jsx)(bu,{containerPaddings:G,frame:q,isPip:!0,windowFrame:U}),b):null]})}Xh.propTypes={breakoutIsEditing:a.a.bool.isRequired,coLocationIsEditing:a.a.bool.isRequired,doHandleLayoutClick:a.a.func.isRequired,doInitPipRenderer:a.a.func.isRequired,doPinBottomToolbar:a.a.func.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,doSetFloatingBottomToolbarActive:a.a.func.isRequired,doSetFloatingTopToolbarActive:a.a.func.isRequired,doSetPresenterLimitModalOpen:a.a.func.isRequired,doSidebarPane:a.a.func.isRequired,doTeardownPipRenderer:a.a.func.isRequired,doToggleToolbars:a.a.func.isRequired,documentPipContainer:a.a.object,hasBottomToolbar:a.a.bool.isRequired,hasTopToolbar:a.a.bool.isRequired,isBottomToolbarFloating:a.a.bool.isRequired,isBottomToolbarHidden:a.a.bool.isRequired,isBottomToolbarPinned:a.a.bool.isRequired,isDocumentPipOpen:a.a.bool.isRequired,isFloatingBottomToolbarActive:a.a.bool.isRequired,isFloatingTopToolbarActive:a.a.bool.isRequired,isPeopleOpen:a.a.bool.isRequired,isPresenterLimitModalOpen:a.a.bool.isRequired,isSidebarOpen:a.a.bool.isRequired,isTopToolbarFloating:a.a.bool.isRequired,isTopToolbarHidden:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,isTownhallMode:a.a.bool.isRequired,layoutBottomToolbarBounds:l.a.isRequired,layoutCanFitToolbars:a.a.bool.isRequired,layoutIsConstrained:a.a.bool.isRequired,layoutIsPortrait:a.a.bool.isRequired,layoutIsSidebarFloating:a.a.bool.isRequired,layoutRoomBottomMargin:a.a.number.isRequired,layoutRoomFrame:l.d.isRequired,layoutStageFrame:l.d.isRequired,layoutTopToolbarBounds:l.a.isRequired,layoutVideoStageFrame:l.d.isRequired,layoutVideoStageOverflowHeight:a.a.number.isRequired,layoutVideoStagePaddings:l.b,layoutWindowFrame:l.d.isRequired,prefs:a.a.object.isRequired,roomRefreshing:a.a.bool.isRequired,shouldBlockKeyboardShortcuts:a.a.bool.isRequired,townhallPresenterLimit:a.a.number.isRequired};var ej=Object(r.b)("doHandleLayoutClick","doInitPipRenderer","doPinBottomToolbar","doSetActiveSettingsDialogPane","doSetFloatingBottomToolbarActive","doSetFloatingTopToolbarActive","doSetPresenterLimitModalOpen","doSidebarPane","doTeardownPipRenderer","doToggleToolbars","selectBreakoutIsEditing","selectCoLocationIsEditing","selectDocumentPipContainer","selectHasBottomToolbar","selectHasTopToolbar","selectIsBottomToolbarFloating","selectIsBottomToolbarHidden","selectIsBottomToolbarPinned","selectIsDocumentPipOpen","selectIsFloatingBottomToolbarActive","selectIsFloatingTopToolbarActive","selectIsPeopleOpen","selectIsPresenterLimitModalOpen","selectIsSidebarOpen","selectIsTopToolbarFloating","selectIsTopToolbarHidden","selectIsTouchDevice","selectIsTownhallMode","selectLayoutBottomToolbarBounds","selectLayoutCanFitToolbars","selectLayoutIsConstrained","selectLayoutIsPortrait","selectLayoutIsSidebarFloating","selectLayoutRoomBottomMargin","selectLayoutRoomFrame","selectLayoutStageFrame","selectLayoutTopToolbarBounds","selectLayoutVideoStageFrame","selectLayoutVideoStageOverflowHeight","selectLayoutVideoStagePaddings","selectLayoutWindowFrame","selectPrefs","selectRoomRefreshing","selectShouldBlockKeyboardShortcuts","selectTownhallPresenterLimit",Xh),tj={CoLocationLoudSpeakerDialog:"CoLocationLoudSpeakerDialog-8FEK",header:"header-VXOB",content:"content-wAXM",iconWrapper:"iconWrapper-08Q7",footer:"footer-Cvtc"};function oj(e){let{coLocationCurrentGroup:t,coLocationCurrentGroupHasLoudSpeaker:o,doCoLocationLoudSpeakersUpdate:i,localClientId:a,onDismiss:n}=e;return t?Object(v.jsxs)(c.G,{className:tj.CoLocationLoudSpeakerDialog,onClickClose:n,children:[Object(v.jsxs)(c.G.Header,{className:tj.header,children:[Object(v.jsx)("div",{className:tj.iconWrapper,children:Object(v.jsx)(c.Y,{className:tj.icon,modifiers:["light","sized"]})}),o?Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-title-remove",$groupName:t.name,children:Object(v.jsxs)("span",{children:["Remove the main loudspeaker for ",t.name]})}):Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-title",$groupName:t.name,children:Object(v.jsxs)("span",{children:["Become the main loudspeaker for ",t.name]})})]}),Object(v.jsx)(c.G.Body,{children:Object(v.jsx)("div",{className:tj.content,children:o?Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-body-remove",children:"Remove the main loudspeaker and use all devices instead."}):Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-body",children:Object(v.jsx)("span",{children:"You can make your device the main loudspeaker for your location. If so, make sure to increase your loudspeaker volume."})})})}),Object(v.jsx)(c.G.Footer,{className:tj.footer,children:o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-button-remove",children:Object(v.jsx)(c.k,{modifiers:["full","negative"],onClick:()=>{i({groupId:t.id,loudSpeaker:null}),n()},children:"Yes, remove"})}),Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-button-cancel-loudspeaker",children:Object(v.jsx)(c.k,{modifiers:["outlined","full"],onClick:n,children:"Cancel"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-button-accept",children:Object(v.jsx)(c.k,{modifiers:["full"],onClick:()=>{i({groupId:t.id,loudSpeaker:a}),n()},children:"Use my device"})}),Object(v.jsx)(d.Localized,{id:"CoLocationLoudSpeakerDialog-button-cancel",children:Object(v.jsx)(c.k,{modifiers:["outlined","full"],onClick:n,children:"Use all loudspeakers"})})]})})]}):null}oj.propTypes={coLocationCurrentGroup:a.a.object,coLocationCurrentGroupHasLoudSpeaker:a.a.bool.isRequired,doCoLocationLoudSpeakersUpdate:a.a.func.isRequired,localClientId:a.a.string.isRequired,onDismiss:a.a.func.isRequired};var ij=Object(C.c)(Object(r.b)("doCoLocationLoudSpeakersUpdate","selectCoLocationCurrentGroup","selectCoLocationCurrentGroupHasLoudSpeaker","selectLocalClientId",oj)),aj="dialog-RaMs",nj="body-H3ge",sj="header-3AA7",rj="copy-Yzap",cj="input-mP2b",lj="errorText-64BR",dj="footer-9y7s";const uj=e=>{let{isLoggedIn:t,name:o,onClose:i,onSave:a,placeholderName:s}=e;const[r,l]=Object(n.useState)(o||""),u=Object(n.useMemo)(()=>Object(Kl.a)(r),[r]),m=e=>{e.preventDefault(),u||a(r.trim())},p=Object(v.jsx)(c.d,{href:"/user/profile",target:"_blank",children:"profile"}),b=r!==o;return Object(v.jsx)(c.G,{onClickClose:i,className:aj,children:Object(v.jsxs)(c.G.Body,{className:nj,children:[Object(v.jsx)(d.Localized,{id:"DisplayNameDialog-title",children:Object(v.jsx)("h1",{className:sj,children:"Set display name"})}),Object(v.jsxs)("p",{className:rj,children:[!t&&Object(v.jsx)(d.Localized,{id:"DisplayNameDialog-text-signed-out",children:Object(v.jsx)(v.Fragment,{children:"This is the name shown to everyone in the room:"})}),t&&Object(v.jsx)(d.Localized,{id:"DisplayNameDialog-text-signed-in",profileLink:p,children:Object(v.jsxs)(v.Fragment,{children:["This is the name shown to everyone in the room. If you don\u2019t enter one we\u2019ll use the name set in your ",p,":"]})})]}),Object(v.jsx)("form",{onSubmit:m,autoComplete:"off",className:"jstest-nameprompt",children:Object(v.jsx)(d.Localized,{id:"DisplayNameDialog-input",attrs:{label:!0},children:Object(v.jsx)(c.Rb,{autoCapitalize:"sentences",autoComplete:"username",autoCorrect:"off",autoFocus:Object(R.a)(),className:cj,label:"Display name",maxLength:100,name:"nickname",onChange:l,placeholder:s,spellCheck:!1,value:r,visuallyHiddenLabel:!0,modifiers:u?["error"]:[]})})}),!!u&&Object(v.jsx)("div",{className:lj,children:u.message}),Object(v.jsx)("div",{className:dj,children:Object(v.jsx)(d.Localized,{id:"DisplayNameDialog-button-save",children:Object(v.jsx)(c.k,{disabled:!b||!!u,modifiers:["full","small","primary"],onClick:m,children:"Save"})})})]})})};uj.propTypes={isLoggedIn:a.a.bool.isRequired,name:a.a.string,onClose:a.a.func.isRequired,onSave:a.a.func.isRequired,placeholderName:a.a.string.isRequired};const mj=e=>{let{displayName:t,doSetLocalDisplayName:o,doToggleDisplayNameDialog:i,user:a}=e;const n=!(!a||!a.userId),s=a&&a.displayName||"Guest",r=t===s?null:t;return Object(v.jsx)(uj,{onClose:i,onSave:e=>{o(e),i()},isLoggedIn:n,name:r,placeholderName:s})};mj.propTypes={displayName:a.a.string,doSetLocalDisplayName:a.a.func.isRequired,doToggleDisplayNameDialog:a.a.func.isRequired,user:a.a.object};var pj=Object(C.c)(Object(r.b)("doSetLocalDisplayName","doToggleDisplayNameDialog","selectDisplayName","selectUser",mj)),bj="dialog-oM2f",gj="body-vDfX",hj="title-1EqI",jj="text-Gti+",fj="inputWrapper-X5S-",Oj="embedLink-uFWp",Sj="copyButton-Y5NY",Rj="footer-mmVs",Cj="footerTitle-rxMd",vj="footerText-y6Z2",yj="learnMoreLink-AK8Y",Ij="footerConsentText-zw92",Ej="footerButtons-z3re",xj="optInButton-Bowo",Tj="optOutButton-1mHN",Lj=o(255),kj=o.n(Lj);function _j(e){let{doEmbedInstructionsConsent:t}=e;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:Cj,children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-footer-consent-title",children:"Help us improve"})}),Object(v.jsx)("p",{className:Ij,children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-footer-consent-text",children:"I want to contribute to improving Whereby by receiving user research surveys and invitations to participate in user research activities."})}),Object(v.jsxs)("div",{className:Ej,children:[Object(v.jsx)(c.k,{className:xj,onClick:()=>t({optedIn:!0}),modifiers:["small"],children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-consent-opt-in-button",children:"Opt in"})}),Object(v.jsx)(c.k,{className:Tj,onClick:()=>t({optedIn:!1}),modifiers:["small","outlined"],children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-consent-opt-out-button",children:"No thanks"})})]})]})}function Nj(e){let{consentsIsFetching:t,consentsUserResearchIsAccepted:o,doConsentsFetch:i,doEmbedInstructionsConsent:a,onDismiss:s,persisted:r,roomName:l}=e;const u=location.origin+l,m=!t&&!o&&!r.embedInstructionsUserResearchConsent;return Object(n.useEffect)(()=>{i()},[i]),Object(v.jsxs)(c.G,{onClickClose:s,className:bj,children:[Object(v.jsxs)(c.G.Body,{className:gj,children:[Object(v.jsx)("header",{className:hj,children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-title",children:"Embed"})}),Object(v.jsxs)(_r.a,{children:[Object(v.jsx)(_r.a.Text,{children:Object(v.jsx)("div",{className:jj,children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-body",children:"Embed and host Whereby meetings on your own website."})})}),!m&&Object(v.jsxs)("div",{className:fj,children:[Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-iframe-label",attrs:{label:!0},children:Object(v.jsx)(_r.a.Url,{as:"textarea",className:Oj,url:`<iframe src="${u}" allow="camera; microphone; fullscreen; speaker; display-capture; compute-pressure"></iframe>`,label:"Iframe code with meeting link"})}),Object(v.jsx)(_r.a.Button,{as:c.k,className:Sj,embedInstructions:!0,modifiers:["full"],roomName:l})]})]})]}),Object(v.jsx)(c.G.Footer,{className:Rj,children:m?Object(v.jsx)(_j,{doEmbedInstructionsConsent:a}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:vj,children:Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-footer-text",children:"Use our simple API and get more flexibility and control with Whereby Embedded."})}),Object(v.jsx)(d.Localized,{id:"EmbedInstructionsDialog-learn-more-link",children:Object(v.jsx)(c.d,{className:yj,href:Bt.a.service+"/information/embedded/?utm_source=embed-instructions",target:"_blank",children:"Learn more"})})]}),Object(v.jsx)("img",{src:kj.a,width:40,height:40,alt:""})]})})]})}_j.propTypes={doEmbedInstructionsConsent:a.a.func.isRequired},Nj.propTypes={consentsIsFetching:a.a.bool.isRequired,consentsUserResearchIsAccepted:a.a.bool.isRequired,doConsentsFetch:a.a.func.isRequired,doEmbedInstructionsConsent:a.a.func.isRequired,onDismiss:a.a.func.isRequired,persisted:a.a.object.isRequired,roomName:a.a.string.isRequired};var wj=Object(C.c)(Object(r.b)("doEmbedInstructionsConsent","doConsentsFetch","selectConsentsIsFetching","selectConsentsUserResearchIsAccepted","selectPersisted",Nj)),Aj={title:"title-s0fM",text:"text-oZHj",footer:"footer--7eS"};const Dj=e=>{let{doBreakoutRequestEnd:t,doBreakoutSessionUpdate:o}=e;const i=()=>t(!1);return Object(v.jsx)(c.G,{className:Aj.dialog,onClickClose:i,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:Aj.title,children:Object(v.jsx)(d.Localized,{id:"EndBreakoutDialog-title",children:"End breakout session"})}),Object(v.jsx)("p",{className:Aj.text,children:Object(v.jsx)(d.Localized,{id:"EndBreakoutDialog-text",children:"Do you want to end the breakout session?"})}),Object(v.jsxs)("div",{className:Aj.footer,children:[Object(v.jsx)(d.Localized,{id:"EndBreakoutDialog-button-accept",children:Object(v.jsx)(c.k,{modifiers:["full","small","negative"],onClick:()=>o({active:!1,breakoutNotification:"breakout_stopped"}),className:"js-test-end-breakout-accept-button",children:"Yes, end"})}),Object(v.jsx)(d.Localized,{id:"EndBreakoutDialog-button-cancel",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","grey"],onClick:i,children:"Cancel"})})]})]})})};Dj.propTypes={doBreakoutRequestEnd:a.a.func.isRequired,doBreakoutSessionUpdate:a.a.func.isRequired};var Pj=Object(C.c)(Object(r.b)("doBreakoutRequestEnd","doBreakoutSessionUpdate",Dj)),Mj="container-bLKp",Fj="logo-nPqt",Bj=o(256),qj=o.n(Bj);function zj(e){let{doRequestIdPortenLogin:t,idPortenTokenExpired:o}=e;const i=Object(v.jsx)(d.Localized,{id:"PrecallIdPortenPrompt-login-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:t,modifiers:["full","small"],children:"Log in with ID-porten"})});return Object(v.jsx)(it.a,{children:Object(v.jsx)(at.a,{footer:i,children:Object(v.jsxs)("div",{className:Mj,children:[Object(v.jsx)("img",{alt:"ID-porten",className:Fj,src:qj.a}),o?Object(v.jsx)(d.Localized,{id:"PrecallIdPortenPrompt-token-expired-error",children:"Your session expired, you\u2019ll need to verify your identity through ID-porten again"}):Object(v.jsx)(d.Localized,{id:"PrecallIdPortenPrompt-text",children:Object(v.jsx)(v.Fragment,{children:"You\u2019ll need to verify your identity through ID-porten to join this meeting"})})]})})})}zj.propTypes={doRequestIdPortenLogin:a.a.func.isRequired,idPortenTokenExpired:a.a.bool.isRequired};var Gj=Object(r.b)("doRequestIdPortenLogin","selectIdPortenTokenExpired",zj),Uj="notice-iD9+",Hj="knockResponse-r6F0";function Vj(e){let{doKnockCancel:t}=e;return Object(v.jsx)("footer",{className:"jstest-knocker-waiting-footer",children:Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-status-waiting-button",children:Object(v.jsx)(c.k,{onClick:t,modifiers:["small","full","outlined","meetingRed"],children:"Cancel"})})})}Vj.propTypes={doKnockCancel:a.a.func.isRequired};var Wj=Vj;var Kj=function(e){switch(e){case"waiting":return Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-status-waiting",children:Object(v.jsx)("span",{className:"jstest-waiting-for-reply-text",children:"Waiting for reply\u2026"})});case"on_hold":return Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-status-hold",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{className:"jstest-on-hold-knocker-notification",children:["Your knock has been noticed and you\u2019ve been ",Object(v.jsx)("strong",{children:"put on hold"}),". Please wait to be let in."]})});case"rejected":return Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-status-rejected",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)("span",{className:"jstest-knocker-rejected-notification",children:[Object(v.jsx)("strong",{children:"You\u2019ve not been granted access"}),". If you were invited to this room, please contact the person who invited you"]})})}return Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-status-unknown",$knockStatus:e,children:Object(v.jsxs)("span",{children:["Unknown knock status ",e]})})},$j="title-DhNC",Qj="description-+-Iv",Yj="KnockResponse-E7DJ",Jj="description-ctQC",Zj="message-vetW",Xj="senderAvatar-nSZf",ef="placeholderAvatar-wpWR",tf="messageContent-eTNv";function of(e){let{className:t,knockResponse:o}=e;return o.message?Object(v.jsxs)("div",{className:t,children:[Object(v.jsx)("div",{className:Jj,children:o.sender.displayName?Object(v.jsx)(d.Localized,{id:"KnockResponse-message-title",$displayName:o.sender.displayName,children:Object(v.jsxs)("span",{children:["Message from ",o.sender.displayName]})}):Object(v.jsx)(d.Localized,{id:"KnockResponse-message-title-anonymous",children:"Message from the host"})}),Object(v.jsxs)("div",{className:Zj,children:[o.sender.avatarUrl?Object(v.jsx)("img",{alt:"",className:Xj,src:o.sender.avatarUrl}):Object(v.jsx)("div",{className:Se()(Xj,ef),children:Object(v.jsx)(c.pb,{modifiers:["sized"]})}),Object(v.jsx)("div",{className:tf,children:o.message})]})]}):null}of.propTypes={className:a.a.string,knockResponse:a.a.object.isRequired};var af=of;function nf(e){let{knockResponse:t}=e;return Object(v.jsx)(c.G,{children:Object(v.jsx)(c.G.Body,{children:Object(v.jsxs)("div",{className:"jstest-knocker-rejected-notification",children:[Object(v.jsx)("h1",{className:$j,children:Object(v.jsx)(d.Localized,{id:"KnockRejected-dialog-title",children:"The host did not grant you access"})}),Object(v.jsx)("p",{className:Qj,children:Object(v.jsx)(d.Localized,{id:"KnockRejected-dialog-description",children:"If you were invited to this room, please contact the person who invited you."})}),Object(v.jsx)(af,{className:Yj,knockResponse:t})]})})})}nf.propTypes={knockResponse:a.a.object.isRequired};var sf=nf,rf=o(66),cf=o(75);function lf(){return Object(v.jsx)(cf.a,{headerText:Object(v.jsx)(d.Localized,{id:"RoomMeetingTimeExhausted-title",children:"This room is unavailable for now"}),bodyText:Object(v.jsx)(d.Localized,{id:"RoomMeetingTimeExhausted-body",children:"This Whereby Free room has reached its 45 minute limit. The room will be available for new meetings soon."}),severity:"info"})}var df="container-70Lm",uf="dashboardButton-GxD+";function mf(e){let{doConcurrencyErrorCancelClickedAnalytics:t,doConcurrencyErrorDisplayedAnalytics:o,doConcurrencyErrorLeaveRoomClickedAnalytics:i,doSetPrecallKickFromOtherRooms:a,onCancel:s,onContinue:r}=e;Object(n.useEffect)(()=>o(),[o]);return Object(v.jsx)(it.a,{showRoomName:!0,children:Object(v.jsxs)(at.a,{className:df,children:[Object(v.jsx)("h1",{children:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-concurrency-title",children:"Oops. You\u2019re double booked!"})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-concurrency-body",children:"It looks like you\u2019re already in another room. To enter this room, you can leave the other meeting, or sign in with a different account."})}),Object(v.jsx)(c.k,{className:uf,onClick:()=>{i(),a(!0),r&&r()},modifiers:["full","small"],children:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-concurrency-join",children:"Join this meeting"})}),Object(v.jsx)(c.k,{onClick:()=>{t(),s()},modifiers:["invisible","full","negative"],children:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-concurrency-cancel",children:"Cancel"})})]})})}mf.propTypes={doConcurrencyErrorCancelClickedAnalytics:a.a.func.isRequired,doConcurrencyErrorDisplayedAnalytics:a.a.func.isRequired,doConcurrencyErrorLeaveRoomClickedAnalytics:a.a.func.isRequired,doSetPrecallKickFromOtherRooms:a.a.func.isRequired,onCancel:a.a.func.isRequired,onContinue:a.a.func};var pf=Object(r.b)("doConcurrencyErrorCancelClickedAnalytics","doConcurrencyErrorDisplayedAnalytics","doConcurrencyErrorLeaveRoomClickedAnalytics","doSetPrecallKickFromOtherRooms",mf);function bf(e){let{audioId:t,doKnockCancel:o,isSelfieCam:i,isVideoWanted:a,knockStatus:n,knockResponse:s,localStream:r,localStreamError:l,mediaPermissionStatus:d,videoId:u,knockImageUrl:m,doKnock:p,doKnockErrorReset:b}=e;if("rejected"===n)return Object(v.jsx)(sf,{knockResponse:s});if("room_meeting_time_exhausted_error"===n)return Object(v.jsx)(lf,{});if("room_concurrency_control_error"===n)return Object(v.jsx)(pf,{onContinue:()=>{p(m)},onCancel:()=>{b()}});const g=!!l,h=null===u&&null===t,j=Object(v.jsx)(Wj,{doKnockCancel:o});return Object(v.jsx)(it.a,{children:Object(v.jsxs)(at.a,{footer:j,children:[Object(v.jsx)(rf.b,{audioId:t,isBlocked:g||h,mediaPermissionStatus:d,localStream:r,videoId:u,mirror:i,shouldShowVideo:a}),Object(v.jsx)(c.a,{variant:"info",className:Uj,children:Object(v.jsx)(c.b,{children:Kj(n)})}),Object(v.jsx)(af,{className:Hj,knockResponse:s})]})})}bf.propTypes={audioId:a.a.string,doKnock:a.a.func.isRequired,doKnockCancel:a.a.func.isRequired,doKnockErrorReset:a.a.func.isRequired,isSelfieCam:a.a.bool.isRequired,isVideoWanted:a.a.bool.isRequired,knockImageUrl:a.a.string,knockResponse:a.a.object.isRequired,knockStatus:a.a.string.isRequired,localStream:a.a.object.isRequired,localStreamError:a.a.object,mediaPermissionStatus:a.a.string.isRequired,videoId:a.a.string};var gf=Object(r.b)("doKnock","doKnockCancel","doKnockErrorReset","selectAudioId","selectIsSelfieCam","selectIsVideoWanted","selectKnockImageUrl","selectKnockResponse","selectKnockStatus","selectLocalStream","selectLocalStreamError","selectMediaPermissionStatus","selectVideoId",bf),hf=o(258),jf={NamePrompt:"NamePrompt-ESjQ",auth:"auth-WEJI",avatar:"avatar-fAnQ",loginButton:"loginButton-Z7AB",paragraph:"paragraph-DONN",tos:"tos-geCr",tosLink:"tosLink-9CWq",errorText:"errorText-iRYq"};function ff(e){let{displayNameRaw:t,doSetPrecallNamePrompt:o,doSidebarLayerOpen:i,featureBrandAvatarsOn:a,isOmitOrganizationPrivacyPolicySupported:s,isTouchDevice:r,prefs:l}=e;const[u,m]=Object(n.useState)(t),p=Object(n.useMemo)(()=>Object(Kl.a)(u),[u]);function b(e){o(u&&u.trim()),e.preventDefault()}const g=Object(v.jsx)(c.d,{className:jf.tosLink,rel:"",href:Bt.a.service+"/information/tos/",target:"_blank",children:"Terms of Service"}),h=Object(v.jsx)(c.d,{className:jf.tosLink,rel:"",href:Bt.a.service+"/information/tos/privacy-policy/",target:"_blank",children:"Privacy Policy"}),j=Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-Continue-button",children:Object(v.jsx)(c.k,{className:"jstest-nameprompt-continue",onClick:b,modifiers:["full","small"],disabled:!!p,children:"Continue"})})});return Object(v.jsx)(it.a,{className:jf.dialog,children:Object(v.jsx)(at.a,{as:"form",autoComplete:"off",onSubmit:b,footer:j,children:Object(v.jsxs)("div",{className:jf.NamePrompt,children:[!!a&&Object(v.jsx)(ac.a,{name:u,className:jf.avatar,size:160}),Object(v.jsx)("div",{className:"jstest-nameprompt",children:Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-name-field",attrs:{placeholder:!0,label:!a},children:Object(v.jsx)(c.Rb,{autoCapitalize:"sentences",autoComplete:"username",autoCorrect:"off",autoFocus:!r,defaultValue:u,label:!a&&"Your name",maxLength:100,name:"nickname",onChange:m,placeholder:"Enter your name",spellCheck:!1,modifiers:p?["error"]:[]})})}),!!p&&Object(v.jsx)("div",{className:jf.errorText,children:p.message}),s?l.precallPrivacyPolicy?Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-privacy-policy-text",privacyPolicyLink:h,br:Object(v.jsx)("br",{}),children:Object(v.jsxs)("p",{className:Se()(jf.tos,jf.paragraph),children:["By using this service you agree to Whereby\u2019s",Object(v.jsx)("br",{}),h]})}):null:!1!==l.ageWarning?Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-terms-of-service-text-age-warning",toslink:g,children:Object(v.jsxs)("p",{className:Se()(jf.tos,jf.paragraph),children:["By using this service you agree to our ",g," and confirm that you are older than 16 years."]})}):Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-terms-of-service-text",toslink:g,children:Object(v.jsxs)("p",{className:Se()(jf.tos,jf.paragraph),children:["By using this service you agree to our ",g,"."]})}),!1!==l.userAuth&&Object(v.jsxs)("p",{className:Se()(jf.auth,jf.paragraph),children:[Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-login-text",children:Object(v.jsx)(v.Fragment,{children:"Have an account?"})}),Object(v.jsx)(d.Localized,{id:"PreCallNamePrompt-login-button",children:Object(v.jsx)(c.k,{modifiers:["link"],className:jf.loginButton,onClick:()=>i(Ht.c),type:"button",children:"Log in"})})]})]})})})}ff.propTypes={displayNameRaw:a.a.string,doSetPrecallNamePrompt:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,featureBrandAvatarsOn:a.a.bool,isOmitOrganizationPrivacyPolicySupported:a.a.bool.isRequired,isTouchDevice:a.a.bool.isRequired,prefs:a.a.object.isRequired};var Of=Object(r.b)("doSetPrecallNamePrompt","doSidebarLayerOpen","selectDisplayNameRaw","selectFeatureBrandAvatarsOn","selectIsOmitOrganizationPrivacyPolicySupported","selectIsTouchDevice","selectPrefs",ff),Sf="body-FvXl",Rf="footer-bSkT",Cf="list-qioj",vf="listItem-tkVQ",yf="title-VFgP";function If(e){let{coLocationIsAvailable:t,doRecordingConsent:o,doRecordingDialogsDismiss:i}=e;return Object(v.jsxs)(c.G,{onClickClose:i,children:[Object(v.jsxs)(c.G.Body,{className:Sf,children:[Object(v.jsx)(d.Localized,{id:"InCallStartRecording-title",children:Object(v.jsx)("header",{className:yf,children:"You\u2019re about to start recording"})}),Object(v.jsxs)("ul",{className:Cf,children:[Object(v.jsx)(d.Localized,{id:"InCallStartRecording-desc1",children:Object(v.jsx)("li",{className:vf,children:"Make sure all participants consent to being recorded"})}),Object(v.jsx)(d.Localized,{id:"InCallStartRecording-desc2",children:Object(v.jsx)("li",{className:vf,children:"You are responsible for storing the recordings securely and acknowledge that the recording may contain personal information of others"})}),t&&Object(v.jsx)(d.Localized,{id:"InCallStartRecording-desc3",children:Object(v.jsx)("li",{className:vf,children:"If you are co-located, the recording will not capture audio for others in the same co-location group. For the best results, ask a remote participant to record this meeting."})})]})]}),Object(v.jsx)(c.G.Footer,{className:Rf,children:Object(v.jsx)(d.Localized,{id:"InCallStartRecording-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["meetingRed","full","small"],className:Se()("jstest-recording-consent"),onClick:o,children:"Start recording"})})})]})}If.propTypes={coLocationIsAvailable:a.a.bool,doRecordingConsent:a.a.func.isRequired,doRecordingDialogsDismiss:a.a.func.isRequired};var Ef=If;function xf(e){let{coLocationAvailable:t,doRecordingConsent:o,doRecordingDialogsDismiss:i,recordingDialog:a}=e;return"consent"===a?Object(v.jsx)(Ef,{coLocationIsAvailable:t,doRecordingConsent:o,doRecordingDialogsDismiss:i}):null}xf.propTypes={coLocationAvailable:a.a.bool,doRecordingConsent:a.a.func.isRequired,doRecordingDialogsDismiss:a.a.func.isRequired,recordingDialog:a.a.string.isRequired};var Tf=Object(C.b)(Object(r.b)("doRecordingDialogsDismiss","doRecordingConsent","selectCoLocationAvailable","selectRecordingDialog",xf)),Lf="cameraPreviewContainer-fiRL",kf="settingsButton-9uXt",_f="effectsButton-MtqF",Nf="knockInstructionsWrapper-REfI",wf="knockInstructions-aUB7",Af="inputSelectorsWrapper-Yf-+",Df="videoControlsContainerWrapper-rFGB",Pf="videoControlsContainer-sPR7",Mf="loginButton-35o8",Ff="knockButton-ZsLT",Bf="cameraIcon--Na5",qf="errorMessage-hEOk",zf="cameraText-9kBb",Gf="paragraphWrapper-KnsF",Uf="coLocationWrapper-yNnY",Hf="coLocationText-dIMM",Vf="informationIconWrapper-h3j0",Wf="coLocationTooltipContent-fHJB",Kf=o(139),$f=o(140),Qf=o(137);function Yf(e){let{isExpanded:t,...o}=e;const i=t?Object(v.jsx)(c.D,{modifiers:["light","sized"]}):Object(v.jsx)(c.Db,{modifiers:["light","sized"]}),a=t?"Close":"Media Settings";return Object(v.jsx)(_t.b,{className:kf,icon:i,"aria-label":a,...o})}function Jf(e){return Object(v.jsx)(_t.b,{className:_f,icon:Object(v.jsx)(c.o,{modifiers:["sized"]}),"aria-label":"Effects",...e})}function Zf(e){let{audioDenoiserWanted:t,audioId:o,audioInputDevices:i,canAccessCamera:a,coLocationAvailable:s,coLocationIsCoLocated:r,doCaptureException:l,doCoLocationIsCoLocatedChange:u,doKnock:m,doReload:p,doRequestLocalStream:b,doSetActiveSettingsDialogPane:g,doSetPrecallReviewDone:h,doSetSpeaker:j,doSidebarLayerOpen:f,doSwitchLocalStream:O,doToggleAudioEnabled:S,doToggleVideoEnabled:C,isAudioWanted:y,isSelfieCam:I,isVideoWanted:E,knockError:x,localClient:T,localClientIsViewer:L,localStream:k,localStreamError:_,mediaPermissionStatus:N,preferSpeakerId:w,prefs:A,shouldShowCameraEffects:D,shouldShowKnockPage:P,speakerDevices:M,userId:F,videoId:B,videoInputDevices:q}=e;const[z,G]=Object(n.useState)(!P),[U,H]=Object(n.useState)(),V=Object(n.useCallback)(async e=>{if(e.preventDefault(),P){const e=E&&B?await ud(k).catch(H):void 0;m(e)}h()},[P,k,m,h,B,E]);Object(n.useEffect)(()=>{k||"granted"!==N||b()},[k,N,b]);const W=Object(n.useCallback)(e=>{O({videoId:e}),H()},[O]),K=Object(n.useCallback)(e=>O({audioId:e}),[O]),$=Object(n.useCallback)(e=>j(e),[j]),Q=!!_,Y=null===B&&null===o,J=!Q&&"prompt"===N,Z=!Q&&"granted"===N,X=e=>{"Enter"===e.key&&e.preventDefault()},ee=U&&U.message||(y&&E?void 0:Object(v.jsx)(d.Localized,{id:"PreCallReview-preview-caption-join-with",$devices:`${E?"":"cam"}${y?"":"mic"}`,children:Object(v.jsxs)(v.Fragment,{children:["Join with ",y||E?y?"cam":"mic":"cam and mic"," off"]})})),te=Object(v.jsxs)(v.Fragment,{children:[Q&&Object(v.jsx)(d.Localized,{id:"PreCallDevicePermissions-reload-try-again-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:()=>p("reviewTryAgain"),modifiers:["full","small"],className:"jstest-device-blocked-reload-button",children:"Cam / mic blocked. Try again"})}),J&&Object(v.jsx)(d.Localized,{id:"PreCallDevicePermissions-allow-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:b,modifiers:["full","small"],children:"Allow"})}),Z&&Object(v.jsxs)(v.Fragment,{children:[P&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{className:zf,children:[Object(v.jsx)(c.W,{modifiers:["sized"]}),Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-body-text-long",strong:Object(v.jsx)("strong",{}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("strong",{children:"This room is locked"}),". Knock to notify the host."]})})]})}),P?Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:V,modifiers:["full","small"],className:Se()("jstest-knock-button",Ff),children:Object(v.jsxs)(v.Fragment,{children:[B&&E&&Object(v.jsx)(c.q,{modifiers:["sized"],className:Bf}),Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-button",children:"Knock"})]})}):Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:V,modifiers:["full","small"],className:"jstest-join-room-button",children:Object(v.jsx)(d.Localized,{id:"PreCallReview-join-button",children:"Join meeting"})})]})]}),oe=P?Object(v.jsx)(d.Localized,{id:"PrecallReview-knock-coLocation-tooltip",children:"Let the host know there are co-located participants on this call."}):Object(v.jsx)(d.Localized,{id:"PrecallReview-join-coLocation-tooltip",children:"Turn this on if you have a meeting with co-located and remote participants."});return Object(v.jsxs)(it.a,{children:[Object(v.jsx)(nr,{}),Object(v.jsxs)(at.a,{footer:te,...Z||L?{as:"form",autoComplete:"off",onSubmit:V}:{},children:[Object(v.jsxs)("div",{className:Lf,children:[Object(v.jsx)(rf.b,{audioId:o,isBlocked:Q||Y,mediaPermissionStatus:N,localClientIsViewer:L,localStream:k,videoId:B,caption:ee,captionTop:!0,mirror:I,shouldShowVideo:E}),!Y&&!L&&Object(v.jsx)("div",{className:Df,children:Object(v.jsxs)("div",{className:Pf,children:[a&&Object(v.jsx)(Ka,{isButtonDisabled:!B,onToggle:()=>C(!E,{context:"reviewPage"}),isEnabled:E,hideLegend:!0}),Object(v.jsx)(mn,{audioId:o,isAudioMeterEnabled:!0,audioDenoiserEnabled:t,hideLegend:!0,isButtonDisabled:!o,isEnabled:y,onToggle:()=>S(!y,{context:"reviewPage"}),stream:k,videoId:B})]})}),(o||B)&&Object(v.jsxs)(v.Fragment,{children:[D&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Jf,{onClick:()=>g("effects")}),Object(v.jsx)(Yf,{isExpanded:!1,onClick:()=>g("media")})]}),!D&&P&&Object(v.jsx)(Yf,{isExpanded:z,onClick:()=>G(!z)})]})]}),x&&"internal_server_error"===x&&Object(v.jsx)(c.a,{className:qf,variant:"error",children:Object(v.jsx)(c.b,{children:Object(v.jsx)(d.Localized,{id:"PreCallReview-internal-server-error",children:"An unexpected error has occurred. Please try again or contact the room owner to let them know you\u2019re experiencing issues"})})}),(D||z)&&!Q&&T&&T.stream&&Object(v.jsxs)("div",{className:Af,children:[a&&Object(v.jsx)(Kf.a,{visuallyHiddenLabel:!0,onChangeCamera:W,videoInputDevices:q,videoId:B,handleKeyDown:X}),Object(v.jsx)($f.a,{visuallyHiddenLabel:!0,onChangeMic:K,audioId:o,videoId:B,audioInputDevices:i,stream:k,handleKeyDown:X}),Object(dn.a)()&&Object(v.jsx)(Qf.a,{visuallyHiddenLabel:!0,onChangeSpeaker:$,speakerDevices:M,speakerId:w,doCaptureException:l,showTestButton:!0,handleKeyDown:X}),s&&Object(v.jsxs)("div",{className:Uf,children:[Object(v.jsxs)("label",{htmlFor:"precall-review-knock-colocation",className:Hf,children:[Object(v.jsx)(On.a,{children:Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-coLocation-description-beta-badge",children:"Beta"})}),Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-coLocation-description",children:"This is a hybrid meeting"}),Object(v.jsx)(c.Tb,{content:Object(v.jsx)("div",{className:Wf,children:oe}),side:"bottom",children:Object(v.jsx)("button",{className:Vf,children:Object(v.jsx)(c.S,{modifiers:["sized"]})})})]}),Object(v.jsx)(c.Sb,{id:"precall-review-knock-co-location",isActive:r,onToggle:()=>u(!r)})]})]}),!D&&!z&&Z&&P&&Object(v.jsx)("div",{className:Se()(Nf,"jstest-knock-instructions"),children:Object(v.jsxs)("div",{className:wf,children:[Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-title",children:Object(v.jsx)("h1",{children:"This room is locked"})}),Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-body-text",children:Object(v.jsx)("p",{children:"Click knock and the host will let you in when they are ready."})}),!F&&!1!==A.userAuth&&Object(v.jsxs)("p",{children:[Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-login-text",children:Object(v.jsx)(v.Fragment,{children:"Is this your room?"})}),Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-login-button",children:Object(v.jsx)(c.k,{type:"button",modifiers:["link"],className:Mf,onClick:()=>f(Ht.c),children:"Log in"})})]})]})}),L&&Object(v.jsxs)("div",{className:Gf,children:[Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-body-viewer-header",strong:Object(v.jsx)("strong",{}),children:Object(v.jsx)("strong",{children:"You\u2019re joining this event as a viewer."})})}),Object(v.jsx)("p",{children:Object(v.jsx)(d.Localized,{id:"PreCallReview-knock-body-viewer-body",br:Object(v.jsx)("br",{}),children:Object(v.jsxs)(v.Fragment,{children:["We don\u2019t need access to your cam or mic. ",Object(v.jsx)("br",{}),"Simply click join below and enjoy."]})})})]})]})]})}Yf.propTypes={isExpanded:a.a.bool},Zf.propTypes={audioDenoiserWanted:a.a.bool.isRequired,audioId:a.a.string,audioInputDevices:a.a.arrayOf(Kt.a).isRequired,canAccessCamera:a.a.bool.isRequired,coLocationAvailable:a.a.bool.isRequired,coLocationIsCoLocated:a.a.bool.isRequired,doCaptureException:a.a.func.isRequired,doCoLocationIsCoLocatedChange:a.a.func.isRequired,doKnock:a.a.func.isRequired,doReload:a.a.func.isRequired,doRequestLocalStream:a.a.func.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,doSetPrecallReviewDone:a.a.func.isRequired,doSetSpeaker:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,doSwitchLocalStream:a.a.func.isRequired,doToggleAudioEnabled:a.a.func.isRequired,doToggleVideoEnabled:a.a.func.isRequired,isAudioWanted:a.a.bool.isRequired,isSelfieCam:a.a.bool.isRequired,isVideoWanted:a.a.bool.isRequired,knockError:a.a.string,localClient:a.a.object.isRequired,localClientIsViewer:a.a.bool.isRequired,localStream:a.a.object,localStreamError:a.a.object,mediaPermissionStatus:a.a.string.isRequired,preferSpeakerId:a.a.string,prefs:a.a.object.isRequired,shouldShowCameraEffects:a.a.bool.isRequired,shouldShowKnockPage:a.a.bool.isRequired,speakerDevices:a.a.arrayOf(Kt.h).isRequired,userId:a.a.string,videoId:a.a.string,videoInputDevices:a.a.arrayOf(Kt.j).isRequired};var Xf=Object(r.b)("doCaptureException","doKnock","doReload","doRequestLocalStream","doSetActiveSettingsDialogPane","doCoLocationIsCoLocatedChange","doSetPrecallReviewDone","doSetSpeaker","doSidebarLayerOpen","doSwitchLocalStream","doToggleAudioEnabled","doToggleVideoEnabled","selectAudioDenoiserWanted","selectAudioId","selectAudioInputDevices","selectCanAccessCamera","selectCoLocationAvailable","selectCoLocationIsCoLocated","selectIsAudioWanted","selectIsSelfieCam","selectIsVideoWanted","selectKnockError","selectLocalClient","selectLocalClientIsViewer","selectLocalStream","selectLocalStreamError","selectMediaPermissionStatus","selectOrganizationPermissions","selectPreferSpeakerId","selectPrefs","selectShouldShowCameraEffects","selectShouldShowKnockPage","selectSpeakerDevices","selectUserEmail","selectUserId","selectVideoId","selectVideoInputDevices",Zf),eO="PrivacyPolicyPage-jQM4",tO="paragraph-qsja",oO="privacyPolicyLink-nFqh";function iO(e){let{doPrecallAcceptPolicy:t}=e;const o=Object(v.jsx)(d.Localized,{id:"PrecallPrivacyPolicy-accept-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),onClick:t,modifiers:["full","small"],children:"I accept"})}),i=Object(v.jsx)(c.d,{className:oO,rel:"",href:Bt.a.service+"/information/tos/privacy-policy/",target:"_blank",children:"privacy policy"});return Object(v.jsx)(it.a,{children:Object(v.jsx)(at.a,{footer:o,children:Object(v.jsxs)("div",{className:eO,children:[Object(v.jsx)(d.Localized,{id:"PrecallPrivacyPolicy-title",children:Object(v.jsx)("h1",{children:"Privacy Policy"})}),Object(v.jsx)(d.Localized,{id:"PrecallPrivacyPolicy-text",privacyPolicyLink:i,children:Object(v.jsxs)("p",{className:tO,children:["Please consider making yourself familiar with the ",i," of Whereby, the provider of this video meeting."]})})]})})})}iO.propTypes={doPrecallAcceptPolicy:a.a.func.isRequired};var aO=Object(r.b)("doPrecallAcceptPolicy","selectIsPhoneResolution",iO),nO="body-Ny7E",sO="footer-vTwO",rO="title-4Y2U";function cO(e){let{doStreamingConsent:t,doStreamingDialogDismiss:o}=e;return Object(v.jsxs)(c.G,{onClickClose:o,children:[Object(v.jsxs)(c.G.Body,{className:nO,children:[Object(v.jsx)(d.Localized,{id:"InCallStartStreaming-title",children:Object(v.jsx)("header",{className:rO,children:"You\u2019re about to start streaming"})}),Object(v.jsx)(d.Localized,{id:"InCallStartStreaming-desc1",children:Object(v.jsx)("p",{children:"Make sure all participants consent to being broadcast."})})]}),Object(v.jsx)(c.G.Footer,{className:sO,children:Object(v.jsx)(d.Localized,{id:"InCallStartStreaming-button",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["meetingRed","full","small"],className:Se()("jstest-recording-consent"),onClick:t,children:"Go live"})})})]})}cO.propTypes={doStreamingConsent:a.a.func.isRequired,doStreamingDialogDismiss:a.a.func.isRequired};var lO=cO;function dO(e){let{doStreamingConsent:t,doStreamingDialogDismiss:o,streamingShouldShowConsentDialog:i}=e;return i?Object(v.jsx)(lO,{doStreamingConsent:t,doStreamingDialogDismiss:o}):null}dO.propTypes={doStreamingConsent:a.a.func.isRequired,doStreamingDialogDismiss:a.a.func.isRequired,streamingShouldShowConsentDialog:a.a.bool.isRequired};var uO=Object(C.b)(Object(r.b)("doStreamingConsent","doStreamingDialogDismiss","selectStreamingShouldShowConsentDialog",dO));function mO(){const e=Object(v.jsx)(c.d,{href:"/information/pricing/",rel:"noopener noreferrer",target:"_blank",children:"paid plans"});return Object(v.jsx)(cf.a,{headerText:Object(v.jsx)(d.Localized,{id:"ErrorPage-embed-free-room-title",children:"Oops. That room is on a free plan."}),bodyText:Object(v.jsx)(d.Localized,{id:"ErrorPage-embed-free-room-body",paidPlansLink:e,children:Object(v.jsxs)(v.Fragment,{children:["Embedding a room is only available on our ",e]})}),showRoomName:!0,severity:"warning"})}var pO=function(){return Object(v.jsx)(cf.a,{headerText:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-full-title",children:"Sorry, this room is full"}),bodyText:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-full-body",children:"We\u2019ve let the room owner know that someone attempted to enter. Please try to join the room again later"}),footer:Object(v.jsx)(c.k,{onClick:()=>document.location.reload(),modifiers:["full","small"],children:Object(v.jsx)(d.Localized,{id:"ErrorPage-room-full-button",children:"Try again"})}),severity:"warning",showRoomName:!0})};var bO=function(){return Object(v.jsx)(cf.a,{headerText:Object(v.jsx)(d.Localized,{id:"ErrorPage-max-viewer-limit-reached-title",children:"Sorry, the viewer limit is reached"}),bodyText:Object(v.jsx)(d.Localized,{id:"ErrorPage-max-viewer-limit-reached-body",children:"The limit of viewers in this event has been reached. Please try to join again later."}),footer:Object(v.jsx)(c.k,{onClick:()=>document.location.reload(),modifiers:["full","small"],children:Object(v.jsx)(d.Localized,{id:"ErrorPage-max-viewer-limit-reached-button",children:"Try again"})}),severity:"warning",showRoomName:!0})},gO=o(156),hO="notice-RdHT",jO="helpLink-iKTB";function fO(e){let{audioId:t,doCancelRoomJoin:o,doSidebarLayerOpen:i,isSelfieCam:a,localStream:n,localStreamError:s,mediaPermissionStatus:r,user:l,videoId:u}=e;const m=!(!l||!l.userId),p=Object(v.jsx)("footer",{className:"jstest-queue-waiting-footer",children:Object(v.jsx)(d.Localized,{id:"JoinQueuePage-queue-status-cancel-button",children:Object(v.jsx)(c.k,{onClick:()=>{o()},modifiers:["small","full","outlined","meetingRed"],"data-testid":"cancel-join",children:"Cancel"})})}),b=!!s,g=Object(v.jsx)(c.k,{type:"button",modifiers:["link"],onClick:()=>i(Ht.c),"data-testid":"login-button",children:"Log in"}),h=Object(v.jsx)(c.d,{className:jO,href:"https://whereby.helpscoutdocs.com/article/719-the-host-has-not-arrived",target:"_blank",rel:"noopener noreferrer",children:"Need further help?"});return Object(v.jsx)(it.a,{children:Object(v.jsxs)(at.a,{footer:p,children:[Object(v.jsx)(rf.b,{audioId:t,isBlocked:b,mediaPermissionStatus:r,localStream:n,videoId:u,mirror:a}),Object(v.jsx)(c.a,{variant:"info",className:hO,children:Object(v.jsx)(c.b,{children:m?Object(v.jsx)(d.Localized,{id:"JoinQueuePage-queue-user-status-note",br:Object(v.jsx)("br",{}),helpLink:h,children:Object(v.jsxs)(v.Fragment,{children:["The room owner has not arrived yet.",Object(v.jsx)("br",{}),"Once the room owner arrives, you will enter the room and the meeting will begin.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),h]})}):Object(v.jsx)(d.Localized,{id:"JoinQueuePage-queue-guest-status-note",br:Object(v.jsx)("br",{}),loginButton:g,helpLink:h,children:Object(v.jsxs)(v.Fragment,{children:["The room owner has not arrived yet.",Object(v.jsx)("br",{}),"Once the room owner arrives, you will enter the room and the meeting will begin. If you are the room owner, log in using the link below to enter the room.",Object(v.jsx)("br",{}),g,Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),h]})})})})]})})}fO.propTypes={audioId:a.a.string,doCancelRoomJoin:a.a.func.isRequired,doSidebarLayerOpen:a.a.func.isRequired,isSelfieCam:a.a.bool.isRequired,localStream:a.a.object.isRequired,localStreamError:a.a.object,mediaPermissionStatus:a.a.string.isRequired,user:a.a.instanceOf(Ci.a),videoId:a.a.string};var OO=Object(r.b)("doCancelRoomJoin","doSidebarLayerOpen","selectAudioId","selectIsSelfieCam","selectLocalStream","selectLocalStreamError","selectMediaPermissionStatus","selectUser","selectVideoId",fO),SO="MonthlyMinutesExhausted--Het",RO="body-+1Fr",CO="header-NOnE",vO="message-7ZeW";var yO=()=>Object(v.jsx)(c.G,{className:SO,disableOverlay:!0,"data-testid":"monthly-minutes-exhausted",children:Object(v.jsxs)(c.G.Body,{className:RO,children:[Object(v.jsx)(d.Localized,{id:"MonthlyMinutesExhaustedDialog-title",children:Object(v.jsx)("header",{className:CO,children:"You've reached the monthly limit of participant minutes in the free plan."})}),Object(v.jsx)(d.Localized,{id:"MonthlyMinutesExhaustedDialog-text",children:Object(v.jsx)("p",{className:vO,children:"Please upgrade to continue using Whereby."})})]})}),IO={title:"title-HiUq"};function EO(e){let{doLocalClientResumeAudio:t}=e;return Object(v.jsxs)(c.G,{children:[Object(v.jsx)(c.G.Body,{children:Object(v.jsx)(d.Localized,{id:"InCallAudioSuspended-header",children:Object(v.jsx)("header",{className:IO.title,children:"Your browser requires user interaction to play audio. Please click OK to enable"})})}),Object(v.jsx)(c.G.Footer,{className:IO.footer,children:Object(v.jsx)(d.Localized,{id:"InCallAudioSuspended-button",children:Object(v.jsx)(c.k,{modifiers:["primary","full","small"],onClickCapture:t,children:"OK"})})})]})}EO.propTypes={doLocalClientResumeAudio:a.a.func.isRequired};var xO=Object(C.b)(Object(r.b)("doLocalClientResumeAudio",EO)),TO={title:"title-6M9r",text:"text-MsF6",footer:"footer-8Bwk"};const LO=e=>{let{doCoLocationRequestEnd:t,doCoLocationSessionUpdate:o}=e;const i=()=>t(!1);return Object(v.jsx)(c.G,{className:TO.dialog,onClickClose:i,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:TO.title,children:Object(v.jsx)(d.Localized,{id:"EndCoLocationDialog-title",children:"End co-location session"})}),Object(v.jsx)("p",{className:TO.text,children:Object(v.jsx)(d.Localized,{id:"EndCoLocationDialog-text",children:"Do you want to end the co-location session?"})}),Object(v.jsxs)("div",{className:TO.footer,children:[Object(v.jsx)(d.Localized,{id:"EndCoLocationDialog-button-accept",children:Object(v.jsx)(c.k,{modifiers:["full","small","negative"],onClick:()=>o({active:!1}),children:"Yes, end"})}),Object(v.jsx)(d.Localized,{id:"EndCoLocationDialog-button-cancel",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","grey"],onClick:i,children:"Cancel"})})]})]})})};LO.propTypes={doCoLocationRequestEnd:a.a.func.isRequired,doCoLocationSessionUpdate:a.a.func.isRequired};var kO=Object(C.c)(Object(r.b)("doCoLocationRequestEnd","doCoLocationSessionUpdate",LO)),_O={title:"title-73B3",text:"text-zAyF",footer:"footer-IdKY"};const NO=e=>{let{breakoutActive:t,doBreakoutSessionUpdate:o,doCoLocationOpenInfo:i,doSetRoomMode:a}=e;const n=()=>i(!1);return Object(v.jsx)(c.G,{className:_O.dialog,onClickClose:n,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:_O.title,children:Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-title",children:"Co-Location Groups"})}),Object(v.jsx)("p",{className:_O.text,children:t?Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-text-breakout",children:"In order to start Co-Location Groups, you need to end the breakout session. Do you want to end the breakout session now?"}):Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-text",children:"In order to start Co-Location Groups, you need to change the room size to large. Do you want to switch the room to large size now? This will reload the window for all participants."})}),Object(v.jsxs)("div",{className:_O.footer,children:[t?Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-button-accept-breakout",children:Object(v.jsx)(c.k,{className:_O.button,onClick:()=>{o({active:!1}),i(!1)},children:"Yes, end the breakout session"})}):Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-button-accept",children:Object(v.jsx)(c.k,{modifiers:["full","small"],onClick:()=>a("group"),children:"Yes, change room size"})}),Object(v.jsx)(d.Localized,{id:"CoLocationInfoDialog-button-cancel",children:Object(v.jsx)(c.k,{autoFocus:Object(R.a)(),modifiers:["outlined","small","full","grey"],onClick:n,children:"Dismiss"})})]})]})})};NO.propTypes={breakoutActive:a.a.bool.isRequired,doBreakoutSessionUpdate:a.a.func.isRequired,doCoLocationOpenInfo:a.a.func.isRequired,doSetRoomMode:a.a.func.isRequired};var wO=Object(C.c)(Object(r.b)("doBreakoutSessionUpdate","doCoLocationOpenInfo","doSetRoomMode","selectBreakoutActive",NO)),AO={dialog:"dialog-RHz+",title:"title-tz2C",text:"text-27EP",abuseDescription:"abuseDescription-vqfh",textarea:"textarea-lD-N",form:"form-FiXi",categorySelect:"categorySelect-wTmX",required:"required-hzmM"};const DO=[{key:"Obscene and indecent exposure",value:"obscene"},{key:"Offensive and hateful content",value:"offensive"},{key:"Illegal activity",value:"illegal"},{key:"Other",value:"other"}];function PO(e){let{doReportAbuse:t,getString:o,onDismiss:i}=e;const[a,s]=Object(n.useState)(""),[r,l]=Object(n.useState)(""),[u,m]=Object(n.useState)(""),[p,b]=Object(n.useState)(!1);Object(n.useEffect)(()=>{b(!!a.length&&!!r.length&&!!u.length)},[a,r,u]);const g=Object(v.jsx)(c.d,{rel:"",href:Bt.a.service+"/information/tos/",target:"_blank",children:"Restrictions of Content and Use of Service"});return Object(v.jsx)(c.G,{className:AO.dialog,onClickClose:i,children:Object(v.jsxs)(c.G.Body,{children:[Object(v.jsx)("h1",{className:AO.title,children:Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-title",children:"Report Abuse"})}),Object(v.jsx)("p",{className:AO.text,children:Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-text",useOfServiceLink:g,children:Object(v.jsxs)("span",{children:["Please provide information about the meeting and participants who you want to report as violating Whereby\u2019s ",g]})})}),Object(v.jsxs)("form",{acceptCharset:"utf-8",className:AO.form,onSubmit:e=>{e.preventDefault(),t({category:a,abusers:r,description:u}),i()},children:[Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-category-placeholder",attrs:{placeholder:!0},children:Object(v.jsx)(c.Cb,{selectClassName:AO.categorySelect,items:DO.map(e=>({key:o("ReportAbuseDialog-category-"+e.value,null,e.key),value:e.value})),value:a,placeholder:"Select from the following...",onChange:s,modifiers:["small"],label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-category-label",children:"Abuse Type"}),Object(v.jsx)("span",{className:AO.required,children:"*"})]}),required:!0})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-name-of-abusers-placeholder",attrs:{placeholder:!0},children:Object(v.jsx)(c.Rb,{autoCapitalize:"off",label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-name-of-abusers-label",children:"Name of abuser(s)"}),Object(v.jsx)("span",{className:AO.required,children:"*"})]}),maxLength:100,modifiers:["small"],name:"abusers",onChange:l,placeholder:"Type here...",required:!0,value:r})}),Object(v.jsx)("p",{className:AO.abuseDescription,children:Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-name-of-abusers-description",children:"Separate participants using commas"})})]}),Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-description-placeholder",attrs:{placeholder:!0},children:Object(v.jsx)(c.Rb,{autoCapitalize:"off",className:AO.textareaWrapper,inputClassName:AO.textarea,label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-description-label",children:"Description"}),Object(v.jsx)("span",{className:AO.required,children:"*"})]}),maxLength:2e3,modifiers:["small"],name:"description",onChange:m,placeholder:"Type here...",textarea:!0,required:!0,value:u})}),Object(v.jsx)(c.k,{type:"submit",disabled:!p,modifiers:["full"],children:Object(v.jsx)(d.Localized,{id:"ReportAbuseDialog-button-submit",children:"Report abuse"})})]})]})})}PO.propTypes={doReportAbuse:a.a.func.isRequired,getString:a.a.func.isRequired,onDismiss:a.a.func.isRequired};var MO=Object(C.b)(Object(d.withLocalization)(Object(r.b)("doReportAbuse",PO))),FO=o(79);const BO=Object(n.lazy)(()=>o.e(13).then(o.bind(null,488)));class qO extends n.PureComponent{render(){const{activeSettingsDialogPane:e,breakoutIsEndDialogOpen:t,breakoutIsInfoDialogOpen:o,canPip:i,canScreenshare:a,canSetLock:s,clientStateEmbedNeeded:r,coLocationIsEndDialogOpen:l,coLocationIsInfoDialogOpen:d,doClosePipInfoDialog:u,doCloseScreenshareWithAudioDialog:m,doEndMeeting:p,doOpenPip:b,doPref:g,doSetActiveSettingsDialogPane:h,doTimeLimitDialogButtonClickedAnalytics:j,doToggleEmbedInstructionsDialog:f,doToggleEndMeetingDialog:O,doToggleIntegrationInfoDialog:S,doToggleKeyboardShortcutsDialog:R,doToggleLoudSpeakerDialog:C,doToggleMeetingTimeLimitDialog:y,doToggleMeetingTimerDialog:E,doToggleReportAbuseDialog:x,doToggleScreenshare:T,doSetPrecallReviewRequired:L,doRoomConnectionReset:k,endMeetingDialogValue:_,isEmbeddingFreeRoom:D,isPhoneResolution:P,isRtcConnectionMissing:M,layoutRoomFrame:F,localClientIsAudioSuspended:B,localClientIsViewer:q,localStream:z,organizationHasValidTrial:G,organizationId:H,permissions:V,precallCeremonyCompleted:W,precallShouldShowPrivacyPolicyPage:K,prefs:$,roomConnectionError:Q,roomConnectionQueued:Y,roomName:J,shouldRequestMediaPermissions:Z,shouldShowBrowserSupport:X,shouldShowDisplayNameDialog:te,shouldShowEmbedInstructionsDialog:oe,shouldShowEndMeetingDialog:ie,shouldShowIdPortenPrompt:ae,shouldShowIntegrationInfoDialog:ne,shouldShowKeyboardShortcutDialog:se,shouldShowKnockPage:re,shouldShowLoudSpeakerDialog:ce,shouldShowMeetingTimeLimitDialog:le,shouldShowMeetingTimerDialog:de,shouldShowNamePrompt:ue,shouldShowPipInfoDialog:me,shouldShowPrecallCeremony:pe,shouldShowReportAbuseDialog:be,shouldShowReviewPage:ge,shouldShowScreenshareWithAudioDialog:he}=this.props;if(!H||!V)return Object(v.jsx)(A.a,{children:"Loading ..."});if(r)throw new Error("This room cannot be opened directly by URL");const je=Object(v.jsxs)(v.Fragment,{children:[te&&Object(v.jsx)(pj,{}),!!e&&Object(v.jsx)(gO.b,{initialPane:e,onClose:()=>h(null)})]});let Oe=null;if(X?Oe=Object(v.jsx)(st,{}):"room_concurrency_control_error"===Q?Oe=Object(v.jsx)(pf,{onCancel:()=>{L(),k()}}):Q===FO.a.ROOM_FULL?Oe=Object(v.jsx)(pO,{}):Q===FO.a.ROOM_MEETING_TIME_EXHAUSTED?Oe=Object(v.jsx)(lf,{}):Q===FO.a.MAX_VIEWER_LIMIT_REACHED?Oe=Object(v.jsx)(bO,{}):Q===FO.a.FREE_TIER_EXHAUSTED?Oe=Object(v.jsx)(yO,{}):!1===G?Oe=Object(v.jsx)(De,{}):D&&(Oe=Object(v.jsx)(mO,{})),Oe)return Object(v.jsxs)(v.Fragment,{children:[Oe,je]});let Se=null;return ae?Se=Object(v.jsx)(Gj,{}):ue?Se=Object(v.jsx)(Of,{}):K?Se=Object(v.jsx)(aO,{}):Z?Se=Object(v.jsx)(hf.a,{}):ge?Se=pe&&!W?Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(c.Nb,{}),children:Object(v.jsx)(BO,{})}):Object(v.jsx)(Xf,{}):Y?Se=Object(v.jsx)(OO,{}):re?Se=Object(v.jsx)(gf,{}):z||q?M&&(Se=Object(v.jsx)(A.a,{children:"Connecting to participants..."})):Se=Object(v.jsx)(A.a,{children:"Getting camera and microphone..."}),Se?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ee,{topPadding:F.origin.top+(P?8:58),children:Object(v.jsx)(Yg,{})}),Se,je]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ej,{}),Object(v.jsx)(Tf,{}),Object(v.jsx)(uO,{}),B&&Object(v.jsx)(xO,{}),se&&Object(v.jsx)(w.c,{canPip:i,canScreenshare:a,canSetLock:s,noTopToolbar:!1===$.topToolbar,onClose:R,shouldShowChat:$.chat}),de&&Object(v.jsx)(U,{onClose:E,onToggle:()=>{g("timer",!$.timer)},isEnabled:!!$.timer}),le&&Object(v.jsx)(ke,{onClose:y,onButtonClick:j}),me&&Object(v.jsx)(ee,{onClose:u,onStartPip:b}),he&&Object(v.jsx)(fe,{onClose:m,onStartScreenshare:T}),oe&&Object(v.jsx)(wj,{onDismiss:f,roomName:J}),ce&&Object(v.jsx)(ij,{onDismiss:C}),ie&&Object(v.jsx)(I,{onEndMeeting:e=>{let{stayBehind:t}=e;return p({context:"endMeetingDialog",stayBehind:t})},onCancel:O,defaultStayBehind:"stay"===_}),t&&Object(v.jsx)(Pj,{}),o&&Object(v.jsx)(Fe,{}),d&&Object(v.jsx)(wO,{}),l&&Object(v.jsx)(kO,{}),ne&&Object(v.jsx)(N,{onClose:S}),be&&Object(v.jsx)(MO,{onDismiss:x}),je]})}}qO.propTypes={activeSettingsDialogPane:a.a.string,breakoutIsEndDialogOpen:a.a.bool.isRequired,breakoutIsInfoDialogOpen:a.a.bool.isRequired,canPip:a.a.bool.isRequired,canScreenshare:a.a.bool.isRequired,canSetLock:a.a.bool.isRequired,clientStateEmbedNeeded:a.a.bool.isRequired,coLocationIsEndDialogOpen:a.a.bool.isRequired,coLocationIsInfoDialogOpen:a.a.bool.isRequired,doClosePipInfoDialog:a.a.func.isRequired,doCloseScreenshareWithAudioDialog:a.a.func.isRequired,doEndMeeting:a.a.func.isRequired,doOpenPip:a.a.func.isRequired,doPref:a.a.func.isRequired,doRoomConnectionReset:a.a.func.isRequired,doSetActiveSettingsDialogPane:a.a.func.isRequired,doSetPrecallReviewRequired:a.a.func.isRequired,doTimeLimitDialogButtonClickedAnalytics:a.a.func.isRequired,doToggleEmbedInstructionsDialog:a.a.func.isRequired,doToggleEndMeetingDialog:a.a.func.isRequired,doToggleIntegrationInfoDialog:a.a.func.isRequired,doToggleKeyboardShortcutsDialog:a.a.func.isRequired,doToggleLoudSpeakerDialog:a.a.func.isRequired,doToggleMeetingTimeLimitDialog:a.a.func.isRequired,doToggleMeetingTimerDialog:a.a.func.isRequired,doToggleReportAbuseDialog:a.a.func.isRequired,doToggleScreenshare:a.a.func.isRequired,endMeetingDialogValue:a.a.string,isEmbeddingFreeRoom:a.a.bool.isRequired,isPhoneResolution:a.a.bool.isRequired,isRtcConnectionMissing:a.a.bool.isRequired,layoutRoomFrame:l.d.isRequired,localClientIsAudioSuspended:a.a.bool.isRequired,localClientIsViewer:a.a.bool.isRequired,localStream:a.a.object,organizationHasValidTrial:a.a.bool,organizationId:a.a.string,permissions:a.a.object,precallCeremonyCompleted:a.a.bool.isRequired,precallShouldShowPrivacyPolicyPage:a.a.bool.isRequired,prefs:a.a.object.isRequired,roomConnectionError:a.a.string,roomConnectionQueued:a.a.bool.isRequired,roomName:a.a.string,shouldRequestMediaPermissions:a.a.bool.isRequired,shouldShowBrowserSupport:a.a.bool.isRequired,shouldShowDisplayNameDialog:a.a.bool,shouldShowEmbedInstructionsDialog:a.a.bool,shouldShowEndMeetingDialog:a.a.bool,shouldShowIdPortenPrompt:a.a.bool.isRequired,shouldShowIntegrationInfoDialog:a.a.bool.isRequired,shouldShowKeyboardShortcutDialog:a.a.bool.isRequired,shouldShowKnockPage:a.a.bool.isRequired,shouldShowLoudSpeakerDialog:a.a.bool.isRequired,shouldShowMeetingTimeLimitDialog:a.a.bool.isRequired,shouldShowMeetingTimerDialog:a.a.bool.isRequired,shouldShowNamePrompt:a.a.bool.isRequired,shouldShowPipInfoDialog:a.a.bool.isRequired,shouldShowPrecallCeremony:a.a.bool,shouldShowReportAbuseDialog:a.a.bool.isRequired,shouldShowReviewPage:a.a.bool.isRequired,shouldShowScreenshareWithAudioDialog:a.a.bool.isRequired};t.a=Object(r.b)("doClosePipInfoDialog","doCloseScreenshareWithAudioDialog","doEndMeeting","doOpenPip","doPref","doRoomConnectionReset","doSetActiveSettingsDialogPane","doSetPrecallReviewRequired","doTimeLimitDialogButtonClickedAnalytics","doToggleDisplayNameDialog","doToggleEmbedInstructionsDialog","doToggleEndMeetingDialog","doToggleIntegrationInfoDialog","doToggleKeyboardShortcutsDialog","doToggleLoudSpeakerDialog","doToggleMeetingTimeLimitDialog","doToggleMeetingTimerDialog","doToggleReportAbuseDialog","doToggleScreenshare","selectActiveSettingsDialogPane","selectBreakoutIsEndDialogOpen","selectBreakoutIsInfoDialogOpen","selectCanPip","selectCanScreenshare","selectCanSetLock","selectClientStateEmbedNeeded","selectCoLocationIsEndDialogOpen","selectCoLocationIsInfoDialogOpen","selectEndMeetingDialogValue","selectIsEmbeddingFreeRoom","selectIsPhoneResolution","selectIsRtcConnectionMissing","selectLayoutRoomFrame","selectLocalClientIsAudioSuspended","selectLocalClientIsViewer","selectLocalStream","selectOrganizationHasValidTrial","selectOrganizationId","selectPermissions","selectPrecallCeremonyCompleted","selectPrecallShouldShowPrivacyPolicyPage","selectPrefs","selectRoomConnectionError","selectRoomConnectionQueued","selectRoomName","selectShouldRequestMediaPermissions","selectShouldShowBrowserSupport","selectShouldShowDisplayNameDialog","selectShouldShowEmbedInstructionsDialog","selectShouldShowEndMeetingDialog","selectShouldShowIdPortenPrompt","selectShouldShowIntegrationInfoDialog","selectShouldShowKeyboardShortcutDialog","selectShouldShowKnockPage","selectShouldShowLoudSpeakerDialog","selectShouldShowMeetingTimeLimitDialog","selectShouldShowMeetingTimerDialog","selectShouldShowNamePrompt","selectShouldShowPipInfoDialog","selectShouldShowPrecallCeremony","selectShouldShowReportAbuseDialog","selectShouldShowReviewPage","selectShouldShowScreenshareWithAudioDialog",qO)},,function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(3),r="ChatMessages-WGHb",c="emptyChatPlaceholder-+Tlj",l=o(6),d=o.n(l),u=o(4),m={ChatMessageGroup:"ChatMessageGroup-aIWS",broadcast:"broadcast-fo+K",fromSelf:"fromSelf-cIgM",displayName:"displayName-hF9J",avatarImage:"avatarImage-tRvd",timestampContainer:"timestampContainer-X3yv",timestamp:"timestamp-ZvST",broadcastLabel:"broadcastLabel-9TJ3",broadcastIcon:"broadcastIcon-segb",reaction:"reaction-KuSI",content:"content-3Gtk"},p=o(62),b=o(48),g=o(42),h=o(0);function j(e){var t;let{children:o,displayName:a="Guest",avatarUrl:n,featureBrandAvatarsOn:s,fromSelf:r,messages:c,timestamp:l,type:p,lastSeenChatSidebar:j}=e;const f=null!=(t=null==c?void 0:c.length)?t:0,O=Object(g.a)(f),[S,R]=Object(i.useState)(j<l),C=new Date(l),v=`${(""+C.getHours()).padStart(2,"0")}:${(""+C.getMinutes()).padStart(2,"0")}`;return Object(i.useEffect)(()=>{O<f&&R(!0)},[f,O]),Object(h.jsxs)("div",{className:d()(m.ChatMessageGroup,{[m.fromSelf]:r,[m.broadcast]:"broadcast"===p}),"aria-hidden":!S,"aria-live":"polite","aria-relevant":"additions text",children:[Object(h.jsxs)("div",{className:m.timestampContainer,children:[Object(h.jsx)("span",{className:d()(m.timestamp),children:v}),"broadcast"===p&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:m.broadcastLabel,children:[Object(h.jsx)(u.cb,{className:m.broadcastIcon,modifiers:["sizedSmall"],"aria-hidden":"true"}),Object(h.jsx)("span",{children:"Broadcast to all"})]})})]}),["chatMessage","broadcast"].includes(p)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:d()(m.displayName),children:a}),s?Object(h.jsx)(b.a,{modifiers:["square"],className:m.avatarImage,avatarUrl:n,name:a,size:32}):Object(h.jsx)(u.g,{modifiers:["square"],className:m.avatarImage,avatarUrl:n,name:a,size:32})]}),Object(h.jsx)("div",{className:d()(m["reaction"===p?"reaction":"content"]),children:o})]})}j.propTypes={...p.a,children:n.a.node.isRequired,featureBrandAvatarsOn:n.a.bool,lastSeenChatSidebar:n.a.number};var f=Object(i.memo)(j),O={ChatMessage:"ChatMessage-fKIj",moreButton:"moreButton-zqr7",fromSelf:"fromSelf-sZ9J",visible:"visible-Ozkt",available:"available-ObUH",wrapper:"wrapper-n-wM",content:"content-ITXF",contentRemoved:"contentRemoved-fa3N",isMention:"isMention-cLoY",isReply:"isReply-YxET",link:"link-v-K6",mention:"mention-OjJc",fileMessageWrapper:"fileMessageWrapper-Wwtt",file:"file-lJda",fileIcon:"fileIcon-BJFz",fileInfoWrapper:"fileInfoWrapper-w6BI",fileName:"fileName-ExTN",fileType:"fileType-CZxx",fileImage:"fileImage-oLGo",menuItem:"menuItem-POzC","menuItem--delete":"menuItem--delete-QKmt",replyingTo:"replyingTo-i5Tn",highlight:"highlight-4K4x"},S="ChatExpandedUrlMessage-acir",R="spinner-vsnJ",C="content-LbMf",v="headerImage-O5io",y="titleWrapper-5kUn",I="urlWrapper-EhSN",E="clippedText-g5F1",x="bottomRow-flGM",T="favicon-8WcK",L="linkWrapper-m94Z",k="titleText-n8B0";function _(e){let{urlMetadata:t}=e;if(!t||"failed"===t.status)return null;if("started"===t.status)return Object(h.jsx)("div",{className:d()(R),children:Object(h.jsx)(u.T,{})});const{url:o}=t,{image:a,title:n,publisher:s,logo:r}=t.metadata;return Object(h.jsx)("div",{className:S,children:Object(h.jsxs)("div",{className:C,children:[Object(h.jsx)(u.d,{href:o,target:"_blank",className:L,children:Object(h.jsxs)(i.Fragment,{children:[a&&Object(h.jsx)("img",{className:v,src:a,alt:""}),n&&Object(h.jsx)("span",{className:y,children:Object(h.jsx)("span",{className:d()(k,E),children:n})})]})}),Object(h.jsxs)("div",{className:x,children:[r&&Object(h.jsx)("img",{className:T,src:r,alt:""}),Object(h.jsx)("span",{className:I,children:Object(h.jsx)("span",{className:E,children:s||o})})]})]})})}_.propTypes={urlMetadata:p.f};var N=Object(i.memo)(_),w=o(9),A="IntegrationTeaser-Ylip",D="buttonIcon-bAtt",P="spinnerIcon-y4Wb",M="IntegrationUpsell-jmUz";function F(){return Object(h.jsx)(u.d,{className:M,href:"/user/subscriptions?utm_source=appearin&utm_campaign=integrations_upsell&utm_medium=web",target:"_blank",modifiers:["button","button-extraSmall"],children:"Upgrade"})}var B=o(21);function q(e){let{canChangeRoomIntegrations:t,config:o,doBootstrapRoomIntegration:a,doStopRoomIntegration:n,isEnabled:r,requiredProducts:c,roomIntegrationId:l,runningRoomIntegrations:d,localClientId:m}=e;const[p,b]=Object(i.useState)(!1),[g,j]=Object(i.useState)(!1);if(Object(i.useEffect)(()=>{b(d.some(e=>{var t;return(null==(t=e.state)?void 0:t.shareUrl)===o}))},[o,d]),Object(i.useEffect)(()=>{p||j(!1)},[p]),!r&&!t)return null;const f=0!==c.length;return Object(h.jsx)("div",{className:A,children:!f&&(p?Object(h.jsx)(u.k,{modifiers:["full","extraSmall","negative","outlined"],className:"jstest-integrationTeaser-stop-button",onClick:()=>{n({roomIntegrationId:l})},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:D,children:Object(h.jsx)(u.Ab,{modifiers:["sizedSmall"]})}),Object(h.jsx)(s.Localized,{id:"IntegrationTeaser-stop-button",children:Object(h.jsx)(h.Fragment,{children:"Stop sharing"})})]})}):Object(h.jsx)(u.k,{modifiers:["full","extraSmall","primary","outlined"],className:"jstest-integrationTeaser-start-button",disabled:g,onClick:()=>{const[e]=d.slice(-1);e&&(n({roomIntegrationId:e.roomIntegrationId}),e.state.clientId!==m)||(j(!0),a({roomIntegrationId:l,config:o,featureSource:"chat"}))},children:Object(h.jsxs)(h.Fragment,{children:[g?Object(h.jsx)("span",{className:P,children:Object(h.jsx)(u.T,{})}):Object(h.jsx)("span",{className:D,children:Object(h.jsx)(u.Ab,{modifiers:["sizedSmall"]})}),Object(h.jsx)(s.Localized,{id:"IntegrationTeaser-start-button",children:Object(h.jsx)(h.Fragment,{children:"View together in room"})})]})}))||t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:Object(h.jsx)(s.Localized,{id:"IntegrationTeaser-requiresUpgrade-text",children:"An integration is available in the paid plans"})}),Object(h.jsx)("p",{children:Object(h.jsx)(F,{})})]})})}q.propTypes={canChangeRoomIntegrations:n.a.bool.isRequired,config:n.a.string.isRequired,doBootstrapRoomIntegration:n.a.func.isRequired,doStopRoomIntegration:n.a.func.isRequired,isEnabled:n.a.bool.isRequired,localClientId:n.a.string,requiredProducts:n.a.arrayOf(n.a.string).isRequired,roomIntegrationId:n.a.string.isRequired,runningRoomIntegrations:n.a.arrayOf(B.g)};var z=Object(w.b)("selectCanChangeRoomIntegrations","selectLocalClientId","selectRunningRoomIntegrations","doBootstrapRoomIntegration","doStopRoomIntegration",q),G=o(25),U=o(34),H=o(171);function V(e){return e.startsWith("image/")}const W=e=>{let{children:t,doChatDownloadFile:o,doChatMessageRemove:i,file:a,id:n,isRoomOwner:r,onReply:c,onCopy:l,sig:m,userIsAdmin:p}=e;const{isMenuVisible:b,onCloseMenu:g,onMenuHover:j,onMenuBlur:f,onToggle:S}=Object(U.a)();return Object(h.jsx)(G.b,{keyPath:"ChatMessage.MoreMenu",align:"center",content:Object(h.jsx)("div",{onMouseEnter:j,onMouseLeave:f,children:Object(h.jsxs)(u.db,{onClick:g,children:[a?null:Object(h.jsx)(u.fb,{onClick:()=>c(n),children:Object(h.jsxs)("div",{className:O.menuItem,children:[Object(h.jsx)(u.t,{modifiers:["sizedSmall"]}),Object(h.jsx)("div",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-more-button-reply",children:"Add reply"})})]})}),a?Object(h.jsx)(u.fb,{onClick:()=>o(a),children:Object(h.jsxs)("div",{className:O.menuItem,children:[Object(h.jsx)(u.H,{modifiers:["sizedSmall"]}),Object(h.jsx)("div",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-more-button-download-file",children:"Download file"})})]})}):Object(h.jsx)(u.fb,{onClick:()=>l(n),children:Object(h.jsxs)("div",{className:O.menuItem,children:[Object(h.jsx)(u.Pb,{modifiers:["sizedSmall"]}),Object(h.jsx)("div",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-more-button-copy",children:"Copy"})})]})}),m||r||p?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.fb,{onClick:()=>i({id:n,sig:m,file:a}),children:Object(h.jsxs)("div",{className:d()(O.menuItem,O["menuItem--delete"]),children:[Object(h.jsx)(u.Wb,{modifiers:["sizedSmall","negative"]}),Object(h.jsx)("div",{children:a?Object(h.jsx)(s.Localized,{id:"ChatMessage-more-button-remove-file",children:"Remove file"}):Object(h.jsx)(s.Localized,{id:"ChatMessage-more-button-remove-message",children:"Remove message"})})]})})}):null]})}),positions:["top"],isOpen:b,onClickOutside:g,padding:8,children:t({isMenuVisible:b,onToggle:S})})};function K(e){let{displayName:t="Guest",doChatDownloadFile:o,doChatMessageRemove:a,file:n,id:r,innerRef:c,integration:l,isHighlighted:m,isRoomOwner:p,localClientId:b,mentions:g,onChatLinkClicked:j,onReply:f,onHighlight:S,onCopy:R,removed:C,replyingTo:v,roomSessionId:y,sig:I,tokenizedText:E,urlMetadata:x,userIsAdmin:T}=e;const[L,k]=Object(i.useState)(!1),[_,w]=Object(i.useState)(!1),A=Object(h.jsx)(W,{doChatMessageRemove:a,doChatDownloadFile:o,id:r,isRoomOwner:p,onReply:f,onCopy:R,sig:I,userIsAdmin:T,file:n,children:e=>{let{isMenuVisible:t,onToggle:o}=e;return Object(h.jsx)("button",{"aria-label":"Chat message menu",onClick:e=>{e.stopPropagation(),o()},onFocus:()=>w(!0),onBlur:()=>w(!1),className:d()("jstest-chat-message-more-button",O.moreButton,{[O.visible]:t||L||_,[O.available]:!C,[O.fromSelf]:!!I}),children:Object(h.jsx)(u.I,{modifiers:["sized"]})})}});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{tabIndex:"0",className:O.ChatMessage,onFocus:()=>k(!0),onBlur:()=>setTimeout(()=>k(!1),100),children:[I&&!C&&A,Object(h.jsxs)("div",{className:O.wrapper,children:[Object(h.jsx)(u.ac,{children:t}),v?Object(h.jsx)("div",{className:O.replyingTo,onClick:()=>S(v.id),onKeyPress:()=>S(v.id),tabIndex:-1,role:"button",children:v.removed?Object(h.jsx)("span",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-removed",children:"Message removed"})}):Object(h.jsx)("span",{className:O.replyingToName,children:v.text})}):null,Object(h.jsx)("div",{className:d()(O.content,{[O.contentRemoved]:C||!!n&&!y,[O.isMention]:null==g?void 0:g.some(e=>e.clientId===b),[O.isReply]:!!v,[O.highlight]:m}),ref:c,children:C?Object(h.jsx)(h.Fragment,{children:n?Object(h.jsx)(h.Fragment,{children:y?Object(h.jsx)("span",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-file-removed",children:"File removed"})}):Object(h.jsx)("span",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-removed-session-end",children:"File removed as everyone left the meeting"})})}):Object(h.jsx)("span",{children:Object(h.jsx)(s.Localized,{id:"ChatMessage-removed",children:"Message removed"})})}):Object(h.jsxs)(h.Fragment,{children:[E.map(e=>e.url?Object(h.jsx)(u.d,{className:O.link,href:e.url,target:"_blank",onClick:j,children:e.text},e.id):Object(h.jsx)("span",{className:d()({[O.mention]:e.mention}),children:e.text},e.id)),!!n&&Object(h.jsxs)("a",{href:n.downloadUrl,target:"_blank",className:O.fileMessageWrapper,children:[V(n.type)?Object(h.jsx)("img",{src:n.downloadUrl,alt:n.name,className:O.fileImage}):null,Object(h.jsxs)("div",{className:O.file,children:[V(n.type)?null:Object(h.jsx)(H.a,{className:O.fileIcon,name:n.name}),Object(h.jsxs)("div",{className:O.fileInfoWrapper,children:[Object(h.jsx)("div",{href:n.downloadUrl,className:O.fileName,target:"_blank",children:n.name}),Object(h.jsx)("div",{className:O.fileType,children:n.type})]})]})]},n.name)]})})]}),!I&&!C&&A]}),Object(h.jsx)(N,{urlMetadata:x}),l&&Object(h.jsx)(z,{config:l.config,isEnabled:l.roomIntegration.isEnabled,requiredProducts:l.roomIntegration.productCategories,roomIntegrationId:l.roomIntegration.roomIntegrationId})]})}W.propTypes={children:n.a.func.isRequired,doChatDownloadFile:n.a.func.isRequired,doChatMessageRemove:n.a.func.isRequired,file:n.a.object,id:n.a.string.isRequired,isRoomOwner:n.a.bool.isRequired,onCopy:n.a.func.isRequired,onReply:n.a.func.isRequired,sig:n.a.string,userIsAdmin:n.a.bool.isRequired},K.propTypes={displayName:n.a.string,doChatDownloadFile:n.a.func.isRequired,doChatMessageRemove:n.a.func.isRequired,file:n.a.object,id:n.a.string.isRequired,innerRef:n.a.func,integration:n.a.shape({roomIntegration:n.a.shape({roomIntegrationId:n.a.string.isRequired,isEnabled:n.a.bool.isRequired,productCategories:n.a.arrayOf(n.a.string).isRequired}),config:n.a.string}),isHighlighted:n.a.bool.isRequired,isRoomOwner:n.a.bool.isRequired,localClientId:n.a.string.isRequired,mentions:n.a.array,onChatLinkClicked:n.a.func.isRequired,onCopy:n.a.func.isRequired,onHighlight:n.a.func.isRequired,onReply:n.a.func.isRequired,removed:n.a.bool.isRequired,replyingTo:n.a.object,roomSessionId:n.a.string,sig:n.a.string,tokenizedText:p.e.isRequired,urlMetadata:p.f,userIsAdmin:n.a.bool.isRequired};var $=Object(i.memo)(Object(i.forwardRef)((e,t)=>Object(h.jsx)(K,{innerRef:t,...e}))),Q="ChatReactions-9Edj",Y="tooltip-fms6",J="tooltipItem-iHQB",Z="emoji-rPzS",X="emojiWrapper-6PAO",ee="count-3sco";function te(e){let{reactionGroup:{totalCount:t,tooltipSubset:o,tooltipLeftoverCount:i},reaction:a}=e;return Object(h.jsx)(u.Tb,{className:Y,side:"top",content:Object(h.jsxs)("div",{children:[o.map(e=>{let{id:t,displayName:o,count:i}=e;return Object(h.jsxs)("span",{className:J,children:[o,i>1&&Object(h.jsxs)(h.Fragment,{children:[" (",i,")"]})]},t)}),i>0&&Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(s.Localized,{id:"ChatReaction-tooltip-leftovercount",$tooltipLeftoverCount:i,children:Object(h.jsxs)(h.Fragment,{children:["+ ",i," more"]})})]})]}),children:Object(h.jsx)("button",{className:X,children:Object(h.jsxs)("div",{className:Z,children:[a,t>1&&Object(h.jsx)("div",{className:ee,children:t})]})})})}function oe(e){let{reactions:t}=e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const o=[];for(let i=0,a=e.length;i<a;i+=t)o.push(e.slice(i,i+t));return o}(Object.keys(t)).map(e=>Object(h.jsx)("div",{className:Q,children:e.map(e=>Object(h.jsx)(te,{reactionGroup:t[e],reaction:e},e))},e.join("")))}te.propTypes={reaction:n.a.string.isRequired,reactionGroup:p.d.isRequired},oe.propTypes={reactions:p.c};var ie="container-uZol",ae="description-FZaV",ne="buttonContainer-Imjr",se="primaryButton-4EVL",re="settingsButton-MTma";function ce(e){let{doPref:t,doSetActiveSettingsDialogPane:o,prefs:i}=e;const a=Object(h.jsx)(u.k,{className:re,onClick:()=>o("advanced"),modifiers:["extraSmall","link"],type:"button",children:"advanced settings"},"advanced-settings-button");return Object(h.jsxs)("div",{className:ie,children:[Object(h.jsx)("div",{children:Object(h.jsx)(u.qb,{modifiers:["sized","dark"]})}),void 0===i.pipAutoLaunch?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:ae,children:Object(h.jsx)(s.Localized,{id:"ChatLogEvent-pip-auto-launch-description",children:"We automatically launched picture in picture when you opened a chat link; allowing you to see the participants when focusing elsewhere."})}),Object(h.jsxs)("div",{className:ne,children:[Object(h.jsx)(u.k,{className:se,onClick:()=>t("pipAutoLaunch",!0),modifiers:["extraSmall","primary","full"],children:Object(h.jsx)(s.Localized,{id:"ChatLogEvent-pip-auto-launch-accept",children:"Got it"})},"enable-auto-pip-button"),Object(h.jsx)(u.k,{onClick:()=>t("pipAutoLaunch",!1),modifiers:["extraSmall","outlined","primary","full"],children:Object(h.jsx)(s.Localized,{id:"ChatLogEvent-pip-auto-launch-reject",children:"Turn off auto-launch"})},"disable-auto-pip-button")]})]}):Object(h.jsx)(s.Localized,{id:"ChatLogEvent-pip-auto-launch-confirmed",settingsButton:a,children:Object(h.jsxs)("span",{children:["You can always adjust your preference in the ",a,"."]})})]})}ce.propTypes={doPref:n.a.func.isRequired,doSetActiveSettingsDialogPane:n.a.func.isRequired,prefs:n.a.object.isRequired};var le=Object(w.b)("doPref","doSetActiveSettingsDialogPane","selectPrefs",ce),de="ChatLogEvent-fxb8",ue="inner-8-7u",me="icon-+MYM",pe="subject-gPhx";const be={integration:e=>{var t;let{allRoomIntegrationsAsMap:o,data:i}=e;const a=o[i.roomIntegrationId]||{};return{icon:Object(h.jsx)("img",{className:me,src:null==(t=a.icons)?void 0:t.small,alt:""}),title:a.title}},pip:()=>({}),screenshare:()=>({icon:Object(h.jsx)(u.Ab,{className:me,modifiers:["sized","meetingRed"]}),title:"screenshare"}),breakout:()=>({icon:Object(h.jsx)(u.j,{className:me,modifiers:["sized","meetingRed"]}),title:"breakout session"}),colocation:()=>({icon:Object(h.jsx)(u.z,{className:me,modifiers:["sized","meetingRed"]}),title:"co-location session"})},ge={pip_auto_launched:e=>Object(h.jsx)(le,{...e}),integration_started:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-integration-started",$displayName:e.displayName,$subject:e.title,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," started"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),integration_stopped:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-integration-stopped",$displayName:e.displayName,$subject:e.title,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," stopped"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),integration_ended:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-integration-ended",$subject:e.title,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[e.icon,Object(h.jsx)("span",{className:pe,children:e.title}),Object(h.jsx)("span",{children:"ended"})]})}),screenshare_started:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-screenshare-started",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," started"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),screenshare_stopped:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-screenshare-stopped",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName,"\u2019s"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title}),Object(h.jsx)("span",{children:"has stopped"})]})}),screenshare_stopped_by_host:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-screenshare-stopped-by-host",$displayName:e.displayName,$stoppedByDisplayName:e.stoppedByDispayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName,"\u2019s"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title}),Object(h.jsxs)("span",{children:["was stopped by ",e.stoppedByDispayName]})]})}),breakout_started:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-breakout-started",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," started a"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),breakout_stopped:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-breakout-stopped",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," stopped the"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),colocation_started:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-coLocation-started",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," started a"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})}),colocation_stopped:e=>Object(h.jsx)(s.Localized,{id:"ChatLogEvent-coLocation-stopped",$displayName:e.displayName,icon:e.icon,span:Object(h.jsx)("span",{}),subject:Object(h.jsx)("span",{className:pe}),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[e.displayName," stopped the"]}),e.icon,Object(h.jsx)("span",{className:pe,children:e.title})]})})};function he(e){let{children:t}=e;return Object(h.jsx)("div",{className:de,"data-testid":"chatlog-event",children:Object(h.jsx)("div",{className:ue,children:t})})}function je(e){let{allRoomIntegrationsAsMap:t,chatUsersByClientId:o,message:i}=e;const{clientId:a,data:n,eventType:s,requestedByClientId:r}=i;if(!s)return null;const[c]=s.split("_");if(!ge[s]||!be[c])return null;const{displayName:l="Guest"}=o[a]||{},{displayName:d="Someone"}=o[r]||{},u=be[c]({allRoomIntegrationsAsMap:t,data:n});return Object(h.jsx)(he,{children:ge[s]({displayName:l,stoppedByDispayName:d,...u})})}he.propTypes={children:n.a.node.isRequired},je.propTypes={allRoomIntegrationsAsMap:n.a.objectOf(B.f),chatUsersByClientId:n.a.object.isRequired,message:n.a.object.isRequired};var fe=Object(w.b)("selectAllRoomIntegrationsAsMap","selectChatUsersByClientId",je);function Oe(e){let{doChatDownloadFile:t,doChatMessageRemove:o,featureBrandAvatarsOn:a,highlightId:n,isRoomOwner:l,lastSeenChatSidebar:d,localClientId:u,messageGroups:m,onChatLinkClicked:p,onCopy:b,onHighlight:g,onReply:j,roomSessionId:O,userIsAdmin:S}=e;const R=Object(i.useRef)({});if(!m)return null;if(0===m.length)return Object(h.jsx)("div",{className:r,"data-testid":"chat-empty",children:Object(h.jsx)("div",{className:c,children:Object(h.jsx)(s.Localized,{id:"InCallChatTab-no-messages-placeholder",children:Object(h.jsx)("div",{children:"Chat messages are cleared when the room is empty"})})})});return Object(h.jsx)("div",{className:r,children:m.map(e=>Object(i.createElement)(f,{...e,featureBrandAvatarsOn:a,key:e.id,lastSeenChatSidebar:d},["chatMessage","broadcast"].includes(e.type)&&e.messages.map(i=>Object(h.jsx)($,{displayName:e.displayName||"Guest",doChatDownloadFile:t,doChatMessageRemove:o,file:i.file,ref:e=>R.current[i.id]=e,id:i.id,isHighlighted:n===i.id,isRoomOwner:l,sig:i.sig,removed:i.removed,localClientId:u,mentions:i.mentions,tokenizedText:i.tokenizedText,urlMetadata:i.urlMetadata,integration:i.integration,onChatLinkClicked:p,onHighlight:e=>((e,t)=>{const o=R.current[e];if(o){window.getSelection().toString().length<=0&&t(e,o)}})(e,g),onReply:j,onCopy:b,replyingTo:i.replyingTo,roomSessionId:O,userIsAdmin:S},i.id)),"chatLogMessage"===e.type&&e.messages.map(e=>Object(h.jsx)(fe,{message:e},e.id)),"reaction"===e.type&&Object(h.jsx)(oe,{reactions:e.reactions})))})}Oe.propTypes={doChatDownloadFile:n.a.func.isRequired,doChatMessageRemove:n.a.func.isRequired,featureBrandAvatarsOn:n.a.bool,highlightId:n.a.string,isRoomOwner:n.a.bool.isRequired,lastSeenChatSidebar:n.a.number,localClientId:n.a.string.isRequired,messageGroups:n.a.arrayOf(p.b).isRequired,onChatLinkClicked:n.a.func.isRequired,onCopy:n.a.func.isRequired,onHighlight:n.a.func.isRequired,onReply:n.a.func.isRequired,roomSessionId:n.a.string,userIsAdmin:n.a.bool.isRequired};t.a=Object(i.memo)(Oe)},,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(9),s=o(6),r=o.n(s),c=o(4),l=o(3),d=o(30),u="RoomNotFound-X4f-",m="body-DydU",p="editorialHeader-4w2+",b="editorialSubheader-ncxc",g="header-MmnN",h="largeText-lClS",j="button-1uok",f="logoInSubHeader-9-Di",O="illustration-b4cg",S="isPhone-RxHY",R=o(0);function C(e){let{prefs:t,isPhoneResolution:o,parsedUrl:i=d.a}=e;const{subdomain:a,service:n}=i;return Object(R.jsx)(c.G,{className:r()(u,"jstest-OrgNotFound"),children:Object(R.jsxs)(c.G.Body,{className:m,children:[Object(R.jsx)("span",{className:r()(O,{[S]:o})}),Object(R.jsx)(l.Localized,{id:"OrgNotFound-title",children:Object(R.jsx)("header",{className:g,children:"Sorry, we can\u2019t find this room"})}),Object(R.jsx)(l.Localized,{id:"OrgNotFound-text",strong:Object(R.jsx)("strong",{}),$subdomain:a,children:Object(R.jsxs)("p",{className:h,children:["The subdomain ",Object(R.jsx)("strong",{children:a})," is not registered. Are you sure you\u2019ve entered the correct address?"]})}),t.minimal?null:Object(R.jsx)(l.Localized,{id:"OrgNotFound-go-to-signup",strong:Object(R.jsx)("strong",{}),$subdomain:a,children:Object(R.jsxs)(c.d,{href:n+"/user/signup",modifiers:["button","button-outlined","button-primary","button-full"],className:j,children:["Create the ",Object(R.jsx)("strong",{children:a})," subdomain"]})})]})})}C.propTypes={isPhoneResolution:a.a.bool.isRequired,parsedUrl:a.a.object,prefs:a.a.object.isRequired};var v=Object(n.b)("selectIsPhoneResolution","selectPrefs",C);function y(e){let{organizationName:t}=e;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(l.Localized,{id:"RoomNotFound-org-can-log-in-create",$organizationName:t,strong:Object(R.jsx)("strong",{}),children:Object(R.jsxs)("p",{children:["Registered users of ",Object(R.jsx)("strong",{children:t})," can log in and create this room."]})}),Object(R.jsx)(c.d,{className:j,href:"/org",modifiers:["button","button-outlined","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-log-in",children:"Log in"})})]})}function I(){return Object(R.jsx)(c.d,{className:j,href:"/org",modifiers:["button","button-outlined","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-go-to-dashboard",children:"Go to dashboard"})})}function E(e){let{prefs:t,isPhoneResolution:o,isUserLoggedIn:i,organizationName:a,roomName:n}=e;return Object(R.jsx)(c.G,{className:r()(u,"jstest-RoomNotFound"),disableOverlay:!0,fullscreen:o,children:Object(R.jsxs)(c.G.Body,{className:m,children:[Object(R.jsx)(l.Localized,{id:"RoomNotFound-org-title",children:Object(R.jsx)("header",{className:g,children:"Sorry, we can\u2019t find that room"})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-text",$roomName:n,strong:Object(R.jsx)("strong",{}),children:Object(R.jsxs)("p",{className:h,children:["The room ",Object(R.jsx)("strong",{children:n})," is nowhere to be found. Are you sure you\u2019ve entered the correct address?"]})}),t.minimal?null:i?Object(R.jsx)(I,{}):Object(R.jsx)(y,{organizationName:a})]})})}y.propTypes={organizationName:a.a.string.isRequired},E.propTypes={isPhoneResolution:a.a.bool.isRequired,isUserLoggedIn:a.a.bool.isRequired,organizationName:a.a.string.isRequired,prefs:a.a.object.isRequired,roomName:a.a.string.isRequired};var x=Object(n.b)("selectIsPhoneResolution","selectIsUserLoggedIn","selectOrganizationName","selectPrefs","selectRoomName",E);function T(){return Object(R.jsx)(c.d,{className:j,href:"/user",modifiers:["button","button-outlined","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-go-to-dashboard",children:"Go to dashboard"})})}function L(){const e=Object(R.jsx)(c.X,{className:f});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-have-account",children:Object(R.jsx)("header",{className:b,children:"Have an account?"})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-login-dashboard",children:Object(R.jsx)("p",{children:"Log in to create this room from your dashboard"})}),Object(R.jsx)(c.d,{className:j,href:"/user",modifiers:["button","button-outlined","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-log-in",children:"Log in"})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-new-to",logo:e,children:Object(R.jsxs)("header",{className:b,children:["New to ",e,"?"]})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-sign-up-to-create-room",children:Object(R.jsx)("p",{children:"Sign up for free to create your own room"})}),Object(R.jsx)(c.d,{className:j,href:"/user/signup",modifiers:["button","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-sign-up",children:"Sign up"})})]})}function k(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-room-limit-upsell",strong:Object(R.jsx)("strong",{}),children:Object(R.jsxs)("p",{children:["You are on the ",Object(R.jsx)("strong",{children:"Free"})," plan, this limits you to 1 room. Upgrade to"," ",Object(R.jsx)("strong",{children:"Pro"})," plan if you need more rooms"," "]})}),Object(R.jsx)(c.d,{className:j,href:"/user/subscriptions?utm_source=whereby&utm_campaign=room_not_found_upsell&utm_medium=web",modifiers:["button","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-upgrade-pro",children:"Upgrade to pro"})}),Object(R.jsx)(c.d,{className:j,href:"/user",modifiers:["button","button-invisible","button-primary","button-full"],children:Object(R.jsx)(l.Localized,{id:"RoomNotFound-go-to-dashboard",children:"Go to dashboard"})})]})}function _(e){let{prefs:t,canCancelSubscription:o,isPhoneResolution:i,isUserLoggedIn:a,roomName:n}=e;return Object(R.jsx)(c.G,{className:r()(u,"jstest-RoomNotFound"),disableOverlay:!0,fullscreen:i,children:Object(R.jsxs)(c.G.Body,{className:m,children:[Object(R.jsx)("span",{className:r()(O,{[S]:i})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-public-title",children:Object(R.jsx)("header",{className:p,children:"Lost in the clouds?"})}),Object(R.jsx)(l.Localized,{id:"RoomNotFound-text",$roomName:n,strong:Object(R.jsx)("strong",{}),children:Object(R.jsxs)("p",{className:h,children:["The room ",Object(R.jsx)("strong",{children:n})," is nowhere to be found. Are you sure you\u2019ve entered the correct address?"]})}),t.minimal?null:a?o?Object(R.jsx)(T,{}):Object(R.jsx)(k,{}):Object(R.jsx)(L,{})]})})}_.propTypes={canCancelSubscription:a.a.bool.isRequired,isPhoneResolution:a.a.bool.isRequired,isUserLoggedIn:a.a.bool.isRequired,prefs:a.a.object.isRequired,roomName:a.a.string.isRequired};var N=Object(n.b)("selectCanCancelSubscription","selectPrefs","selectIsPhoneResolution","selectIsUserLoggedIn","selectRoomName",_);function w(e){let{prefs:t,isPhoneResolution:o,parsedUrl:i=d.a}=e;const{subdomain:a,organization:n}=i;return Object(R.jsx)(c.G,{className:r()(u,"jstest-OrgIncomplete"),children:Object(R.jsxs)(c.G.Body,{className:m,children:[Object(R.jsx)("span",{className:r()(O,{[S]:o})}),Object(R.jsx)(l.Localized,{id:"OrgIncomplete-title",children:Object(R.jsx)("header",{className:g,children:"Sorry, we can\u2019t find this room"})}),Object(R.jsx)(l.Localized,{id:"OrgIncomplete-text",strong:Object(R.jsx)("strong",{}),$subdomain:a,children:Object(R.jsxs)("p",{className:h,children:["The subdomain ",Object(R.jsx)("strong",{children:a})," is not properly configured."]})}),t.minimal?null:Object(R.jsx)(l.Localized,{id:"OrgIncomplete-go-to-dashboard",strong:Object(R.jsx)("strong",{}),$subdomain:a,children:Object(R.jsxs)(c.d,{href:n+"/org",modifiers:["button","button-outlined","button-primary","button-full"],className:j,children:["Configure the ",Object(R.jsx)("strong",{children:a})," subdomain"]})})]})})}w.propTypes={isPhoneResolution:a.a.bool.isRequired,parsedUrl:a.a.object,prefs:a.a.object.isRequired};var A=Object(n.b)("selectIsPhoneResolution","selectPrefs",w),D=o(52);function P(e){let{hasOrganizationError:t,isPublicOrganization:o,roomError:i}=e;return t?Object(R.jsx)(v,{}):o?Object(R.jsx)(N,{}):i instanceof D.d?Object(R.jsx)(A,{}):Object(R.jsx)(x,{})}P.propTypes={hasOrganizationError:a.a.bool.isRequired,isPublicOrganization:a.a.bool.isRequired,roomError:a.a.object};t.a=Object(n.b)("selectHasOrganizationError","selectIsPublicOrganization","selectRoomError",P)},,,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r=o(30),c="RootLayout-54xf",l="hasWatermark-bK5G",d="isAccessible-G1RG",u="content-v2eD",m=o(4),p=o(3),b="WatermarkBanner-eCkv",g="inner-3Hzz",h="content-XRDU",j="logo-qXP7",f=o(0);const O=Object(f.jsx)(m.X,{modifiers:["light"],className:j,"aria-label":"Whereby"});function S(e){let{destinationUrl:t}=e;const o=Object(f.jsx)(p.Localized,{id:"WatermarkBanner-text",logo:O,children:Object(f.jsxs)(f.Fragment,{children:["Powered by ",O]})});return Object(f.jsx)("div",{className:b,children:Object(f.jsx)("div",{className:g,children:Object(f.jsx)(m.Tb,{content:Object(f.jsx)(p.Localized,{id:"WatermarkBanner-tooltip",children:"Upgrade now to remove the Whereby banner"}),position:"top",children:t?Object(f.jsx)("a",{className:h,href:t,rel:"noopener noreferrer",target:"_blank",children:o}):Object(f.jsx)("div",{className:h,children:o})})})})}S.propTypes={destinationUrl:a.a.string};var R=S;function C(e){let{accessibilityOn:t,children:o,className:i,isEmbeddedFreeRoom:a,isLoggedIn:n,isWatermarkActive:m,...p}=e;const b=a&&n?`https://${r.a.organizationDomain}/org/subscriptions?utm_source=watermark&ref=pwa-banner`:r.a.service+"/information/embedded/?utm_source=watermark";return Object(f.jsxs)("div",{className:s()(c,i,{[l]:m,[d]:t}),...p,children:[m&&Object(f.jsx)(R,{destinationUrl:b}),Object(f.jsx)("div",{className:u,children:o})]})}C.propTypes={accessibilityOn:a.a.bool,children:a.a.node,className:a.a.string,isEmbeddedFreeRoom:a.a.bool,isLoggedIn:a.a.bool,isWatermarkActive:a.a.bool};t.a=C},function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(9),s=o(6),r=o.n(s),c=o(2),l="RoomBackground-m8Zw",d="bottomShade-+TQC",u="fadeIn-VbjI",m="bgImg-yrCD",p="delayedFadeIn-cXqG";var b=window.requestIdleCallback||window.requestAnimationFrame||(e=>setTimeout(e,0)),g=o(0);function h(e,t){let o=!1;if(!e)return t("");const i=new Image,a=()=>{i.removeEventListener("load",a),b(()=>!o&&t(e))},n=()=>{i.removeEventListener("error",n),b(()=>!o&&t(null))};return i.addEventListener("load",a),i.addEventListener("error",n),i.src=e,()=>o=!0}const j=e=>r()(m,{[u]:e});function f(e){let{backgroundColor:t,bgUrl:o,loadedBgUrl:i}=e;if(null===o)return null;const a=j(!!i||""===o);return""===o||o&&!i?Object(g.jsx)("div",{style:{backgroundColor:t},className:a,"data-testid":"RoomBackground-bgOverlay"}):Object(g.jsx)("img",{style:{backgroundColor:t},src:i,className:a,alt:"","data-testid":"RoomBackground-bgUrl"})}function O(e){let{backgroundColor:t,bgUrl:o,timerDeps:i,waitingBackgroundColor:a,waitingBgUrl:n}=e;const[s,u]=Object(c.useState)(),[b,O]=Object(c.useState)(),[S,R]=Object(c.useState)();return Object(c.useEffect)(()=>h(o,e=>u(e)),[o]),Object(c.useEffect)(()=>h(n,e=>O(e)),[n]),Object(c.useEffect)(()=>{const e=setTimeout(()=>{o?s&&R(!0):b&&R(!0)},500);return()=>clearTimeout(e)},[o,s,b,i]),Object(g.jsxs)("div",{className:r()(l,{[d]:s}),children:[(""===n||n&&!b)&&Object(g.jsx)("div",{style:{backgroundColor:a},className:r()(m,p),"data-testid":"RoomBackground-waitingBgOverlay"})||b&&Object(g.jsx)("img",{src:b,style:{backgroundColor:a},className:j(S),alt:"","data-testid":"RoomBackground-waitingBgUrl"})||null,Object(g.jsx)(f,{backgroundColor:t,bgUrl:o,loadedBgUrl:s})]})}f.propTypes={backgroundColor:a.a.string.isRequired,bgUrl:a.a.string,loadedBgUrl:a.a.string},O.propTypes={backgroundColor:a.a.string.isRequired,bgUrl:a.a.string,timerDeps:a.a.string.isRequired,waitingBackgroundColor:a.a.string.isRequired,waitingBgUrl:a.a.string};var S=O;function R(e){let{applicationState:t,hasRequestedDevices:o,mediaPermissionStatus:i,prefs:a,themeBackgroundColor:n,themeBackgroundUrl:s,themeKnockPageBackgroundColor:r,themeKnockPageBackgroundUrl:c}=e;const l=`${t}_${o}_${i}`;return!1!==a.background?Object(g.jsx)(S,{backgroundColor:n,bgUrl:s,timerDeps:l,waitingBgUrl:c,waitingBackgroundColor:r}):null}R.propTypes={applicationState:a.a.string,hasRequestedDevices:a.a.bool,mediaPermissionStatus:a.a.string,prefs:a.a.object.isRequired,themeBackgroundColor:a.a.string.isRequired,themeBackgroundUrl:a.a.string,themeKnockPageBackgroundColor:a.a.string.isRequired,themeKnockPageBackgroundUrl:a.a.string};t.a=Object(n.b)("selectApplicationState","selectHasRequestedDevices","selectMediaPermissionStatus","selectPrefs","selectThemeBackgroundColor","selectThemeBackgroundUrl","selectThemeKnockPageBackgroundColor","selectThemeKnockPageBackgroundUrl",R)},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c={reaction:"reaction-UHvf",withMargin:"withMargin-nYkS",emoji:"emoji-FRa1",text:"text-xlT3","text-left":"text-left-WpRT","text-up":"text-up-NezX","text-down":"text-down-zO-n",textWidthWrapper:"textWidthWrapper-ulT2","textWidthWrapper-sized":"textWidthWrapper-sized-GK7p","textWidthWrapper-left":"textWidthWrapper-left-Uwme","textWidthWrapper-align-start":"textWidthWrapper-align-start-+Krf","textWidthWrapper-align-end":"textWidthWrapper-align-end-sbmy","textWidthWrapper-up":"textWidthWrapper-up-LbVz","textWidthWrapper-down":"textWidthWrapper-down-wM6R"},l=o(4),d={ChatNotification:"ChatNotification-d76B",content:"content-bCDJ",reactionContent:"reactionContent-kvJl",smallCell:"smallCell-B5VD",shortText:"shortText-yT6z",broadcast:"broadcast-TrAe",icon:"icon-xCRq",mention:"mention-PEUm",mine:"mine-nNlS"},u=o(0);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e.length>t?e.substring(0,t)+"...":e}const p=Object(i.forwardRef)((e,t)=>{var o;let{chatUsersByClientId:i,chatMessage:a,localClientId:n,onClick:s,isSmallCell:c=!1,className:p="",onPointerEnter:b,onPointerLeave:g}=e;const h=a.broadcast,j="reaction"===a.type,f=a.file,O=i[a.senderId];return Object(u.jsx)("div",{ref:t,className:r()(d.ChatNotification,p,{[d.broadcast]:h,[d.mine]:a.senderId===n,[d.mention]:null==(o=a.mentions)?void 0:o.some(e=>e.clientId===n),[d.smallCell]:c,[d.shortText]:!c&&!j&&(S=a.text,S.length<=30),"jstest-isreaction":j}),children:Object(u.jsxs)("div",{className:r()("jstest-chat-preview",d.content,{[d.reactionContent]:j}),onKeyPress:e=>{"Enter"===e.key&&s()},onClick:s,role:j?"img":"figure",onPointerEnter:b,onPointerLeave:g,"aria-live":"polite","aria-relevant":"additions",children:[h&&Object(u.jsx)(l.cb,{className:d.icon,modifiers:["sizedSmall"],"aria-hidden":!0}),Object(u.jsx)(l.ac,{children:(null==O?void 0:O.displayName)||"Guest"}),f?Object(u.jsx)("span",{className:d.fileName,children:a.file.name}):m(a.text)]})},a.id);var S});p.propTypes={chatMessage:n.a.object.isRequired,chatUsersByClientId:n.a.object.isRequired,className:n.a.string,isSmallCell:n.a.bool,localClientId:n.a.string.isRequired,onClick:n.a.func,onPointerEnter:n.a.func,onPointerLeave:n.a.func},p.displayName="ChatNotification";var b=p,g=o(42),h=o(82);const j=["up","left","down","none"],f=["center","start","end"],O=()=>{};function S(e){let{el:t,...o}=e;return t.animate(function(e){let{axis:t,values:o}=e;const i="x"===t?"translateX":"translateY";return[{transform:`scale(0) ${i}(${o[0]}px)`,opacity:0},{transform:`scale(1) ${i}(${o[1]}px)`,opacity:1,offset:.6},{transform:`scale(0.9) ${i}(${o[2]}px)`,opacity:0}]}(o),{duration:2500,easing:"cubic-bezier(0.085, 0.630, 0.725, 0.615)",fill:"forwards"})}function R(e){let{el:t,...o}=e;return t.animate(function(e){let{axis:t,values:o}=e;const i="x"===t?"translateX":"translateY";return[{transform:`scale(0.6) ${i}(${o[0]}px)`,opacity:0},{transform:`scale(1) ${i}(${o[1]}px)`,opacity:1,offset:.05},{transform:`scale(1) ${i}(${o[2]}px)`,opacity:1,offset:.8},{transform:`scale(0.9) ${i}(${o[3]}px)`,opacity:0}]}(o),{duration:3e3,easing:"linear",fill:"forwards"})}const C=function(){const e=new h.a(1,400,16);e.snap(.7),e.setEnd(1);const t=new h.a(1,400,70);t.snap(.9),t.setEnd(1);const o=[];for(let i=0;i<60;i++){const a=i/60,n=Math.max(e.x(a),0),s=Math.max(t.x(a),0);o.push({transform:`scale(${n})`,opacity:s})}return o}(),v={none(e){let{el:t}=e;const o=t.animate(C,{duration:750,easing:"linear",fill:"forwards"}),i=t.animate([{opacity:1},{opacity:0}],{delay:1700,duration:300,fill:"forwards"});i.pause();let a=o;return o.finished.then(()=>{o.cancel(),a=i,i.play()}).catch(O),{finished:Promise.all([o.finished,i.finished]),pause:()=>{a.pause()},cancel:()=>{a.cancel()}}},down(e){let{el:t,offset:o}=e;return S({el:t,axis:"y",values:[0,-80-o,-200-o]})},up(e){let{el:t,offset:o}=e;return S({el:t,axis:"y",values:[0,-80-o,-200-o]})},left(e){let{el:t,offset:o}=e;return S({el:t,axis:"x",values:[0,-80-o,-200-o]})}},y={down(e){let{el:t,offset:o}=e;return R({el:t,axis:"y",values:[5+o,15+o,40+o,140+o]})},up(e){let{el:t,offset:o}=e;return R({el:t,axis:"y",values:[-5-o,-15-o,-40-o,-140-o]})},left(e){let{el:t,offset:o}=e;return R({el:t,axis:"x",values:[-5-o,-15-o,-40-o,-140-o]})}};function I(e){let{currentAnim:t,el:o,doExpire:i,opacityStart:a}=e;null==t||t.pause();const n=getComputedStyle(o),s=n.transform,r=o.animate([{opacity:void 0!==a?a:n.opacity,transform:s},{opacity:0,transform:s}],{duration:500,fill:"forwards"});return r.finished.then(()=>{i&&i()}),null==t||t.cancel(),r}function E(e){let{chatUsersByClientId:t,doExpire:o,isReplaced:a=!1,isSmallCell:n=!1,isSubgridCell:s=!1,latestMessage:l,localClientId:d,offset:m=0,onClick:p,reactionAlignment:h=f[0],reactionDirection:S=j[0],withMargin:R=!1}=e;const C=Object(i.useRef)(null),E=Object(i.useRef)(null),x="reaction"===l.type;Object(i.useEffect)(()=>{E.current=function(e){let{el:t,isReaction:o,reactionDirection:i,offset:a}=e;const n={el:t,offset:a};return o?v[i](n):y[i](n)}({el:C.current,isReaction:x,reactionDirection:S,offset:m}),E.current.finished.then(()=>{o()}).catch(O)},[]);const T=Object(g.a)(a);Object(i.useEffect)(()=>{s&&x||!a||T===a||(E.current=I({currentAnim:E.current,el:C.current,doExpire:o}))},[T,a,x,s,o]);const L=Object(u.jsx)(b,{ref:C,chatUsersByClientId:t,chatMessage:l,className:x?c.emoji:c.text,isSmallCell:n,localClientId:d,onClick:p,onPointerEnter:()=>{var e;E.current=I({currentAnim:E.current,el:C.current,doExpire:o,opacityStart:1}),null==(e=E.current)||e.pause()},onPointerLeave:()=>{var e;null==(e=E.current)||e.play()}},l.id);return Object(u.jsx)("div",{className:r()("jstest-rosteritem-reaction-new",c.reaction,{[c.withMargin]:R}),children:x?L:Object(u.jsx)("span",{className:r()(c.textWidthWrapper,c["textWidthWrapper-"+S],c["textWidthWrapper-align-"+h],{[c["textWidthWrapper-sized"]]:s}),children:L})})}E.propTypes={chatUsersByClientId:n.a.object.isRequired,doExpire:n.a.func.isRequired,isReplaced:n.a.bool,isSmallCell:n.a.bool,isSubgridCell:n.a.bool,latestMessage:n.a.object.isRequired,localClientId:n.a.string.isRequired,offset:n.a.number,onClick:n.a.func.isRequired,reactionAlignment:n.a.oneOf(f),reactionDirection:n.a.oneOf(j),withMargin:n.a.bool};t.a=E},,function(e,t,o){"use strict";var i=o(1),a=o.n(i),n=o(6),s=o.n(n),r="HeadsUpNotification-AyGN",c=o(0);function l(e){let{children:t,onClick:o}=e;return Object(c.jsx)("div",{className:s()("jstest-waiting-notification",r),onClick:o,children:t})}l.propTypes={children:a.a.node.isRequired,onClick:a.a.func};t.a=l},,function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r=o(4),c="container-QZp0",l="fileIconBadge-XqJ2",d="fileIcon-tkX+",u="fileIconBadgeVisible-WMbY",m="closeButton-wa0A",p="returnIcon-DPpA",b="spinner-7KM6",g="warningIcon-zMiL",h=o(171),j=o(0);function f(e){let{files:t,onRemoveFile:o,onRetryFile:i}=e;return Object(j.jsx)("div",{className:c,children:t.map(e=>Object(j.jsxs)(h.a,{className:d,name:e.name,children:[e.isUploading&&Object(j.jsx)("div",{className:a()(l,u),children:Object(j.jsx)(r.Nb,{className:b,size:"xxs"})}),e.error&&Object(j.jsx)("div",{className:a()(l,u),children:Object(j.jsx)(r.bc,{className:g,size:"xxs",modifiers:["meetingRed"]})}),e.error?Object(j.jsx)("div",{className:l,children:Object(j.jsx)(r.wb,{onClick:()=>i(e),size:"xs",className:p,modifiers:["dark"]})}):Object(j.jsx)("div",{className:l,children:Object(j.jsx)(r.y,{onClick:()=>o(e),size:"xs",className:m})})]},e.name))})}f.propTypes={files:s.a.array.isRequired,onRemoveFile:s.a.func.isRequired,onRetryFile:s.a.func.isRequired};t.a=f},function(e,t,o){"use strict";var i=o(6),a=o.n(i),n=o(1),s=o.n(n),r=o(4),c=o(3),l="container-qbse",d="text-sgoL",u="reaction-Oua1",m="button-wAhc",p="hiddenButton-kqK4",b=o(100),g=o(0);function h(e){let{canAskOthersToSpeak:t,className:o,clients:i,onAskToSpeakClicked:n,onLowerHandClicked:s,onSeeWhoClicked:h}=e;return 0===i.length?null:Object(g.jsxs)("div",{className:a()(l,o),children:[Object(g.jsx)(b.a,{className:u,size:"medium",noShadow:!0,reaction:i[0].stickyReaction.reaction}),1===i.length?Object(g.jsx)(g.Fragment,{children:i[0].isLocalClient?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-you-text",children:Object(g.jsx)("span",{className:d,children:"You raised your hand"})}),Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-lower-button",children:Object(g.jsx)(r.k,{className:m,modifiers:["extraSmall","invisible"],onClick:()=>s(),children:"Lower"})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-single-text",$participantName:i[0].displayName||"Someone",strong:Object(g.jsx)("strong",{}),children:Object(g.jsxs)("span",{className:d,children:[Object(g.jsx)("strong",{children:i[0].displayName||"Someone"})," raised their hand"]})}),t?Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-ask-to-speak-button",children:Object(g.jsx)(r.k,{className:m,modifiers:["extraSmall","invisible"],onClick:()=>n(i[0].id),children:"Ask to speak"})}):Object(g.jsx)(r.k,{className:p,modifiers:["extraSmall","invisible"],children:"\xa0"})]})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-multipe-text",$participantCount:i.length,strong:Object(g.jsx)("strong",{}),children:Object(g.jsxs)("span",{className:d,children:[Object(g.jsxs)("strong",{children:[i.length," people"]})," raised their hands"]})}),Object(g.jsx)(c.Localized,{id:"ChatRaisedHandNotification-see-who-button",children:Object(g.jsx)(r.k,{className:m,modifiers:["extraSmall","invisible"],onClick:h,children:"See who"})})]})]})}h.propTypes={canAskOthersToSpeak:s.a.bool.isRequired,className:s.a.string,clients:s.a.array.isRequired,onAskToSpeakClicked:s.a.func.isRequired,onLowerHandClicked:s.a.func.isRequired,onSeeWhoClicked:s.a.func.isRequired};t.a=h},function(e,t,o){"use strict";var i=o(2),a=o(1),n=o.n(a),s=o(6),r=o.n(s),c="ChatUnreadMessagesIndicator-1UIt",l=o(0);function d(e){let{numberOfUnreadMessages:t,onClick:o}=e;const i=r()(c);return Object(l.jsxs)("div",{className:i,onClick:o,children:[t," unread messages"]})}d.propTypes={numberOfUnreadMessages:n.a.number.isRequired,onClick:n.a.func};t.a=Object(i.memo)(d)},,function(e,t,o){e.exports=o(372)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){e.exports=o.p+"assets/media/chrome_128x128.5255cca5.png"},function(e,t,o){e.exports=o.p+"assets/media/firefox_128x128.3bebd486.png"},function(e,t,o){e.exports=o.p+"assets/media/edge_128x128.5fa8930f.png"},function(e,t,o){e.exports=o.p+"assets/media/opera_128x128.3e92b84b.png"},function(e,t,o){e.exports=o.p+"assets/media/vivaldi_128x128.503078a6.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.r(t);var i=o(61),a=o(9),n=o(36),s=o(30),r=o(123),c=o(125),l=o(110),d=o.n(l);const u=e=>t=>Object(c.b)(t,e).then(JSON.parse).then(e=>{let{data:t}=e;return t}),m=function(e,t,o){const i=new Promise((i,a)=>{const n=indexedDB.open(e,o);n.onerror=()=>a(n.error),n.onsuccess=()=>i(n.result),n.onupgradeneeded=e=>{0===e.oldVersion&&n.result.createObjectStore(t)}});return(e,o)=>i.then(i=>o(i.transaction(t,e).objectStore(t)))}("pwa-cache","pwa-cache",2);var p,b={getAll:(p=m,()=>Object(c.c)(p).then(e=>Promise.all(e.map(e=>u(p)(e).then(t=>[e,t]))).then(d.a))),get:u(m),set:(e=>(t,o)=>Object(c.d)(t,JSON.stringify({version:2,time:Date.now(),data:o}),e))(m),del:(e=>t=>Object(c.a)(t,e))(m)},g=o(182),h=o(52),j=o.p+"assets/media/app.f9e5e2bb.ftl",f=o.p+"assets/media/app.58104c26.ftl",O=o.p+"assets/media/app.e9318341.ftl",S=o.p+"assets/media/app.944e1d6e.ftl",R=o.p+"assets/media/app.73e347eb.ftl",C=o.p+"assets/media/app.b4594d73.ftl",v=o.p+"assets/media/app.4f993a8c.ftl",y=o.p+"assets/media/app.818d6066.ftl",I=o.p+"assets/media/app.15589c24.ftl",E=o.p+"assets/media/app.dbb13703.ftl",x=o.p+"assets/media/app.f6364354.ftl",T=o.p+"assets/media/app.99a9dd7e.ftl",L=o.p+"assets/media/app.90a82b8f.ftl",k=o.p+"assets/media/app.43912720.ftl",_=o.p+"assets/media/app.ec88ca2c.ftl",N=o.p+"assets/media/app.087aaa73.ftl",w=o.p+"assets/media/app.e72162fd.ftl",A=o.p+"assets/media/app.cb24b4ee.ftl",D=o.p+"assets/media/app.c97128f6.ftl",P=o.p+"assets/media/app.52fea396.ftl",M=o.p+"assets/media/app.b4d83663.ftl",F=o.p+"assets/media/app.a1b49c66.ftl",B=o.p+"assets/media/app.3d63452d.ftl",q=o.p+"assets/media/app.376940b2.ftl";const z={af:j,bg:f,cs:O,da:S,de:R,el:C,en:v,es:y,et:I,fi:E,fr:x,"fr-be":T,hi:L,hr:k,hu:_,it:N,ja:w,ka:A,kk:D,ko:P,lt:M,lv:F,ms:B,nb:q,nl:o.p+"assets/media/app.eaf3ef26.ftl",nn:o.p+"assets/media/app.cb143a9b.ftl",no:q,pl:o.p+"assets/media/app.37ff17c4.ftl",pt:o.p+"assets/media/app.c56ed661.ftl",ro:o.p+"assets/media/app.eca75430.ftl",ru:o.p+"assets/media/app.ba0b8fd7.ftl",sk:o.p+"assets/media/app.6724c88a.ftl",sl:o.p+"assets/media/app.54d90481.ftl","sr-cyrl":o.p+"assets/media/app.e2a39de0.ftl","sr-latn":o.p+"assets/media/app.6aebb2d2.ftl",sv:o.p+"assets/media/app.b3945337.ftl",th:o.p+"assets/media/app.92cff54b.ftl",tr:o.p+"assets/media/app.0ab18749.ftl",uk:o.p+"assets/media/app.3e38709f.ftl",vi:o.p+"assets/media/app.d52c258f.ftl",xh:o.p+"assets/media/app.e9d7387b.ftl","zh-hans":o.p+"assets/media/app.d14b2297.ftl","zh-hant":o.p+"assets/media/app.7dda4bcb.ftl",zu:o.p+"assets/media/app.e66b2131.ftl"};class G{async _fetchResource(e){const t=z[e]||z.en,o=await fetch(t);let i=await o.text();return i=new g.FluentResource(i),{[e]:i}}async createResourcesBundle(e){try{const t=await this._fetchResource(e),o=new g.FluentBundle(e);return o.addResource(t[e]),o}catch(t){throw new h.b(t)}}}var U=o(225),H=o(13),V=o(7),W=o(24);function K(e){if(!e)return;const t={};return Object.entries(e).forEach(e=>{let[o,i]=e;Object.entries(i).forEach(e=>{let[i,a]=e;Object.entries(a).forEach(e=>{let[a,n]=e;["min","max","avg"].includes(a)&&(t[`pfm_${o}_${i}_${a}`]=n)})})}),t}const $={initial:!1,isRunning:!1,terminate:null};var Q={name:"performanceMonitor",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"PERFORMANCEMONITOR_STARTED":return{...e,...o,initial:!0,isRunning:!0};case"PERFORMANCEMONITOR_STOPPED":return{...e,terminate:null,isRunning:!1};case"PERFORMANCEMONITOR_METRICS_UPDATED":return{...e,metrics:o}}return e},selectPerformanceMonitorRaw:e=>e.performanceMonitor,selectPerformanceMonitorIsRunning:e=>!!e.performanceMonitor.isRunning,selectPerformanceMonitorMetrics:e=>e.performanceMonitor.metrics,doPerformanceMonitorStart:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectPerformanceMonitorIsRunning())return;let i=null;const{terminate:a,registerDecodedFps:n,updateHidden:s}=Object(W.x)({onMetricsUpdated:e=>{t({type:"PERFORMANCEMONITOR_METRICS_UPDATED",payload:e})},onTerminated:()=>{null==i||i()},isHidden:()=>"visible"!==document.visibilityState});document.addEventListener("visibilitychange",s);const r=Object(W.A)({onUpdatedStats:(e,t)=>{try{const o=t.filter(e=>!e.isPresentation&&!e.isLocalClient&&e.video.track).map(t=>{var o;return{trackId:t.video.track.id,fps:Object.values((null==(o=e[t.id])||null==(o=o.tracks[t.video.track.id])?void 0:o.ssrcs)||{})[0].fps||0}});n(o)}catch(o){}}}).stop;return i=()=>{r(),document.removeEventListener("visibilitychange",s)},t({type:"PERFORMANCEMONITOR_STARTED",payload:{terminate:a}})},doPerformanceMonitorStop:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectPerformanceMonitorIsRunning())return o.selectPerformanceMonitorRaw().terminate(),t({type:"PERFORMANCEMONITOR_STOPPED"})},reactPerformanceMonitorStartStop:Object(V.e)("selectFeaturePerformanceMonitorOn","selectRoomConnectionStatus","selectPerformanceMonitorRaw",(e,t,o)=>e&&!o.initial&&"joined"===t?{actionCreator:"doPerformanceMonitorStart"}:o.isRunning&&["kicked","left"].includes(t)?{actionCreator:"doPerformanceMonitorStop"}:void 0)},Y=o(10),J=o(45);function Z(e){var t,o;let{isPresentation:i,stream:a}=e;return i?null!=(t=null!=(o=null==a?void 0:a.outboundId)?o:null==a?void 0:a.inboundId)?t:null==a?void 0:a.id:"0"}function X(e){let{spotlights:t,isPresentation:o,clientId:i,stream:a}=e;return!!t.find(e=>{const t=Z({isPresentation:o,stream:a});return e.clientId===i&&e.streamId===t})}var ee=o(108),te=o(95);const oe={clients:[],maxCount:0,metadata:{},fetchCached:null,fetchCachedError:null,viewerClients:[]},ie=[];function ae(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=e&&e.deviceId&&!ie.includes(e.deviceId)&&ie.push(e.deviceId);const{streams:o,__keepUsingThisClient:i,...a}=e;if(i)return i;const n=a.streamIds||o;return{streamState:n.map(()=>t?"new_accept":"to_accept"),localVolume:.8,localScreenshareVolume:.8,...a,streamIds:n,newJoiner:t}}function ne(e,t){const o=e.clients.find(e=>e.id===t.id);if(!o)return;const i={...o};return"boolean"===typeof t.isAudioEnabled&&(i.isAudioEnabled=t.isAudioEnabled),"boolean"===typeof t.isVideoEnabled&&(i.isVideoEnabled=t.isVideoEnabled),i}function se(e){var t;return"streamer"===e.roleName||"streamer"===(null==(t=e.role)?void 0:t.roleName)}function re(e){var t;return"recorder"===e.roleName||"recorder"===(null==(t=e.role)?void 0:t.roleName)}function ce(e){var t;return"captioner"===e.roleName||"captioner"===(null==(t=e.role)?void 0:t.roleName)}function le(e){var t;return["viewer","granted_viewer"].includes(e.roleName)||["viewer","granted_viewer"].includes(null==(t=e.role)?void 0:t.roleName)}function de(e,t){const o=e.clients.findIndex(e=>e.id===t);return{index:o,client:e.clients[o]}}function ue(e,t){const o=e.viewerClients.findIndex(e=>e.id===t);return{index:o,client:e.viewerClients[o]}}function me(e,t,o){const{client:i,index:a}=de(e,t),{client:n,index:s}=ue(e,t);if(!i&&!n)return console.error("Did not find client for update "+t),e;const r=[...e.clients],c=[...e.viewerClients];return i?r.splice(a,1,{...i,...o}):c.splice(s,1,{...n,...o}),{...e,clients:r,viewerClients:c}}function pe(e,t){const{client:o}=de(e,t.id);if(o){const i={};for(const e in t)JSON.stringify(o[e])!==JSON.stringify(t[e])&&(i[e]=t[e]);return console.warn(`Client already existing ${t.id}. 'Lost' update is: ${JSON.stringify(i)}`),e}return null!=t&&t.deviceId&&!ie.includes(t.deviceId)&&ie.push(t.deviceId),{...e,clients:[...e.clients,t],maxCount:Math.max(e.maxCount,e.clients.length+1),metadata:{...e.metadata,[t.id]:ge(t)}}}function be(e,t){const{client:o}=ue(e,t.id);if(o){const i={};for(const e in t)JSON.stringify(o[e])!==JSON.stringify(t[e])&&(i[e]=t[e]);return console.warn(`Client already existing ${t.id}. 'Lost' update is: ${JSON.stringify(i)}`),e}return{...e,viewerClients:[...e.viewerClients,t],metadata:{...e.metadata,[t.id]:ge(t)}}}function ge(e){return{avatarUrl:e.avatarUrl,displayName:e.displayName,deviceCapabilities:e.deviceCapabilities,fromDevice:e.fromDevice,fromMethod:e.fromMethod,stickyReaction:e.stickyReaction}}function he(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const{client:n}=de(e,t);if(!n)return console.error(`Did not find client ${t} for adding stream`),e;const s=o.getAudioTracks();if(i||(i=o.id),n.stream&&(n.stream.id===i||n.stream.inboundId===i)||!n.stream&&a===H.v.webcam||!n.stream&&!a&&n.streamIds.indexOf(i)<1)return me(e,t,{stream:o});const r=s.length?new MediaStream(s):null;return me(e,t,{presentationStream:o,presentationAudioOnlyStream:r})}function je(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{client:a}=de(e,t);return!a||a.streamIds.includes(o)?(console.warn(`No client ${t} or stream ${o} already exists`),e):me(e,t,{streamIds:[...a.streamIds,o],streamState:[...a.streamState,"to_accept"],...i})}function fe(e,t,o){var i,a;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{client:s}=de(e,t);if(!s)return console.error(`No client ${t} found to remove stream ${o}`),e;const r=s.stream&&s.stream.id,c=(null==(i=s.presentationStream)?void 0:i.inboundId)||(null==(a=s.presentationStream)?void 0:a.id),l=s.streamIds.indexOf(o);return me(e,t,{streamIds:s.streamIds.filter((e,t)=>t!==l),streamState:s.streamState.filter((e,t)=>t!==l),...r===o&&{stream:null},...c===o&&{presentationStream:null},...n})}function Oe(e,t,o,i){const{client:a}=de(e,t);if(!a)return console.error(`No client ${t} found to update stream ${o} ${i}`),e;const n=a.streamIds.indexOf(o),s=[...a.streamState];return s[n]=i,me(e,t,{streamState:s})}function Se(e,t){return{...e,clients:e.clients.filter(e=>e.id!==t),viewerClients:e.viewerClients.filter(e=>e.id!==t)}}let Re;var Ce={name:"remoteClients",init:()=>{Re=Object(te.a)()},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,{type:t,payload:o,meta:i}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.NEW_CLIENT:return le(o.client)?be(e,{...o.client,newJoiner:!0}):pe(e,ae(o.client,!0));case Y.a.CLIENT_LEFT:return Se(e,o.clientId);case Y.a.ROOM_JOINED:return{...e,clients:o.room.clients.filter(e=>e.id!==o.selfId&&!le(e)).map(t=>{var o;return t.mergeWithOldClientState&&null!=(o=ne(e,t))?o:ae(t)}),maxCount:o.room.clients.filter(e=>!le(e)).length-1,viewerClients:o.room.clients.filter(e=>e.id!==o.selfId&&le(e)),metadata:o.room.clients.reduce((e,t)=>({...e,[t.id]:ge(t)}),e.metadata)};case"REMOTE_CLIENTS_METADATA_FETCH_CACHED_STARTED":return{...e,fetchCached:!0,fetchCachedError:null};case"REMOTE_CLIENTS_METADATA_FETCH_CACHED_FINISHED":return{...e,metadata:o.reduce((t,o)=>({...t,[o.clientId]:{avatarUrl:o.avatarUrl,displayName:o.displayName,deviceCapabilities:o.deviceCapabilities,stickyReaction:o.stickyReaction,...e.metadata[o.clientId]}}),e.metadata)};case"REMOTE_CLIENTS_METADATA_FETCH_CACHED_FAILED":return{...e,fetchCached:!1,fetchCachedError:o};case Y.a.CLIENT_METADATA_RECEIVED:return"UserData"===o.type?{...e,metadata:{...e.metadata,[o.payload.clientId]:{avatarUrl:o.payload.avatarUrl,displayName:o.payload.displayName,deviceCapabilities:o.payload.deviceCapabilities,fromDevice:o.payload.fromDevice,fromMethod:o.payload.fromMethod,stickyReaction:o.payload.stickyReaction}}}:(console.warn("Unknown client metadata type "+o.type),e);case Y.a.SCREENSHARE_STARTED:return je(e,o.clientId,o.streamId,{isScreenshareAudioEnabled:!!o.hasAudioTrack});case Y.a.SCREENSHARE_STOPPED:return fe(e,o.clientId,o.streamId,{isScreenshareAudioEnabled:!1,localScreenshareVolume:.8});case Y.a.RECORDING_STARTED:return me(e,o.clientId,{isRecording:!0});case Y.a.RECORDING_STOPPED:return me(e,o.clientId,{isRecording:!1});case Y.a.BREAKOUT_GROUP_JOINED:return(null==i?void 0:i.localClientId)===o.clientId?e:me(e,o.clientId,{breakoutGroup:o.group});case Y.a.COLOCATION_GROUP_JOINED:return(null==i?void 0:i.localClientId)===o.clientId?e:me(e,o.clientId,{coLocationGroup:o.group});case Y.a.AUDIO_ENABLED:return me(e,o.clientId,{isAudioEnabled:o.isAudioEnabled});case Y.a.AUDIO_ONLY_MODE_ENABLED:return me(e,o.clientId,{isAudioOnlyModeEnabled:o.isAudioOnlyModeEnabled});case Y.a.VIDEO_ENABLED:return me(e,o.clientId,{isVideoEnabled:o.isVideoEnabled});case J.b.STREAM_ADDED:return he(e,o.clientId,o.stream,o.streamId,o.streamType);case J.b.CLIENT_CONNECTION_STATUS_CHANGED:return(null==i?void 0:i.localClientId)===o.clientId?e:me(e,o.clientId,{connectionStatus:o.status});case J.a:{let t=e;for(const{clientId:e,streamId:i,state:a}of o)t=Oe(t,e,i,a);return t}case"REMOTE_CLIENTS_SET_LOCAL_VOLUME":return me(e,o.clientId,{localVolume:o.volume});case"REMOTE_CLIENTS_SET_LOCAL_SCREENSHARE_VOLUME":return me(e,o.clientId,{localScreenshareVolume:o.volume})}return e},getMiddleware:()=>e=>t=>o=>{var i;const a=e.selectScreenshareClientViews();t(o),o.type!==Y.a.CLIENT_METADATA_RECEIVED&&"BATCH_ACTIONS"!==o.type||[..."BATCH_ACTIONS"===o.type?o.actions.filter(e=>e.type===Y.a.CLIENT_METADATA_RECEIVED):[o]].forEach(t=>{Re.updateClientMetadata({roomSessionId:e.selectRoomSessionId(),clientMetadata:{avatarUrl:t.payload.payload.avatarUrl,clientId:t.payload.payload.clientId,displayName:t.payload.payload.displayName,deviceCapabilities:t.payload.payload.deviceCapabilities,stickyReaction:t.payload.payload.stickyReaction}})}),o.type===Y.a.NEW_CLIENT&&Re.updateClientMetadata({roomSessionId:e.selectRoomSessionId(),clientMetadata:{avatarUrl:o.payload.client.avatarUrl,clientId:o.payload.client.id,displayName:o.payload.client.displayName,deviceCapabilities:o.payload.client.deviceCapabilities,stickyReaction:o.payload.client.stickyReaction}}),o.type===Y.a.ROOM_JOINED&&e.selectRoomSessionId()&&o.payload.room.clients.forEach(t=>{Re.updateClientMetadata({roomSessionId:e.selectRoomSessionId(),clientMetadata:{avatarUrl:t.avatarUrl,clientId:t.id,displayName:t.displayName,deviceCapabilities:t.deviceCapabilities,stickyReaction:t.stickyReaction}})}),o.type===Y.a.ROOM_JOINED&&e.doRemoteClientsMetadataFetchCached();const n=e.selectScreenshareClientViews();if(a.length===n.length)return;const s=n.filter(e=>!a.find(t=>t.id===e.id)),r=a.filter(e=>!n.find(t=>t.id===e.id));s.forEach(t=>{e.doAddChatLog({data:{clientId:t.clientId,eventType:"screenshare_started"}})});const c=null==(i=o.payload)?void 0:i.requestedByClientId;r.forEach(t=>e.doAddChatLog({data:{clientId:t.clientId,eventType:c?"screenshare_stopped_by_host":"screenshare_stopped",requestedByClientId:c}}))},selectRemoteClientsRaw:e=>e.remoteClients,selectRemoteClientsMetadata:e=>e.remoteClients.metadata,selectRemoteClientsMaxCount:e=>e.remoteClients.maxCount,selectActiveScreenshareView:Object(V.e)("selectRemoteClientViews",e=>e.find(e=>e.isPresentation)),selectRemoteClientsVideoPresentationStreams:Object(V.e)("selectRemoteClients",e=>e.filter(e=>{let{presentationStream:t}=e;return(null==t?void 0:t.getVideoTracks().length)>0}).map(e=>{let{presentationStream:t}=e;return t})),selectClientsWithRaisedHand:Object(V.e)("selectLocalClient","selectRemoteClients",(e,t)=>[e,...t].filter(e=>{var t;return Object(ee.a)(null==(t=e.stickyReaction)?void 0:t.reaction)}).sort((e,t)=>new Date(e.stickyReaction.timestamp)-new Date(t.stickyReaction.timestamp))),selectRemoteClients:Object(V.e)("selectRemoteClientsRaw",e=>e.clients.map(t=>({...t,...e.metadata[t.id]}))),selectRemoteClientsWithRaisedHand:Object(V.e)("selectClientsWithRaisedHand",e=>e.filter(e=>!e.isLocalClient)),selectRemoteViewerClients:Object(V.e)("selectRemoteClientsRaw",e=>e.viewerClients.map(t=>({...t,...e.metadata[t.id]}))),selectRemoteClientsAndViewerClients:Object(V.e)("selectRemoteClients","selectRemoteViewerClients",(e,t)=>[...e,...t]),selectIsRoomEmpty:Object(V.e)("selectRemoteClients",e=>0===e.filter(e=>!se(e)&&!re(e)&&!ce(e)).length),selectIsAnyoneRecording:Object(V.e)("selectRemoteClients","selectRecordingIsRecording","selectCloudRecordingIsRecording",(e,t,o)=>t||o||e.some(e=>e.isRecording)),selectIsAnyoneStreaming:Object(V.e)("selectRemoteClients","selectStreamingIsStreaming",(e,t)=>t&&e.some(se)),selectHasCoLocatedRemoteClients:Object(V.e)("selectRemoteClients",e=>e.some(e=>e.isCoLocated)),selectHasRemoteClientWithVideoEnabled:Object(V.e)("selectRemoteClients",e=>e.some(e=>e.isVideoEnabled)),selectRemoteClientViews:Object(V.e)("selectBreakoutAssignments","selectBreakoutCurrentId","selectCoLocationAssignments","selectLocalClientId","selectLocalScreenshareStream","selectPrefs","selectRemoteClients","selectSpotlights",(e,t,o,i,a,n,s,r)=>{const c=[];if(a){const e=!!a.getAudioTracks().length,o=X({spotlights:r,isPresentation:!0,stream:a,clientId:i});c.push({breakoutGroup:t,clientId:i,displayName:"Your screenshare",id:"local-screenshare",isAudioEnabled:e,isLocalClient:!0,isPresentation:!0,isVideoEnabled:!0,isSpotlighted:o,stream:a})}for(const l of s){if(se(l)||re(l)||ce(l))continue;const{presentationStream:t,...i}=l,a=(n.debug?l.id.slice(0,4)+" ":"")+(l.displayName||"Guest"),s=t&&t.active,d="pres-"+l.id,u=l.stream&&l.stream.active,m=X({spotlights:r,isPresentation:!1,stream:l.stream,clientId:l.id}),p=l.isVideoEnabled;if(c.push({...i,breakoutGroupAssigned:(null==e?void 0:e[l.deviceId])||"",coLocationGroupAssigned:(null==o?void 0:o[l.deviceId])||"",clientId:l.id,displayName:a,hasActivePresentation:!!s,isSpotlighted:m,...l.isVideoEnabled?{isVideoEnabled:p}:{}}),s){const e=X({spotlights:r,isPresentation:!0,stream:l.presentationStream,clientId:l.id});c.push({...i,clientId:l.id,stream:l.presentationStream,displayName:`Screenshare (${a})`,id:d,isAudioEnabled:l.isScreenshareAudioEnabled,localVolume:l.localScreenshareVolume,isPresentation:!0,isVideoEnabled:!0,isSpotlighted:e,...u&&{isRecording:null}})}}return c}),selectRemoteClientsMentionable:Object(V.e)("selectRemoteClientViews","selectRemoteViewerClients","selectBreakoutActive","selectBreakoutCurrentId",(e,t,o,i)=>[...e.filter(e=>!e.isPresentation),...t].filter(e=>"Guest"!==e.displayName).filter(e=>!o||e.breakoutGroup===i)),selectNumClients:Object(V.e)("selectRemoteClients","selectLocalClientIsViewer",(e,t)=>{const o=e.filter(e=>{var t;return!["recorder","streamer","captioner"].includes(null==(t=e.role)?void 0:t.roleName)&&!le(e)}).length;return t?o:o+1}),selectNumViewerClients:Object(V.e)("selectRemoteViewerClients","selectLocalClientIsViewer",(e,t)=>{const o=e.length;return t?o+1:o}),selectScreenshareClientViews:Object(V.e)("selectRemoteClientViews",e=>e.filter(e=>e.isPresentation)),doSetRemoteClientLocalVolume:e=>{let{clientId:t,volume:o}=e;return e=>{let{dispatch:i}=e;i({type:"REMOTE_CLIENTS_SET_LOCAL_VOLUME",payload:{clientId:t,volume:o}})}},doSetRemoteClientLocalScreenshareVolume:e=>{let{clientId:t,volume:o}=e;return{type:"REMOTE_CLIENTS_SET_LOCAL_SCREENSHARE_VOLUME",payload:{clientId:t,volume:o}}},doRemoteClientsMetadataFetchCached:()=>async e=>{let{store:t,dispatch:o}=e;o({type:"REMOTE_CLIENTS_METADATA_FETCH_CACHED_STARTED"});try{const e=t.selectRoomSessionId();o({type:"REMOTE_CLIENTS_METADATA_FETCH_CACHED_FINISHED",payload:await Re.getClientMetadata({roomSessionId:e})})}catch(i){o({type:"REMOTE_CLIENTS_METADATA_FETCH_CACHED_FAILED",payload:i})}}},ve=o(20),ye=o(16),Ie=o(68);const Ee={analyticsClient:null,analyticsInited:!1,keepAliveSent:0};function xe(e,t){let{amplitude:o,posthog:i}=e;return{...o&&{amplitude:{...o,eventProperties:{...o.eventProperties,...t}}},...i&&{posthog:{...i,eventProperties:{...i.eventProperties,...t}}}}}const Te=e=>Object.keys(e).reduce((t,o)=>o.startsWith("utm_")||o.startsWith("ref_")?{...t,[o]:e[o]}:t,{}),Le=e=>{const t=e.selectRoomSessionElapsedTime(),o=e.selectRoomSessionRelativeJoinTime(),i=t-o;return{roomMode:e.selectRoomMode(),roomName:e.selectRoomName(),roomProduct:e.selectRoomProduct(),roomProductName:e.selectRoomProductName(),roomType:e.selectRoomType(),numClients:e.selectNumClients(),userRoleName:e.selectLocalClientRole(),roomSessionId:e.selectRoomSessionId(),roomSessionStart:e.selectRoomSessionStartTime()&&new Date(e.selectRoomSessionStartTime()),roomSessionElapsedTimeInSeconds:Math.floor(t/1e3),roomSessionRelativeJoinTimeInSeconds:Math.floor(o/1e3),roomSessionClientElapsedTimeInSeconds:Math.floor(i/1e3),isEnablerPresent:Object(ye.c)(e.selectRemoteClients(),e.selectLocalClientRole()),hasEnabledDevices:e.selectLocalClientHasEnabledDevices(),unlimitedBandwidthWhenUsingRelayP2P:e.selectFeatureUnlimitedBandwidthWhenUsingRelayP2POn()}},ke=e=>{const{sdkPlatform:t,sdkVersion:o}=e.selectQueryObject();return{subdomain:s.a.subdomain||null,organizationId:e.selectOrganizationId()||null,roomSessionId:e.selectRoomSessionId(),roomProductName:e.selectRoomProductName(),...o&&{sdkVersion:o},...t&&{sdkPlatform:t}}};var _e={name:"analytics",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"ANALYTICS":return{...e,[o]:!0};case"@ANALYTICS":return{...e,keepAliveSent:o};case"ANALYTICS_INITED":return{...e,analyticsClient:o,analyticsInited:!0};case"ANALYTICS_QUERY_STORED":return{...e,analyticsQuery:o}}return e},getMiddleware:()=>e=>t=>o=>{var i,a;if(null!=(i=o.meta)&&i.analytics)try{var n;const t=xe(o.meta.analytics,ke(e));null==(n=e.selectAnalyticsClient())||n.sendEvent(t)}catch(c){console.error(c)}else if("SIDEBAR_LAYER_OPEN"===o.type&&(null==(a=o.payload)?void 0:a.layer)===ve.a){var s,r;const t=xe(ye.b.callQualitySidebarOpened({context:null==(s=o.payload)?void 0:s.context,localCallQualityScoresTotal:e.selectLocalCallQualityScores().total}),ke(e));null==(r=e.selectAnalyticsClient())||r.sendEvent(t)}return t(o)},selectAnalyticsRaw:e=>e.analytics,selectAnalyticsClient:e=>e.analytics.analyticsClient,selectAnalyticsInited:e=>e.analytics.analyticsInited,selectAnalyticsQuery:e=>e.analytics.analyticsQuery,selectAnalyticsHardDisabled:Object(V.e)("selectFeatureAnalyticsOff","selectPrefs","selectRoomProductName",(e,t,o)=>!!e||!t.analytics||"embedded-2meet-consult"===o),doAnalyticsInit:()=>e=>{let{dispatch:t,store:o}=e,i=null;o.selectAnalyticsHardDisabled()||(i=Object(ye.a)()),t({type:"ANALYTICS_INITED",payload:i})},doPoorQualityReportedAnalytics:e=>t=>{let{dispatch:o,store:i}=t;o({type:"ANALYTICS",payload:"poorQualityReported-"+e,meta:{analytics:ye.b.poorQualityReported({hd:i.selectPrefHd(),hdDefaultOff:!!i.selectFeatureHdDefaultOff(),isUser:i.selectIsUserLoggedIn(),maxParticipants:i.selectRemoteClientsMaxCount()+1,role:i.selectLocalClientRole(),roomProduct:i.selectRoomProduct(),roomType:i.selectRoomType(),roomMode:i.selectRoomMode(),sessionLength:i.selectRoomSessionElapsedTime()})}})},doChatEmojiAutoCompleteAnalytics:()=>e=>{let{dispatch:t}=e;t({type:"ANALYTICS",payload:"roomChatEmojiAutoCompleteTriggered",meta:{analytics:ye.b.chatEmojiAutoCompleteTriggered()}})},doPerformanceMonitorSummaryAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"performanceMonitorSummary",meta:{analytics:ye.b.performanceMonitorSummary({...Le(o),...K(o.selectPerformanceMonitorMetrics())})}})},doRoomEmbedCodeCopiedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"embedCodeCopied",meta:{analytics:ye.b.roomEmbedCodeCopied({roomProduct:o.selectRoomProduct(),roomType:o.selectRoomType(),userRoleName:o.selectLocalClientRole()})}})},doRoomExitAnalytics:e=>{let{context:t,exitMethod:o}=e;return e=>{var i,a,n;let{dispatch:s,store:r}=e;const{pendingClientCanceled:c,evaluationFailed:l,roomJoinedLate:d,roomJoined:u}=null!=(i=null==(a=r.selectSignalSocket_())||null==a.getGlitchFreeMetrics?void 0:a.getGlitchFreeMetrics())?i:{};s({type:"ANALYTICS",payload:"roomExited",meta:{analytics:ye.b.roomExited({...Le(r),addGoogleStunServersOn:r.selectFeatureAddGoogleStunServersOn(),addCloudflareStunServersOn:r.selectFeatureAddCloudflareStunServersOn(),clientId:r.selectLocalClientId(),connectionMonitorStats:r.selectConnectionMonitorStats(),context:t,exitMethod:o,didUseAudioDenoiser:r.selectAudioDenoiserRaw().wasWanted,didUseCameraEffects:r.selectCameraEffectsRaw().wasWanted,didUseCoLocation:r.selectCoLocationDidUse(),pageLoads:r.selectRoomSessionPageLoads(),requestedByClientId:r.selectKickRequestedByClientId(),...r.selectFeedbackMetadata(),adjustBitratesFromResolutionOn:r.selectFeatureAdjustBitratesFromResolutionOn(),...r.selectExperimentalTogglesAnalyticsData(),redOn:r.selectFeatureRedOn(),increaseIncomingMediaBufferOn:r.selectFeatureIncreaseIncomingMediaBufferOn(),glitchFree:r.selectFeatureGlitchFreeOn(),glitchFreeRoomJoined:u,glitchFreeRoomJoinedLate:d,glitchFreeEvaluationFailed:l,glitchFreePendingClientCanceled:c,sessionToClientRatio:(null==(n=r.selectRtcManager_())?void 0:n.totalSessionsCreated)/(null==ie?void 0:ie.length)||void 0,...r.selectRtcIceSummary(),rtpAbsCaptureTimeOn:r.selectFeatureRtpAbsCaptureTimeOn(),...r.selectLocalStreamMetrics(),...r.selectRtcConnectionAnalytics(),sfuReconnectV2:r.selectFeatureSfuReconnectV2On(),cleanSdpOn:r.selectFeatureCleanSdpOn(),lowBandwidthOn:r.selectFeatureLowBandwidthOn(),refreshSelfviewOff:r.selectFeatureRefreshSelfviewOff()})}})}},doRoomQrCodeGuestConnectedAnalytics:()=>({type:"ANALYTICS",payload:"roomQrCodeGuestConnected",meta:{analytics:ye.b.roomQrCodeGuestConnected()}}),doSelfviewHiddenAnalytics:e=>({type:"ANALYTICS",payload:"selfviewHidden",meta:{analytics:ye.b.selfviewHidden(e)}}),doIdentifyUserAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"identifyUser"});const i=o.selectUser(),a=o.selectExperiments(),n=o.selectOrganizationId();try{var s;null==(s=o.selectAnalyticsClient())||s.identifyUser({...i,organizationId:n,splitTests:Object.keys(a).map(e=>`${e}_${a[e]}`)})}catch(r){console.error(r)}o.doStoreAnalyticsQuery()},doStoreAnalyticsQuery:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectQueryObject();t({type:"ANALYTICS_QUERY_STORED",payload:Te(i)}),(e=>{let t=e.selectQueryObject();const o=Object.keys(Te(t));0!==o.length&&(o.forEach(e=>{t=Object(Ie.a)(t,e)}),e.doUpdateQuery(t))})(o)},doInAConversationAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"inAConversation-"+o.selectRoomSessionId(),meta:{analytics:ye.b.inAConversation(Le(o))}})},doLocalStreamErrorAnalytics:e=>t=>{var o;let{dispatch:i,store:a}=t;i({type:"ANALYTICS",payload:"localStreamErrortracked",meta:{analytics:ye.b.camMicErrorMsgShown({error:e||(null==(o=a.selectLocalStreamError())?void 0:o.name),roomName:a.selectRoomName(),roomProduct:a.selectRoomProduct(),roomType:a.selectRoomType()})}})},doMinuteElapsedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectNumClients(),{keepAliveSent:a}=o.selectAnalyticsRaw();t({type:"@ANALYTICS",payload:o.selectAppTime(),...0!==a&&{meta:{analytics:ye.b.minuteElapsed({clientCount:i})}}})},doSignalConnectedAnalytics:e=>{let{reconnect:t,count:o,...i}=e;return e=>{let{dispatch:a,store:n}=e,s="unknown";try{s=n.selectSignalSocket_()._socket.io.engine.transport.name}catch(r){}a({type:"ANALYTICS",payload:"signalConnected",meta:{analytics:ye.b.signalConnected({reconnect:t,count:o,...i,...Le(n),applicationState:n.selectApplicationState(),pageLoads:n.selectRoomSessionPageLoads(),socketType:s,...n.selectExperimentalTogglesAnalyticsData()})}})}},doSignalDisconnectedAnalytics:e=>{let{reason:t,count:o}=e;return e=>{let{dispatch:i,store:a}=e,n="unknown";try{n=a.selectSignalSocket_()._socket.io.engine.transport.name}catch(s){}i({type:"ANALYTICS",payload:"signalDisconnected",meta:{analytics:ye.b.signalDisconnected({reason:t,count:o,...Le(a),applicationState:a.selectApplicationState(),pageLoads:a.selectRoomSessionPageLoads(),socketType:n,...a.selectExperimentalTogglesAnalyticsData()})}})}},doRoomFeatureDiscoveryDialogOpenAnalytics:e=>{let{featureName:t,source:o}=e;return e=>{let{dispatch:i}=e;i({type:"ANALYTICS",payload:"roomFeatureDiscoveryDialogOpen",meta:{analytics:ye.b.roomFeatureDiscoveryDialogOpen({featureName:t,source:o})}})}},doRoomFeaturesAnalytics:e=>{let{eventType:t,value:o}=e;return e=>{let{dispatch:i}=e;i({type:"ANALYTICS",payload:"roomFeatures",meta:{analytics:ye.b.roomFeatures({eventType:t,value:o})}})}},doRoomRejoinedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"roomRejoined-"+o.selectRoomConnectionAttempt(),meta:{analytics:ye.b.roomRejoined({status:o.selectRoomConnectionStatus(),attempts:o.selectRoomConnectionAttempt(),error:o.selectRoomConnectionError(),coLocationIsActive:o.selectCoLocationActive()})}})},doTimeLimitDialogButtonClickedAnalytics:e=>{let{buttonLabel:t}=e;return e=>{let{dispatch:o,store:i}=e;o({type:"ANALYTICS",payload:"timeLimitDialog",meta:{analytics:ye.b.timeLimitDialogButtonClicked({roomName:i.selectRoomName(),buttonLabel:t})}})}},doTrialClickedAnalytics:e=>{let{featureSource:t="RoomHeader"}=e;return e=>{let{dispatch:o}=e;o({type:"ANALYTICS",payload:"trialClick",meta:{analytics:ye.b.trialClick({featureSource:t})}})}},doVisitedRoomAnalytics:()=>e=>{let{dispatch:t,store:o}=e;const i=o.selectLocalDevices().some(e=>"audioinput"===e.kind),a=o.selectLocalDevices().some(e=>"Microsoft IR Camera Front"!==e.label&&"videoinput"===e.kind),n=[o.selectAudioId()?null:i?"audio":null,o.selectVideoId()?null:a?"video":null].filter(Boolean),s=o.selectDocumentSize(),r=o.selectResolution();t({type:"ANALYTICS",payload:"visitedRoom",meta:{analytics:ye.b.visitedRoom({audioDenoiserWanted:o.selectPrefs().audioDenoiser,autoSpotlight:o.selectPrefs().autoSpotlight,cameraEffect:o.selectPrefs().cameraEffect,coLocationIsActive:o.selectCoLocationActive(),embedApiVersion:o.selectEmbedApiVersion(),frameSize:{x:s[0],y:s[1]},hasDevicePermissions:!o.selectIsMissingDeviceLabels(),isPrecallReviewWanted:o.selectIsPrecallReviewWanted(),missingDevices:n.join("_"),noOfParticipants:o.selectNumClients(),precallCeremony:o.selectShouldShowPrecallCeremony(),queryPrefs:o.selectQueryPrefs(),roomClaimed:!o.selectIsRoomUnclaimed(),roomMode:o.selectRoomMode(),roomName:o.selectRoomName(),roomProduct:o.selectRoomProduct(),roomType:o.selectRoomType(),screenSize:{x:r[0],y:r[1]},userAgent:navigator.userAgent,userRoleName:o.selectLocalClientRole()})}})},doScreenshareToggleQualityAnalytics:e=>{let{quality:t}=e;return e=>{let{dispatch:o}=e;o({type:"ANALYTICS",payload:"screenShareQualityToggled",meta:{analytics:ye.b.screenShareQualityToggled({quality:t})}})}},doConcurrencyErrorDisplayedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"concurrencyErrorDisplayed",meta:{analytics:ye.b.concurrencyErrorDisplayed({roomProductName:o.selectRoomProductName()})}})},doConcurrencyErrorCancelClickedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"concurrencyErrorCancelClicked",meta:{analytics:ye.b.concurrencyErrorCancelClicked({roomProductName:o.selectRoomProductName()})}})},doConcurrencyErrorLeaveRoomClickedAnalytics:()=>e=>{let{dispatch:t,store:o}=e;t({type:"ANALYTICS",payload:"concurrencyErrorLeaveRoomClicked",meta:{analytics:ye.b.concurrencyErrorLeaveRoomClicked({roomProductName:o.selectRoomProductName()})}})},reactAnalyticsInit:Object(V.e)("selectAnalyticsInited","selectHasFeaturesFetched","selectHasRoomFetched",(e,t,o)=>{if(!e&&t&&o)return{actionCreator:"doAnalyticsInit"}}),reactMinuteElapsedAnalytics:Object(V.e)("selectAnalyticsRaw","selectApplicationState","selectAppTime",(e,t,o)=>{if(!["kicked","left"].includes(t)&&o-e.keepAliveSent>=6e4)return{actionCreator:"doMinuteElapsedAnalytics"}}),reactInAConversationAnalytics:Object(V.e)("selectAnalyticsRaw","selectNumClients","selectRoomSessionId",(e,t,o)=>{if(!e["inAConversation-"+o]&&e.visitedRoom&&t>1)return{actionCreator:"doInAConversationAnalytics"}}),reactLocalStreamErrorAnalytics:Object(V.e)("selectAnalyticsRaw","selectLocalStreamError",(e,t)=>{if(t&&!e.localStreamErrortracked&&["nodevices","NotAllowedError","NotReadableError"].includes(t.name))return{actionCreator:"doLocalStreamErrorAnalytics"}}),reactRoomRejoinedAnalytics:Object(V.e)("selectAnalyticsRaw","selectRoomConnectionAttempt","selectRoomConnectionStatus",(e,t,o)=>{if(!e["roomRejoined-"+t]&&t>=1&&["error","joined"].includes(o))return{actionCreator:"doRoomRejoinedAnalytics"}}),reactRoomQrCodeGuestConnectedAnalytics:Object(V.e)("selectAnalyticsRaw","selectLocalClientId","selectOnboardingInProgress","selectRemoteClients",(e,t,o,i)=>{if(!e.roomQrCodeGuestConnected&&o&&i.some(e=>"qrCode"===e.fromMethod&&e.fromDevice&&t.startsWith(e.fromDevice)))return{actionCreator:"doRoomQrCodeGuestConnectedAnalytics"}}),reactVisitedRoomAnalytics:Object(V.e)("selectAnalyticsRaw","selectApplicationState",(e,t)=>{if(!e.visitedRoom&&"joined"===t)return{actionCreator:"doVisitedRoomAnalytics"}}),reactUserIdentifiedAnalytics:Object(V.e)("selectAnalyticsRaw","selectAnalyticsInited","selectHasExperimentsFetched","selectHasUserFetched","selectHasOrganizationFetched",(e,t,o,i,a)=>{if(!e.identifyUser&&t&&o&&i&&a)return{actionCreator:"doIdentifyUserAnalytics"}}),reactPerformanceMonitorSummaryAnalytics:Object(V.e)("selectAnalyticsRaw","selectFeaturePerformanceMonitorOn",(e,t)=>{if(t&&e.roomExited&&!e.performanceMonitorSummary)return{actionCreator:"doPerformanceMonitorSummaryAnalytics"}}),reactPoorQualityReportedAnalytics:Object(V.e)("selectAnalyticsRaw","selectNotifications",(e,t)=>{const o=t.find(e=>"reportPoorQuality"===e.type);if(o&&!e["poorQualityReported-"+o.timestamp])return{actionCreator:"doPoorQualityReportedAnalytics",args:[o.timestamp]}}),reactRoomExitAnalytics:Object(V.e)("selectAnalyticsRaw","selectApplicationState","selectIsWindowUnloading","selectRoomLeftContext",(e,t,o,i)=>!(e.roomExited||!/kicked|left/.test(t)&&!o)&&{actionCreator:"doRoomExitAnalytics",args:[{context:o?"windowUnload":i,exitMethod:o?"windowUnload":t}]})};let Ne=null;const we={stop:null,error:null,changing:!1,toggling:!1,want:!1,wasWanted:!1,sourceTrackId:null,effectTrackId:null};var Ae={name:"audioDenoiser",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"AUDIODENOISER_TOGGLED":return{...e,toggling:!0,want:!e.want,wasWanted:e.wasWanted||!e.want};case"AUDIODENOISER_CHANGE_STARTED":return o.toStart?{...e,changing:!0,want:o.toStart,sourceTrackId:o.sourceTrackId}:{...e,changing:!0,want:o.toStart,sourceTrackId:null};case"AUDIODENOISER_CHANGE_FINISHED":return{...e,changing:!1,stop:o.stop,toggling:!1,effectTrackId:o.effectTrackId};case"AUDIODENOISER_CHANGE_FAILED":return{...e,...we,error:o,want:!1}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectAudioId(),a=e.selectIsLocalStreamSwitching(),n=t(o);if(!e.selectLocalStream()||e.selectAudioDenoiserRaw().changing||!e.selectCanStartAudioDenoiser()||e.selectIsLocalStreamSwitching())return n;const s=!a&&e.selectIsLocalStreamSwitching(),r=e.selectPrefs().audioDenoiser,c=e.selectAudioDenoiserEffectTrackId();return(s&&e.selectAudioDenoiserEnabled()||i&&i!==e.selectAudioId()||c&&c!==e.selectActiveAudioTrackId())&&e.doAudioDenoiserStart_(!1),r&&!e.selectAudioDenoiserEnabled()&&!e.selectAudioDenoiserRaw().toggling&&e.selectAudioId()&&e.doAudioDenoiserToggle({auto:!0}),n},doAudioDenoiserToggle:e=>{let{auto:t}=e;return e=>{let{dispatch:o,store:i}=e;const a=!i.selectAudioDenoiserWanted();o({type:"AUDIODENOISER_TOGGLED",meta:{...!t&&{analytics:ye.b.audioDenoiserToggled({enabled:a}),prefs:{audioDenoiser:a}}}})}},doAudioDenoiserStart_:e=>async t=>{var i;let{store:a,dispatch:n}=t;e=null!=(i=e)?i:!a.selectAudioDenoiserEnabled();const s=a.selectLocalStream();let r;s&&"function"===typeof s.getAudioTracks&&(r=a.selectActiveAudioTrackId()),n({type:"AUDIODENOISER_CHANGE_STARTED",payload:{toStart:e,sourceTrackId:r}});try{let t,i;if(!1===e){var c,l;a.selectAudioId()&&a.doLocalStreamEffect(null,"audio"),null==(c=(l=a.selectAudioDenoiserRaw()).stop)||c.call(l)}else{if(!Ne){const{applyAudioDenoiser:e}=await o.e(19).then(o.bind(null,474));Ne=e}const e=await Ne(s);var d;if(a.doLocalStreamEffect(e.outputStream,"audio"),e.outputStream&&e.outputStream.getAudioTracks)i=null==(d=e.outputStream.getAudioTracks()[0])?void 0:d.id;t=e.stop}n({type:"AUDIODENOISER_CHANGE_FINISHED",payload:{toStart:e,stop:t,effectTrackId:i}})}catch(u){console.error(u),n({type:"AUDIODENOISER_CHANGE_FAILED",payload:u})}},selectAudioDenoiserRaw:e=>e.audioDenoiser,selectAudioDenoiserSourceTrackId:e=>e.audioDenoiser.sourceTrackId,selectAudioDenoiserEnabled:e=>!!e.audioDenoiser.stop,selectAudioDenoiserWanted:e=>!!e.audioDenoiser.want,selectAudioDenoiserEffectTrackId:e=>e.audioDenoiser.effectTrackId,selectCanStartAudioDenoiser:Object(V.e)("selectBrowserSupportRaw","selectFeatureAudioDenoiserOff","selectFeatureAudioDenoiserMobileOff","selectIsMobile",(e,t,o,i)=>!t&&!(o&&i)&&("chrome"===e.browser||"firefox"===e.browser||"safari"===e.browser)),reactAudioDenoiserStart:Object(V.e)("selectCanStartAudioDenoiser","selectAudioDenoiserRaw","selectIsAudioEnabled","selectLocalStream","selectAudioId",(e,t,o,i,a)=>{if(e&&!t.changing&&!t.error&&i&&t.want!==!!t.stop&&(!t.want||o)&&a)return{actionCreator:"doAudioDenoiserStart_",args:[t.want]}})};const De={enabled:!1,trigger:"initial"};var Pe={name:"audioOnlyMode",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,{payload:t,type:o}=arguments.length>1?arguments[1]:void 0;switch(o){case"AUDIO_ONLY_MODE_ENABLED":return{...e,enabled:t.enabled,trigger:t.trigger}}return e},doToggleAudioOnlyModeEnabled:function(e){let{trigger:t="manual",context:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trigger:"manual"};return i=>{let{store:a,dispatch:n}=i;const s=a.selectRtcManager_();s&&(a.doRtcAnalyticsCustomEvent("doToggleAudioOnlyModeEnabled",{_time:Date.now(),enabled:e}),s.setAudioOnly(e),e&&a.doToggleVideoEnabled(!1,{isTemporary:!0}),n({type:"AUDIO_ONLY_MODE_ENABLED",payload:{context:o,enabled:e,trigger:t},meta:{analytics:ye.b.audioOnlyModeToggled({enabled:e,context:o}),signal:{type:"enable_audio_only_mode",payload:{enabled:e}}}}))}},selectAudioOnlyModeRaw:e=>e.audioOnlyMode,selectAudioOnlyModeEnabled:e=>e.audioOnlyMode.enabled};function Me(e){return"roomKey-"+e}function Fe(e){let{dispatch:t,roomName:o}=e;const i=Me(o);try{sessionStorage.removeItem(i)}catch(a){}t({type:"ROOM_KEY_CLEARED"})}const Be={knockError:null,knockImageUrl:null,knockResponse:{},knockStatus:"",roomKey:null,roomKeyData:null,roomKeyDecodeError:null,roomKeyPersisted:!1,shouldPlayKnockAcceptedSound:!1};var qe={name:"authorization",reducer:function(){var e,t;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,{type:i,payload:a,error:n,meta:s}=arguments.length>1?arguments[1]:void 0;switch(i){case"ROOM_KEY_DECODED":return{...o,roomKeyData:a.roomKeyData};case"ROOM_KEY_DECODE_FAILED":return{...o,roomKeyData:null,roomKeyDecodeError:a||n};case"ROOM_KEY_LOADED":return{...o,roomKey:a.roomKey,roomKeyPersisted:!!a.fromSessionStorage||o.roomKeyPersisted};case"ROOM_KEY_PERSISTED":return{...o,roomKeyPersisted:!0};case"ROOM_KEY_CLEARED":return{...o,roomKey:null,roomKeyPersisted:!1};case"KNOCK_SOUND_PLAYED":return{...o,shouldPlayKnockAcceptedSound:!1};case Y.a.ROOM_JOINED_ERROR:return"room_locked"===n?{...o,knockStatus:"standby"}:o;case Y.a.KNOCK_HANDLED_ERROR:return{...o,knockError:n};case Y.a.KNOCK_HANDLED:return{...o,...[null==a?void 0:a.clientId,""].includes(null==s?void 0:s.localClientId)&&{knockImageUrl:null,knockStatus:a.resolution,knockResponse:a.knockResponse?{sender:a.knockResponse.sender,message:a.knockResponse.message}:{},knockError:null,..."on_hold"!==a.resolution&&(null==(e=a.metadata)?void 0:e.roomName)&&{roomKey:(null==(t=a.metadata)?void 0:t.roomKey)||null,roomKeyPersisted:!1},shouldPlayKnockAcceptedSound:"accepted"===a.resolution}};case Y.a.ROOM_KNOCKED_ERROR:return delete sessionStorage.roomKey,{...o,knockError:n,roomKey:null,knockStatus:{room_meeting_time_exhausted:"room_meeting_time_exhausted_error",room_concurrency_control_error:"room_concurrency_control_error"}[n]||""};case Y.a.ROOM_KNOCK_CANCELLED:return{...o,knockImageUrl:null,knockResponse:{},knockStatus:""};case"KNOCK_RECONNECT":return{...o,knockStatus:"reconnect"};case"KNOCK_KNOCKED":return{...o,knockImageUrl:a,knockError:null,knockStatus:"waiting"};case"KNOCK_ERROR_RESET":return{...o,...Be};default:return o}},getMiddleware:()=>e=>t=>o=>{const i=t(o),a=e.selectKnockStatus();o.type===Y.a.RECONNECT&&"waiting"===a&&e.dispatch({type:"KNOCK_RECONNECT"}),o.type===Y.a.DEVICE_IDENTIFIED&&"reconnect"===a&&e.doKnock(e.selectKnockImageUrl());const{roomKey:n,roomKeyPersisted:s,roomKeyData:r,roomKeyDecodeError:c}=e.selectAuthorizationRaw(),l=e.selectRoomName(),d=e.selectApplicationState(),{dispatch:u}=e;!function(e){let{dispatch:t,roomKey:o,roomKeyData:i,roomKeyDecodeError:a}=e;if(o&&!i&&!a)try{const e=o.split(".");t({type:"ROOM_KEY_DECODED",payload:{roomKeyData:JSON.parse(window.atob(e[1]))}})}catch(n){t({type:"ROOM_KEY_DECODE_FAILED",error:n})}}({dispatch:u,roomKey:n,roomKeyData:r,roomKeyDecodeError:c}),function(e){let{dispatch:t,roomName:o,roomKey:i,roomKeyPersisted:a,applicationState:n}=e;if(o&&i&&!a){const e=Me(o);try{sessionStorage.setItem(e,i)}catch(s){}t({type:"ROOM_KEY_PERSISTED"})}else i&&a&&["kicked","left"].includes(n)&&Fe({dispatch:t,roomName:o})}({dispatch:u,roomName:l,roomKey:n,roomKeyPersisted:s,applicationState:d});return e.selectBankIdEnabled()&&"SIGNAL/room_knocked/ERROR"===o.type&&(Fe({dispatch:u,roomName:l}),e.doIdPortenSetTokenExpired(!0)),i},doLoadRoomKey:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectQueryObject();let{roomKey:n}=a,s=!1;try{if(n)i.doUpdateQuery(Object(Ie.a)(a,"roomKey"));else{const t=Me(e);n=sessionStorage.getItem(t),s=!!n}}catch(r){}o({type:"ROOM_KEY_LOADED",payload:{roomKey:n||null,fromSessionStorage:s}})},doKnock:e=>t=>{var o,i;let{dispatch:a,store:n}=t;const s=n.selectOrganizationId(),r=n.selectRoomName(),c=n.selectDisplayName(),l=n.selectRoomKey();a({type:"KNOCK_KNOCKED",payload:e,meta:{signal:{type:"knock_room",payload:{imageUrl:e,organizationId:s,roomName:r,liveVideo:!1,displayName:c,roomKey:l,kickFromOtherRooms:n.selectPrecallKickFromOtherRooms(),externalMetadata:null==(o=n.selectQueryObject())?void 0:o.metadata,externalId:null==(i=n.selectQueryObject())?void 0:i.externalId}}}})},doKnockCancel:()=>e=>{var t,o;let{dispatch:i,store:a}=e;i({type:"CANCEL_ROOM_KNOCK",meta:{signal:{type:"cancel_room_knock",payload:{displayName:a.selectDisplayName(),externalMetadata:null==(t=a.selectQueryObject())?void 0:t.metadata,externalId:null==(o=a.selectQueryObject())?void 0:o.externalId}}}})},doKnockErrorReset:()=>({type:"KNOCK_ERROR_RESET"}),doMarkKnockSoundAsPlayed:()=>({type:"KNOCK_SOUND_PLAYED"}),selectAuthorizationRaw:e=>e.authorization,selectKnockError:e=>e.authorization.knockError,selectKnockResponse:e=>e.authorization.knockResponse,selectKnockStatus:e=>e.authorization.knockStatus,selectRoomKey:e=>e.authorization.roomKey,selectRoomKeyData:e=>e.authorization.roomKeyData,selectShouldPlayKnockAcceptedSound:e=>e.authorization.shouldPlayKnockAcceptedSound,selectShouldShowKnockPage:Object(V.e)("selectCanJoinLocked","selectKnockStatus","selectRoomConnectionError","selectRoomConnectionStatus","selectRoomIsLocked",(e,t,o,i,a)=>a&&!e&&!("joined"===i||"accepted"===t)||"room_locked"===o),selectKnockImageUrl:e=>e.authorization.knockImageUrl};function ze(e,t){return function(e,t){let o=[...e];const i=[];for(;o.length;){const e=Math.ceil(o.length/t),a=o.slice(0,e);i.push(a),o=o.slice(e),t-=1}return i}(e,t.length).reduce((e,o,i)=>{const a=t[i];return o.forEach(t=>{e[t]=a}),e},{})}const Ge=[2,20],Ue="abcdefghijklmnopqrstuvwxyz",He={};function Ve(e){return"Group "+e.toUpperCase()}function We(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge[0];const o={},i=t>Ge[1]?Ge[1]:t;for(let a=0;a<Number(i);a++){const t=Ue[a];e[t]?o[t]=e[t]:o[t]=Ve(t)}return o}function Ke(e){const[t]=Ge;if(!e)return We({},t);const o={};return Object.entries(e).forEach(e=>{let[t,i]=e;i&&(o[t]=i)}),Object.keys(o).length<t?We(o,t):o}function $e(e,t){if(!t||!e)return{};const o={};return Object.entries(t).forEach(t=>{let[i,a]=t;Boolean(e[a])&&(o[i]=a)}),o}function Qe(){let{assignments:e,groups:t,startedAt:o,initiatedBy:i,breakoutStartedAt:a,breakoutEndedAt:n,breakoutNotification:s,breakoutTimerDuration:r,autoMoveToGroup:c,moveToGroupGracePeriod:l,autoMoveToMain:d,moveToMainGracePeriod:u,enforceAssignment:m,breakoutTimerSetting:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{assignments:e||null,groups:t||null,startedAt:o?new Date(o):null,initiatedBy:i,breakoutStartedAt:a||null,breakoutEndedAt:n||null,breakoutNotification:s||null,breakoutTimerDuration:r||1800,autoMoveToGroup:c||!1,moveToGroupGracePeriod:l||10,autoMoveToMain:d||!1,moveToMainGracePeriod:u||30,enforceAssignment:m||!1,breakoutTimerSetting:p||!1}}const Ye={...Qe(),groupId:null,isEditing:!1,editSource:null,isEndDialogOpen:!1,isInfoDialogOpen:!1,prevId:null,stoppedBy:null};var Je={name:"breakout",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,{type:t,payload:o,meta:i}=arguments.length>1?arguments[1]:void 0;switch(t){case J.a:return{...e,prevId:i.breakoutId};case Y.a.ROOM_JOINED:if(o.breakout)return{...e,...Qe(o.breakout)};break;case Y.a.BREAKOUT_SESSION_UPDATED:{const t=Qe(o);return{...e,...t,isEditing:!(!e.startedAt&&t.startedAt)&&e.isEditing,isEndDialogOpen:!1}}case"BREAKOUT_SESSION_UPDATE":return{...e,stoppedBy:o.stoppedBy};case"BREAKOUT_EDIT":{const{open:t,source:i=null}=o;return{...e,isEditing:t,editSource:i}}case Y.a.BREAKOUT_GROUP_JOINED:return(null==i?void 0:i.localClientId)!==o.clientId?e:{...e,groupId:o.group};case"BREAKOUT_CHANGED":return{...e,...void 0!==o.assignments&&{assignments:o.assignments},...void 0!==o.groups&&{groups:o.groups},...void 0!==o.enforceAssignment&&{enforceAssignment:o.enforceAssignment},...void 0!==o.autoMoveToGroup&&{autoMoveToGroup:o.autoMoveToGroup},...void 0!==o.autoMoveToMain&&{autoMoveToMain:o.autoMoveToMain},...void 0!==o.moveToGroupGracePeriod&&{moveToGroupGracePeriod:o.moveToGroupGracePeriod},...void 0!==o.moveToMainGracePeriod&&{moveToMainGracePeriod:o.moveToMainGracePeriod},...void 0!==o.breakoutTimerSetting&&{breakoutTimerSetting:o.breakoutTimerSetting},...void 0!==o.breakoutTimerDuration&&{breakoutTimerDuration:o.breakoutTimerDuration}};case"BREAKOUT_REQUEST_END":return{...e,isEndDialogOpen:o};case"BREAKOUT_INFO_OPENED":return{...e,isInfoDialogOpen:o};case"SIDEBAR_PANE":return{...e,isEditing:!1}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectBreakoutActive(),a=e.selectApplicationState();o.type===J.a&&(o.meta={...o.meta,breakoutId:e.selectBreakoutCurrentId()});const n=t(o),s=e.selectBreakoutRaw(),r=e.selectBreakoutActive();"joined"===a&&"joined"===e.selectApplicationState()&&i!==r&&(r&&e.doSetNotification("breakoutStart"),r||e.doSetNotification("breakoutStop"),e.doAddChatLog({data:{clientId:s.initiatedBy.clientId,eventType:r?"breakout_started":"breakout_stopped"}}));const c=e.selectLocalClient().breakoutGroupAssigned,l=e.selectBreakoutRaw().breakoutNotification;if(o.type===Y.a.ROOM_JOINED&&"breakout_started"===l&&r&&e.doSetNotification("breakoutStart"),o.type===Y.a.BREAKOUT_MOVE_TO_GROUP&&c&&e.doBreakoutJoin(c),o.type===Y.a.BREAKOUT_MOVE_TO_MAIN&&e.doBreakoutJoin(""),o.type===Y.a.BREAKOUT_ENDING&&e.doSetNotification("breakoutTimerWarning"),o.type===Y.a.BREAKOUT_TIMER_EXTENDED&&(e.doDismissNotification("breakoutTimerExtended"),e.doSetNotification("breakoutTimerExtended")),o.type===Y.a.ROOM_JOINED&&r&&e.doBreakoutJoin(s.groupId),o.type===Y.a.BREAKOUT_GROUP_JOINED&&e.selectLocalClientId()===o.payload.clientId){const t=o.payload.group,i=e.selectLocalClientId();var d;if(e.selectSpotlights().find(e=>e.clientId===i)&&e.doRemoveClientSpotlight(e.selectLocalClient()),e.selectRemoteClients().filter(e=>e.breakoutGroup===t&&e.isVideoEnabled).length>=e.selectTownhallPresenterLimit()&&e.doToggleVideoEnabled(!1,{context:"breakoutJoin"}),e.selectIsScreensharing())e.doToggleScreenshare(),e.doSetNotification("screenshareDisabled",{displayName:null==(d=e.selectBreakoutCurrentGroup())?void 0:d.name,reason:"group_navigation"});""!==t||e.selectBreakoutActive()||(e.doToggleAudioEnabled(!1,{context:"breakoutEnd"}),e.doToggleVideoEnabled(!1,{context:"breakoutEnd"}))}return n},doBreakoutAssign:e=>{let{deviceId:t,groupId:o}=e;return e=>{let{dispatch:i,store:a}=e;const n={...a.selectBreakoutAssignments(),[t]:o};a.doBreakoutSessionUpdate({assignments:n},"manual_assign"),i({type:"BREAKOUT_CHANGED",payload:{assignments:n}})}},doBreakoutSaveSettings:e=>{let{enforceAssignment:t,autoMoveToGroup:o,autoMoveToMain:i,moveToGroupGracePeriod:a,moveToMainGracePeriod:n,breakoutTimerSetting:s,breakoutTimerDuration:r}=e;return e=>{let{dispatch:c,store:l}=e;l.doBreakoutSessionUpdate({enforceAssignment:t,autoMoveToGroup:o,autoMoveToMain:i,moveToGroupGracePeriod:a,moveToMainGracePeriod:n,breakoutTimerSetting:s,breakoutTimerDuration:r}),c({type:"BREAKOUT_CHANGED",payload:{enforceAssignment:t,autoMoveToGroup:o,autoMoveToMain:i,moveToGroupGracePeriod:a,moveToMainGracePeriod:n,breakoutTimerSetting:s,breakoutTimerDuration:r}})}},doBreakoutAssignmentsBannerClose:()=>({type:"BREAKOUT_ASSIGNMENTS_BANNER_CLOSED",meta:{persist:{breakoutAssignmentsBannerClosed:Date.now()}}}),doBreakoutEducationCompleted:e=>{let{optedIn:t}=e;return{type:"BREAKOUT_EDUCATION_COMPLETED",meta:{persist:{breakoutEducationCompleted:Date.now()},analytics:ye.b.breakoutEducation({optedIn:t}),consents:{"user-research":{optedIn:t}}}}},doBreakoutGroupsAmountChange:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectBreakoutAssignments(),n=We(i.selectBreakoutGroups(),e),s=$e(n,a);i.doBreakoutSessionUpdate({assignments:s,groups:n}),i.doRoomPrefsUpdate({groups:n}),o({type:"BREAKOUT_CHANGED",payload:{assignments:s,groups:n}})},doBreakoutGroupNameChange:e=>{let{id:t,name:o}=e;return e=>{let{dispatch:i,store:a}=e;const n=a.selectBreakoutGroups(),s=a.selectBreakoutAssignments(),r=Ke({...n,[t]:null===o?null:o||Ve(t)}),c=$e(r,s);a.doBreakoutSessionUpdate({assignments:c,groups:r}),a.doRoomPrefsUpdate({groups:r}),i({type:"BREAKOUT_CHANGED",payload:{groups:r}})}},doBreakoutEdit:e=>{let{open:t,source:o}=e;return e=>{let{dispatch:i}=e;i({type:"BREAKOUT_EDIT",payload:{open:t,source:o}})}},doBreakoutJoin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=>{let{dispatch:o,store:i}=t;(""===e||e in i.selectBreakoutGroups())&&o({type:"BREAKOUT_GROUP_JOIN",payload:e,meta:{signal:{type:"join_breakout_group",payload:{group:e}}}})}},doBreakoutOpenInfo:e=>({type:"BREAKOUT_INFO_OPENED",payload:e}),doBreakoutRequestEnd:e=>({type:"BREAKOUT_REQUEST_END",payload:e}),doBreakoutUpdateTimerDuration:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;return t=>{let{store:o}=t;const i=o.selectBreakoutTimerDuration()+e;o.doBreakoutSessionUpdate({breakoutTimerDuration:i})}},doBreakoutSessionUpdate:e=>{let{active:t,assignments:o,groups:i,enforceAssignment:a,autoMoveToGroup:n,autoMoveToMain:s,moveToGroupGracePeriod:r,moveToMainGracePeriod:c,breakoutTimerSetting:l,breakoutTimerDuration:d,breakoutNotification:u}=e;return e=>{let{dispatch:m,store:p}=e;m({type:"BREAKOUT_SESSION_UPDATE",payload:{stoppedBy:t?null:p.selectLocalClientId(),enforceAssignment:a,autoMoveToGroup:n,autoMoveToMain:s,moveToMainGracePeriod:c,moveToGroupGracePeriod:r,breakoutTimerSetting:l,breakoutTimerDuration:d,breakoutNotification:u},meta:{signal:{type:"update_breakout_session",payload:{active:t,assignments:o,enforceAssignment:a,autoMoveToGroup:n,autoMoveToMain:s,groups:i,moveToGroupGracePeriod:r,moveToMainGracePeriod:c,breakoutTimerSetting:l,breakoutTimerDuration:d,breakoutNotification:u}}}})}},doBreakoutAssignAll:()=>e=>{let{store:t}=e;const o=t.selectAllClientViews().filter(e=>!e.isLocalClient),i=Object.keys(t.selectBreakoutGroups()),a=ze(o.map(e=>e.deviceId).sort(()=>Math.random()-.5),i);t.doBreakoutSessionUpdate({assignments:a},"assign_all")},doBreakoutUnassignAll:()=>e=>{let{store:t}=e;const o=t.selectBreakoutAssignments(),i=Object.entries(o).reduce((e,t)=>{let[o]=t;return e[o]="",e},{});t.doBreakoutSessionUpdate({assignments:i},"unassign_all")},doBreakoutShuffle:()=>e=>{let{store:t}=e;const o=Object.keys(t.selectBreakoutGroups()),i=t.selectBreakoutAssignments(),a=ze(Object.entries(i).filter(e=>{let[,t]=e;return!!t}).map(e=>{let[t]=e;return t}).sort(()=>Math.random()-.5),o);t.doBreakoutSessionUpdate({assignments:a},"shuffle")},doBreakoutTimerStopped:()=>e=>{let{store:t}=e;t.doBreakoutSessionUpdate({breakoutTimerSetting:!1}),t.doSetNotification("breakoutTimerStopped")},selectBreakoutRaw:e=>e.breakout,selectBreakoutActive:e=>!!e.breakout.startedAt,selectBreakoutAssignments:e=>e.breakout.assignments||He,selectBreakoutGroupsMinMax:()=>Ge,selectBreakoutIsEditing:e=>e.breakout.isEditing,selectBreakoutIsEndDialogOpen:e=>e.breakout.isEndDialogOpen,selectBreakoutIsInfoDialogOpen:e=>e.breakout.isInfoDialogOpen,selectBreakoutPrevId:e=>e.breakout.prevId,selectBreakoutTimerDuration:e=>e.breakout.breakoutTimerDuration,selectBreakoutStartedAt:e=>e.breakout.breakoutStartedAt,selectBreakoutEndedAt:e=>e.breakout.breakoutEndedAt,selectBreakoutAutoMoveToMain:e=>e.breakout.autoMoveToMain,selectBreakoutAutoMoveToGroupGracePeriod:e=>e.breakout.moveToGroupGracePeriod,selectBreakoutTimerSetting:e=>e.breakout.breakoutTimerSetting,selectBreakoutAutoMoveToGroup:e=>e.breakout.autoMoveToGroup,selectBreakoutEndTime:Object(V.e)("selectBreakoutStartedAt","selectBreakoutTimerDuration","selectBreakoutAutoMoveToGroupGracePeriod","selectBreakoutAutoMoveToGroup",(e,t,o,i)=>{const a=i?o:0;if(!e)return null;return new Date(e).getTime()+1e3*(t+a)}),selectBreakoutEndTimeWithoutGracePeriod:Object(V.e)("selectBreakoutStartedAt","selectBreakoutTimerDuration",(e,t)=>{if(!e)return null;return new Date(e).getTime()+1e3*t}),selectBreakoutSettings:Object(V.e)("selectBreakoutRaw",e=>({autoMoveToGroup:e.autoMoveToGroup,moveToGroupGracePeriod:e.moveToGroupGracePeriod,autoMoveToMain:e.autoMoveToMain,moveToMainGracePeriod:e.moveToMainGracePeriod,enforceAssignment:e.enforceAssignment,breakoutTimerSetting:e.breakoutTimerSetting,breakoutTimerDuration:e.breakoutTimerDuration})),selectBreakoutEditSource:e=>e.breakout.editSource,selectBreakoutBroadcastClients:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectSpotlightedClientViews",(e,t,o)=>e&&t?o.filter(e=>!e.breakoutGroup&&e.isAudioEnabled&&!e.isPresentation):[]),selectCanJoinAnyGroup:Object(V.e)("selectBreakoutSettings","selectPermissions",(e,t)=>{var o;if(!e.enforceAssignment)return!0;return!(null==t||null==(o=t.rooms)||null==(o=o.manageBreakout)||!o.isAllowed)}),selectBreakoutGroupedClients:Object(V.e)("selectAllClientViews","selectBreakoutActive","selectBreakoutCurrentGroup","selectBreakoutGroups","selectIsFullscreenMode","selectIsMaximizeMode",(e,t,o,i,a,n)=>a||n||!t||o?[]:Object.entries(i).map(t=>{let[o,i]=t;return{clients:e.filter(e=>!e.isPresentation&&e.breakoutGroup===o||e.breakoutGroupAssigned===o),group:{id:o,name:i}}})),selectBreakoutCurrentGroup:Object(V.e)("selectBreakoutRaw","selectBreakoutCurrentId",(e,t)=>{var o;const i=null==(o=e.groups)?void 0:o[t];return i?{id:t,name:i}:null}),selectBreakoutCurrentId:Object(V.e)("selectBreakoutRaw","selectLocalClientBreakoutGroup",(e,t)=>{var o;return null!=(o=e.groupId)?o:t}),selectBreakoutGroups:Object(V.e)("selectBreakoutRaw","selectPrefs",(e,t)=>e.groups||t.groups||Ke()),selectBreakoutShouldShowAssignmentsBanner:Object(V.e)("selectPersisted",e=>!e.breakoutAssignmentsBannerClosed),selectBreakoutShouldShowEducation:Object(V.e)("selectPersisted","selectPrefs","selectRoomType","selectBreakoutEditSource",(e,t,o,i)=>!!t.breakout&&!e.breakoutEducationCompleted&&"transient"!==o&&"whats-new"!==i),selectBroadcastClientViews:Object(V.e)("selectAllClientViews","selectBreakoutBroadcastClients",(e,t)=>t.reduce((t,o)=>{const i=e.find(e=>o.id===e.clientId);return i&&!t.includes(i)&&t.push(i),t},[])),selectBreakoutInitiatedBy:Object(V.e)("selectBreakoutRaw",e=>e.initiatedBy),selectBreakoutStartedByDisplayName:Object(V.e)("selectBreakoutInitiatedBy","selectAllClientViews","selectUserRoles",(e,t,o)=>{var i;if(!e)return null;const a=t.find(t=>t.userId===e.userId||t.deviceId===e.deviceId);return a?a.isLocalClient?"you":a.displayName:(null==(i=o.find(t=>t.userId===e.userId))||null==(i=i.user)?void 0:i.displayName)||null}),selectBreakoutIsActive:Object(V.e)("selectBreakoutInitiatedBy",e=>!(null==e||!e.active)),selectFormattedBreakoutTimerDuration:Object(V.e)("selectBreakoutTimerDuration",e=>{return t=e,{minutes:String(Math.floor(t/60)).padStart(2,"0"),seconds:String(t%60).padStart(2,"0")};var t})},Ze=o(27);const{browser:Xe,version:et}=Ze.a.browserDetails,tt=document.createElement("video"),ot=tt&&tt.canPlayType&&"probably"===tt.canPlayType('video/webm; codecs="vp8", vorbis')||"safari"===Xe&&et>=13;let it=!1;(navigator.getDisplayMedia||navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(it=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||"")||(it=!1);const at={...Ze.a.browserDetails,ua:navigator.userAgent,maxTouchPoints:navigator.maxTouchPoints,vp8:ot,webrtc:!!window.RTCPeerConnection,screencapture:it,mediaStreamContentHint:!!window.MediaStreamTrack&&"contentHint"in window.MediaStreamTrack.prototype};var nt={name:"browserSupport",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return e},doBrowserSupportAcceptPartial:()=>({type:"BROWSERSUPPORT_ACCEPT_PARTIAL",meta:{persist:{browserSupportAcceptedPartial:Date.now()}}}),selectBrowserSupportRaw:e=>e.browserSupport,selectBrowserSupportBrowser:e=>e.browserSupport.browser,selectBrowserSupportSFU:e=>e.browserSupport.vp8,selectBrowserSupportWebRTC:e=>e.browserSupport.webrtc,selectBrowserSupportMediaStreamContentHint:e=>e.browserSupport.mediaStreamContentHint,selectBrowserSupportIgnored:Object(V.e)("selectPersisted","selectAppStartTime",(e,t)=>e.browserSupportAcceptedPartial+864e5>t),selectBrowserIsSafari17:Object(V.e)("selectBrowserSupportRaw",e=>{let{ua:t}=e;return!!t.match(/Version\/17\.[.0-9]+\sSafari/gi)}),selectBrowserIsIos:Object(V.e)("selectBrowserSupportRaw",e=>{let{ua:t,maxTouchPoints:o}=e;return/iPad|iPhone|iPod/.test(t)||t.includes("Macintosh; Intel Mac")&&o>1}),selectBrowserOsIsLegacy:Object(V.e)("selectBrowserSupportRaw",e=>{let{ua:t}=e;return t.includes("Windows NT 6.1")||t.includes("Windows NT 6.2")||t.includes("Windows NT 6.3")}),selectCanJoinUsingIosBrowser:Object(V.e)("selectBrowserSupportRaw","selectBrowserIsIos","selectFeatureIosVersionCheckOff",(e,t,o)=>t&&"safari"===e.browser&&(o||e.version>=13)),selectShouldShowBrowserSupport:Object(V.e)("selectBrowserSupportRaw","selectBrowserIsIos","selectBrowserSupportIgnored","selectCanJoinUsingIosBrowser","selectIsMobile","selectFeatureLegacyOsWarningOn","selectBrowserOsIsLegacy",(e,t,o,i,a,n,s)=>!(o||i||!(t||!e.webrtc||!a&&!e.screencapture||!e.vp8||n&&s)))},st=o(160),rt=o(269);function ct(e){var t;let{action:o,remoteClients:i,nonPersonRoleToWatch:a}=e;const n=null==(t=i.find(e=>{var t;return(null==(t=e.role)?void 0:t.roleName)===a}))?void 0:t.id;if(!n)return!1;const s=o.type===Y.a.CLIENT_LEFT&&!["kick","end-meeting"].includes(o.payload.reasonId)&&o.payload.clientId===n,r=o.type===Y.a.ROOM_JOINED&&!o.payload.room.clients.some(e=>e.id===n);return s||r}const lt={status:"",error:null,notified:!1,startedAt:null,stoppedAt:null};var dt={name:"cloudRecording",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.CLOUD_RECORDING_STARTED:return{...e,error:null,status:"recording"!==e.status?"started":"recording"};case"CLOUD_RECORDING_ERROR":case Y.a.CLOUD_RECORDING_STARTED_ERROR:return{...e,status:"",error:i};case Y.a.CLOUD_RECORDING_STOPPED:return{...e,status:"",error:null,startedAt:null,stoppedAt:Date.now()};case Y.a.NEW_CLIENT:var a;return o.client&&"recorder"===(null==(a=o.client.role)?void 0:a.roleName)?{...e,status:"recording",startedAt:new Date(o.client.startedCloudRecordingAt).getTime()}:e;case Y.a.ROOM_JOINED:{var n;const t=null==o||null==(n=o.room)?void 0:n.clients;if(t){const o=t.find(e=>{var t;return"recorder"===(null==(t=e.role)?void 0:t.roleName)});if(o)return{...e,status:"recording",startedAt:new Date(o.startedCloudRecordingAt).getTime()}}return e}case"CLOUD_RECORDING_REQUEST_STARTED":return{...e,status:"starting",stoppedAt:null};case"CLOUD_RECORDING_NOTIFIED":return{...e,notified:!0}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectCloudRecordingRaw().status,a=e.selectCloudRecordingIsStarted(),n=e.selectRemoteClients(),s=t(o),r=e.selectCloudRecordingError();if((a||"CLOUD_RECORDING_ERROR"===o.type||o.type===Y.a.CLOUD_RECORDING_STARTED_ERROR)&&r){e.selectNotificationsRaw().messages.find(e=>"cloudRecordingError"===e.type)||e.doSetNotification("cloudRecordingError",{message:r})}const c=e.selectCloudRecordingRaw().status;!i&&c&&(e.doDismissNotification("cloudRecordingReady"),e.doDismissNotification("cloudRecordingStartsOn2ndParticipant"));if(ct({action:o,remoteClients:n,nonPersonRoleToWatch:"recorder"})){const t=new Error("recording_stopped_unexpectedly");e.dispatch({type:"CLOUD_RECORDING_ERROR",error:t.message}),e.doCaptureException(t,{tags:{from:"cloudRecording"}})}return s},selectCloudRecordingRaw:e=>e.cloudRecording,selectCloudRecordingError:e=>e.cloudRecording.error,selectCloudRecordingIsRecording:e=>"recording"===e.cloudRecording.status,selectCloudRecordingIsStarted:e=>"starting"===e.cloudRecording.status||"started"===e.cloudRecording.status,selectCloudRecordingStart:e=>e.cloudRecording.startedAt,selectCloudRecordingStatus:e=>e.cloudRecording.status,doCloudRecordingReady_:()=>e=>{let{store:t,dispatch:o}=e;o({type:"CLOUD_RECORDING_NOTIFIED",meta:{analytics:ye.b.cloudRecordingDisplayedReady()}}),t.doSetNotification("cloudRecordingReady")},doCloudRecordingStartsOn2ndParticipant:()=>e=>{let{store:t,dispatch:o}=e;o({type:"CLOUD_RECORDING_NOTIFIED"}),t.doSetNotification("cloudRecordingStartsOn2ndParticipant")},doStartCloudRecording:()=>e=>{let{dispatch:t,store:o}=e;const{recordingUrl:i}=o.selectQueryPrefs();t({type:"CLOUD_RECORDING_REQUEST_STARTED",payload:{},meta:{signal:{type:"start_recording",payload:{recording:"cloud",recordingUrl:i}}}})},doStopCloudRecording:()=>({type:"CLOUD_RECORDING_STOP_REQUESTED",payload:{},meta:{signal:{type:"stop_recording"}}}),selectCloudRecordingIsStopped:Object(V.e)("selectCloudRecordingRaw","selectCloudRecordingStatus",(e,t)=>""===t&&null!==e.stoppedAt),reactCloudRecordingStartTrigger:Object(V.e)("selectCloudRecordingRaw","selectCanStartCloudRecording","selectRoomConnectionStatus","selectRecordingStartTrigger",(e,t,o,i)=>{if(!e.notified&&!e.status&&t&&"joined"===o){if("prompt"===i)return{actionCreator:"doCloudRecordingReady_"};if("automatic-2nd-participant"===i)return{actionCreator:"doCloudRecordingStartsOn2ndParticipant"}}})},ut=o(154),mt=o(85);const pt={isSignalConnected:!1,numSignalDisconnects:0,lastSignalDisconnectTime:null,lastSignalDisconnectReason:null,lastSignalDisconnectNetworkOffline:!1,isSfuConnected:!1,numSfuDisconnects:0,lastSfuDisconnectTime:null,timers:{},running:!1,stopIssueSubscription:null,issuesReport:{critical:{},warning:{}},localQualityScores:{total:"ok",video:"ok",audio:"ok",cpu:"ok"},remoteQualityScores:{},mediaQualityScores:{}},bt=(e,t,o)=>{const i={...e.timers},a="elapsedUntil"+t;if(i[a])return e;const n=window.PAGE_LOADED;if(!n)return e;const s=Date.now()-n;if(i[a]=s,o){const e="elapsedUntil"+o;if(i[e]){i["deltaUntil"+t]=s-i[e]}}return{...e,timers:i}};function gt(e){return void 0!==e&&null!==e?Object.values(H.f).indexOf(e):Object.values(H.f).indexOf(H.f.OK)}const ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((o,i)=>{const a=e[i];return a&&t.includes(i)&&a.active&&a.registered>2&&a.registered!==a.initial?[...o,i]:o},[])},jt=(e,t)=>e.map(e=>`${t?"loc":"rem"}-${e}`);var ft={name:"connectionMonitor",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"CONNECTION_MONITOR_STARTED":return{...e,...o};case"CONNECTION_MONITOR_STOPPED":return{...e,running:!1,stopIssueSubscription:null};case"CONNECTION_MONITOR_REPORT_UPDATED":return{...e,issuesReport:o};case"SIGNAL_CONNECTING":return bt(e,"SignalConnecting");case"CONNECTION_MONITOR_NETWORK_OFFLINE_AT_DISCONNECT":return{...e,lastSignalDisconnectNetworkOffline:o};case Y.a.DEVICE_IDENTIFIED:return bt({...e,isSignalConnected:!0},"SignalConnected","SignalConnecting");case Y.a.ROOM_JOINED:return bt(e,"RoomJoined","SignalConnected");case Y.a.CONNECT_ERROR:case Y.a.DISCONNECT:return e.isSignalConnected?{...e,isSignalConnected:!1,numSignalDisconnects:e.numSignalDisconnects+1,lastSignalDisconnectTime:Date.now(),lastSignalDisconnectReason:o}:e;case J.b.SFU_CONNECTION_OPEN:return{...e,isSfuConnected:!0};case J.b.SFU_CONNECTION_CLOSED:return e.isSfuConnected?{...e,isSfuConnected:!1,numSfuDisconnects:e.numSfuDisconnects+1,lastSfuDisconnectTime:Date.now()}:e;case J.b.MEDIA_QUALITY_CHANGED:return{...e,mediaQualityScores:{...e.mediaQualityScores,[o.clientId]:{...e.mediaQualityScores[o.clientId]||{},[o.kind]:o.quality}}};case"UPDATE_LOCAL_CALL_QUALITY_SCORES":return{...e,localQualityScores:o};case"UPDATE_REMOTE_CALL_QUALITY_SCORES":return{...e,remoteQualityScores:o}}return e},getMiddleware:Object(mt.a)([function(e,t,o){const i=t(o);if(o.type===Y.a.DEVICE_IDENTIFIED||o.type===Y.a.RECONNECT){const t=e.selectConnectionMonitorStats(),i=o.type===Y.a.DEVICE_IDENTIFIED&&(!t||0===t.numSignalDisconnects);if(o.type===Y.a.DEVICE_IDENTIFIED&&!i)return;const a=o.type===Y.a.RECONNECT;e.doSignalConnectedAnalytics({reconnect:a,count:a&&t?t.numSignalDisconnects:0,...a&&t&&{lastSignalDisconnectReason:t.lastSignalDisconnectReason,lastSignalDisconnectNetworkOffline:t.lastSignalDisconnectNetworkOffline}})}return i},function(e,t,o){const i=t(o);if(o.type===Y.a.DISCONNECT){const t=e.selectIsWindowOnline();e.doSetLastSignalDisconnectNetworkOffline(!t);const i=e.selectConnectionMonitorStats();i&&!i.isSignalConnected&&e.doSignalDisconnectedAnalytics({reason:o.payload,count:i.numSignalDisconnects})}return i},function(e,t,o){const i=e.selectLocalCallQualityScores().total,a=t(o),n=e.selectLocalCallQualityScores().total;return i!==n&&e.doRtcAnalyticsCustomEvent("callQualityScoreTotalChanged",{total:n,_time:Date.now()}),a}]),selectConnectionMonitorRaw:e=>e.connectionMonitor,selectConnectionMonitorIsRunning:e=>!!e.connectionMonitor.running,selectConnectionMonitorIssuesReport:e=>e.connectionMonitor.issuesReport,selectConnectionMediaQualityScores:e=>e.connectionMonitor.mediaQualityScores,selectLocalCallQualityScores:e=>e.connectionMonitor.localQualityScores,selectRemoteCallQualityScores:e=>e.connectionMonitor.remoteQualityScores,selectShouldShowCallQualityButton:Object(V.e)("selectPrefs",e=>!!e.callQualityMonitoring),selectShouldShowQualityIndicators:Object(V.e)("selectPrefs",e=>!!e.callQualityMonitoring),selectConnectionMonitorStats:Object(V.e)("selectConnectionMonitorRaw","selectConnectionMonitorIsRunning","selectAppTime","selectSfuServer",(e,t,o,i)=>{var a;if(!t)return null;const n={},{issues:s,metrics:r}=(null==(a=Object(W.k)())?void 0:a.aggregated)||{issues:{},metrics:{}};return Object.entries(s).forEach(e=>{let[t,o]=e;o.registered&&(o.registered<=2&&o.initial===o.registered||(n[`issue-${t}-ticks`]=o.ticks,n[`issue-${t}-registered`]=o.registered,n[`issue-${t}-initial`]=o.initial))}),Object.entries(r).forEach(e=>{let[t,o]=e;n[`metric-${t}-ticks`]=o.ticks,n[`metric-${t}-avg`]=o.avg,n[`metric-${t}-totAvg`]=o.totAvg}),{numFailedStatsReports:Object(W.l)(),numFailedTrackSsrcLookups:Object(W.m)(),numMissingTrackSsrcLookups:Object(W.n)(),numSignalDisconnects:e.numSignalDisconnects,timeSinceLastSignalDisconnect:e.lastSignalDisconnectTime?Math.round((o-e.lastSignalDisconnectTime)/1e3):-1,numSfuDisconnects:e.numSfuDisconnects,timeSinceLastSfuDisconnect:e.lastSfuDisconnectTime?Math.round((o-e.lastSfuDisconnectTime)/1e3):-1,isSignalConnected:e.isSignalConnected,isSfuConnected:e.isSfuConnected,lastSignalDisconnectReason:e.lastSignalDisconnectReason,lastSignalDisconnectNetworkOffline:e.lastSignalDisconnectNetworkOffline,usingSfu:!!i,sfuServer:null==i?void 0:i.url.replace(/:.*/,""),...e.timers,...n}}),doSetLocalCallQualityScores:e=>({type:"UPDATE_LOCAL_CALL_QUALITY_SCORES",payload:e}),doSetRemoteCallQualityScores:e=>({type:"UPDATE_REMOTE_CALL_QUALITY_SCORES",payload:e}),doSetLastSignalDisconnectNetworkOffline:e=>({type:"CONNECTION_MONITOR_NETWORK_OFFLINE_AT_DISCONNECT",payload:e}),doStopConnectionMonitor:()=>e=>{var t,o;let{dispatch:i,store:a}=e;a.selectConnectionMonitorIsRunning()&&(null==(t=(o=a.selectConnectionMonitorRaw()).stopIssueSubscription)||t.call(o),i({type:"CONNECTION_MONITOR_STOPPED"}))},doStartConnectionMonitor:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectConnectionMonitorIsRunning())return;Object(W.w)(()=>o.selectAllClientViewsInCurrentGroup().map(e=>{var t,o;return{id:e.id,clientId:e.clientId,isAudioOnlyModeEnabled:e.isAudioOnlyModeEnabled,isLocalClient:e.isLocalClient,audio:{enabled:e.isAudioEnabled,track:null==(t=e.stream)?void 0:t.getAudioTracks()[0]},video:{enabled:e.isVideoEnabled,track:null==(o=e.stream)?void 0:o.getVideoTracks()[0]},isPresentation:e.isPresentation}}));t({type:"CONNECTION_MONITOR_STARTED",payload:{running:!0,stopIssueSubscription:Object(W.z)({onUpdatedIssues:(e,t,i)=>{const a={critical:i.reduce((t,o)=>{let{clientId:i,isLocalClient:a}=o;const{issues:n}=e[i]||{issues:{}},s=ht(n,jt(["cam-video-extreme-packetloss","pres-video-extreme-packetloss"],a)),r=ht(n,jt(["cam-audio-extreme-packetloss"],a)),c=ht(n,["global-cpu-pressure-critical"]);return 0===s.length&&0===r.length&&0===c.length?t:{...t,[i]:{video:s,audio:r,cpu:c}}},{}),warning:i.reduce((t,o)=>{let{clientId:i,isLocalClient:a}=o;const{issues:n}=e[i]||{issues:{}},s=ht(n,jt(["cam-video-bad-network","pres-video-bad-network","cam-video-high-packetloss","pres-video-high-packetloss","cam-video-low-layer0-bitrate","pres-video-low-layer0-bitrate"],a)),r=ht(n,jt(["cam-audio-bad-network","cam-audio-high-packetloss","cam-audio-distorted"],a)),c=ht(n,["global-cpu-pressure-serious"]);return 0===s.length&&0===r.length&&0===c.length?t:{...t,[i]:{video:s,audio:r,cpu:c}}},{})};if(o.doUpdateConnectionMonitorReport(a),o.selectFeatureInsightsToRtcstatsOn()){var n;let t=0,i=0,a=0,s=0;Object.entries(e.aggregated.metrics).forEach(e=>{let[o,n]=e;/loc.*packetloss/.test(o)&&(t=Math.max(t,n.curMax)),/rem.*packetloss/.test(o)&&(i=Math.max(i,n.curMax)),/loc.*bitrate/.test(o)&&(a+=n.curSum),/rem.*bitrate/.test(o)&&(s+=n.curSum)}),o.doRtcAnalyticsCustomEvent("insightsStats",{ls:Math.round(1e3*t)/1e3,lr:Math.round(1e3*i)/1e3,bs:Math.round(a),br:Math.round(s),cpu:null==(n=e.aggregated.metrics["global-cpu-pressure"])?void 0:n.curSum,_time:Date.now()})}}}).stop}})},doUpdateConnectionMonitorReport:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectConnectionMonitorIssuesReport();if(JSON.stringify(e)!==JSON.stringify(a)&&(o({type:"CONNECTION_MONITOR_REPORT_UPDATED",payload:e}),i.selectFeatureInsightsToRtcstatsOn())){const t=i.selectLocalClientId(),o={};["critical","warning"].forEach(i=>{Object.keys(e[i]||{}).filter(o=>{var a,n;const s=o===t;return(null==e||null==(a=e[i])||null==(a=a[o])||null==(a=a.video)?void 0:a.includes(...jt(["cam-video-bad-network"],s)))||(null==e||null==(n=e[i])||null==(n=n[o])||null==(n=n.audio)?void 0:n.includes(...jt(["cam-audio-bad-network"],s)))}).forEach(e=>{Object.keys(a[i]).find(t=>t===e)||(o[e]={badNetwork:!0})}),Object.keys(a[i]||{}).filter(e=>{var o,n;const s=e===t;return(null==a||null==(o=a[i])||null==(o=o[e])||null==(o=o.video)?void 0:o.includes(...jt(["cam-video-bad-network"],s)))||(null==a||null==(n=a[i])||null==(n=n[e])||null==(n=n.audio)?void 0:n.includes(...jt(["cam-audio-bad-network"],s)))}).forEach(t=>{Object.keys(e[i]).find(e=>e===t)||(o[t]={badNetwork:!1})})}),Object.keys(o).length>0&&i.doRtcAnalyticsCustomEvent("clientStates",{updatesByClientId:o,_time:Date.now()})}},reactStartStopConnectionMonitor:Object(V.e)("selectPrefs","selectRoomConnectionStatus","selectConnectionMonitorIsRunning",(e,t,o)=>!e.connectionMonitor&&!e.callQualityMonitoring||o||"joined"!==t?o&&["kicked","left"].includes(t)?{actionCreator:"doStopConnectionMonitor"}:void 0:{actionCreator:"doStartConnectionMonitor"}),reactUpdateLocalCallQualityScores:Object(V.e)("selectRoomConnectionStatus","selectRoomMode","selectSignalStatus","selectRtcConnectionStatus","selectLocalClientId","selectConnectionMediaQualityScores","selectConnectionMonitorIssuesReport","selectLocalCallQualityScores",(e,t,o,i,a,n,s,r)=>{var c,l,d,u,m,p,b,g;const h=["kicked","left"].includes(e)||"disconnected"!==o&&"disconnected"!==i?H.f.OK:H.f.CRITICAL,j=Math.min(gt(h),...t===H.t.NORMAL?[gt((null==s||null==(c=s.critical)||null==(c=c[a])||null==(c=c.video)?void 0:c.length)>0?H.f.CRITICAL:H.f.OK),gt((null==s||null==(l=s.warning)||null==(l=l[a])||null==(l=l.video)?void 0:l.length)>0?H.f.WARNING:H.f.OK)]:[gt(null==n||null==(d=n[a])?void 0:d.video)]),f=Math.min(gt(h),...t===H.t.NORMAL?[gt((null==s||null==(u=s.critical)||null==(u=u[a])||null==(u=u.audio)?void 0:u.length)>0?H.f.CRITICAL:H.f.OK),gt((null==s||null==(m=s.warning)||null==(m=m[a])||null==(m=m.audio)?void 0:m.length)>0?H.f.WARNING:H.f.OK)]:[gt(null==n||null==(p=n[a])?void 0:p.audio)]),O=Math.min(gt((null==s||null==(b=s.critical)||null==(b=b[a])||null==(b=b.cpu)?void 0:b.length)>0?H.f.CRITICAL:H.f.OK),gt((null==s||null==(g=s.warning)||null==(g=g[a])||null==(g=g.cpu)?void 0:g.length)>0?H.f.WARNING:H.f.OK)),S=Math.min(j,f),R={total:Object.values(H.f)[S],video:Object.values(H.f)[j],audio:Object.values(H.f)[f],cpu:Object.values(H.f)[O]};if(JSON.stringify(R)!==JSON.stringify(r))return{actionCreator:"doSetLocalCallQualityScores",args:[R]}}),reactUpdateRemoteCallQualityScores:Object(V.e)("selectRoomConnectionStatus","selectRoomMode","selectRemoteClientViews","selectConnectionMediaQualityScores","selectConnectionMonitorIssuesReport","selectRemoteCallQualityScores",(e,t,o,i,a,n)=>{if(!["joined"].includes(e))return;const s=d()(o.map(e=>{var o,n,s,r,c,l;let{clientId:d}=e;const u=Math.min(...t===H.t.NORMAL?[gt((null==a||null==(o=a.critical)||null==(o=o[d])||null==(o=o.video)?void 0:o.length)>0?H.f.CRITICAL:H.f.OK),gt((null==a||null==(n=a.warning)||null==(n=n[d])||null==(n=n.video)?void 0:n.length)>0?H.f.WARNING:H.f.OK)]:[gt(null==i||null==(s=i[d])?void 0:s.video)]),m=Math.min(...t===H.t.NORMAL?[gt((null==a||null==(r=a.critical)||null==(r=r[d])||null==(r=r.audio)?void 0:r.length)>0?H.f.CRITICAL:H.f.OK),gt((null==a||null==(c=a.warning)||null==(c=c[d])||null==(c=c.audio)?void 0:c.length)>0?H.f.WARNING:H.f.OK)]:[gt(null==i||null==(l=i[d])?void 0:l.audio)]),p=Math.min(u,m);return[d,{total:Object.values(H.f)[p],video:Object.values(H.f)[u],audio:Object.values(H.f)[m]}]}));return JSON.stringify(s)!==JSON.stringify(n)?{actionCreator:"doSetRemoteCallQualityScores",args:[s]}:void 0})},Ot=o(11),St=o.n(Ot);const Rt={consents:{},isUpdatingConsentGrant:null,isFetchingConsents:null,fetchError:null,updateError:null};async function Ct(e){let{userId:t,userConsentService:o}=e;return o.getUserConsentsByUserId(t)}var vt={name:"consents",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"CONSENTS_FETCH_STARTED":return{...e,isFetchingConsents:!0,fetchError:null};case"CONSENTS_FETCH_FINISHED":return{...e,isFetchingConsents:!1,consents:o.reduce((e,t)=>({...e,[t.revision.consentRevisionId]:{...t.grant,...t.revision}}),e.consents)};case"CONSENTS_FETCH_FAILED":return{...e,isFetchingConsents:null,fetchError:i};case"CONSENTS_UPDATE_STARTED":return{...e,isUpdatingConsentGrant:{[o]:!0},updateError:null};case"CONSENTS_UPDATE_FINISHED":return{...e,isUpdatingConsentGrant:{[o.consentId]:!1},consents:{...e.consents,[o.consentRevisionId]:{...e.consents[o.consentRevisionId],...o}}};case"CONSENTS_UPDATE_FAILED":return{...e,isUpdatingConsentGrant:{[o]:!1},updateError:i}}return e},getMiddleware:()=>e=>t=>o=>{var i;const a=t(o);if(null!=(i=o.meta)&&i.consents){const t=e.selectUserId();Object.keys(o.meta.consents).forEach(i=>{const{optedIn:a}=o.meta.consents[i];e.doConsentsUpdate({consentId:i,optedIn:a,userId:t})})}return a},doConsentsFetch:()=>async e=>{let{dispatch:t,store:o,userConsentService:i}=e;const a=o.selectUserId();t({type:"CONSENTS_FETCH_STARTED"});try{t({type:"CONSENTS_FETCH_FINISHED",payload:await Ct({userId:a,userConsentService:i})})}catch(n){t({type:"CONSENTS_FETCH_FAILED",error:n})}},doConsentsUpdate:e=>{let{consentId:t,optedIn:o,userId:i}=e;return async e=>{let{consentGrantService:a,userConsentService:n,dispatch:s}=e;St.a.ok(["user-research","personalized-onboarding","marketing","newsletter"].includes(t),"invalid consentId"),s({type:"CONSENTS_UPDATE_STARTED",payload:t});try{s({type:"CONSENTS_UPDATE_FINISHED",payload:await async function(e){var t;let{optedIn:o,userConsentService:i,consentGrantService:a,consentId:n,userId:s}=e;const r=(await Ct({userId:s,userConsentService:i})).find(e=>e.revision.consentId===n),c=o?"accepted":"rejected";if(((null==(t=r.grant)?void 0:t.action)||"rejected")===c)return{...r.grant,...r.revision};const{consentRevisionId:l}=r.revision;return a.addConsentGrant({action:c,consentRevisionId:l,userId:s})}({optedIn:o,userId:i,consentId:t,consentGrantService:a,userConsentService:n})})}catch(r){s({type:"CONSENTS_UPDATE_FAILED",payload:t,error:r})}}},selectConsentsRaw:e=>e.consents,selectConsentsIsFetching:e=>!!e.consents.isFetchingConsents,selectConsentsFetchError:e=>e.consents.fetchError,selectConsentsUpdateError:e=>e.consents.updateError,selectConsentsMarketingIsAccepted:Object(V.e)("selectConsentsRaw",e=>{var t;return"accepted"===(null==(t=Object.values(e.consents).find(e=>"marketing"===e.consentId))?void 0:t.action)}),selectConsentsNewsletterIsAccepted:Object(V.e)("selectConsentsRaw",e=>{var t;return"accepted"===(null==(t=Object.values(e.consents).find(e=>"newsletter"===e.consentId))?void 0:t.action)}),selectConsentsPersonalizedOnboardingIsAccepted:Object(V.e)("selectConsentsRaw",e=>{var t;return"accepted"===(null==(t=Object.values(e.consents).find(e=>"personalized-onboarding"===e.consentId))?void 0:t.action)}),selectConsentsUserResearchIsAccepted:Object(V.e)("selectConsentsRaw",e=>{var t;return"accepted"===(null==(t=Object.values(e.consents).find(e=>"user-research"===e.consentId))?void 0:t.action)})},yt=o(174),It=o(96);const{IncorrectFileType:Et}=It.a,xt={activeParams:null,activeSetup:null,deleteStatus:null,deleteError:null,effectStream:null,initial:!0,allEffects:[],loadError:null,loadStatus:null,stop:null,tryUpdate:null,uploadStatus:null,uploadError:null,wasWanted:!1};let Tt;var Lt={name:"cameraEffects",init:()=>{Tt=Object(te.a)()},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"CAMERAEFFECTS_LOAD_STARTED":return{...e,loadStatus:"loading"};case"CAMERAEFFECTS_LOAD_FINISHED":return{...e,allEffects:o,loadStatus:"loaded"};case"CAMERAEFFECTS_LOAD_FAILED":return{...e,loadError:o,loadStatus:"failed"};case"CAMERAEFFECTS_SWITCH_PRESET":return{...e,initial:!1,wasWanted:!0};case"CAMERAEFFECTS_SET":return{...e,activeSetup:o.setup,activeParams:o.params,stop:o.stop,tryUpdate:o.tryUpdate,effectStream:o.effectStream};case"CAMERAEFFECTS_UPDATED":return{...e,activeSetup:o.setup,activeParams:o.params};case"CAMERAEFFECTS_CLEARED":return{...e,initial:o.initial,stop:null,tryUpdate:null,effectStream:null};case"CAMERAEFFECTS_UPLOAD_STARTED":return{...e,uploadStatus:"uploading",uploadError:null};case"CAMERAEFFECTS_UPLOAD_FINISHED":return{...e,uploadStatus:"uploaded",allEffects:[...e.allEffects,o]};case"CAMERAEFFECTS_UPLOAD_FAILED":return{...e,uploadStatus:"failed",uploadError:o};case"CAMERAEFFECTS_UPLOAD_ERROR":return{...e,uploadError:o};case"CAMERAEFFECTS_DELETE_FINISHED":return{...e,deleteStatus:"deleted",allEffects:e.allEffects.filter(e=>e.id!==o)};case"CAMERAEFFECTS_DELETE_FAILED":return{...e,deleteStatus:"failed",deleteError:o}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectVideoId(),a=e.selectLocalStreamTracks(),n=e.selectShouldShowReviewPage(),s=t(o),r=e.selectLocalStreamTracks();return e.selectFeatureCameraEffectsOff()||((a.video&&!r.video||i&&i!==e.selectVideoId())&&e.doCameraEffectsPause(),e.selectShouldShowReviewPage()||!n||e.selectIsVideoWanted()||e.doCameraEffectsPause()),s},doCameraEffectsLoad:e=>async t=>{let{store:i,dispatch:a}=t;a({type:"CAMERAEFFECTS_LOAD_STARTED"});try{const[{getUsablePresets:t},n]=await Promise.all([o.e(0).then(o.bind(null,489)),Tt.getVirtualBackgrounds()]),{virtualBackgroundUrl:s}=i.selectPrefs();s&&n.push({id:"image-custom-qs",backgroundUrl:s,type:"custom",preset:"image-custom"});const r=(navigator.maxTouchPoints||0)>=1;a({type:"CAMERAEFFECTS_LOAD_FINISHED",payload:[...t(e,{allowSafari:i.selectFeatureSafariMobileCameraEffectsOn()&&r||i.selectFeatureSafariCameraEffectsOn()&&!r}).map(e=>({id:e,type:"preset",preset:e})),...n]})}catch(n){a({type:"CAMERAEFFECTS_LOAD_FAILED",payload:n})}},doCameraEffectsSwitchPreset:(e,t,i)=>async a=>{var n;let{store:s,dispatch:r}=a;if(s.selectIsLocalStreamSwitching())return;const c=s.selectCameraEffectsAll().find(t=>t.id===e),l=s.selectCameraEffectsRaw(),d=s.selectPrefs(),{preset:u,backgroundUrl:m}=c||{},p={...i,...m&&{backgroundUrl:m}};if(r({type:"CAMERAEFFECTS_SWITCH_PRESET"}),c&&l.tryUpdate&&await l.tryUpdate(u,{...s.selectCameraEffectsSetup(),...t},p))return void r({type:"CAMERAEFFECTS_UPDATED",payload:{setup:t,params:i},meta:{prefs:{cameraEffect:e}}});if(l.effectStream&&d.cameraEffect){var b,g;await r({type:"CAMERAEFFECTS_CLEARED",payload:{initial:!1},meta:{prefs:{cameraEffect:null}}});(null==(b=s.selectLocalStream().getVideoTracks())?void 0:b[0])===(null==(g=l.effectStream)?void 0:g.getVideoTracks()[0])&&s.doLocalStreamEffect(null,"video"),await l.stop()}if(s.doPref("cameraEffect",e),!e)return;if(null==(n=s.selectLocalStream().getVideoTracks())||!n[0])return void r({type:"CAMERAEFFECTS_CLEARED",payload:{initial:!0}});const{createEffectStream:h}=await o.e(0).then(o.bind(null,489)),{stream:j,stop:f,tryUpdate:O}=await h(s.selectLocalStream(),u,{...s.selectCameraEffectsSetup(),...t},p),S=j.getVideoTracks()[0];S&&(S.effectTrack=!0),s.doLocalStreamEffect(j,"video"),r({type:"CAMERAEFFECTS_SET",payload:{setup:t,params:i,stop:f,tryUpdate:O,effectStream:j},meta:{prefs:{cameraEffect:e}}})},doCameraEffectsSetDefaultSetup:(e,t)=>async()=>{const{setDefaultSetup:i}=await o.e(0).then(o.bind(null,489));i(e,t)},doCameraEffectsPause:()=>e=>{var t;let{store:o,dispatch:i}=e;if(!o.selectCameraEffectsEnabled())return;const a=o.selectCameraEffectsRaw();i({type:"CAMERAEFFECTS_CLEARED",payload:{initial:!0}});const n=o.selectLocalStream();o.doLocalStreamEffect(null,"video",!(null!=n&&null!=(t=n.getVideoTracks())&&t[0])),a.stop()},doCameraEffectsUploadBackground:e=>async t=>{let{dispatch:o}=t;o({type:"CAMERAEFFECTS_UPLOAD_STARTED"});try{const t={id:Object(yt.a)(),type:"custom",preset:"image-custom",backgroundUrl:e,timestamp:Date.now()};await Tt.addVirtualBackground({background:t}),o({type:"CAMERAEFFECTS_UPLOAD_FINISHED",payload:t,meta:{analytics:ye.b.virtualBackgroundAdded()}})}catch(i){o({type:"CAMERAEFFECTS_UPLOAD_FAILED",payload:i})}},doCameraEffectsUploadBackgroundError:e=>async t=>{let{dispatch:o}=t;o({type:"CAMERAEFFECTS_UPLOAD_ERROR",payload:{error:"unrecognized file type"===(null==e?void 0:e.message)?new Et("Incorrect file type (only jpg, png and webp allowed)"):e}})},doCameraEffectsDeleteBackground:e=>async t=>{let{dispatch:o}=t;try{await Tt.removeVirtualBackgroundById({backgroundId:e}),o({type:"CAMERAEFFECTS_DELETE_FINISHED",payload:e})}catch(i){o({type:"CAMERAEFFECTS_DELETE_FAILED",payload:i})}},selectCameraEffectsRaw:e=>e.cameraEffects,selectCameraEffectsAll:e=>e.cameraEffects.allEffects,selectCameraEffectsEnabled:e=>!!e.cameraEffects.stop,selectCameraEffectsLoadStatus:e=>e.cameraEffects.loadStatus,selectCameraEffectsUploadError:e=>e.cameraEffects.uploadError,selectCameraEffectsDeleteError:e=>e.cameraEffects.deleteError,selectCameraEffectsSetup:Object(V.e)("selectFeatureChromeWebGLCameraEffectsOn",e=>e?{useWebGL:!0}:{}),selectShouldShowCameraEffects:Object(V.e)("selectFeatureCameraEffectsOff","selectCameraEffectsAll",(e,t)=>!e&&(null==t?void 0:t.length)>0),reactCameraEffectsLoad:Object(V.e)("selectCameraEffectsLoadStatus","selectFeatureCameraEffectsOff","selectLocalStreamTracks",(e,t,o)=>{if(!t&&null===e&&o.video)return{actionCreator:"doCameraEffectsLoad"}}),reactCameraEffectsStart:Object(V.e)("selectCameraEffectsRaw","selectCameraEffectsAll","selectCameraEffectsLoadStatus","selectCameraEffectsEnabled","selectFeatureCameraEffectsOff","selectIsLocalStreamSwitching","selectIsVideoEnabled","selectLocalStreamTracks","selectPrefs","selectVideoId",(e,t,o,i,a,n,s,r,c,l)=>{const d=c.virtualBackgroundUrl?"image-custom-qs":c.cameraEffect;if(e.initial&&r.video&&"loaded"===o&&d&&!i&&!n&&!a&&(!Array.isArray(t)||t.find(e=>e.id===d))&&!!d!==i&&(!d||s)&&l)return{actionCreator:"doCameraEffectsSwitchPreset",args:[d]}})};var kt={lessDisruptiveReconnectOn:{init:e=>{let{store:t}=e;try{if(!t.selectSignalSocket_())return!0;let e={},o=0;const i=t.selectSignalSocket_()._socket,a=i._callbacks.$new_client[0],n=i._callbacks.$client_left[0],s=i._callbacks.$room_joined[0],r=(e,t)=>{const o=null==e?void 0:e[t];let i=!1;return o&&Object.entries(o.tracks).forEach(e=>{let[t,o]=e;"probator"!==t&&Object.values(o.ssrcs).forEach(e=>{(e.bitrate||0)>0&&(i=!0)})}),i},c=()=>{Object.values(e).sort((e,t)=>e.index-t.index).forEach(e=>{clearTimeout(e.timeout),n(e.payload)}),e={}};i._callbacks.$client_left[0]=async function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const l=a[0],d=t.selectRtcManager_();null!=d&&d.setEventClaim&&c();const u=async()=>{const e=await Object(W.r)();return r(e,l.clientId)},m=await u();if(!m)return n(...a);e[l.clientId]={timeout:setTimeout(()=>{delete e[l.clientId],n(...a)},8e3),payload:l,index:o++},null==d||null==d.setEventClaim||d.setEventClaim(l.eventClaim);let p=3;const b=async()=>{if(p--,p<0)return;if(!e[l.clientId])return;if(await u())return void setTimeout(b,500);const t=e[l.clientId];t&&(delete e[l.clientId],clearTimeout(t.timeout),n(...a))};setTimeout(b,500)},i._callbacks.$new_client[0]=function(){const o=arguments.length<=0?void 0:arguments[0];if(e[o.client.id])return clearTimeout(e[o.client.id].timeout),void delete e[o.client.id];t.selectRemoteClients().filter(t=>e[t.id]&&t.deviceId===o.client.deviceId).forEach(t=>{clearTimeout(e[t.id].timeout),n(e[t.id].payload),delete e[t.id]}),a(...arguments)},i._callbacks.$room_joined[0]=async function(){if(c(),Date.now()-(t.selectSignalDisconnectTime()||0)>4e3)return void s(...arguments);const e=arguments.length<=0?void 0:arguments[0],o=t.selectRemoteClients(),i=await Object(W.r)();e.room.clients.forEach(e=>{const t=o.find(t=>t.id===e.id);if(t){if(JSON.stringify(t.streamIds)!==JSON.stringify(e.streamIds||e.streams))return;if(!r(i,e.id))return;t.isAudioEnabled=e.isAudioEnabled,t.isVideoEnabled=e.isVideoEnabled,e.__keepUsingThisClient=t}}),s(...arguments)}}catch(o){}}},optimizedReconnectOn:{init:e=>{let{store:t}=e;try{if(!t.selectSignalSocket_())return!0;t.selectSignalSocket_().getManager().reconnectionDelay(800).reconnectionDelayMax(2e3).timeout(5e3)}catch(o){}}},trackRecoveryOn:{init:e=>{let{store:t}=e;try{const e={},o=["rem-cam-video-ended-track","rem-pres-video-ended-track","rem-cam-audio-ended-track","rem-pres-audio-ended-track","rem-cam-video-dry-track","rem-pres-video-dry-track","rem-cam-audio-dry-track","rem-pres-audio-dry-track","rem-cam-video-no-track","rem-pres-video-no-track","rem-cam-audio-no-track","rem-pres-audio-no-track",...t.selectFeatureLowQTrackRecoveryOn()?["rem-cam-video-fps-below-10","rem-cam-video-fps-below-20"]:[]];Object(W.z)({onUpdatedIssues:(i,a,n)=>{if(t.selectSignalDisconnectTime())return;const s=t.selectSignalConnectTime(),r=Date.now()-(s||0);if(r<5e3)return;const c=t.selectRtcManager_();if(!c)return;const l=null==c.shouldAcceptStreamsFromBothSides?void 0:c.shouldAcceptStreamsFromBothSides();null==n||n.forEach(a=>{var n;if(a.isLocalClient)return;const s=null==(n=i[a.id])?void 0:n.issues;s&&o.forEach(o=>{const i=s[o];if(!i||!i.active)return;if(/audio/.test(o)&&!a.audio.enabled)return;if(/video/.test(o)&&!a.video.enabled)return;const n=Date.now()-(e[a.id]||0);if(n<1e4)return;let d=!1;if(/dry-track/.test(o)){if(i.current<3)return;d=l}if(/no-track/.test(o)){if(i.current<2)return;d=l}if(/fps-below/.test(o)){if(i.current<15)return;if(!(i.ticks>i.registered+5))return;if(n<6e5&&n>r)return}console.log("will attempt to recover issue",o);let u=0;d||(u=2e3-Date.now()%2e3,t.selectLocalClientId().localeCompare(a.clientId)<=0&&(u-=1e3,u<0&&(u+=2e3))),e[a.id]=Date.now(),setTimeout(()=>{t.doRtcAnalyticsCustomEvent("trackRecoveryAttempt",{issue:o,_time:Date.now()}),c.acceptNewStream({streamId:a.id,clientId:a.clientId,shouldAddLocalVideo:a.id===a.clientId,activeBreakout:t.selectBreakoutActive()})},u)})})}})}catch(o){}}},lowQTrackRecoveryOn:{},brokenSfuDetectorOn:{init:e=>{let{store:t}=e;const o=()=>{try{var e;const o=null==(e=t.selectRtcManager_())||null==(e=e._vegaConnection)?void 0:e.socket;1===(null==o?void 0:o.readyState)&&o.send("0")}catch(i){}setTimeout(o,2e3)};o()}}};const _t={error:null,hasFetched:!1,isFetching:!1};function Nt(e){return{["selectFeature"+e[0].toUpperCase()+e.slice(1)]:Object(V.e)("selectFeatures",t=>{var o;const i=null==t?void 0:t[e];return null!=(o={off:!1,on:!0}[i])?o:i})}}var wt=Object.assign({name:"feature",reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"FEATURE_FETCH_STARTED":return{...e,isFetching:!0};case"FEATURE_FETCH_FINISHED":return{...e,data:o,hasFetched:!0,isFetching:!1};case"FEATURE_FETCH_FAILED":return{...e,error:o||i,hasFetched:!0,isFetching:!1}}return e},doSetFeatureContext:e=>async t=>{let{dispatch:o,featureService:i}=t;o({type:"FEATURE_FETCH_STARTED"});try{o({type:"FEATURE_FETCH_FINISHED",payload:await i.update(e)})}catch(a){o({type:"FEATURE_FETCH_FAILED",payload:a,error:!0})}},selectFeatureRaw:e=>e.feature,selectFeatures:e=>e.feature.data,selectHasFeaturesFetched:e=>e.feature.hasFetched,reactFeatureContextChanged:Object(V.e)("selectFeatureRaw","selectHasOrganizationFetched","selectOrganizationId","selectRoomName",(e,t,o,i)=>{if(!e.hasFetched&&!e.isFetching&&t)return{actionCreator:"doSetFeatureContext",args:[{organizationId:o,roomName:i}]}})},...["accessibilityOn","addGoogleStunServersOn","addCloudflareStunServersOn","adjustBitratesFromResolutionOn","analyticsOff","audioDenoiserOff","audioDenoiserMobileOff","av1On","brandAvatarsOn","cameraEffectsOff","chromeWebGLCameraEffectsOn","ci","cleanSdpOn","coLocationOn","constrainedOverflowBehaviorOn","deprioritizeH264OnSafariOn","freeRoomEmbedOff","enforceTurnTls","embeddedFeedbackOn","embedWatermarkForceOn","feedbackAlwaysOn","gesturesOn","greekLangOn","hdDefaultOff","handleCamTrackEndedOn","higherP2PBitratesOn","increaseIncomingMediaBufferOn","insightsToRtcstatsOn","iosVersionCheckOff","isExemptFromRoomFullConstraint","isExemptFromRoomUnclaimedConstraint","jsGridMobileLayoutOff","knockGroupsOn","legacyOsWarningOn","legacyRoomMembersOn","limitScreenshareOff","lockRoomTooltipOn","onboarding","performanceMonitorOn","pipAutoLaunchOn","pipControlsOff","poorQualityReportOn","precallTestOnlyOn","presenterLimit48","roundedCornersOff","rtcAnalyticsOn","rtpAbsCaptureTimeOn","safariCameraEffectsOn","safariMobileCameraEffectsOn","screenshareAudioOn","screenshareQualityOn","sentry","sfuServer","shareDrawerOn","streamingConfigUIOn","clientSideTranscriptionOn","nodeAgentTranscriptionOn","turnServer","uncappedSingleRemoteVideoOn","unlimitedBandwidthWhenUsingRelayP2POn","videoMonitorOn","volumeMuteOn","vp9On","h264On","simulcastScreenshareOn","documentPipOn","preferCurrentTabRecordingOn","redOn","glitchFreeOn","reCaptchaGenerationOff","pipRafCallbacksOff","liveTranscriptionsOn","sfuReconnectV2On","lowBandwidthOn","refreshSelfviewOff"].map(Nt));function At(){const e={};return Object.keys(kt).forEach(t=>{e[t]={server:!0}}),e}function Dt(e){return Object.keys(e).reduce((e,t)=>({...e,...Nt(t)}),{})}function Pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=null;return{name:"experimentalToggles",getMiddleware:()=>o=>i=>a=>{var n;if(!t&&o.selectHasFeaturesFetched()){const i=o.selectFeatures();t=Object.entries(e).filter(e=>{let[t,o]=e;return o.init&&("on"===(null==i?void 0:i[t])||!0===(null==i?void 0:i[t]))})}return null!=(n=t)&&n.length&&(t=t.filter(e=>{let[,t]=e;return t.init({store:o})})),i(a)},selectExperimentalTogglesAnalyticsData:Object(V.e)("selectExperimentalTogglesObject",e=>({experimentalToggles:Object.keys(e)})),selectExperimentalTogglesObject:Object(V.e)("selectFeatures",t=>Object.keys(e).filter(e=>"on"===(null==t?void 0:t[e])||!0===(null==t?void 0:t[e])).reduce((e,t)=>(e[t]=!0,e),{})),...Dt(e)}}var Mt=o(149),Ft=o.n(Mt),Bt=o(89);async function qt(e){const t=Bt.d();if(!t)throw new Error("getRecordingsMetadata: could not open database");try{await Promise.all(e.map(e=>Bt.b(e,t)))}catch(o){console.error(o)}}const zt=6e4;function Gt(){return!!window.AudioContext&&!!window.MediaRecorder&&!!window.indexedDB&&!!window.chrome}async function Ut(e){var t,o;let{audioContext:i,audioTracks:a,av1On:n=!1,userRecordingStream:s,roomName:r,timeslice:c=zt,vp9On:l=!1}=e;St()(r,"roomName is required");const d=i.createMediaStreamDestination();let u;const m=new Map,p={stop:[],dataavailable:[],error:[]},b=()=>u&&"recording"===u.state&&u.stop(),g=(e,t)=>p[e]=p[e].filter(e=>t&&e!==t),h=(e,t)=>p[e].forEach(e=>e(t));function j(e){const t=i.createMediaStreamSource(new MediaStream([e]));t.connect(d),m.set(e.id,t)}let f=96e3;a.forEach(e=>j(e)),s.getVideoTracks().slice(0,1).forEach(e=>{f=1e6,d.stream.addTrack(e);const t=()=>{e.removeEventListener("ended",t),b()};e.addEventListener("ended",t)});let O="video/webm;codecs=vp8";l&&null!=(t=MediaRecorder)&&null!=t.isTypeSupported&&t.isTypeSupported("video/webm;codecs=vp9")&&(O="video/webm;codecs=vp9"),n&&null!=(o=MediaRecorder)&&null!=o.isTypeSupported&&o.isTypeSupported("video/webm;codecs=av1")&&(O="video/webm;codecs=av1"),u=new MediaRecorder(d.stream,{bitsPerSecond:f,mimeType:O});const S=function(e){const t=Date.now(),o="whereby-"+t,i={meetingIdentifier:o,roomName:e,startTime:t},a=Bt.d();let n=0,s=0,r=a;const c=async e=>{await Bt.f(o,{...i,...e},a)};return Bt.a(o,i,a),{addChunk:async e=>{const t=n++;return r=r.then(async()=>(s+=e.size,await Promise.all([Bt.e(o,t,e,a),c({lastTime:Date.now(),bytesWritten:s})]))),r},close:async()=>{const e=Date.now();await r;try{await c({endTime:e,bytesWritten:s})}catch(o){throw o.userMessage="Unable to update recording metadata",(await a).close(),o}return(await a).close(),e-t},meetingIdentifier:o}}(r),{meetingIdentifier:R}=S;let C;const v=e=>{if(e.data&&e.data.size>0)return h("dataavailable",e.data),S.addChunk(e.data).catch(e=>{e.userMessage="Unable to write more recording data to disk",C=C||e,h("error",e),b()});console.warn("Recorder chunk with 0 bytes???")},y=async()=>{let e;try{e=await S.close()}catch(t){h("error",t),C=C||t}try{((null==d?void 0:d.stream.getVideoTracks())||[]).forEach(e=>{d.stream.removeTrack(e),e.stop()})}catch(t){h("error",t),C=C||t}try{m.forEach(e=>e.disconnect()),d.disconnect()}catch(t){h("error",t),C=C||t}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(()=>{var e;null==(e=navigator.serviceWorker.controller)||e.postMessage({type:"RECORDING_CREATED",payload:{meetingIdentifier:R}})}),h("stop",{duration:e,error:C,meetingIdentifier:R}),Object.keys(p).forEach(e=>g(e)),s.removeEventListener("inactive",b),window.removeEventListener("beforeunload",b),u.removeEventListener("dataavailable",v),u.removeEventListener("stop",y),u=void 0};let I;const E=new Promise(e=>{I=()=>(e=>{u.removeEventListener("start",I),u.addEventListener("dataavailable",v),u.addEventListener("stop",y),s.addEventListener("inactive",b),window.addEventListener("beforeunload",b),I=void 0,e()})(e),u.addEventListener("start",I)});return u.start(c),await E,{getRecordedAudioTrackIds:function(){return Array.from(m.keys())},addAudioTrack:j,removeAudioTrack:function(e){const t=m.get(e);void 0!==t&&(t.disconnect(),m.delete(e))},isRecording:()=>!!u,off:g,on:(e,t)=>p[e].push(t),stopRecording:b}}const Ht=e=>"/__sw/recording?meetingIdentifier="+e;var Vt=o(63),Wt=o(49);function Kt(e){const t=new Intl.DateTimeFormat("en-gb",{day:"2-digit",hour:"2-digit",minute:"2-digit",month:"short",second:void 0,timeZoneName:"short",year:"numeric"}).format(e.startTime).replace(/ /g,"-").replace(/[:,]/g,""),o=`whereby-${e.roomName.substring(1)}-${t}.webm`;return encodeURIComponent(o).replace(/['()]/g,escape).replace(/\*/g,"%2A")}function $t(e){return"NotAllowedError"===e.name||"Permission denied"===e.message||"No shared stream selected"===e.message}const Qt=(e,t)=>e.recordingsMetadata.filter(e=>t?e.saveTime:!e.saveTime).map(e=>{const{bytesWritten:t,lastTime:o,endTime:i,meetingIdentifier:a,startTime:n}=e,s=t/1024/1024;let r=0;return o?r=o-n:i&&(r=i-n),{dateString:Object(Vt.f)(n),dateISOString:new Date(n).toISOString(),duration:r?Object(Vt.b)(r):"\u2013",durationISOString:Object(Vt.a)(r),fileSize:s?s.toFixed(s<10?2:s<100?1:0)+" MB":"\u2013 MB",filename:Kt(e),href:Ht(a),meetingIdentifier:a,monthYearTimeString:Object(Vt.e)(n)}});var Yt=()=>({name:"recording",init:e=>{e.doFetchRecordingsMetadata().then(()=>{e.selectNumRecordings()>0&&e.doSetNotification("temporaryRecordingsWarning")}).catch(e=>console.error(e)),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",t=>{let{data:{type:o,payload:i}}=t;if(["RECORDING_CREATED"].includes(o)){const t=Date.now();e.doRecordingDownload({meetingIdentifier:i.meetingIdentifier,saveTime:t})}"RECORDING_CLEANUP"===o&&e.doRecordingDeleted(i)})},getReducer:()=>{const e={status:"",error:null,hasConsent:!1,recorder:null,recordingsMetadata:[],startedAt:null,stoppedAt:null,isDownloading:!1};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case"RECORDING_REQUESTED":return{...t,status:"requested",stoppedAt:null};case"RECORDING_DIALOGS_DISMISS":return{...t,status:""};case"RECORDING_CONSENT_ANSWER":return{...t,hasConsent:i};case"RECORDING_REQUEST_STARTED":return{...t,status:"starting"};case"RECORDING_REQUEST_FAILED":return{...t,recorder:null,status:"",error:i};case"RECORDING_REQUEST_FINISHED":return{...t,recorder:i.recorder,status:"recording",startedAt:i.startedAt,error:null};case"RECORDING_ENDED":return{...t,recorder:null,status:"",startedAt:null,error:i.error||null,stoppedAt:Date.now()};case"RECORDINGS_METADATA_FETCHED":return{...t,recordingsMetadata:i};case"RECORDING_DOWNLOAD_STARTED":return{...t,isDownloading:!0};case"RECORDING_DOWNLOAD_FINISHED":return{...t,isDownloading:!1}}return t}},getMiddleware:()=>e=>t=>o=>{const i=e.selectIsLocalStreamSwitching(),a=e.selectIsAnyoneRecording(),n=e.selectLocalScreenshareStream(),{recorder:s}=e.selectRecordingRaw(),r=t(o);if(a&&!e.selectIsAnyoneRecording()&&e.doFetchRecordingsMetadata(),!e.selectRecordingIsRecording())return r;const c=e.selectLocalScreenshareStream();if(o.type===J.b.STREAM_ADDED&&o.payload.stream.getAudioTracks().length){const e=o.payload.stream.getAudioTracks()[0];null==s||s.addAudioTrack(e)}else if(o.type===J.b.REMOTE_STREAM_TRACK_ADDED){var l,d,u;const e=new Set(null!=(l=null==s?void 0:s.getRecordedAudioTrackIds())?l:[]);(null!=(d=null==(u=o.payload)?void 0:u.tracks)?d:[]).filter(t=>!e.has(t.id)).forEach(e=>{null==s||s.addAudioTrack(e)})}else if(o.type===J.b.REMOTE_STREAM_TRACK_REMOVED){var m,p,b;const e=new Set(null!=(m=null==s?void 0:s.getRecordedAudioTrackIds())?m:[]);(null!=(p=null==(b=o.payload)?void 0:b.tracks)?p:[]).filter(t=>e.has(t.id)).forEach(e=>{null==s||s.removeAudioTrack(e.id)})}else if(c!==n&&null!=c&&c.getAudioTracks().length){const e=c.getAudioTracks()[0];null==s||s.addAudioTrack(e)}const g=e.selectLocalStream();if(i&&!e.selectIsLocalStreamSwitching()&&g&&g.getAudioTracks().length){const t=e.selectAudioDenoiserSourceTrackId();null!==t&&(null==s||s.removeAudioTrack(t)),null==s||s.addAudioTrack(g.getAudioTracks()[0])}return r},selectRecordingRaw:e=>e.recording,selectHasRecordingConsent:e=>e.recording.hasConsent,selectNumRecordings:e=>e.recording.recordingsMetadata.filter(e=>!e.saveTime).length,selectRecordingError:e=>e.recording.error,selectRecordingsMetadata:e=>e.recording.recordingsMetadata,selectRecordingIsRecording:e=>"recording"===e.recording.status,selectRecordingStart:e=>e.recording.startedAt,selectRecordingStatus:e=>e.recording.status,selectIsDownloading:e=>e.recording.isDownloading,selectRecordingIsStopped:Object(V.e)("selectRecordingRaw","selectRecordingStatus",(e,t)=>""===t&&null!==e.stoppedAt),selectRecordingCanRecord:Object(V.e)("selectRecordingStartTrigger","selectOrganizationPrefs","selectRoomPrefs","selectQueryObjectPrefs",(function(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t=a.recording||"boolean"===typeof a.recording?a.recording:i.recording||"boolean"===typeof i.recording?i.recording:o.recording,"cloud"===t){return!["automatic","automatic-2nd-participant"].includes(e)}return"boolean"!==typeof t||t})),selectRecordingStartTrigger:Object(V.e)("selectOrganizationPrefs","selectRoomPrefs",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.recordingStartTrigger||e.recordingStartTrigger||"none"})),selectRecordingTargetIsLocal:Object(V.e)("selectPrefs",e=>"cloud"!==e.recording),selectUnstoredRecordings:Object(V.e)("selectRecordingRaw",e=>Qt(e)),selectSavedRecordings:Object(V.e)("selectRecordingRaw",e=>Qt(e,!0)),selectRecordingSettings:Object(V.e)("selectResolution","selectFeaturePreferCurrentTabRecordingOn",(e,t)=>({width:Math.min(1920,e[0]),height:Math.min(1080,e[1]),frameRate:10,preferCurrentTab:!!t})),selectRecordingDialog:Object(V.e)("selectRecordingRaw",e=>{const{status:t,hasConsent:o}=e;return"requested"!==t||o?"":"consent"}),doRecordingConsent:()=>({type:"RECORDING_CONSENT_ANSWER",payload:!0}),doRecordingDialogsDismiss:()=>({type:"RECORDING_DIALOGS_DISMISS"}),doRecordingDownload:e=>{let{meetingIdentifier:t,saveTime:o}=e;return async e=>{let{store:i,dispatch:a}=e;try{a({type:"RECORDING_DOWNLOAD_STARTED"}),i.doSetNotification("newRecordingAdded",{meetingIdentifier:t}),await i.doFetchRecordingsMetadata();const e=i.selectRecordingsMetadata(),s=Kt(e.find(e=>e.meetingIdentifier===t)),r=await fetch(Ht(t));if(r.ok){const e=await r.blob({type:"video/webm;codecs=vp8"});Ft.a.saveAs(e,s)}await(n=2e3,new Promise(e=>setTimeout(e,n))),i.doRecordingStored({featureSource:"pwa"}),i.doRecordingUpdated({meetingIdentifier:t,saveTime:o})}catch(s){i.doSetNotification("localRecordingDownloadError",{message:s})}var n;i.doDismissNotification("newRecordingAdded",{meetingIdentifier:t}),a({type:"RECORDING_DOWNLOAD_FINISHED"})}},doRecordingUpdated:e=>{let{saveTime:t,meetingIdentifier:o}=e;return e=>{let{store:i}=e;i.doFetchRecordingsMetadata(),t?i.doDismissNotification("newRecordingAdded",{meetingIdentifier:o}):i.doSetNotification("newRecordingAdded",{meetingIdentifier:o})}},doRecordingDeleted:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return async t=>{let{store:o}=t;await qt(e),o.doFetchRecordingsMetadata(),e.forEach(e=>{o.doDismissNotification("newRecordingAdded",{meetingIdentifier:e})})}},doFetchRecordingsMetadata:()=>async e=>{let{dispatch:t}=e;if(Gt())try{const e=await async function(){const e=Bt.d();if(!e)throw new Error("getRecordingsMetadata: could not open database");try{return await Bt.c(e)}finally{(await e).close()}}();e&&t({type:"RECORDINGS_METADATA_FETCHED",payload:e})}catch(o){console.error(o)}},doRecordingStored:e=>{let{featureSource:t}=e;return{type:"RECORDING_STORED",meta:{analytics:ye.b.recordingSaved({featureSource:t})}}},doRequestRecording:()=>e=>{let{dispatch:t}=e;return t({type:"RECORDING_REQUESTED"})},doStopRecording:()=>e=>{let{store:t}=e;return t.selectRecordingRaw().recorder.stopRecording()},doStartRecording_:()=>async e=>{let{dispatch:t,store:o}=e;t({type:"RECORDING_REQUEST_STARTED"});const i=e=>{$t(e)||("QuotaExceededError"===e.name||"Estimated quota exceeded"===e.message?o.doSetNotification("quotaExceededError"):(o.doSetNotification("genericError",{title:"Recording error",description:e.userMessage||e.message}),o.doCaptureException(e,{tags:{from:"recording"},extra:{userMessage:e.userMessage}})))},a=e=>t({type:"RECORDING_ENDED",payload:e,meta:{signal:{type:"stop_recording"},analytics:ye.b.recordingStoppedRecording({duration:e.duration,error:e.error&&(e.error.userMessage||e.error.name)||void 0})}});try{var n;const e=await navigator.storage.estimate();if(e.usage/e.quota*100>99)throw new Error("Estimated quota exceeded");const s=await(async e=>{let{width:t,height:o,frameRate:i,preferCurrentTab:a}=e;return await Object(W.j)({audio:!1,video:{width:t,height:o,frameRate:i},preferCurrentTab:a})})(o.selectRecordingSettings()),r=[o.selectLocalStream().getAudioTracks()[0],null==(n=o.selectLocalScreenshareStream())?void 0:n.getAudioTracks()[0],...o.selectRemoteClients().map(e=>{var t;return null==e||null==(t=e.stream)?void 0:t.getAudioTracks()[0]})].filter(Boolean),c=await Ut({audioContext:Object(Wt.a)().audioContext,audioTracks:r,av1On:o.selectFeatureAv1On(),userRecordingStream:s,roomName:o.selectRoomName(),vp9On:o.selectFeatureVp9On()});c.on("error",i),c.on("stop",a),t({type:"RECORDING_REQUEST_FINISHED",payload:{recorder:c,startedAt:Date.now()},meta:{signal:{type:"start_recording"},analytics:ye.b.recordingStartedRecording()}})}catch(s){t({type:"RECORDING_REQUEST_FAILED",payload:$t(s)?null:s}),i(s)}},reactStartRecording:Object(V.e)("selectRecordingDialog","selectRecordingStatus",(e,t)=>"requested"!==t||e?null:{actionCreator:"doStartRecording_"})});const Jt=e=>"object"===typeof e?JSON.stringify(e):e,Zt={rtcAnalytics:{getValue:e=>{let{store:t}=e;return t.selectRtcAnalyticsVersion()},getOutput:e=>{let{value:t}=e;return{version:t}}},audioEnabled:{getValue:e=>{let{store:t}=e;return t.selectIsAudioEnabled()},getOutput:e=>{let{value:t}=e;return{enabled:t}}},videoEnabled:{getValue:e=>{let{store:t}=e;return t.selectIsVideoEnabled()},getOutput:e=>{let{value:t}=e;return{enabled:t}}},breakoutGroup:{getValue:e=>{let{store:t}=e;return t.selectBreakoutCurrentGroup()},getOutput:e=>{let{value:t}=e;return t}},colocation:{getValue:e=>{let{store:t}=e;return t.selectCoLocationCurrentGroup()},getOutput:e=>{let{value:t}=e;return t}},signalConnectionStatus:{getValue:e=>{let{store:t}=e;return t.selectSignalStatus()},getOutput:e=>{let{value:t,store:o}=e;return{status:t,..."connected"!==t?{lastDisconnectReason:o.selectSignalLastDisconnectReason()}:{}}}},rtcConnectionStatus:{getValue:e=>{let{store:t}=e;return t.selectRtcConnectionStatus()},getOutput:e=>{let{value:t}=e;return{status:t}}},cameraEffects:{getValue:e=>{let{store:t}=e;return!!t.selectCameraEffectsEnabled()},getOutput:e=>{let{value:t}=e;return{enabled:t}}},localStream:{getValue:e=>{var t;let{store:o}=e;return null==(t=o.selectLocalStream())?void 0:t.getTracks().map(e=>({id:e.id,kind:e.kind,label:e.label}))},getOutput:e=>{let{value:t}=e;return{tracks:t}}},localScreenshareStream:{getValue:e=>{var t;let{store:o}=e;return null==(t=o.selectLocalScreenshareStream())?void 0:t.getTracks().map(e=>({id:e.id,kind:e.kind,label:e.label}))},getOutput:e=>{let{value:t}=e;return{tracks:t}}},displayName:{getValue:e=>{let{store:t}=e;return t.selectDisplayName()},getOutput:e=>{let{value:t}=e;return{displayName:t}}},deviceId:{getValue:e=>{let{store:t}=e;return t.selectDeviceId()},getOutput:e=>{let{value:t}=e;return{deviceId:t}}},clientId:{getValue:e=>{var t;let{store:o}=e;return null==(t=o.selectLocalClient())?void 0:t.id},getOutput:e=>{let{value:t}=e;return{clientId:t}}},roomSessionId:{getValue:e=>{let{store:t}=e;return t.selectRoomSessionId()},getOutput:e=>{let{value:t}=e;return{roomSessionId:t}}},roomProduct:{getValue:e=>{let{store:t}=e;return t.selectRoomProduct()},getOutput:e=>{let{value:t}=e;return{roomProduct:t}}},roomMode:{getValue:e=>{let{store:t}=e;return t.selectRoomMode()},getOutput:e=>{let{value:t}=e;return{roomMode:t}}},organizationId:{getValue:e=>{let{store:t}=e;return t.selectOrganizationId()},getOutput:e=>{let{value:t}=e;return{organizationId:t}}},recording:{getValue:e=>{let{store:t}=e;return!!t.selectRecordingIsRecording()},getOutput:e=>{let{value:t}=e;return{local:t}}},streaming:{getValue:e=>{let{store:t}=e;return!!t.selectStreamingIsStreaming()},getOutput:e=>{let{value:t}=e;return{local:t}}},userRole:{getValue:e=>{let{store:t}=e;return t.selectLocalClientRole()},getOutput:e=>{let{value:t}=e;return{role:t}}},externalId:{getValue:e=>{var t;let{store:o}=e;return null==(t=o.selectQueryObject())?void 0:t.externalId},getOutput:e=>{let{value:t}=e;return{externalId:t}}},sfuServer:{getValue:e=>{let{store:t}=e;return t.selectSfuServer()},getOutput:e=>{let{value:t}=e;return{sfuServer:t}}},featureFlags:{getValue:e=>{let{store:t}=e;return t.selectFeatures()},getOutput:e=>{let{value:t}=e;return{featureFlags:t}}}};let Xt=null;var eo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;const t={};return{name:"rtcAnalytics",getMiddleware:()=>o=>i=>a=>{var n,s,r,c;if(!o.selectFeatureRtcAnalyticsOn())return i(a);if(!Xt){const e=1e3;let t=Date.now();Xt=setInterval(()=>{const i=Date.now(),a=i-t-e;a>4e3&&"joined"===o.selectApplicationState()&&o.doRtcAnalyticsCustomEvent("setIntervalLate",{lag:a,_time:Date.now()}),t=i},e)}switch(a.type){case"VIDEOMONITOR_STARTED":o.doRtcAnalyticsCustomEvent("videoMonitorStarted",{...a.payload,_time:Date.now()});break;case"VIDEOMONITOR_ABORTED":o.doRtcAnalyticsCustomEvent("videoMonitorAborted",{...a.payload,_time:Date.now()});break;case"VIDEOMONITOR_ISSUE_DETECTED":o.doRtcAnalyticsCustomEvent("videoMonitorIssueDetected",{...a.payload,_time:Date.now()});break;case"VIDEOMONITOR_ISSUE_RESOLVED":o.doRtcAnalyticsCustomEvent("videoMonitorIssueResolved",{...a.payload,_time:Date.now()});break;case"LOCAL_DEVICES_UPDATE_STARTED":o.doRtcAnalyticsCustomEvent("localDevicesUpdatedStarted",{_time:Date.now()});break;case"LOCAL_DEVICES_UPDATE_FAILED":o.doRtcAnalyticsCustomEvent("localDevicesUpdatedFailed",{_time:Date.now(),error:{name:null==(n=a.payload)?void 0:n.name,type:null==(s=a.payload)?void 0:s.type,message:null==(r=a.payload)?void 0:r.message}});break;case"WINDOW_FOCUSED":o.doRtcAnalyticsCustomEvent("windowFocusChanged",{focus:a.payload,_time:Date.now()});break;case"WINDOW_ONLINE":o.doRtcAnalyticsCustomEvent("windowOnlineChanged",{online:a.payload,_time:Date.now()});break;case"WAKE_LOCK_ACTIVATED":o.doRtcAnalyticsCustomEvent("wakeLockActivated",{_time:Date.now()});break;case"WAKE_LOCK_RELEASED":o.doRtcAnalyticsCustomEvent("wakeLockReleased",{_time:Date.now()});break;case"WAKE_LOCK_ACTIVATION_FAILED":o.doRtcAnalyticsCustomEvent("wakeLockActivationFailed",{_time:Date.now()});break;case"ROOM_SESSION_UPDATED":const e=null==a||null==(c=a.payload)||null==(c=c[o.selectRoomName()])?void 0:c.reloadDetails;e&&o.doRtcAnalyticsCustomEvent("reload",{...e,_time:Date.now()});break;case Y.a.CONNECTING:case Y.a.CONNECT_ERROR:case Y.a.RECONNECT:case Y.a.DISCONNECT:case Y.a.DEVICE_IDENTIFIED:case Y.a.ROOM_JOINED:case Y.a.NEW_CLIENT:case Y.a.CLIENT_LEFT:case Y.a.CLIENT_KICKED:case Y.a.ROOM_LEFT:case Y.a.ROOM_JOIN_ALLOWED:case Y.a.ROOM_JOIN_CANCELLED:case Y.a.ROOM_KNOCK_CANCELLED:case Y.a.ROOM_KNOCKED:case Y.a.ROOM_LOCKED:case Y.a.CLIENT_UNABLE_TO_JOIN:case Y.a.KNOCK_HANDLED:case Y.a.KNOCKER_LEFT:case Y.a.SPOTLIGHT_ADDED:case Y.a.SPOTLIGHT_REMOVED:case Y.a.SPOTLIGHT_ORDER_SWAPPED:(()=>{const e={};if(a.payload){if(a.payload.clientId&&(e.clientId=a.payload.clientId),a.payload.resolution&&(e.resolution=a.payload.resolution),a.payload.client){const{id:t,displayName:o}=a.payload.client;e.client={id:t,displayName:o}}a.payload.room&&a.payload.room.clients&&(e.room={clients:a.payload.room.clients.map(e=>({id:e.id,displayName:e.displayName}))})}o.doRtcAnalyticsCustomEvent(a.type,{...e,_time:Date.now()})})()}const l=i(a);return Object.entries(e).forEach(e=>{let[i,{getValue:a,getOutput:n,makeComparable:s}]=e;const r=a({store:o}),c=(s||Jt)(r);t[i]!==c&&o.doRtcAnalyticsCustomEvent(i,{...n({value:r,store:o}),_time:Date.now()}),t[i]=c}),l},selectRtcAnalyticsVersion:()=>"1.0"}},to=()=>{let e=[];const t=window.onerror,o=window.onunhandledrejection;window.onerror=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e.push({e:i}),t&&t.apply(window,i)},window.onunhandledrejection=t=>{e.push({p:t.reason}),o&&o.call(window,t)};return{addException:t=>{null!==e?e.push(t):console.error("no registered exception spy",t)},unregister:()=>{let i=[];return null!==e&&(i=[...e],window.onerror=t,window.onunhandledrejection=o,e=null),i}}};function oo(e){return["id","kind","enabled","label","muted","readyState"].reduce((t,o)=>({...t,[o]:e[o]}),{})}const io=e=>e.map(e=>`(${e})`).join("|"),ao=new RegExp(io(["InvalidStateError: A mutation .* did not allow mutations"])),no=new RegExp(io(["ReferenceError: Can't find variable: logMutedMessage","Error: This room cannot be opened directly by URL","AbortError: QuotaExceededError","AbortError: Failed to register a ServiceWorker: Operation has been aborted","AbortError: Failed to register a ServiceWorker for scope","Can't find variable: styleOwnerIsDarkReader","Error: room_unclaimed","Loading CSS chunk","nodevices: No provided devices","NotAllowedError: Permission denied","null is not an object \\(evaluating 'this.g.src'\\)","recording_stopped_unexpectedly","RoomFetchError: Rate limit active for throttle key:","RoomFetchError: invalid room name","SecurityError: Failed to read the 'cssRules' property from 'CSSStyleSheet': Cannot access rules","SecurityError: The operation is insecure","streaming_stopped_unexpectedly","undefined is not an object \\(evaluating 'a.L'\\)"])),so=e=>["{{ default }}",...e],ro=e=>{let{Sentry:t,exceptionSpy:o,transport:i,TracingIntegrations:a}=e;if(t.init({attachStacktrace:!0,dsn:"https://52c90ef531224ab895c57099629af6e9@o1116489.ingest.sentry.io/6235901",release:"pwa-20241217-7ef8526",denyUrls:[/^chrome:\/\//i,/127\.0\.0\.1[:0-9]*\//i,/localhost[:0-9]*\//i],sampleRate:.5,environment:"production",tracesSampleRate:.01,integrations:[new a.BrowserTracing],...i&&{transport:i},beforeSend(e){var t,o;const{headers:i}=e.request,a=e.message||`${null==e||null==(t=e.exception)||null==(t=t.values)||null==(t=t[0])?void 0:t.type}: ${null==e||null==(o=e.exception)||null==(o=o.values)||null==(o=o[0])?void 0:o.value}`;return ao.test(a)&&i["User-Agent"].includes("Firefox")||no.test(a)?null:e}}),!o)return;o.unregister().forEach(e=>{let{e:o,p:i,o:a}=e;o?window.onerror.apply(t.TraceKit,o):i&&t.withScope(e=>{a.extras&&e.setExtras(a.extras),a.tags&&e.setTags(a.tags),a.fingerprint&&e.setFingerprint(so(a.fingerprint)),t.captureException(i)})})},co=e=>{const{type:t}=e;return"LOCAL_CLIENT_METADATA_SENT"===t?{type:t}:!/(ERROR|_FAILED)$/.test(t)&&/client_metadata|chat|credentials|device_identified|_FINISHED$/i.test(t)?{...e,payload:"<scrub>"}:e},lo=e=>{const{deviceCredentials:t,chat:o,...i}=e,{chatMessages:a,...n}=o,s="<scrub>";return{...i,deviceCredentials:{...t,data:s},chat:{...n,chatMessages:a.length,chatUsersByClientId:s,urlMetadata:s},persist:{...e.persist,displayName:s},remoteClients:{...e.remoteClients,clients:e.remoteClients.clients.map(e=>({...e,displayName:s}))},authorization:{...e.authorization,...e.authorization.knockImageUrl&&{knockImageUrl:s},...e.authorization.roomKey&&{roomKey:s}}}},uo={enabled:null,error:null,isLoading:!1};var mo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to(),t=null,i=[];return{name:"sentry",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,{type:t,error:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"SENTRY_LOAD_STARTED":return{...e,isLoading:!0};case"SENTRY_LOAD_FINISHED":return{...e,isLoading:!1,enabled:!0};case"SENTRY_LOAD_FAILED":return{...e,isLoading:!1,error:o};case"SENTRY_UNREGISTERED":return{...e,enabled:!1}}return e},getMiddleware:()=>()=>e=>t=>(i=[co(t),...i.slice(0,24)],e(t)),selectSentryRaw:e=>e.sentry,selectSentryEnabled:e=>e.sentry.enabled,selectSentryIsLoading:e=>e.sentry.isLoading,selectSentryLoadError:e=>e.sentry.error,doLoadSentry:()=>a=>{let{dispatch:n,store:s}=a;return n({type:"SENTRY_LOAD_STARTED"}),Promise.all([o.e(8),o.e(22)]).then(o.bind(null,475)).then(o=>{let{Sentry:a,TracingIntegrations:r,ConsoleTransport:c}=o;t=a,ro({Sentry:t,TracingIntegrations:r,exceptionSpy:e,transport:null}),t.configureScope(e=>{e.addEventProcessor(e=>(e.extra={lastActions:i,state:lo(s.getState()),...s.select(["selectConnectionMonitorStats"]),...e.extra},e.tags={from:"unset",roomMode:s.selectSfuServer()?"group":"normal",...e.tags},e))}),e=null,n({type:"SENTRY_LOAD_FINISHED"})}).catch(e=>{n({type:"SENTRY_LOAD_FAILED",error:e})})},doClearExceptionSpy:()=>t=>{let{dispatch:o}=t;e.unregister().forEach(e=>{console.error("unregistering sentry, would sent:",e)}),e=null,o({type:"SENTRY_UNREGISTERED"})},doCaptureException:function(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a=>{let{store:n}=a;t&&n.selectSentryEnabled()?t.withScope(e=>{i.extra&&e.setExtras(i.extra),i.tags&&e.setTags(i.tags),i.fingerprint&&e.setFingerprint(so(i.fingerprint)),t.captureException(o)}):e?e.addException({p:o,o:i}):console.error("no registered exc spy",o,i)}},doCaptureMessage:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i=>{let{store:a}=i;t&&a.selectSentryEnabled()?t.withScope(i=>{o.extra&&i.setExtras(o.extra),o.tags&&i.setTags(o.tags),t.captureMessage(e,o.level)}):console.error("no registered msg spy",e,o)}},doSentryReport:e=>async o=>{var i;let{store:a}=o;t||await a.doLoadSentry();const n=null==(i=a.selectLocalStream())?void 0:i.getTracks(),s=null==n?void 0:n.map(e=>[oo(e),e.getConstraints(),null==e.getCapabilities?void 0:e.getCapabilities()]);t.lastEventId()&&!e||t.withScope(o=>{o.setExtras({tracks:s}),t.captureMessage("Manual user report "+(e?` (${e})`:""),"info")}),t.showReportDialog({user:{name:a.selectDisplayName(),email:a.selectUser().email},title:"Manually report bug",subtitle:"We'll read it, but can't reply, please tell support to check Sentry-report.",subtitle2:""})},reactSentryStatusChanged:Object(V.e)("selectFeatureSentry","selectSentryIsLoading","selectSentryEnabled","selectSentryLoadError",(o,i,a,n)=>{if(!n&&void 0!==o)return t||i||!o?!o&&e&&null===a?{actionCreator:"doClearExceptionSpy"}:void 0:{actionCreator:"doLoadSentry"}})}};const po="undefined"===typeof jest,bo=(e,t)=>{let{method:o="log",label:i,color:a}=t;return console[o](...po?["%c"+i,a,e]:[i,e])};let go={},ho={},jo=!1,fo=!1;var Oo={name:"debug",getMiddleware:()=>e=>t=>o=>{if(!e.selectPrefs().debug)return t(o);const{type:i}=o,a=!jo;if(jo=!0,po&&!window.store&&(window.store=e),fo||i.startsWith("@")){go[i]=(go[i]||0)+1;const e=fo;fo=!0;const n=t(o);return fo=e,jo=!a,n}Object.keys(go).length&&(bo(Object.keys(go).map(e=>`${e} (${go[e]})`).join(", "),{label:"since last:",color:"color: #1676D2;"}),go={}),a&&console.group(i),console.info("action:",o);const n=t(o);if(!a)return n;jo=!1;const{nextReaction:s,activeReactor:r,meta:c}=e,l=Object.keys(c.unboundSelectors).sort().reduce((t,o)=>({...t,[o]:e[o]()}),{}),d=Object.keys(l).reduce((e,t)=>l[t]!==ho[t]?{...e,[t]:l[t]}:e,{});return bo(d,{label:`selectors (${Object.keys(d).length}):`,color:"color: #4CAF50;"}),ho=l,s&&bo(s,{color:"color: #F57C00;",label:`next reaction ${r}:`}),console.groupEnd(i),n},doDebugToggle:e=>t=>{let{store:o}=t;go={},ho={},o.doPref("debug",null!=e?e:!o.selectPrefs().debug,{updateQuery:!0})}},So=o(72),Ro=o(102),Co=o(87);function vo(){const e=window&&window.getComputedStyle(document.documentElement),t=t=>e&&parseInt(e.getPropertyValue(t),10)||0;return{top:t("--safe-area-inset-top"),right:t("--safe-area-inset-right"),bottom:t("--safe-area-inset-bottom"),left:t("--safe-area-inset-left")}}async function yo(e){if("wakeLock"in navigator)try{const t=await navigator.wakeLock.request("screen");return t.addEventListener("release",()=>{setTimeout(()=>e({type:"WAKE_LOCK_RELEASED"}),0)}),e({type:"WAKE_LOCK_ACTIVATED",payload:t}),t}catch(t){}return null}const Io=()=>{var e;return{screenHeight:window.screen.height,screenWidth:window.screen.width,docHeight:window.document.documentElement.clientHeight,docWidth:window.document.documentElement.clientWidth,safeAreaInsets:vo(),devicePosture:(null==(e=navigator.devicePosture)?void 0:e.type)||"continuous"}};var Eo={name:"device",init:e=>{var t;const o=Ro.a||window._backstopTools?e.doUpdateResolution_:Object(So.a)(e.doUpdateResolution_,{delay:100,edges:!0});window.addEventListener("load",e.doUpdateResolution_),window.addEventListener("resize",o,{passive:!0}),window.addEventListener("beforeunload",()=>e.doSetWindowUnloading()),window.addEventListener("beforeinstallprompt",e=>e.preventDefault()),window.addEventListener("blur",()=>e.doSetWindowIsFocused(!1)),window.addEventListener("focus",()=>e.doSetWindowIsFocused(!0)),window.addEventListener("online",()=>e.doSetWindowIsOnline(!0)),window.addEventListener("offline",()=>e.doSetWindowIsOnline(!1)),window.addEventListener("fullscreenchange",e.doHandleFullscreenChangeEvent),window.addEventListener("webkitfullscreenchange",e.doHandleFullscreenChangeEvent),null==(t=navigator.devicePosture)||t.addEventListener("change",e.doHandleDevicePostureChangeEvent)},getReducer:()=>{const e={isWindowUnloading:!1,isWindowFocused:document.hasFocus(),isWindowOnline:window.navigator.onLine,hasGetDisplayMedia:Object(W.t)(),isFullscreenSupported:Object(Co.d)(),isRecordSupported:Gt(),isAndroidApp:/Android.*(Whereby|Appearin)/.test(window.navigator.userAgent),isTouchDevice:Ro.a,isMobile:W.u,wakeLock:null,...Io()};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case"@DEVICE_UPDATE_RESOLUTION":return{...t,...i};case"WINDOW_UNLOADING":return{...t,isWindowUnloading:!0};case"WINDOW_FOCUSED":return{...t,isWindowFocused:i};case"WINDOW_ONLINE":return{...t,isWindowOnline:i};case"@DEVICE_POSTURE_CHANGED":return{...t,devicePosture:i};case"WAKE_LOCK_ACTIVATED":return{...t,wakeLock:i};case"WAKE_LOCK_RELEASED":return{...t,wakeLock:null};case"WAKE_LOCK_ACTIVATION_FAILED":return{...t,wakeLock:"failed"}}return t}},doSetWindowUnloading:()=>({type:"WINDOW_UNLOADING"}),doSetWindowIsFocused:e=>({type:"WINDOW_FOCUSED",payload:e}),doSetWindowIsOnline:e=>({type:"WINDOW_ONLINE",payload:e}),doUpdateResolution_:()=>({type:"@DEVICE_UPDATE_RESOLUTION",payload:Io()}),doHandleFullscreenChangeEvent:()=>e=>{let{store:t}=e;t.selectFullscreenClientView()&&(Object(Co.c)()||setTimeout(()=>t.doExitFullscreenMode(),0))},doHandleDevicePostureChangeEvent:()=>e=>{let{store:t,dispatch:o}=e;var i,a;window.screen.width/window.screen.height<.5&&(t.doPref("floatSelf","folded"===(null==(i=navigator.devicePosture)?void 0:i.type)),o({type:"@DEVICE_POSTURE_CHANGED",payload:null==(a=navigator.devicePosture)?void 0:a.type}))},doHandleVisibilityChangeEvent:()=>e=>{let{store:t,dispatch:o}=e;null!==t.selectWakeLock()&&"visible"===document.visibilityState&&yo(o)},doActivateWakeLock:()=>async e=>{let{dispatch:t,store:o}=e;if(o.selectWakeLock())return;await yo(t)?document.addEventListener("visibilitychange",o.doHandleVisibilityChangeEvent):t({type:"WAKE_LOCK_ACTIVATION_FAILED"})},doReleaseWakeLock:()=>e=>{let{store:t,dispatch:o}=e;const i=t.selectWakeLock();i&&"not_supported"!==i&&(i.release(),document.removeEventListener("visibilitychange",t.doHandleVisibilityChangeEvent)),o({type:"WAKE_LOCK_RELEASED"})},selectDeviceRaw:e=>e.device,selectIsAndroidApp:e=>e.device.isAndroidApp,selectIsTouchDevice:e=>e.device.isTouchDevice,selectIsWindowUnloading:e=>e.device.isWindowUnloading,selectIsWindowFocused:e=>e.device.isWindowFocused,selectIsWindowOnline:e=>e.device.isWindowOnline,selectCanFullscreen:e=>e.device.isFullscreenSupported,selectIsMobile:e=>e.device.isMobile,selectSafeAreaInsets:e=>e.device.safeAreaInsets,selectDevicePosture:e=>e.device.devicePosture,selectCanScreenshare:Object(V.e)("selectDeviceRaw","selectPrefs",(e,t)=>e.hasGetDisplayMedia&&!1!==t.screenshare),selectResolution:Object(V.e)("selectDeviceRaw",e=>[e.screenWidth||640,e.screenHeight||480]),selectDocumentSize:Object(V.e)("selectDeviceRaw",e=>[e.docWidth||640,e.docHeight||480]),selectIsPhoneResolution:Object(V.e)("selectResolution",e=>Math.min(...e)<500),selectIsPreviewEnabled:Object(V.e)("selectDeviceRaw","selectBrowserIsIos","selectPrefs",(e,t,o)=>Boolean(!(e.isMobile||t)||o.preview)),selectCanRecord:Object(V.e)("selectDeviceRaw","selectCanStartRecording","selectRecordingTargetIsLocal","selectRecordingCanRecord",(e,t,o,i)=>(!o||e.hasGetDisplayMedia&&e.isRecordSupported)&&t&&i),selectCanShowRecordingUpsells:Object(V.e)("selectDeviceRaw","selectCanRecord","selectPrefs","selectIsRoomOwner",(e,t,o,i)=>e.hasGetDisplayMedia&&e.isRecordSupported&&i&&!t&&!1!==o.recording),selectShouldShowProRecordingUpsell:Object(V.e)("selectCanShowRecordingUpsells","selectIsPublicOrganization",(e,t)=>e&&t),selectShouldShowBusinessRecordingUpsell:Object(V.e)("selectCanSetRoomMode","selectCanShowRecordingUpsells","selectIsPublicOrganization","selectRoomProduct","selectRoomType",(e,t,o,i,a)=>t&&!e&&"organization_business"===i&&"personal"===a),selectWakeLock:e=>e.device.wakeLock,reactSetWakeLock:Object(V.e)("selectWakeLock","selectRoomConnectionStatus",(e,t)=>null===e&&"wakeLock"in navigator&&"joined"===t?{actionCreator:"doActivateWakeLock"}:null!==e&&"failed"!==e&&"joined"!==t?{actionCreator:"doReleaseWakeLock"}:void 0)};const xo={isFetching:!1,data:null};var To={name:"deviceCredentials",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"DEVICE_CREDENTIALS_FETCH_STARTED":return{...e,isFetching:!0};case"DEVICE_CREDENTIALS_FETCH_FINISHED":return{...e,isFetching:!1,data:o}}return e},selectDeviceCredentialsRaw:e=>e.deviceCredentials,selectDeviceCredentials:e=>e.deviceCredentials.data,selectDeviceId:e=>{var t;return null==(t=e.deviceCredentials.data)||null==(t=t.credentials)?void 0:t.uuid},doGetDeviceCredentials:()=>async e=>{let{dispatch:t,credentialsService:o}=e;t({type:"DEVICE_CREDENTIALS_FETCH_STARTED"});try{t({type:"DEVICE_CREDENTIALS_FETCH_FINISHED",payload:await o.getCredentials()})}catch(i){t({type:"DEVICE_CREDENTIALS_FETCH_FAILED"})}},reactShouldGetDeviceCredentials:Object(V.e)("selectDeviceCredentialsRaw",e=>{if(!e.data&&!e.isFetching)return{actionCreator:"doGetDeviceCredentials"}})},Lo=o(35);function ko(e,t){return{type:e,payload:t}}function _o(e){Object(Lo.c)()?window.parent.postMessage(e,"*"):Object(Lo.b)()?window.AndroidWebAppInterface.postMessage(JSON.stringify(e)):Object(Lo.d)()&&window.ReactNativeWebView.postMessage(JSON.stringify(e))}const No=e=>{let{enabled:t}=e;return ko("camera_toggle",{enabled:t})},wo=e=>{let{denied:t}=e;return ko("deny_device_permission",{denied:t})},Ao=e=>{let{granted:t}=e;return ko("grant_device_permission",{granted:t})},Do=e=>{let{removed:t}=e;return ko("leave",{removed:t})},Po=e=>ko("participantupdate",e),Mo=()=>ko("ready"),Fo=()=>ko("knock"),Bo=()=>ko("join"),qo=()=>ko("meeting_end"),zo=e=>{let{enabled:t}=e;return ko("microphone_toggle",{enabled:t})},Go=e=>{let{enabled:t}=e;return ko("screenshare_toggle",{enabled:t})},Uo=e=>{let{open:t}=e;return ko("chat_toggle",{open:t})},Ho=e=>{let{open:t}=e;return ko("people_toggle",{open:t})},Vo=e=>{let{open:t}=e;return ko("pip_toggle",{open:t})},Wo=e=>ko("participant_join",e),Ko=e=>ko("participant_leave",e),$o=e=>{let{status:t}=e;return ko("streaming_status_change",{status:t})},Qo=e=>{let{status:t}=e;return ko("recording_status_change",{status:t})},Yo=e=>{let{status:t}=e;return ko("connection_status_change",{status:t})},Jo=()=>ko("precall_check_skipped"),Zo=e=>{let{status:t,steps:o}=e;return ko("precall_check_completed",{status:t,steps:o})};const Xo={hasInitedEventListener:!1},ei=e=>{let{externalMetadata:t,externalId:o}=e;return{metadata:t,externalId:o}},ti=["","requested","starting","streaming","stopping"];var oi={name:"embed",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,{type:t}=arguments.length>1?arguments[1]:void 0;switch(t){case"EMBED_COMMANDS_INITED":return{...e,hasInitedEventListener:!0};default:return e}},getMiddleware:()=>e=>t=>o=>{const i=e.selectApplicationState(),a=e.selectIsAudioEnabled(),n=e.selectRemoteClients(),s=e.selectKnockStatus(),r=e.selectNumClients(),c=e.selectIsVideoEnabled(),l=e.selectMediaPermissionStatus(),u=e.selectMeetingWasEnded(),m=e.selectIsScreensharing(),p=e.selectIsChatOpen(),b=e.selectIsPeopleOpen(),g=e.selectIsPipOpen(),h=e.selectStreamingStatus(),j=e.selectRecordingStatus(),f=e.selectCloudRecordingStatus(),O=e.selectLocalCallQualityScores(),S=e.selectPrecallCeremonySkipped(),R=e.selectPrecallCeremonyCurrentStep(),C=e.selectSignalStatus(),v=t(o),y=e.selectApplicationState(),I=e.selectIsAudioEnabled(),E=e.selectKnockStatus(),x=e.selectNumClients(),T=e.selectIsVideoEnabled(),L=e.selectMediaPermissionStatus(),k=e.selectMeetingWasEnded(),_=e.selectIsScreensharing(),N=e.selectIsChatOpen(),w=e.selectIsPeopleOpen(),A=e.selectIsPipOpen(),D=e.selectStreamingStatus(),P=e.selectIsStreamingStopped(),M=e.selectRecordingStatus(),F=e.selectRecordingIsStopped(),B=e.selectCloudRecordingStatus(),q=e.selectCloudRecordingIsStopped(),z=e.selectLocalCallQualityScores(),G=e.selectPrecallCeremonySkipped(),U=e.selectPrecallCeremonyCurrentStep(),V=e.selectSignalStatus();if(h!==D&&ti.includes(D)&&_o($o(""===D&&P?{status:"stopped"}:{status:D})),j!==M&&_o(Qo(F?{status:"stopped"}:{status:M})),f!==B&&_o(Qo(q?{status:"stopped"}:{status:B})),C!==V&&"connected"===V&&_o(Mo()),["left","kicked"].includes(y)&&i!==y&&_o(Do({removed:"kicked"===y})),x!==r||"joined"===y&&"joined"!==i){_o(Po({count:x}));const t=e.selectRemoteClients();if(x>=r){t.filter(e=>!n.find(t=>t.id===e.id)).forEach(e=>_o(Wo({participant:ei(e)})))}else{n.filter(e=>!t.find(t=>t.id===e.id)).forEach(e=>_o(Ko({participant:ei(e)})))}}if("waiting"===E&&""===s&&_o(Fo()),"joined"===y&&"joined"!==i&&_o(Bo()),a!==I&&_o(zo({enabled:I})),c!==T&&_o(No({enabled:T})),m!==_&&_o(Go({enabled:_})),p!==N&&_o(Uo({open:N})),b!==w&&_o(Ho({open:w})),g!==A&&_o(Vo({open:A})),"prompt"===l&&"denied"===L&&_o(wo({denied:"denied"===L})),"prompt"===l&&"granted"===L&&_o(Ao({granted:"granted"===L})),(I||T)&&(z.total===O.total||z.total!==H.f.OK&&O.total!==H.f.OK||_o(Yo({status:z.total===H.f.OK?"stable":"unstable"}))),k&&!u&&_o(qo()),G&&!S&&_o(Jo()),U===H.l&&R!==U){const t=function(e){const t=d()([H.n,H.p,H.o,H.m].map(t=>{const o=null==e?void 0:e[t];return[t,{status:null!=o&&o.isSuccessful?"passed":"failed"}]}));return{status:Object.values(t).every(e=>{let{status:t}=e;return"passed"===t})?"passed":"failed",steps:t}}(e.selectPrecallCeremonyResult());_o(Zo(t))}return v},doEmbedInitCommandListener:()=>e=>{let{dispatch:t,store:o}=e;const{allowedFrameAncestors:i}=o.selectOrganizationPrefs()||{},a=function(e){if("string"!==typeof e||""===e)return e=>""===e||e===window.location.origin;const t=/[a-zA-Z]+:$/,o=e.split(" ").map(e=>e.replace(/\./g,"\\.").replace(/\*/g,".*")).filter(e=>!t.test(e)).map(e=>new RegExp(e));return t=>t===window.location.origin||"string"===typeof t&&void 0!==o.find(o=>""===o?t===e:t.match(o))}(i);window.addEventListener("message",e=>{if(!a(e.origin,i))return;const{command:t,args:n=[]}=e.data;"end_meeting"===t&&o.doEndMeeting(...n),"knock"===t&&(o.doKnock(...n),o.doSetPrecallReviewDone(...n)),"leave_room"===t&&o.doLeaveRoom(...n),"toggle_breakout"===t&&o.doToggleBreakout(...n),"toggle_microphone"===t&&o.doToggleAudioEnabled(...n),"toggle_people"===t&&o.doTogglePeople(...n),"toggle_camera"===t&&o.doToggleVideoEnabled(...n),"open_settings"===t&&o.doSetActiveSettingsDialogPane(...n),"start_recording"===t&&o.doStartCloudRecording(...n),"stop_recording"===t&&o.doStopCloudRecording(...n),"toggle_screenshare"===t&&o.selectCanScreenshare()&&o.doToggleScreenshare(...n),"toggle_chat"===t&&o.doToggleChat(n[0]),o.selectCanStartStreaming()&&("start_streaming"===t&&o.doStreamingGoLive(...n),"stop_streaming"===t&&o.doStreamingStop(...n)),"start_live_transcription"===t&&o.doLiveTranscriptionStart(...n),"stop_live_transcription"===t&&o.doLiveTranscriptionStop(...n)}),t({type:"EMBED_COMMANDS_INITED"})},selectEmbedRaw:e=>e.embed,selectEmbedCommandsInited:e=>e.embed.hasInitedEventListener,selectEmbedApiVersion:Object(V.e)("selectQueryObject",e=>null!=e&&e.we?e.we:null),reactEmbedCommands:Object(V.e)("selectEmbedCommandsInited","selectIsPublicOrganization","selectHasOrganizationFetched","selectRoomIsEmbedded",(e,t,o,i)=>{if(!e&&o&&!t&&i)return{actionCreator:"doEmbedInitCommandListener",args:[]}})};const ii={experiments:null,hasFetched:!1};var ai=Object.assign({name:"experiments",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"EXPERIMENTS_FETCH_FINISHED":return{...e,experiments:o,hasFetched:!0};case"EXPERIMENTS_FETCH_FAILED":return{...e,hasFetched:!0};default:return e}},doFetchExperiments:()=>async e=>{let{dispatch:t,abExperimentsService:o}=e;t({type:"EXPERIMENTS_FETCH_STARTED"});try{t({type:"EXPERIMENTS_FETCH_FINISHED",payload:await o.getCurrentExperiments()})}catch(i){t({type:"EXPERIMENTS_FETCH_FAILED",payload:i})}},selectExperimentsRaw:e=>e.experiments,selectHasExperimentsFetched:e=>e.experiments.hasFetched,selectExperiments:Object(V.e)("selectExperimentsRaw","selectPrefs",(e,t)=>{const o=t.experiments?Object.assign({...e.experiments},...t.experiments.split(",").map(e=>({[e.split(":")[0]]:e.split(":")[1]}))):e.experiments;return t.experimentsVariant&&o?Object.keys(o).reduce((e,o)=>({...e,[o]:t.experimentsVariant}),{}):o})},...["GET_STREAM_V2"].map(e=>({["selectExperiment"+e.split("_").reduce((e,t)=>`${e}${t[0].toUpperCase()+t.slice(1).toLowerCase()}`,"")]:Object(V.e)("selectExperiments",t=>t&&t[e])})));const ni=3;var si={name:"feedback",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requested:!1,completed:!1},{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"FEEDBACK_REQUESTED":return{...e,requested:!0};case"FEEDBACK_SKIPPED":return{...e,requested:!1};case"FEEDBACK_ISSUES_SUBMITTED":return{...e,completed:!0};case"FEEDBACK_RATING_SUBMITTED":{const{rating:t,source:i}=o,a=!("room-left"===i)||t>=3;return{...e,completed:a}}}return e},getMiddleware:()=>e=>t=>o=>{if(!e.selectFeedbackEnabled())return t(o);const i=e.selectApplicationState(),a=t(o);return["kicked","left"].includes(e.selectApplicationState())&&"joined"===i&&e.doFeedbackCount(),a},doFeedbackRequest:()=>({type:"FEEDBACK_REQUESTED",meta:{persist:{feedback:{count:0,prevSessionId:null}}}}),doFeedbackSkip:()=>({type:"FEEDBACK_SKIPPED"}),doFeedbackIssuesSubmit:(e,t)=>o=>{let{store:i,dispatch:a}=o;a({type:"FEEDBACK_ISSUES_SUBMITTED",payload:{issues:e},meta:{analytics:ye.b.feedbackIssuesSubmitted({issues:e,description:t,audioDenoiserWanted:i.selectPrefs().audioDenoiser,cameraEffect:i.selectPrefs().cameraEffect,clientId:i.selectLocalClientId(),hd:i.selectPrefHd(),hdDefaultOff:!!i.selectFeatureHdDefaultOff(),isUser:i.selectIsUserLoggedIn(),increaseIncomingMediaBufferOn:i.selectFeatureIncreaseIncomingMediaBufferOn(),maxParticipants:i.selectRemoteClientsMaxCount()+1,role:i.selectLocalClientRole(),roomMode:i.selectRoomMode(),roomProduct:i.selectRoomProduct(),roomSessionId:i.selectRoomSessionId(),roomType:i.selectRoomType(),sessionLength:i.selectRoomSessionElapsedTime(),adjustBitratesFromResolutionOn:i.selectFeatureAdjustBitratesFromResolutionOn(),higherP2PBitratesOn:i.selectFeatureHigherP2PBitratesOn(),...i.selectExperimentalTogglesAnalyticsData(),...i.selectFeedbackMetadata(),cleanSdpOn:i.selectFeatureCleanSdpOn()})}})},doFeedbackRatingSubmit:e=>{let{rating:t,description:o,source:i}=e;return e=>{let{store:a,dispatch:n}=e;n({type:"FEEDBACK_RATING_SUBMITTED",payload:{rating:t,source:i},meta:{analytics:ye.b.feedbackRatingSubmitted({rating:t,source:i,...o&&{description:o},audioDenoiserWanted:a.selectPrefs().audioDenoiser,cameraEffect:a.selectPrefs().cameraEffect,clientId:a.selectLocalClientId(),chromeWebGLCameraEffectsOn:a.selectFeatureChromeWebGLCameraEffectsOn(),didUseCoLocation:a.selectCoLocationDidUse(),hd:a.selectPrefHd(),hdDefaultOff:!!a.selectFeatureHdDefaultOff(),isUser:a.selectIsUserLoggedIn(),increaseIncomingMediaBufferOn:a.selectFeatureIncreaseIncomingMediaBufferOn(),maxParticipants:a.selectRemoteClientsMaxCount()+1,role:a.selectLocalClientRole(),roomMode:a.selectRoomMode(),roomProduct:a.selectRoomProduct(),roomSessionId:a.selectRoomSessionId(),roomType:a.selectRoomType(),sessionLength:a.selectRoomSessionElapsedTime(),adjustBitratesFromResolutionOn:a.selectFeatureAdjustBitratesFromResolutionOn(),higherP2PBitratesOn:a.selectFeatureHigherP2PBitratesOn(),unlimitedBandwidthWhenUsingRelayP2P:a.selectFeatureUnlimitedBandwidthWhenUsingRelayP2POn(),glitchFree:a.selectFeatureGlitchFreeOn(),rtpAbsCaptureTimeOn:a.selectFeatureRtpAbsCaptureTimeOn(),sfuReconnectV2On:a.selectFeatureSfuReconnectV2On(),...a.selectExperimentalTogglesAnalyticsData(),...a.selectFeedbackMetadata(),cleanSdpOn:a.selectFeatureCleanSdpOn(),lowBandwidthOn:a.selectFeatureLowBandwidthOn(),refreshSelfviewOff:a.selectFeatureRefreshSelfviewOff()})}})}},doFeedbackCount:()=>e=>{let{store:t,dispatch:o}=e;const i=t.selectRoomSessionId(),{feedback:a={count:ni,prevSessionId:null}}=t.selectPersisted();if(i&&i!==a.prevSessionId){const e=a.count+1;e>=t.selectFeedbackInterval()?t.doFeedbackRequest():o({type:"FEEDBACK_COUNT",meta:{persist:{feedback:{count:e,prevSessionId:i}}}})}},selectFeedbackRaw:e=>e.feedback,selectFeedbackRequested:e=>e.feedback.requested,selectFeedbackCompleted:e=>e.feedback.completed,selectFeedbackEnabled:Object(V.e)("selectIsPhoneResolution","selectRoomProduct","selectRoomType","selectFeatureEmbeddedFeedbackOn",(e,t,o,i)=>!e&&("organization_business_custom"!==t&&"embedded"!==t&&"transient"!==o||i)),selectFeedbackInterval:Object(V.e)("selectFeatureFeedbackAlwaysOn",e=>e?1:ni),selectFeedbackMetadata:Object(V.e)("selectFeatures",e=>({features:Object.entries(e||{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}).join(",")}))};const ri={shouldShowDiscoverFeaturesReminderTooltip:!1};var ci={name:"help",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,{type:t}=arguments.length>1?arguments[1]:void 0;switch(t){case"DISCOVER_FEATURES_REMINDER_TOOLTIP_SHOW":return{...e,shouldShowDiscoverFeaturesReminderTooltip:!0};case"DISCOVER_FEATURES_REMINDER_TOOLTIP_HIDE":return{...e,shouldShowDiscoverFeaturesReminderTooltip:!1}}return e},doShowDiscoverFeaturesReminderTooltip:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).toISOString();return{type:"DISCOVER_FEATURES_REMINDER_TOOLTIP_SHOW",meta:{persist:{discoverFeatureReminderTooltipDisplayed:e}}}},doHideDiscoverFeaturesReminderTooltip:()=>({type:"DISCOVER_FEATURES_REMINDER_TOOLTIP_HIDE"}),selectShouldShowDiscoverFeaturesReminderTooltip:e=>e.help.shouldShowDiscoverFeaturesReminderTooltip,selectSkipDiscoverFeaturesReminderTooltip:Object(V.e)("selectPersisted",e=>!!e.discoverFeatureReminderTooltipDisplayed)};const li={embedded:"",organization_business:"d1d1061a-3416-45e5-9d22-2fe8552018a4",organization_business_custom:"d1d1061a-3416-45e5-9d22-2fe8552018a4",organization_pro:"9cd1eca1-5ec0-437a-9e7f-cd547fbe2160",personal_free:"61516c47-a054-4c3c-bdd0-4b7d3e180fff",personal_pro:"9cd1eca1-5ec0-437a-9e7f-cd547fbe2160"};let di=void 0;var ui={name:"helpscout",getReducer:()=>{const e={helpscoutInitializeStatus:null,helpscoutInitializedForUserId:void 0};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case"HELPSCOUT_INIT_STARTED":return{...t,helpscoutInitializeStatus:"started"};case"HELPSCOUT_INIT_FAILED":return{...t,helpscoutInitializeStatus:"error"};case"HELPSCOUT_INIT_FINISHED":return{...t,helpscoutInitializedForUserId:i,helpscoutInitializeStatus:"finished"}}return t}},doInitializeHelpscout:()=>e=>{var t;let{dispatch:o,store:i}=e;const a=i.selectUser(),n=i.selectUserRoles(),s=i.selectOrganizationId(),r=(null==(t=n.find(e=>e.userId===a.userId))?void 0:t.roleName)||"",c=i.selectIsRoomOwner(),l=i.selectCanJoinLocked(),d=i.selectRoomProduct(),u=li[d];o({type:"HELPSCOUT_INIT_STARTED"}),di&&(di("destroy"),di=null),function(e,t){let{messagingEnabled:o}=t;return St()(e,"beaconId is required"),new Promise((t,i)=>{function a(){const e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://beacon-v2.helpscout.net",t.onerror=i,e.parentNode.insertBefore(t,e)}window.Beacon=function(e,t,o){window.Beacon.readyQueue.push({method:e,options:t,data:o})},window.Beacon.readyQueue=[],"complete"===document.readyState?a():window.addEventListener("load",a,!0),window.Beacon("init",e),window.Beacon("config",{display:{position:"left",style:"manual"},messaging:{chatEnabled:!0},mode:"neutral",docsEnabled:!0,messagingEnabled:o}),window.Beacon("once","ready",()=>t(window.Beacon))})}(u,{messagingEnabled:l&&"personal_free"!==d}).then(e=>{di=e,a.displayName&&a.email&&di("identify",{name:a.displayName,email:a.email,UserID:a.userId,OrgID:s,OrgRole:r}),di("once","open",()=>{o({type:"HELPSCOUT_OPENED",meta:{analytics:ye.b.roomHelp({isRoomOwner:c,roomProduct:d})}})}),o({type:"HELPSCOUT_INIT_FINISHED",payload:a.userId})}).catch(()=>{o({type:"HELPSCOUT_INIT_FAILED"})})},doToggleHelpMenu:()=>e=>{let{dispatch:t}=e;if(di){const e=document.querySelector(".BeaconContainer");e&&Object.assign(e.style,{top:"auto",left:"4px",bottom:"4px"}),di("toggle"),t({type:"HELPSCOUT_TOGGLED"})}},selectHelpscoutInitializedForUserId:e=>e.helpscout.helpscoutInitializedForUserId,selectHelpscoutNeedsInitializing:e=>null===e.helpscout.helpscoutInitializeStatus,reactShowHelpButton:Object(V.e)("selectIsPublicOrganization","selectIsUserLoggedIn","selectHasUserFetched","selectHasUserRolesFetched","selectHelpscoutInitializedForUserId","selectHelpscoutNeedsInitializing","selectPermissionsFetchedAt","selectPrefHelp","selectRoomProduct","selectUser",(e,t,o,i,a,n,s,r,c,l)=>{if(n&&!1!==r&&(!t||e||i)&&o&&c&&li[c]&&s&&a!==l.userId)return{actionCreator:"doInitializeHelpscout"}})};const mi={title:"Raise your hand",description:"Did you know you can inform others that you want to speak without interrupting the conversation? Click on the React icon in the room toolbar to raise your hand. Unmute yourself afterwards to start speaking.",coverImg:"https://cdn.srv.whereby.com/features/raise-hand.jpg",coverVideo:null,cta:{type:"feature",featureGroupName:"collaboration",featureName:"raiseHand",value:null},tags:["hottip"]};var pi={name:"heroContent",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"HERO_CONTENT_FETCH_STARTED":return{...e,isFetchingHeroContent:!0,fetchError:null};case"HERO_CONTENT_FETCH_FINISHED":return{...e,isFetchingHeroContent:!1,content:o};case"HERO_CONTENT_FETCH_FAILED":return{...e,isFetchingHeroContent:!1,fetchError:i}}return e},doFetchHeroContent:()=>async e=>{let{dispatch:t,heroContentService:o}=e;t({type:"HERO_CONTENT_FETCH_STARTED"});try{t({type:"HERO_CONTENT_FETCH_FINISHED",payload:await o.getHeroContent()})}catch(i){t({type:"HERO_CONTENT_FETCH_FAILED",payload:i,error:!0})}},selectHeroContent:e=>e.heroContent.content||mi};const bi={tokenExpired:!1};var gi={name:"idPorten",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"ID_PORTEN_TOKEN_EXPIRED":return{...e,tokenExpired:o};default:return e}},doRequestIdPortenLogin:()=>async e=>{let{dispatch:t,store:o,ssoService:i}=e;t({type:"ID_PORTEN_VERIFICATION"});const a=o.selectRoomName(),n=o.selectOrganizationId(),{ssoEndpoint:s}=await i.requestSsoEndpoint({provider:"idporten",organizationId:n,data:{roomName:a}});o.doIdPortenSetTokenExpired(!1),window.location=`${H.c}${s}`},doSetRoomBankId:e=>t=>{let{dispatch:o,store:i}=t;const a=i.selectRoomName();i.doRoomPrefsUpdate({bankId:e?"on":"off"}),o({type:"ANALYTICS",meta:{analytics:ye.b.roomToggleBankId({enabled:e,roomName:a})}})},doIdPortenSetTokenExpired:e=>({type:"ID_PORTEN_TOKEN_EXPIRED",payload:e}),selectIdPortenTokenExpired:e=>e.idPorten.tokenExpired,selectBankIdEnabled:Object(V.e)("selectRoomType","selectPrefBankId",(e,t)=>{switch(t){case"on":case"all":return!0;case"transientOnly":return"transient"===e;case"teamOnly":return"team"===e;default:return!1}}),selectShouldShowIdPortenPrompt:Object(V.e)("selectPrefBankId","selectBankIdEnabled","selectKnockStatus","selectRoomKey","selectRoomType","selectShouldShowKnockPage","selectUser",(e,t,o,i,a,n,s)=>(t=("on"!==e||"personal"!==a||null==s||!s.userId)&&t,n&&t&&!i&&""===o))};const hi=[];function ji(e){let{clientId:t,imageUrl:o,liveVideo:i,displayName:a,userAvatarUrl:n,userId:s}=e;return St()(t,"clientId is required"),{clientId:t,imageUrl:o,liveVideo:i,displayName:a,userAvatarUrl:n,userId:s}}const fi=(e,t)=>o=>i=>{let{dispatch:a,store:n}=i;const{displayName:s,avatarUrl:r}=n.selectUser();return a({type:e,payload:o,meta:{signal:{type:"handle_knock",payload:{action:t,clientId:o.clientId,knockResponse:o.responseMessage?{sender:"hold"===t?{displayName:s,avatarUrl:r}:{},message:o.responseMessage}:{}}}}})},Oi=(e,t,o)=>{const i=e.findIndex(e=>e.clientId===t),a=e[i];if(!a)return e;const n=[...e];return n.splice(i,1,{...a,...o}),n};var Si={name:"knockers",reducer:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case Y.a.ROOM_JOINED:return[...(i.room.knockers||[]).map(ji)];case Y.a.ROOM_KNOCKED:return[...t,ji(i)];case Y.a.KNOCKER_LEFT:return t.filter(e=>e.clientId!==i.clientId);case"KNOCKER_HELD":return Oi(t,i.clientId,{held:(null==(e=t.find(e=>e.clientId===i.clientId))?void 0:e.held)||Date.now()});case Y.a.ROOM_LOCKED:return i.isLocked?t:[];default:return t}},doKnockerAccept:fi("KNOCKER_ACCEPTED","accept"),doKnockerHold:fi("KNOCKER_HELD","hold"),doKnockerReject:fi("KNOCKER_REJECTED","reject"),selectKnockersRaw:e=>e.knockers,selectKnockers:Object(V.e)("selectKnockersRaw","selectCanAcceptKnock",(e,t)=>t?e:[]),selectOrgKnockers:Object(V.e)("selectFeatureKnockGroupsOn","selectIsPublicOrganization","selectKnockers","selectPrefs",(e,t,o,i)=>t?[]:e&&i.userAuth?o.filter(e=>!!e.userId):o),selectNonOrgKnockers:Object(V.e)("selectFeatureKnockGroupsOn","selectIsPublicOrganization","selectKnockers","selectPrefs",(e,t,o,i)=>t?o:e&&i.userAuth?o.filter(e=>!e.userId):[]),selectUnacknowledgedOrgKnockers:Object(V.e)("selectOrgKnockers",e=>e.filter(e=>!e.held)),selectUnacknowledgedNonOrgKnockers:Object(V.e)("selectNonOrgKnockers",e=>e.filter(e=>!e.held)),selectHeldKnockers:Object(V.e)("selectKnockers",e=>e.filter(e=>e.held))},Ri=o(22),Ci=o(53),vi=o(12);const yi=4/3,Ii=e=>{let{value:t,min:o,max:i}=e;return Math.min(Math.max(t,o),i)};function Ei(e){let{choices:t=[]}=e;const o=Math.min(...t),i=Math.max(...t);let a=null;if(o===i)a=o;else{const e=(n=t,new Set(n).size!==n.length?(e=>e.sort((t,o)=>e.filter(e=>e===t).length-e.filter(e=>e===o).length).pop())(t):i);a=Ii({value:e,min:yi,max:16/9})}var n;return{minAr:o,maxAr:i,chosenAr:a}}const xi="rows",Ti="columns";function Li(e){let{layoutGrid:t,dim:o,secDim:i,index:a,count:n,gridGap:s}=e;const r=(o-s*(n-1))*(t.fractions?t.fractions[a]:1/n),c=t.lines[a];return[r,(i-s*(c-1))/c]}function ki(e){let{isHorizontal:t,layoutGrid:o,width:i,height:a,gridGap:n}=e;const s=[],r=0,c=0,l={x:0,y:0},d=o.lines.length,u=t?a:i,m=t?i:a;for(let p=0;p<d;p++){const e=Li({layoutGrid:o,dim:u,secDim:m,index:p,count:d,gridGap:n}),i={width:t?e[1]:e[0],height:t?e[0]:e[1]},a=o.lines[p];for(let o=0;o<a;o++)s.push({origin:{...l},bounds:i}),t?l.x+=i.width+n:l.y+=i.height+n;t?(l.y+=i.height+n,l.x=r):(l.x+=i.width+n,l.y=c)}return s}function _i(e){let{layoutGrid:t,width:o,height:i,gridGap:a}=e;switch(t.type){case xi:return function(e){let{layoutGrid:t,width:o,height:i,gridGap:a}=e;return ki({isHorizontal:!0,layoutGrid:t,width:o,height:i,gridGap:a})}({layoutGrid:t,width:o,height:i,gridGap:a});case Ti:return function(e){let{layoutGrid:t,width:o,height:i,gridGap:a}=e;return ki({isHorizontal:!1,layoutGrid:t,width:o,height:i,gridGap:a})}({layoutGrid:t,width:o,height:i,gridGap:a})}}function Ni(e){let{width:t,height:o,cellCount:i,gridGap:a=0,paddings:n=Object(vi.i)()}=e;const s=t-(n.left+n.right),r=o-(n.top+n.bottom);return{cellRects:_i({layoutGrid:Math.round(s/r*10)/10<=1?{1:{type:xi,lines:[1]},2:{type:xi,lines:[1,1]},3:{type:xi,lines:[2,1]},4:{type:xi,lines:[2,2]},5:{type:xi,lines:[2,2,1]},6:{type:xi,lines:[2,2,2]},7:{type:xi,lines:[3,2,2]},8:{type:xi,lines:[2,2,2,2]},9:{type:xi,lines:[3,2,2,2]},10:{type:xi,lines:[3,3,2,2]},11:{type:xi,lines:[3,3,3,2]},12:{type:xi,lines:[3,3,3,3]},13:{type:xi,lines:[2,2,3,3,3]},14:{type:xi,lines:[2,3,3,3,3]},15:{type:xi,lines:[3,3,3,3,3]},16:{type:xi,lines:[2,2,3,3,3,3]},17:{type:xi,lines:[2,3,3,3,3,3]},18:{type:xi,lines:[3,3,3,3,3,3]},19:{type:xi,lines:[2,2,3,3,3,3,3]},20:{type:xi,lines:[2,3,3,3,3,3,3]},21:{type:xi,lines:[3,3,3,3,3,3,3]},22:{type:xi,lines:[2,2,3,3,3,3,3,3]},23:{type:xi,lines:[2,3,3,3,3,3,3,3]},24:{type:xi,lines:[3,3,3,3,3,3,3,3]}}[i]||{type:xi,lines:[3,3,3,3,3,3,3,3]}:function(e){return{1:{type:Ti,lines:[1]},2:{type:Ti,lines:[1,1]},3:{type:Ti,lines:[2,1]},4:{type:Ti,lines:[2,2]},5:{type:xi,lines:[3,2],fractions:[.45,.55]},6:{type:Ti,lines:[2,2,2]},7:{type:xi,lines:[4,3],fractions:[.45,.55]},8:{type:Ti,lines:[2,2,2,2]},9:{type:Ti,lines:[3,2,2,2]},10:{type:Ti,lines:[3,3,2,2]},11:{type:Ti,lines:[3,3,3,2]},12:{type:Ti,lines:[3,3,3,3]},13:{type:Ti,lines:[4,3,3,3]},14:{type:Ti,lines:[4,4,3,3]},15:{type:Ti,lines:[3,3,3,3,3]},16:{type:Ti,lines:[4,3,3,3,3]},17:{type:Ti,lines:[4,4,3,3,3]},18:{type:Ti,lines:[4,4,4,3,3]},19:{type:Ti,lines:[4,4,4,4,3]},20:{type:Ti,lines:[4,4,4,4,4]},21:{type:Ti,lines:[5,4,4,4,4]},22:{type:Ti,lines:[5,5,4,4,4]},23:{type:Ti,lines:[5,5,5,4,4]},24:{type:Ti,lines:[5,5,5,5,4]}}[e]||{type:Ti,lines:[5,5,5,5,5]}}(i),width:s,height:r,gridGap:a}),cellCount:i,gridGap:a,extraHorizontalPadding:0,extraVerticalPadding:0,paddings:n}}function wi(e){let{containerBounds:t,isPortrait:o,cellCount:i,cellBounds:a,paddings:n=Object(vi.i)()}=e,s=0,r=0,c=0,l=0,d=0,u=0;const m=t.width-n.left-n.right,p=t.height-n.top-n.bottom;return i&&(o?(l=Math.floor(m/a.width),c=Math.ceil(i/l),s=m,r=c*a.height,d=(m-l*a.width)/2):(c=Math.floor(p/a.height),l=Math.ceil(i/c),s=l*a.width,r=p,u=(p-c*a.height)/2)),{isPortrait:o,width:s+n.left+n.right,height:r+n.top+n.bottom,cellBounds:a,cellCount:i,rows:c,cols:l,extraHorizontalPadding:d,extraVerticalPadding:u,paddings:n}}const Ai=2*Ri.GROUPS_CELL_MARGIN+2*Ri.GROUPS_CELL_PADDING+Ri.GROUPS_CELL_NAV_HEIGHT+Ri.GROUPS_CELL_AVATAR_WRAPPER_BOTTOM_MARGIN,Di=2*Ri.GROUPS_CELL_MARGIN+2*Ri.GROUPS_CELL_PADDING;function Pi(e){let{avatarSize:t,cellWidth:o,cellHeight:i,cols:a,height:n,maxClientCount:s,rows:r,width:c}=e;const l=function(e){let{avatarSize:t,count:o,containerWidth:i}=e;const a=t+Ri.GROUPS_CELL_AVATAR_GRID_GAP,n=Math.floor((i-Di)/a),s=Math.max(Math.ceil(o/n),1);return{bounds:{width:Di+n*a,height:Ai+s*a},cols:n,rows:s}}({avatarSize:t,containerWidth:o,count:s}),d=a*l.bounds.width,u=r*l.bounds.height,m=(c-d)/2,p=(n-u)/2;return{avatarSize:t,bounds:Object(vi.h)({width:d,height:u}),cellBounds:Object(vi.h)({width:o,height:i}),cellLayout:l,cols:a,extraHorizontalPadding:m,extraVerticalPadding:p,isConstrained:i<l.bounds.height,rows:r}}function Mi(e){let{avatarSize:t,cellCount:o,maxClientCount:i,width:a,height:n}=e;const{cellWidth:s,cols:r}=function(e){let{cellCount:t,width:o,minCellWidth:i,maxCellWidth:a}=e;if(i>o)return{cellWidth:o,cols:1};const n=Math.min(Math.floor(o/i),t);return{cellWidth:i+Math.min((o-n*i)/n,a-i),cols:n}}({cellCount:o,width:a,minCellWidth:Ri.GROUPS_CELL_MIN_WIDTH,maxCellWidth:Ri.GROUPS_CELL_MAX_WIDTH}),c=Math.max(Math.ceil(o/r),1);return Pi({avatarSize:t,cellWidth:s,cellHeight:n/c,cols:r,height:n,maxClientCount:i,rows:c,width:a})}const Fi=Object(vi.i)({top:4,bottom:28,left:8,right:8});function Bi(e){let{hasOverflow:t,hasStage:o}=e;return t&&o?[80]:[80,60]}function qi(e){let{cellCount:t}=e;const o=t<=6,i=o?150:200,a=o?250:300;return Object(vi.h)({width:a,height:i})}function zi(e){let{containerBounds:t,isPortrait:o,cellCount:i,cellSizeOptions:a,cellPaddings:n,paddings:s}=e;const r=function(e){let t,{containerBounds:o,isPortrait:i,cellCount:a,cellSizeOptions:n,cellPaddings:s,paddings:r}=e;for(let c=0;c<n.length;c++){const e=n[c];if(t=wi({containerBounds:o,isPortrait:i,cellCount:a,cellBounds:Object(vi.h)({width:e+s.left+s.right,height:e+s.top+s.bottom}),paddings:r}),t.width<=o.width&&t.height<=o.height)return t}return t}({containerBounds:t,isPortrait:o,cellCount:i,cellSizeOptions:a,cellPaddings:n,paddings:s}),c=r.cellBounds.width-n.left-n.right===a[a.length-1],l=Object(vi.h)({width:Math.min(r.width,t.width),height:Math.min(r.height,t.height)}),d=Object(vi.h)({width:r.width,height:r.height});return 0===i?{bounds:l,contentBounds:d,videoCells:[]}:{bounds:l,contentBounds:d,videoCells:[...Array(i)].map((e,t)=>{const{top:o,left:i,width:a,height:s}=function(e){let{index:t,layout:o}=e;const{isPortrait:i,rows:a,cols:n,cellCount:s,cellBounds:r,extraHorizontalPadding:c,extraVerticalPadding:l,paddings:d}=o,u=i?Math.floor(t/n):Math.floor(t%a),m=i?Math.floor(t%n):Math.floor(t/a),p=function(e){let{index:t,isPortrait:o,rows:i,cols:a,cellBounds:n,cellCount:s}=e;const r=i*a,c=r-s;if(!c)return 0;const l=r-c-1;return t<l-((o?a:i)-c)+1||t>l?0:c*(o?n.width:n.height)/2}({index:t,isPortrait:i,rows:a,cols:n,cellBounds:r,cellCount:s});return{top:d.top+l+u*r.height+(i?0:p),left:d.left+c+m*r.width+(i?p:0),width:r.width,height:r.height}}({index:t,layout:r});return{origin:Object(vi.k)({top:o,left:i}),bounds:Object(vi.h)({width:a,height:s}),paddings:n,isSmallCell:c}})}}function Gi(e){let{cellPaddings:t,cellSizeOptions:o,containerBounds:i,containerOrigin:a,gridGap:n,hasConstrainedOverflow:s,hasPresentationContent:r,hasVideoContent:c,isConstrained:l,isMaximizeMode:d,isPortrait:u,isSmallScreen:m,maxGridWidth:p,shouldOverflowSubgrid:b,subgridVideos:g}=e;const{width:h,height:j}=i,f=r||c,O=g.length>0;if(!O&&!f)return{isPortrait:u,videosContainer:Object(vi.j)(),subgrid:{...Object(vi.j)(),contentBounds:Object(vi.h)(),cells:[]},hasOverflow:!1};if(!O)return{isPortrait:u,videosContainer:Object(vi.j)({...i,...a}),subgrid:{...Object(vi.j)(),contentBounds:Object(vi.h)(),cells:[]},hasOverflow:s};const S=b?20:0;let R=null;if(f)if(b){const e=o[0];let a=d?Ri.BOTTOM_TOOLBAR_HEIGHT:Ri.BOTTOM_TOOLBAR_HEIGHT+t.top+(l||m?e/2:e)+t.bottom;i.height-a<200&&(a=0),R=Object(vi.h)({width:i.width,height:a})}else R=d?Object(vi.h)({width:i.width,height:o[0]+t.top+t.bottom}):u?Object(vi.h)({width:i.width,height:i.height/2}):Object(vi.h)({width:i.width/2,height:i.height});else R=Object(vi.h)({width:Math.min(Ri.SUBGRID_EMPTY_STAGE_MAX_WIDTH,i.width),height:i.height});let C=0;R.width>p&&(C=(R.width-p)/2);const v=zi({containerBounds:R,isPortrait:u,cellCount:g.length,cellSizeOptions:o,cellPaddings:t,paddings:Object(vi.i)({top:S,left:C,right:C})}),y=Object(vi.h)({width:v.contentBounds.width-R.width,height:v.contentBounds.height-R.height}),I=y.width>0||y.height>0;let E,x=null;x=!f||b||I?v.contentBounds:v.bounds;let T=x;f?(T=b?Object(vi.h)({width:0,height:R.height+S+n}):u?Object(vi.h)({width:0,height:v.bounds.height+n}):Object(vi.h)({width:v.bounds.width+n,height:0}),E=Object(vi.f)({bounds:T,fromBounds:i})):E=Object(vi.h)();const L={...a};let k;return k=f?Object(vi.k)({top:u?Math.max(a.top+j-T.height+n,0):a.top,left:u?a.left:Math.max(a.left+h-x.width,0)}):Object(vi.k)({top:a.top+Math.max(0,(j-x.height)/2),left:a.left+Math.max(0,(h-x.width)/2)}),{isPortrait:u,videosContainer:Object(vi.j)({...E,...L}),subgrid:{...Object(vi.j)({...x,...k}),cells:v.videoCells.map((e,t)=>{var o;return{clientId:null==(o=g[t])?void 0:o.clientId,...e}}),contentBounds:v.contentBounds},hasOverflow:I||b||s,overflowNeedBounds:b?Object(vi.h)():y}}function Ui(e){let{containerBounds:t,containerOrigin:o,gridGap:i,supersizedContentAspectRatio:a,hasPresentationContent:n,hasPresentationGrid:s,hasVideoContent:r,minGridBounds:c,isBreakoutNoGroupMode:l}=e;const{width:d,height:u}=t;let m=d<=u,p=Object(vi.h)(),b=Object(vi.k)(),g=r?{...t}:Object(vi.h)(),h=r?{...o}:Object(vi.k)();if(n)if(l)m=!0,p=Object(vi.h)({width:t.width,height:c.height+i}),b={...o},g=Object(vi.h)({width:t.width,height:t.height-p.height-i}),h=Object(vi.k)({top:o.top+p.height+i,left:o.left});else{const e=function(e){let{bounds:t,aspectRatio:o,minGridContainerBounds:i,hasPresentationGrid:a}=e;const{width:n,height:s}=t;if(!(i.width>0))return{isPortrait:n<=s,supersizedContentBounds:t};const r=Math.round(n/2),c=Math.round(s/2),l=Math.max(n-i.width,0),d=Math.max(s-i.height,0);let u=l<=d,m=0,p=0;if(o){const e=Object(Ci.a)(o,{width:l,height:s}),t=Object(Ci.a)(o,{width:n,height:d});if(u=o<=1?t.height>e.height:t.width>e.width,u){const e=d-Math.max(t.height,c);p=Math.max(e,0)}else{const t=l-Math.max(e.width,r);m=Math.max(t,0)}}else a&&(u=l/d>=5);return{isPortrait:u,supersizedContentBounds:{width:u?n:l-m,height:u?d-p:s}}}({bounds:t,aspectRatio:a,minGridContainerBounds:Object(vi.h)({width:r?c.width+i:0,height:r?c.height+i:0}),hasPresentationGrid:s});m=e.isPortrait,p=e.supersizedContentBounds,b={...o},r&&(g=Object(vi.h)({width:m?t.width:t.width-p.width-i,height:m?t.height-p.height-i:t.height}),h=Object(vi.k)({top:m?o.top+p.height+i:o.top,left:m?o.left:o.left+p.width+i}))}return{isPortrait:m,presentationGrid:{...Object(vi.j)({...p,...b})},videoGrid:Object(vi.j)({...g,...h})}}function Hi(e){let{containerBounds:t,paddings:o=Object(vi.i)(),videos:i,isConstrained:a,maxGridWidth:n,gridGap:s}=e;const{width:r,height:c}=t,l=n?Math.min(r,n):r,d=i.length;let u=null,m=null;if(a){u=Ni({width:r,height:c,cellCount:d,gridGap:s,paddings:o});const e=d>4;m=i.map((t,o)=>{const i=function(e){let{index:t,layout:o}=e;const{cellRects:i}=o,a=i[t]||Object(vi.j)();return{top:a.origin.y,left:a.origin.x,width:a.bounds.width,height:a.bounds.height}}({index:o,layout:u});return{clientId:t.clientId,isDraggable:t.isDraggable,origin:Object(vi.k)({top:i.top,left:i.left}),bounds:Object(vi.h)({width:i.width,height:i.height}),aspectRatio:i.width/i.height,isSmallCell:e}})}else{const e=i.map(e=>e.aspectRatio),t=qi({cellCount:d});u=function(e){let{width:t,height:o,cellCount:i,gridGap:a,cellAspectRatios:n=[yi],paddings:s=Object(vi.i)()}=e;if(!i)return{cellCount:i,cellHeight:0,cellWidth:0,cols:0,rows:0,extraHorizontalPadding:0,extraVerticalPadding:0,gridGap:a,paddings:s};const r=t-(s.left+s.right),c=o-(s.top+s.bottom),l=Ei({choices:n});let d=l.chosenAr;const{rows:u,cols:m}=Object(Ci.c)({count:i,width:r,height:c,aspectRatio:d});1===u?d=Ii({value:r/m/c,min:Math.min(l.chosenAr,l.maxAr),max:Math.max(l.chosenAr,l.maxAr)}):1===m&&(d=Ii({value:r/(c/u),min:Math.min(l.chosenAr,l.maxAr),max:Math.max(l.chosenAr,l.maxAr)}));const{cellWidth:p,cellHeight:b,extraHorizontalPadding:g,extraVerticalPadding:h}=function(e){let{width:t,height:o,rows:i,cols:a,gridGap:n,aspectRatio:s}=e;const r=(t-(a-1)*n)/a,c=(o-(i-1)*n)/i,l=r/c;let d=0,u=0;return s<l?d=r-c*s:s>l&&(u=c-r/s),{cellWidth:r-d,cellHeight:c-u,extraHorizontalPadding:d*a/2,extraVerticalPadding:u*i/2}}({width:r,height:c,rows:u,cols:m,gridGap:a,aspectRatio:d});return{cellCount:i,cellHeight:b,cellWidth:p,cols:m,rows:u,extraHorizontalPadding:g,extraVerticalPadding:h,gridGap:a,paddings:s}}({width:l,height:c,cellCount:d,gridGap:s,cellAspectRatios:e,paddings:o}),m=i.map((e,o)=>{const i=function(e){let{index:t,layout:o}=e;const{cellWidth:i,cellHeight:a,rows:n,cols:s,cellCount:r,gridGap:c}=o,l=Math.floor(t/s),d=Math.floor(t%s);return{top:l*a+l*c,left:d*i+d*c+function(e){let{rows:t,cols:o,cellWidth:i,index:a,cellCount:n,gridGap:s}=e;const r=t*o,c=r-n;if(!c)return 0;const l=r-c-1;return a>=l-(o-c)+1&&a<=l?c*i/2+s:0}({rows:n,cols:s,cellWidth:i,index:t,cellCount:r,gridGap:c}),width:i,height:a}}({index:o,layout:u}),n=u.cellWidth<t.width,s=a||n?u.cellWidth/u.cellHeight:e.aspectRatio;return{clientId:e.clientId,isDraggable:e.isDraggable,origin:Object(vi.k)({top:i.top,left:i.left}),bounds:Object(vi.h)({width:i.width,height:i.height}),aspectRatio:s,isSmallCell:n}})}return{videoCells:m,extraHorizontalPadding:r!==l?u.extraHorizontalPadding+(r-l)/2:u.extraHorizontalPadding,extraVerticalPadding:u.extraVerticalPadding,paddings:u.paddings,gridGap:s}}function Vi(e){let{a:t,b:o,gridGap:i,isPortrait:a}=e;const n=a?t.vertical:t.horizontal,s=a?o.vertical:o.horizontal;if(n===s)return{a:0,b:0};const r=n<s?t:o,c=a?r.vertical:r.horizontal,l=(i+(n+s)+c)/2-c;return{a:r===t?l:0,b:r===o?l:0}}function Wi(e){let{gridGap:t,isConstrained:o,presentationVideos:i,videos:a,videosContainerLayout:n,gridLayoutPaddings:s=Object(vi.i)(),presentationGridLayoutPaddings:r=Object(vi.i)(),maxGridWidth:c}=e;return{gridLayout:Hi({containerBounds:n.videoGrid.bounds,gridGap:t,isConstrained:o,maxGridWidth:c,paddings:s,videos:a}),presentationGridLayout:Hi({containerBounds:n.presentationGrid.bounds,gridGap:t,isConstrained:o,maxGridWidth:c,paddings:r,videos:i})}}function Ki(e){let{breakoutActive:t=!1,breakoutGroupedClients:o=[],breakoutStagePaddings:i=Object(vi.i)(),floatingVideo:a,frame:n,gridGap:s,isConstrained:r,isMaximizeMode:c=!1,isXLMeetingSize:l=!1,paddings:d=Object(vi.i)(),presentationVideos:u=[],rebalanceLayout:m=!1,roomBounds:p,roomLayoutHasOverlow:b=!1,subgridCellPaddings:g=Fi,subgridVideos:h=[],videoControlsHeight:j=0,videos:f=[],videoGridGap:O}=e,S=l&&(!screen||screen.width<=2048);const R=!!o.length,C=!!u.length,v=u.length>1,y=C&&!v?u[0].aspectRatio:null,I=!!f.length,E=n.bounds.width-d.left-d.right;let x=n.bounds.height-d.top-d.bottom;const T=Math.max(2200,.8*E),L=r&&!t&&f.length>12,k=x/4,_=Math.ceil((f.length-12)/3);x=L?x+k*_:x;const N=Object(vi.h)({width:E,height:x}),w=Object(vi.k)({top:d.top,left:d.left}),A=qi({cellCount:f.length}),D=R?Object(vi.h)({width:A.width,height:A.height+i.top+i.bottom}):A,P=p.width<Ri.TABLET_BREAKPOINT||p.height<Ri.TABLET_BREAKPOINT,M=R||c||S||!(C||I)||N.width<=N.height,F={cellPaddings:g,containerBounds:N,containerOrigin:w,gridGap:s,hasPresentationContent:C,hasVideoContent:I,isConstrained:r,isMaximizeMode:c,isSmallScreen:P,subgridVideos:h,maxGridWidth:T};let B=Gi({...F,cellSizeOptions:Bi({hasOverflow:S,hasStage:C||I}),isPortrait:M,shouldOverflowSubgrid:S,hasConstrainedOverflow:L}),q=!1;if(!S&&b&&!B.hasOverflow){Gi({...F,containerBounds:Object(vi.h)({width:N.width,height:N.height-Ri.BOTTOM_TOOLBAR_HEIGHT}),cellSizeOptions:Bi({hasOverflow:S,hasStage:C||I}),isPortrait:M,shouldOverflowSubgrid:S,hasConstrainedOverflow:L}).hasOverflow&&(q=!0)}(q||B.hasOverflow&&!S)&&(S=!0,B=Gi({...F,cellSizeOptions:Bi({hasOverflow:!0,hasStage:C||I}),isPortrait:!0,shouldOverflowSubgrid:S,hasConstrainedOverflow:L}));const z=Ui({containerBounds:B.videosContainer.bounds,containerOrigin:B.videosContainer.origin,gridGap:s,supersizedContentAspectRatio:y,hasPresentationContent:C,hasPresentationGrid:v,hasVideoContent:I,minGridBounds:D,isBreakoutNoGroupMode:R});let{gridLayout:G,presentationGridLayout:U}=Wi({gridGap:O,isConstrained:r,presentationVideos:u,videos:f,videosContainerLayout:z,...R?{presentationGridLayoutPaddings:i}:{},maxGridWidth:T}),H=null;if(R&&(H=function(e){let{avatarSizes:t,cellCount:o,height:i,maxClientCount:a,paddings:n=Object(vi.i)(),width:s}=e;const r=s-(n.left+n.right),c=i-(n.top+n.bottom);let l=null;for(let d=0;d<t.length&&(l=Mi({avatarSize:t[d],cellCount:o,maxClientCount:a,width:r,height:c}),l.isConstrained);d++);return{...l,bounds:Object(vi.h)({width:s,height:Math.min(l.bounds.height,c)+(n.top+n.bottom)}),paddings:n}}({avatarSizes:[60,40,32],cellCount:o.length,width:G.videoCells[0].bounds.width,height:G.videoCells[0].bounds.height,maxClientCount:o.reduce((e,t)=>Math.max(e,t.clients.length),0)}),H.isConstrained&&(H=function(e){let{cellCount:t,height:o,paddings:i=Object(vi.i)(),width:a}=e;const n=o-(i.top+i.bottom),s=Ri.GROUPS_ROW_HEIGHT*t+(Ri.GROUPS_ROW_GAP*t-1),r=Math.max((o-s)/2,0);return{bounds:Object(vi.h)({width:a,height:Math.min(n,s)+(i.top+i.bottom)}),rows:t,extraHorizontalPadding:0,extraVerticalPadding:r,paddings:i,isConstrained:!0}}({cellCount:o.length,width:z.videoGrid.bounds.width,height:z.videoGrid.bounds.height})),G.extraVerticalPadding=H.extraVerticalPadding,G.videoCells[0].bounds=H.bounds,G.videoCells[0].aspectRatio=void 0),B.hasOverflow&&!S){const{vPaddings:e,hPaddings:t}=function(e){let{need:t,stageLayout:o,gridLayout:i,presentationGridLayout:a,videosContainerLayout:n}=e,s={presentationGrid:0,grid:0},r={presentationGrid:0,grid:0};if(o.isPortrait){const e=Math.min(i.extraVerticalPadding,a.extraVerticalPadding);s={presentationGrid:Math.min(n.isPortrait?a.extraVerticalPadding:e,t.height),grid:Math.min(n.isPortrait?i.extraVerticalPadding:e,t.height)}}else{const e=Math.min(i.extraHorizontalPadding,a.extraHorizontalPadding);r={presentationGrid:Math.min(n.isPortrait?e:a.extraHorizontalPadding,t.width),grid:Math.min(n.isPortrait?e:i.extraHorizontalPadding,t.width)}}return{vPaddings:s,hPaddings:r}}({need:B.overflowNeedBounds,stageLayout:B,gridLayout:G,presentationGridLayout:U,videosContainerLayout:z});(e.presentationGrid||e.grid||t.presentationGrid||t.grid)&&(!function(e){let{vPaddings:t,hPaddings:o,stageLayout:i,videosContainerLayout:a}=e;if(i.isPortrait&&(t.presentationGrid||t.grid)){const e=a.isPortrait?2*t.presentationGrid+2*t.grid:t.presentationGrid+t.grid;i.videosContainer.bounds.height-=e,i.subgrid.origin.top-=e,i.subgrid.bounds.height+=e,a.presentationGrid.bounds.height-=2*t.presentationGrid,a.videoGrid.bounds.height-=2*t.grid,a.isPortrait&&(a.videoGrid.origin.top-=t.presentationGrid)}if(!i.isPortrait&&(o.presentationGrid||o.grid)){const e=a.isPortrait?o.presentationGrid+o.grid:2*o.presentationGrid+2*o.grid;i.videosContainer.bounds.width-=e,i.subgrid.origin.left-=e,i.subgrid.bounds.width+=e,a.presentationGrid.bounds.width-=2*o.presentationGrid,a.videoGrid.bounds.width-=2*o.grid,a.isPortrait||(a.videoGrid.origin.left-=o.grid)}}({vPaddings:e,hPaddings:t,stageLayout:B,videosContainerLayout:z}),({gridLayout:G,presentationGridLayout:U}=Wi({gridGap:O,isConstrained:r,presentationVideos:u,videos:f,videosContainerLayout:z,maxGridWidth:T})))}const V=function(e){let{roomBounds:t,containerFrame:o,floatingVideo:i,videoControlsHeight:a,margin:n=8}=e;if(!i)return null;const s=Object(Ci.a)(i.aspectRatio,{width:200,height:200}),r=!(t.height-o.bounds.height-o.origin.top),c=o.bounds.width-2*(s.width+n)<Ri.VIDEO_CONTROLS_MIN_WIDTH;let l=0;r&&c?l=-1*a:r||c||(l=a);const d=Object(vi.k)({top:o.origin.top+(o.bounds.height-s.height-n)+l,left:o.origin.left+(o.bounds.width-s.width-n)});return{clientId:i.clientId,isDraggable:i.isDraggable,origin:d,bounds:s,aspectRatio:i.aspectRatio,isSmallCell:!0}}({roomBounds:p,containerFrame:n,floatingVideo:a,videoControlsHeight:j});m&&function(e){let{videosContainerLayout:t,gridLayout:o,presentationGridLayout:i,stageLayout:a,gridGap:n,isBreakoutNoGroupMode:s,shouldOverflowSubgrid:r}=e;const c=t.presentationGrid.bounds.width>0,l=t.videoGrid.bounds.width>0,d=a.subgrid.bounds.width>0,u={vertical:0,horizontal:0};if(c&&l&&!s){const e=Vi({a:{horizontal:i.extraHorizontalPadding,vertical:i.extraVerticalPadding},b:{horizontal:o.extraHorizontalPadding,vertical:o.extraVerticalPadding},gridGap:n,isPortrait:t.isPortrait});t.isPortrait?(t.presentationGrid.origin.top+=e.a,t.videoGrid.origin.top-=e.b,u.vertical=e.b):(t.presentationGrid.origin.left+=e.a,t.videoGrid.origin.left-=e.b,u.horizontal=e.b)}if(d&&(c||l)&&!r){const e={horizontal:i.extraHorizontalPadding,vertical:i.extraVerticalPadding},s={horizontal:o.extraHorizontalPadding+u.horizontal,vertical:o.extraVerticalPadding+u.vertical};let r;const d=c&&l;r=d&&t.isPortrait&&!a.isPortrait?e.horizontal<s.horizontal?e:s:d&&!t.isPortrait&&a.isPortrait?e.vertical<s.vertical?e:s:l?s:e;const m=Vi({a:r,b:{horizontal:0,vertical:0},gridGap:n,isPortrait:a.isPortrait});a.isPortrait?a.subgrid.origin.top-=m.b:a.subgrid.origin.left-=m.b}}({videosContainerLayout:z,gridLayout:G,presentationGridLayout:U,stageLayout:B,gridGap:s,isBreakoutNoGroupMode:R,shouldOverflowSubgrid:S});let W=d.top+B.videosContainer.bounds.height+B.subgrid.bounds.height+d.bottom;return(C||I)&&(W+=s),{isPortrait:B.isPortrait,hasOverflow:B.hasOverflow,bounds:Object(vi.h)({height:S?W:n.bounds.height,width:n.bounds.width}),gridGap:s,presentationGrid:{...z.presentationGrid,cells:U.videoCells,paddings:Object(vi.i)({top:U.paddings.top+U.extraVerticalPadding,bottom:U.paddings.bottom+U.extraVerticalPadding,left:U.paddings.left+U.extraHorizontalPadding,right:U.paddings.right+U.extraHorizontalPadding})},videoGrid:{...z.videoGrid,cells:G.videoCells,paddings:Object(vi.i)({top:G.paddings.top+G.extraVerticalPadding,bottom:G.paddings.bottom+G.extraVerticalPadding,left:G.paddings.left+G.extraHorizontalPadding,right:G.paddings.right+G.extraHorizontalPadding})},subgrid:B.subgrid,floatingContent:{...V,...a},groups:H}}var $i=o(153);const Qi={aspectRatios:{},hasOverflow:!1,meetingSize:Object.keys(H.i)[0]};var Yi={name:"layout",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"LAYOUT_SET_ASPECT_RATIO":return{...e,aspectRatios:{...e.aspectRatios,[o.id]:o.aspectRatio}};case"LAYOUT_SET_HAS_OVERFLOW":return{...e,hasOverflow:o};case"LAYOUT_SET_MEETING_SIZE":return{...e,meetingSize:o}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectLayoutCanFitToolbars(),{hasOverflow:a}=e.selectLayoutRaw(),n=e.selectAllClientViews().length;t(o);const s=e.selectLayoutCanFitToolbars(),r=!s,c=e.selectIsTopToolbarHidden()||e.selectIsBottomToolbarHidden();s!==i&&r!==c&&e.doToggleToolbars();const{hasOverflow:l}=e.selectLayoutVideoStage();!a&&l?e.doSetLayoutHasOverflow(!0):a&&!l&&e.doSetLayoutHasOverflow(!1);const d=e.selectAllClientViews().length,u=e.selectLayoutMeetingSize();if(n!==d){const t=function(e){let{triggers:t,meetingSize:o,clientCount:i}=e;const a=Object.keys(t),n=a.indexOf(o);for(let s=a.length-1;s>=n;s--)if(i>=t[a[s]].trigger)return a[s];for(let s=0;s<=n;s++)if(i<=t[a[s]].detrigger)return a[s-1];return o}({triggers:e.selectPrefs().skipLargeMode?H.h:H.i,clientCount:d,meetingSize:u});t!==u&&e.doSetLayoutMeetingSize(t)}},doSetClientAspectRatio:e=>{let{id:t,aspectRatio:o}=e;return{type:"LAYOUT_SET_ASPECT_RATIO",payload:{id:t,aspectRatio:o}}},doSetLayoutHasOverflow:e=>({type:"LAYOUT_SET_HAS_OVERFLOW",payload:e}),doSetLayoutMeetingSize:e=>({type:"LAYOUT_SET_MEETING_SIZE",payload:e}),selectLayoutRaw:e=>e.layout,selectLayoutClientAspectRatios:e=>e.layout.aspectRatios,selectLayoutMeetingSize:e=>e.layout.meetingSize,selectLayoutIsSmallMeetingSize:e=>"small"===e.layout.meetingSize,selectLayoutIsLargeMeetingSize:e=>"large"===e.layout.meetingSize,selectLayoutIsXLMeetingSize:e=>"xl"===e.layout.meetingSize,selectLayoutWindowFrame:Object(V.e)("selectDocumentSize",e=>{let[t,o]=e;return Object(vi.j)({width:t,height:o})}),selectLayoutRoomFrame:Object(V.e)("selectLayoutWindowFrame","selectSafeAreaInsets","selectShouldShowWatermark",(e,t,o)=>Object(vi.j)({width:e.bounds.width-t.left-t.right,height:o?e.bounds.height-Ri.WATERMARK_BAR_HEIGHT:e.bounds.height,top:o?t.top+Ri.WATERMARK_BAR_HEIGHT:t.top,left:t.left})),selectLayoutRoomBottomMargin:Object(V.e)("selectIsBottomToolbarFloating","selectIsBottomToolbarPinned","selectLayoutGridGap","selectLayoutHasOverflow",(e,t,o,i)=>e&&t||i?Ri.BOTTOM_TOOLBAR_HEIGHT:0),selectLayoutHasOverflow:Object(V.e)("selectLayoutRaw","selectBreakoutCurrentGroup",(e,t)=>!t&&e.hasOverflow),selectLayoutResponsive:Object(V.e)("selectLayoutRoomFrame",e=>Object(vi.c)(e.bounds)),selectLayoutIsConstrained:Object(V.e)("selectLayoutResponsive",e=>e.isPhone),selectLayoutIsPortrait:Object(V.e)("selectLayoutResponsive",e=>e.isPortrait),selectLayoutIsXS:Object(V.e)("selectLayoutResponsive",e=>e.isXS),selectLayoutCanFitToolbars:Object(V.e)("selectLayoutRoomFrame",e=>e.bounds.width>=Ri.MIN_WINDOW_WIDTH&&e.bounds.height>=Ri.MIN_WINDOW_HEIGHT),selectLayoutIsSidebarFloating:Object(V.e)("selectLayoutIsConstrained","selectLayoutRoomFrame",(e,t)=>e||t.bounds.width-Ri.SIDEBAR_WIDTH<=Ri.VIDEO_CONTROLS_MIN_WIDTH),selectLayoutStageFrame:Object(V.e)("selectIsSidebarOpen","selectLayoutIsConstrained","selectLayoutIsSidebarFloating","selectLayoutRoomFrame",(e,t,o,i)=>Object(vi.j)({width:!e||o||t?i.bounds.width:i.bounds.width-Ri.SIDEBAR_WIDTH,height:i.bounds.height})),selectLayoutVideoStageFrame:Object(V.e)("selectHasBottomToolbar","selectHasTopToolbar","selectIsBottomToolbarFloating","selectIsTopToolbarFloating","selectLayoutBottomToolbarBounds","selectLayoutStageFrame","selectLayoutTopToolbarBounds","selectDevicePosture",(e,t,o,i,a,n,s,r)=>{const c="folded"===r,l=n.bounds.width>n.bounds.height,d=!t||i?0:s.height,u=!e||o||c?0:a.height,m=c&&!l?n.bounds.height/2:n.bounds.height;return Object(vi.j)({width:n.bounds.width,height:m-d-u,top:d,left:0})}),selectLayoutVideoStagePaddings:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentGroup","selectCanSpotlight","selectCellViewsPresentationGrid","selectHasBottomToolbar","selectHasTopToolbar","selectIsBottomToolbarFloating","selectIsTopToolbarFloating","selectLayoutGridGap","selectLayoutHasOverflow","selectLayoutIsConstrained","selectDevicePosture",(e,t,o,i,a,n,s,r,c,l,d,u)=>{const m=r&&s,p=d?4:8,b=r||!n?p:0,g="folded"===u;let h=s?Ri.FLOATING_VIDEO_CONTROLS_BOTTOM_MARGIN:0;(!a||m&&!l)&&(h=p),g&&(h+=Ri.FOLDABLE_SCREEN_STAGE_PADDING);const j=Object(vi.i)({top:b,left:p,bottom:h,right:p});return e&&!t&&!i.length&&o&&(j.top+=Ri.BREAKOUT_STAGE_BACKDROP_FOOTER_HEIGHT+c),j}),selectLayoutVideoStageIsConstrained:Object(V.e)("selectFeatureJsGridMobileLayoutOff","selectIsPhoneResolution",(e,t)=>!e&&t),selectLayoutGridGap:Object(V.e)("selectLayoutVideoStageIsConstrained",e=>e?4:8),selectLayoutVideoGridGap:Object(V.e)("selectLayoutVideoStageIsConstrained","selectPrefs",(e,t)=>t.videoGridGap?e?4:8:0),selectLayoutBreakoutStagePaddings:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentGroup","selectCanSpotlight","selectCellViewsPresentationGrid","selectIsFullscreenMode","selectIsLocalClientSpotlighted","selectIsMaximizeMode","selectLayoutGridGap",(e,t,o,i,a,n,s,r)=>e&&!t&&!s&&!a&&(i.length>0||o)?Object(vi.i)({top:Ri.BREAKOUT_STAGE_BACKDROP_HEADER_HEIGHT,bottom:o||n?Ri.BREAKOUT_STAGE_BACKDROP_FOOTER_HEIGHT:r}):Object(vi.i)()),selectLayoutVideoStage:Object(V.e)("selectBreakoutActive","selectBreakoutGroupedClients","selectCanSpotlight","selectCellViewsFloating","selectCellViewsPresentationGrid","selectCellViewsSubgrid","selectCellViewsVideoGrid","selectIsBottomToolbarFloating","selectIsBottomToolbarPinned","selectIsMaximizeMode","selectLayoutBreakoutStagePaddings","selectLayoutGridGap","selectLayoutHasOverflow","selectLayoutIsXLMeetingSize","selectLayoutVideoGridGap","selectLayoutVideoStageFrame","selectLayoutVideoStageIsConstrained","selectLayoutVideoStagePaddings","selectLayoutWindowFrame","selectPrefs",(e,t,o,i,a,n,s,r,c,l,d,u,m,p,b,g,h,j,f,O)=>Ki({breakoutActive:e,breakoutGroupedClients:t,breakoutStagePaddings:d,subgridCellPaddings:O.subgridLabels?Fi:Object(vi.i)({top:4,right:4,bottom:4,left:4}),floatingVideo:i[0]||null,frame:g,gridGap:u,isConstrained:h,isMaximizeMode:l,isXLMeetingSize:p,paddings:j,presentationVideos:a,rebalanceLayout:!0,roomBounds:f.bounds,roomLayoutHasOverlow:m,subgridVideos:n,videos:s,videoGridGap:b,videoControlsHeight:r&&c||!r?Ri.BOTTOM_TOOLBAR_HEIGHT:0})),selectPipLayoutVideoStage:Object(V.e)("selectBreakoutActive","selectBreakoutGroupedClients","selectCanSpotlight","selectCellViewsFloating","selectCellViewsSubgrid","selectCellViewsVideoGrid","selectDocumentPipFrame","selectIsBottomToolbarFloating","selectIsBottomToolbarPinned","selectIsMaximizeMode","selectLayoutBreakoutStagePaddings","selectLayoutGridGap","selectLayoutHasOverflow","selectLayoutIsXLMeetingSize","selectLayoutVideoGridGap","selectLayoutVideoStageIsConstrained","selectLayoutVideoStagePaddings","selectLayoutWindowFrame","selectCellViewsPipPresentationGrid",(e,t,o,i,a,n,s,r,c,l,d,u,m,p,b,g,h,j,f)=>s?Ki({breakoutActive:e,breakoutGroupedClients:t,breakoutStagePaddings:d,subgridCellPaddings:Fi,floatingVideo:null,frame:s,gridGap:u,isConstrained:g,isMaximizeMode:l,isXLMeetingSize:p,paddings:h,presentationVideos:f,rebalanceLayout:!0,roomBounds:j.bounds,roomLayoutHasOverlow:m,subgridVideos:a,videos:n,videoGridGap:b,videoControlsHeight:Ri.BOTTOM_TOOLBAR_HEIGHT}):null),selectLayoutVideoStageOverflowHeight:Object(V.e)("selectLayoutVideoStage","selectLayoutVideoStageFrame",(e,t)=>e.hasOverflow&&e.bounds.height-t.bounds.height||0),selectLayoutOverflowBackdropFrame:Object(V.e)("selectLayoutRoomBottomMargin","selectLayoutVideoStage","selectLayoutVideoStagePaddings",(e,t,o)=>t.hasOverflow&&(Object(vi.e)(t.presentationGrid.bounds)||Object(vi.e)(t.videoGrid.bounds))?Object(vi.j)({top:t.subgrid.origin.top,width:t.bounds.width,height:t.subgrid.bounds.height+e+o.bottom}):Object(vi.j)()),selectLayoutTopToolbarBounds:Object(V.e)("selectLayoutStageFrame",e=>({width:e.bounds.width,height:Ri.TOP_TOOLBAR_HEIGHT})),selectLayoutBottomToolbarBounds:Object(V.e)("selectIsBottomToolbarFloating","selectLayoutStageFrame","selectSafeAreaInsets","selectDevicePosture",(e,t,o,i)=>{const a="folded"===i?2*Ri.BOTTOM_TOOLBAR_HEIGHT:Ri.BOTTOM_TOOLBAR_HEIGHT;return{width:t.bounds.width,height:a+(e?0:o.bottom)}}),selectLayoutRemoteCellBounds:Object(V.e)("selectLayoutVideoStage","selectRemoteClientViews",(e,t)=>{const o={};return t.forEach(t=>{var i;const a=null==(i=t.stream)?void 0:i.id,n=a&&Object($i.a)({clientId:t.id,stageLayout:e});n&&(o[a]=n.bounds)}),o})};const Ji=e=>({clientId:e.senderId,text:e.text||"",timestamp:Date.now()}),Zi={enabled:!1,captionEnabledPeers:[],captionLog:[],isStarting:!1,error:null};var Xi={name:"liveCaptions",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.NEW_CLIENT:var i;return o.client&&"captioner"===(null==(i=o.client.role)?void 0:i.roleName)?{...e,isStarting:!1,error:null}:e;case Y.a.CLIENT_KICKED:case Y.a.CLIENT_LEFT:return{...e,captionEnabledPeers:e.captionEnabledPeers.filter(e=>e!==o.clientId)};case"LIVE_CAPTIONS_CLEAR_STALE_CAPTIONS":{const t=Date.now(),o=e.captionLog.filter(e=>{let{timestamp:o}=e;return t-o<H.g}).slice(-5);return{...e,captionLog:o}}case"LIVE_CAPTION_TRANSCRIBED":case Y.a.LIVE_CAPTION:{const t=Ji(o);if(e.captionLog.length<1)return{...e,captionLog:[t]};const i=[...e.captionLog],a=i.pop(),n=t.clientId===a.clientId&&t.timestamp-a.timestamp<5e3;n&&(t.text=`${a.text} ${t.text}`);const s=n?[t]:[a,t];return{...e,captionLog:[...i,...s]}}case"TOGGLE_LIVE_CAPTIONS":return{...e,enabled:o};case"LIVE_CAPTIONS_STARTING":return{...e,isStarting:!0};case Y.a.LIVE_CAPTIONS_ENABLED_ERROR:return{...e,isStarting:!1,enabled:!1,error:"failed_to_enable_live_captions"};case Y.a.LIVE_CAPTIONS_ENABLED:return{...e,captionEnabledPeers:e.captionEnabledPeers.concat(o.senderId)};case Y.a.LIVE_CAPTIONS_DISABLED:return{...e,captionEnabledPeers:e.captionEnabledPeers.filter(e=>e!==o.senderId)};case"LIVE_CAPTION_ERROR_CLEAR":return{...e,error:null}}return e},getMiddleware:()=>e=>t=>o=>{o.type===Y.a.LIVE_CAPTION&&setTimeout(e.doClearStaleCaptions,H.g);const i=e.selectLiveCaptionsError(),a=e.selectIsLiveCaptionsEnabled(),n=t(o),s=e.selectLiveCaptionsError();s&&s!==i&&e.doSetNotification("liveCaptionsError",{onDismiss:()=>{e.doClearLiveCaptionError()}});const r=e.selectFeatureNodeAgentTranscriptionOn(),c=e.selectHasCaptioner(),l=e.selectIsLiveCaptionsEnabled(),d=e.selectLiveTranscriptionStatus();return c||!l||a||!r||("transcribing"===d||"started"===d)||e.doLiveCaptionsIsStarting(),n},doClearStaleCaptions:()=>({type:"LIVE_CAPTIONS_CLEAR_STALE_CAPTIONS"}),doClearLiveCaptionError:()=>({type:"LIVE_CAPTION_ERROR_CLEAR"}),doLiveCaptionsIsStarting:()=>({type:"LIVE_CAPTIONS_STARTING"}),doToggleLiveCaptions:function(){let{enabled:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{store:o}=t;const i=o.selectIsLiveCaptionsEnabled(),a=null!=e?e:!i;o.dispatch({type:"TOGGLE_LIVE_CAPTIONS",payload:a,meta:{signal:{type:a?"live_captions_enabled":"live_captions_disabled"}}})}},selectLiveCaptionsRaw:e=>e.liveCaptions,selectLiveCaptionsIsStarting:e=>e.liveCaptions.isStarting,selectCaptionEnabledPeers:e=>e.liveCaptions.captionEnabledPeers,selectIsLiveCaptionsEnabled:e=>e.liveCaptions.enabled,selectCaptionLog:e=>e.liveCaptions.captionLog,selectLiveCaptionsError:e=>e.liveCaptions.error,selectHasCaptioner:Object(V.e)("selectRemoteClients",e=>e.some(e=>{var t;return"captioner"===(null==(t=e.role)?void 0:t.roleName)})),selectShouldShowCaptionsButton:Object(V.e)("selectFeatureNodeAgentTranscriptionOn","selectFeatureClientSideTranscriptionOn",(e,t)=>e||t)},ea=o(70);const ta={audioHasBeenResumed:!1,breakoutGroup:null,connectionStatus:"",coLocationGroup:"",isAudioSuspended:!1,isAudioStatusTemporary:!1,isDevicePermissionDenied:!1,overrideAudio:null,wantAudio:null,wantVideo:null,roleName:"",roomJoinCounter:0,stickyReaction:null,hasEnabledDevices:!1};let oa;var ia={name:"localClient",init:()=>{oa=Object(te.a)()},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.ROOM_JOINED:{const t=o.room.clients.find(e=>e.id===o.selfId);return{...e,roleName:t.role.roleName,breakoutGroup:t.breakoutGroup,coLocationGroup:t.coLocationGroup,isDevicePermissionDenied:t.isDevicePermissionDenied,roomJoinCounter:e.roomJoinCounter+1}}case"AUDIO_ENABLED":return{...e,wantAudio:o.isEnabled,isAudioStatusTemporary:o.isTemporary,overrideAudio:null};case"AUDIO_RESUMED":return{...e,isAudioSuspended:!1,audioHasBeenResumed:!0};case"AUDIO_SUSPENDED":return{...e,isAudioSuspended:!0};case"VIDEO_ENABLED":return{...e,wantVideo:o.isEnabled};case"DEVICES_ENABLED":return{...e,hasEnabledDevices:!0};case"LOCAL_CLIENT_AUDIO_OVERRIDDEN":return{...e,overrideAudio:o};case"LOCAL_CLIENT_STICKY_REACTION_SET":return{...e,stickyReaction:o?{reaction:o,timestamp:(new Date).toISOString()}:null}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectIsAudioEnabled(),a=e.selectIsVideoEnabled(),n=e.selectDisplayName(),s=e.selectRoomSessionId(),r=e.selectLocalClientStickyReaction(),c=e.selectRoomConnectionStatus(),l=t(o),d=e.selectRoomConnectionStatus();if("joined"===d){const t=d!==c&&e.selectLocalClientRaw().roomJoinCounter>1,o=e.selectIsAudioEnabled();(i!==o||t)&&e.dispatch({type:"@SIGNAL_AUDIO",meta:{signal:{type:"enable_audio",payload:{enabled:o}}}});const n=e.selectIsVideoEnabled();(a!==n||t)&&e.dispatch({type:"@SIGNAL_VIDEO",meta:{signal:{type:"enable_video",payload:{enabled:n}}}}),e.selectLocalClientHasEnabledDevices()||!n&&!o||e.dispatch({type:"DEVICES_ENABLED"});const{audioContext:s}=Object(Wt.a)();!e.selectLocalClientIsViewer()||e.selectLocalClientIsAudioSuspended()||e.selectLocalClientAudioHasBeenResumed()||"suspended"!==(null==s?void 0:s.state)||e.dispatch({type:"AUDIO_SUSPENDED"})}const u=e.selectRoomSessionId();if(u&&s!==u){const t=e.selectLocalClient();oa.updateClientMetadata({roomSessionId:u,clientMetadata:{avatarUrl:t.avatarUrl,clientId:t.id,displayName:t.displayName,deviceCapabilities:{canScreenshare:e.selectDeviceRaw().hasGetDisplayMedia},stickyReaction:e.selectLocalClientStickyReaction()}})}if(o.type===Y.a.AUDIO_ENABLE_REQUESTED){const t=e.selectRemoteClients().find(e=>e.id===o.payload.requestedByClientId);t&&(o.payload.enable||e.doToggleAudioEnabled(!1,{context:"requestAudioEnable"}),e.doSetNotification(o.payload.enable?"requestAudioEnable":"audioDisabled",{displayName:t.displayName}))}else if(o.type===Y.a.VIDEO_ENABLE_REQUESTED){const t=e.selectRemoteClients().find(e=>e.id===o.payload.requestedByClientId);t&&(o.payload.enable||e.doToggleVideoEnabled(!1,{context:"requestVideoEnable"}),e.doSetNotification(o.payload.enable?"requestVideoEnable":"videoDisabled",{displayName:t.displayName}))}else if(o.type===Y.a.SCREENSHARE_ENABLE_REQUESTED){const{requestedByClientId:t}=o.payload,i=e.selectRemoteClients().find(e=>e.id===t);i&&(o.payload.enable||e.doToggleScreenshare({stop:!0,requestedByClientId:t}),e.doSetNotification(o.payload.enable?"requestScreenshareEnable":"screenshareDisabled",{displayName:i.displayName,reason:"host_control"}))}else("joined"===e.selectApplicationState()&&"PERSIST"!==o.type&&n!==e.selectDisplayName()||r!==e.selectLocalClientStickyReaction())&&e.doLocalClientSyncMetadata({clientIds:null});return l},doOverrideAudio:e=>({type:"LOCAL_CLIENT_AUDIO_OVERRIDDEN",payload:e}),doToggleAudioEnabled:function(e){let{isTemporary:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{dispatch:i,store:a}=o;e=void 0!==e?e:!a.selectIsAudioWanted(),a.selectIsLocalStreamSwitching()||(e&&(a.selectNotifications().find(e=>"requestAudioEnable"===e.type)&&a.doDismissNotification("requestAudioEnable"),a.selectNotifications().find(e=>"coLocationUnmute"===e.type)&&a.doDismissNotification("coLocationUnmute"),a.selectClientsWithRaisedHand().find(e=>e.isLocalClient)&&a.doLocalClientSetStickyReaction(null)),i({type:"AUDIO_ENABLED",payload:{isEnabled:e,isTemporary:t},meta:{persist:t||void 0!==a.selectPrefs().audio?void 0:{audioEnabled:e}}}))}},doToggleVideoEnabled:function(e){let{isTemporary:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{dispatch:i,store:a}=o;(e=void 0!==e?e:!a.selectIsVideoWanted())&&a.selectIsTownhallMode()&&!a.selectShouldShowReviewPage()&&a.selectIsTownhallPresenterLimitReached()?a.doSetPresenterLimitModalOpen(!0):a.selectIsLocalStreamSwitching()||i({type:"VIDEO_ENABLED",payload:{isEnabled:e,isTemporary:t},meta:{persist:t||void 0!==a.selectPrefs().video?void 0:{videoEnabled:e}}})}},doLocalClientResumeAudio:()=>({type:"AUDIO_RESUMED"}),doLocalClientSyncMetadata:e=>{let{clientIds:t}=e;return e=>{let{dispatch:o,store:i}=e;const a=i.selectLocalClient(),n=i.selectDisplayName(),s=i.selectDeviceRaw(),r=i.selectAnalyticsQuery();o({type:"LOCAL_CLIENT_METADATA_SENT",meta:{signal:{type:"send_client_metadata",payload:{type:"UserData",payload:{avatarUrl:a.avatarUrl,clientId:a.id,clientIds:t,deviceCapabilities:{canScreenshare:s.hasGetDisplayMedia},displayName:n,fromDevice:null==r?void 0:r.ref_clientId,fromMethod:null==r?void 0:r.utm_content,stickyReaction:i.selectLocalClientStickyReaction()}}}}})}},doLocalClientSetStickyReaction:e=>t=>{let{dispatch:o}=t;o({type:"LOCAL_CLIENT_STICKY_REACTION_SET",payload:e})},doLocalClientToggleLowDataEnabled:function(e){let{context:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{dispatch:i,store:a}=o;const n=a.selectAudioId(),s=a.selectMediaPermissionStatus(),r=a.selectVideoId();i({type:"LOCAL_CLIENT_LOW_DATA_ENABLED",payload:e,meta:{analytics:ye.b.lowDataToggled(e,{context:t}),prefs:{lowData:e}}}),"granted"===s&&a.doSwitchLocalStream({audioId:n,videoId:r})}},doSetLocalDisplayName:e=>t=>{let{store:o,dispatch:i}=t;o.selectIsDisplayNameForced()||Object(ea.b)(e)&&i({type:"LOCAL_DISPLAY_NAME_UPDATED",payload:e,meta:{persist:{displayName:e}}})},doRequestAudioEnable:e=>{let{clientIds:t,enable:o}=e;return{type:"SIGNAL_REQUEST_AUDIO",meta:{signal:{type:"request_audio_enable",payload:{clientIds:t,enable:o}}}}},doRequestVideoEnable:e=>{let{clientIds:t,enable:o}=e;return{type:"SIGNAL_REQUEST_VIDEO",meta:{signal:{type:"request_video_enable",payload:{clientIds:t,enable:o}}}}},doRequestScreenshare:e=>{let{clientId:t,enable:o}=e;return{type:"SIGNAL_REQUEST_SCREENSHARE",meta:{signal:{type:"request_screenshare_enable",payload:{clientId:t,enable:o}}}}},selectLocalClientRaw:e=>e.localClient,selectLocalClientBreakoutGroup:e=>e.localClient.breakoutGroup,selectLocalClientCoLocationGroup:e=>e.localClient.coLocationGroup,selectLocalClientDevicePermissionDenied:e=>e.localClient.isDevicePermissionDenied,selectLocalClientStickyReaction:e=>e.localClient.stickyReaction,selectIsAudioOverridden:e=>e.localClient.overrideAudio,selectLocalClientHasEnabledDevices:e=>e.localClient.hasEnabledDevices,selectLocalClientRole:e=>e.localClient.roleName,selectLocalClientAudioHasBeenResumed:e=>e.localClient.audioHasBeenResumed,selectLocalClientIsAudioSuspended:e=>e.localClient.isAudioSuspended,selectIsAudioStatusTemporary:e=>e.localClient.isAudioStatusTemporary,selectDisplayNameRaw:Object(V.e)("selectPrefs","selectPersisted","selectUser",(e,t,o)=>e.displayName||t.displayName||o.displayName),selectDisplayName:Object(V.e)("selectPrefs","selectPersisted","selectUser",(e,t,o)=>[e.displayName,t.displayName,o.displayName].find(e=>!!e&&Object(ea.b)(e))||null),selectIsDisplayNameForced:Object(V.e)("selectPrefs",e=>!!e.displayName&&Object(ea.b)(e.displayName)),selectLocalClientIsRecorder:Object(V.e)("selectPrefs","selectRoomKeyData",(e,t)=>!!e.recorder||["meetingRecorder","meetingStreamer"].includes(null==t?void 0:t.roomKeyType)),selectLocalClientIsStreamer:Object(V.e)("selectLocalClientRole",e=>"streamer"===e),selectLocalClientIsViewer:Object(V.e)("selectRoomKeyData",e=>["viewer","verifiedViewer"].includes(null==e?void 0:e.roomKeyType)),selectIsAudioWanted:Object(V.e)("selectLocalClientRaw","selectPersisted","selectPrefs",(e,t,o)=>null!==e.wantAudio?e.wantAudio:!!o.audio===o.audio?o.audio:!1!==t.audioEnabled),selectIsAudioEnabled:Object(V.e)("selectAudioId","selectIsAudioOverridden","selectIsAudioWanted","selectIsTownhallMode","selectLocalClientIsRecorder","selectLocalClientIsViewer","selectShouldShowKnockPage","selectShouldShowReviewPage","selectTownhallHasRestoredMuteState",(e,t,o,i,a,n,s,r,c)=>!a&&!n&&(null!==t?!t:null!==e&&(!(!s&&!r)||!(i&&!c)&&o))),selectIsVideoWanted:Object(V.e)("selectLocalClientRaw","selectPersisted","selectPrefs",(e,t,o)=>null!==e.wantVideo?e.wantVideo:!!o.video===o.video?o.video:!1!==t.videoEnabled),selectIsVideoEnabled:Object(V.e)("selectCanAccessCamera","selectIsTownhallMode","selectIsVideoWanted","selectLocalClientIsRecorder","selectLocalClientIsViewer","selectShouldShowKnockPage","selectRoomConnectionQueued","selectShouldShowReviewPage","selectTownhallHasRestoredMuteState","selectVideoId",(e,t,o,i,a,n,s,r,c,l)=>!!e&&(!i&&!a&&(null!==l&&(!!(n||r||s)||!(t&&!c)&&o)))),selectLocalClient:Object(V.e)("selectAudioOnlyModeEnabled","selectBreakoutAssignments","selectBreakoutCurrentId","selectCoLocationAssignments","selectCoLocationCurrentId","selectDeviceId","selectDisplayName","selectIsAudioEnabled","selectIsAudioStatusTemporary","selectRecordingIsRecording","selectStreamingIsStreaming","selectIsSelfieCam","selectIsVideoEnabled","selectLocalClientAvatarUrl","selectLocalClientDevicePermissionDenied","selectLocalClientId","selectLocalClientRole","selectLocalClientStickyReaction","selectLocalStream","selectPrefs","selectSpotlights","selectUser",(e,t,o,i,a,n,s,r,c,l,d,u,m,p,b,g,h,j,f,O,S,R)=>{const C=X({spotlights:S,isPresentation:!1,stream:f,clientId:g});return{avatarUrl:p,breakoutGroup:o,breakoutGroupAssigned:(null==t?void 0:t[n])||"",coLocationGroupAssigned:(null==i?void 0:i[n])||"",coLocationGroup:a,clientId:g,deviceId:n,displayName:`${O.debug?g.slice(0,4):""} ${s||"Guest"}`.trim(),id:g,isAudioEnabled:r,isAudioOnlyModeEnabled:e,isAudioStatusTemporary:c,isDevicePermissionDenied:b,isLocalClient:!0,isPresentation:!1,isRecording:l,isStreaming:d,isSelfieCam:u,isVideoEnabled:m,isSpotlighted:C,roleName:h,stickyReaction:j,stream:f,userId:R.userId}}),selectLocalClientAvatarUrl:Object(V.e)("selectPrefs","selectUser",(e,t)=>e.avatarUrl||t.avatarUrl),selectLocalClientSpokenLang:Object(V.e)("selectPrefs",e=>e.spokenLang||"en")},aa=o(277);const na={locale:null,prevLocale:null,bundles:null,error:null,hasFetched:!1,isFetching:!1},sa=[{locale:"cs",label:"\u010ce\u0161tina"},{locale:"da",label:"Dansk"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{locale:"es",label:"Espa\xf1ol"},{locale:"fr",label:"Fran\xe7ais"},{locale:"it",label:"Italiano"},{locale:"nl",label:"Nederlands"},{locale:"nb",aliasLocale:"no",label:"Norsk"},{locale:"pl",label:"Polski"},{locale:"pt",label:"Portugu\xeas"},{locale:"hi",label:"\u0939\u093f\u0902\u0926\u0940"},{locale:"hu",label:"Magyar"},{locale:"ja",label:"\u65e5\u672c\u8a9e"},{locale:"zh-hant",label:"\u4e2d\u6587(\u7e41\u9ad4)"}];var ra={name:"localization",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"LOCALIZATION_FETCH_RESOURCES_STARTED":return{...e,locale:o,prevLocale:e.locale,isFetching:!0};case"LOCALIZATION_FETCH_RESOURCES_FINISHED":return{...e,bundles:[o],hasFetched:!0,isFetching:!1};case"LOCALIZATION_FETCH_RESOURCES_FAILED":return{...e,locale:e.prevLocale,bundles:e.bundles||[],error:o||i,hasFetched:!0,isFetching:!1}}return e},doSetLanguage:(e,t)=>async o=>{let{dispatch:i,fluentService:a,store:n}=o;i({type:"LOCALIZATION_FETCH_RESOURCES_STARTED",payload:e});try{const o=await a.createResourcesBundle(e);document.documentElement.lang=e,i({type:"LOCALIZATION_FETCH_RESOURCES_FINISHED",payload:o,...t&&{meta:{prefs:{lang:e}}}})}catch(s){i({type:"LOCALIZATION_FETCH_RESOURCES_FAILED",payload:s,error:!0}),n.doCaptureException(s,{tags:{from:"localization"},extra:{lang:e}}),n.doSetNotification("localizationFetchError",{lang:e})}},selectHasLocalizationFetched:e=>e.localization.hasFetched,selectIsLocalizationFetching:e=>e.localization.isFetching,selectLocalizationBundles:e=>e.localization.bundles,selectLocalizationError:e=>e.localization.error,selectLocalizationLocale:e=>e.localization.locale,selectLanguage:Object(V.e)("selectPrefs",e=>function(e,t){const o=Object(aa.a)(e,(i=[...sa.map(e=>[e.locale,e.aliasLocale]),t],[].concat(...i)).filter(Boolean),{defaultLocale:"en"})[0];var i;const a=sa.find(e=>e.aliasLocale===o);return a?a.locale:o}(e.lang?[e.lang]:navigator.languages,e.lang&&e.langOverride?e.lang:void 0)),selectSupportedLanguages:Object(V.e)("selectPrefs","selectFeatureGreekLangOn",(e,t)=>{const o=e.lang&&e.langOverride?e.lang:void 0,i=sa.map(e=>{let{locale:t}=e;return t});return[...!o||i.includes(o)?[]:[{locale:o,label:"Custom: "+o}],...t?sa:sa.filter(e=>{let{locale:t}=e;return"el"!==t})]}),reactFetchLocalization:Object(V.e)("selectHasLocalizationFetched","selectIsLocalizationFetching","selectLanguage",(e,t,o)=>{if(!t&&!e)return{actionCreator:"doSetLanguage",args:[o]}})};const ca={status:"",stream:null,error:null,isAudioSharingDialogOpen:null,stopRequestedByClientId:null};function la(e){var t;const o=(null==(t=e.getVideoTracks()[0])?void 0:t.label)||"";let i=null;return o.startsWith("screen:")?i="screen":o.startsWith("window:")?i="window":o.startsWith("web-contents-media-stream:")?i="tab":""===o&&"safari"===Ze.a.browserDetails.browser||"Primary Monitor"===o&&"firefox"===Ze.a.browserDetails.browser?i="screen":"firefox"===Ze.a.browserDetails.browser&&(i="window"),i}function da(e){var t;const o=(null==(t=e.getVideoTracks()[0])?void 0:t.label)||"";return o.startsWith("screen:")?"screen":o.startsWith("window:")?"window":o.startsWith("web-contents-media-stream:")?"tab":""===o&&"safari"===Ze.a.browserDetails.browser||"Primary Monitor"===o&&"firefox"===Ze.a.browserDetails.browser?"screen":"firefox"===Ze.a.browserDetails.browser?o:"screenshare"}var ua={name:"localScreenshare",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"LOCAL_SCREENSHARE_CLOSED":return{...e,status:"",stream:null,stopRequestedByClientId:o.requestedByClientId||null};case"LOCAL_SCREENSHARE_REQUEST_FAILED":return{...e,status:"",error:o,stream:null};case"LOCAL_SCREENSHARE_REQUEST_STARTED":return{...e,status:"starting"};case"LOCAL_SCREENSHARE_REQUEST_FINISHED":return{...e,status:"active",stream:o,error:null};case"LOCAL_SCREENSHARE_WITH_AUDIO_DIALOG_VISIBLE":return{...e,isAudioSharingDialogOpen:o};case"LOCAL_SCREENSHARE_REQUEST_STAGE_STARTED":case"LOCAL_SCREENSHARE_REQUEST_STAGED":return{...e,error:null};case"LOCAL_SCREENSHARE_REQUEST_STAGED_SWAP":return{...e,stream:o,error:null}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectPrefScreenshareQuality(),a=t(o),n=e.selectPrefScreenshareQuality();if(i!==n){if(e.selectIsScreensharing()){const t=e.selectLocalScreenshareStream();null==t||t.getVideoTracks().forEach(e=>{"contentHint"in e&&(e.contentHint=n)})}e.selectPrefsReady()&&e.doScreenshareToggleQualityAnalytics({quality:n})}return a},selectLocalScreenshareRaw:e=>e.localScreenshare,selectLocalScreenshareStream:e=>e.localScreenshare.stream,selectLocalScreenshareStopRequestedByClientId:e=>e.localScreenshare.stopRequestedByClientId,selectIsScreensharing:e=>"active"===e.localScreenshare.status,selectShouldShowScreenshareWithAudioDialog:e=>!!e.localScreenshare.isAudioSharingDialogOpen,selectLocalScreenshareConstraints:Object(V.e)("selectBrowserIsSafari17","selectFeatureScreenshareAudioOn","selectLocalScreenshareFps","selectResolution","selectScreenShareAudioSupported",(e,t,o,i,a)=>{const n=o,[s,r]=i;return{...t&&a?{audio:{autoGainControl:!1,echoCancellation:!1,googAutoGainControl:!1,noiseSuppression:!1}}:{},video:{...!e&&{width:{max:s}},...!e&&{height:{max:r}},...n&&{frameRate:n}}}}),selectLocalScreenshareSource:Object(V.e)("selectLocalScreenshareRaw",e=>e.stream&&la(e.stream)),selectLocalScreenshareError:Object(V.e)("selectLocalScreenshareRaw",e=>e.error&&String(e.error)),selectLocalScreenshareFps:Object(V.e)("selectFeatureLimitScreenshareOff","selectPrefs","selectPrefLowData","selectResolution",(e,t,o,i)=>{const[a]=i,n=t.screenshareFps;let s=n||15;return(o||a>=1872)&&(s=n?Math.max(Math.floor(n/2),1):3),e?null:s}),selectShouldStartAutoPip:Object(V.e)("selectPrefs","selectCanPip","selectIsPipOpen","selectHasRemoteClientWithVideoEnabled",(e,t,o,i)=>!!e.pipAutoLaunchForScreenshare&&t&&!o&&i),selectSkipScreenshareWithAudioDialog:Object(V.e)("selectPersisted","selectFeatureScreenshareAudioOn",(e,t)=>"chrome"!==Ze.a.browserDetails.browser||!["MacIntel","Win32"].includes(navigator.platform)||!t||!!e.screenshareWithAudioDialogOpened),doCloseScreenshareWithAudioDialog:()=>({type:"LOCAL_SCREENSHARE_WITH_AUDIO_DIALOG_VISIBLE",payload:!1}),doOpenScreenshareWithAudioDialog:()=>({type:"LOCAL_SCREENSHARE_WITH_AUDIO_DIALOG_VISIBLE",payload:!0,meta:{persist:{screenshareWithAudioDialogOpened:(new Date).toISOString()}}}),doStartStagedScreenshare:e=>{let{stream:t}=e;return e=>{let{dispatch:o,store:i}=e;const a=i.selectLocalScreenshareStream();if(a){if(a===t)return;o({type:"LOCAL_SCREENSHARE_REQUEST_STAGED_SWAP",payload:t})}else o({type:"LOCAL_SCREENSHARE_REQUEST_FINISHED",payload:t})}},doToggleScreenshare:function(){let{stop:e,requestedByClientId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async o=>{let{dispatch:i,store:a}=o;const n=a.selectShareDrawerIsOpen();if(e||!n&&a.selectIsScreensharing()){const e=a.selectLocalScreenshareStream();e&&(e.getTracks().forEach(e=>e.stop()),i({type:"LOCAL_SCREENSHARE_CLOSED",payload:{requestedByClientId:t}}))}else{i(n?{type:"LOCAL_SCREENSHARE_REQUEST_STAGE_STARTED"}:{type:"LOCAL_SCREENSHARE_REQUEST_STARTED"});const e=a.selectPrefScreenshareQuality();try{a.selectShouldStartAutoPip()&&a.doOpenPip();const t=await Object(W.j)(a.selectLocalScreenshareConstraints(),e),o=la(t),r=!!t.getAudioTracks().length,c={analytics:ye.b.screenShareActivated({hasAudioTrack:r,participantCount:a.selectNumClients(),source:o})},l=()=>{const e=a.selectShareDrawerStaged().find(e=>e.config.stream===t);e&&a.doShareDrawerUnstage(e.id);a.selectLocalScreenshareStream()===t&&a.doToggleScreenshare({stop:!0})};var s;if(void 0!==t.oninactive)t.addEventListener("inactive",l);else null==(s=t.getVideoTracks()[0])||s.addEventListener("ended",l);n?(a.doShareDrawerStage({stream:t,label:da(t)}),i({type:"LOCAL_SCREENSHARE_REQUEST_STAGED",meta:c})):i({type:"LOCAL_SCREENSHARE_REQUEST_FINISHED",payload:t,meta:c})}catch(r){const e="NotAllowedError"===r.name||"Permission denied"===r.message,t="chrome"===Ze.a.browserDetails.browser,o=!(!("MacIntel"===navigator.platform)||!t)||!e;i({type:"LOCAL_SCREENSHARE_REQUEST_FAILED",payload:o?r:null,error:o}),o&&a.doSetNotification("screenshareError")}}}},reactUpdateLocalScreenshareStream:Object(V.e)("selectLocalScreenshareStream","selectRoomConnectionStatus",(e,t)=>{if(e&&["kicked","left"].includes(t))return{actionCreator:"doToggleScreenshare",args:[{stop:!0}]}})},ma=o(270),pa=o(271);const ba={isFetchingRoomMembers:!1,roomMembers:null};var ga={name:"membership",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"ROOM_MEMBERS_FETCH_STARTED":return{...e,isFetchingRoomMembers:!0};case"ROOM_MEMBERS_FETCH_FINISHED":return{...e,isFetchingRoomMembers:!1,roomMembers:o.roles};case"ROOM_MEMBERS_REMOVED":return{...e,roomMembers:e.roomMembers.filter(e=>e.userId!==o)}}return e},doFetchRoomMembers:()=>async e=>{let{dispatch:t,roleService:o,store:i}=e;t({type:"ROOM_MEMBERS_FETCH_STARTED"});t({type:"ROOM_MEMBERS_FETCH_FINISHED",payload:await o.getRolesOverview(i.selectRoomName())})},doRemoveRoomMember:e=>async t=>{let{dispatch:o,roleService:i,store:a}=t;await i.removeRole({roomName:a.selectRoomName(),userId:e}),o({type:"ROOM_MEMBERS_REMOVED",payload:e})},doInviteRoomMember:e=>async t=>{let{roleService:o,store:i}=t;await o.inviteMembers({roomName:i.selectRoomName(),emails:[e]})},selectMembershipRaw:e=>e.membership,selectIsFetchingRoomMembers:e=>e.membership.isFetchingRoomMembers,selectRoomMembers:e=>e.membership.roomMembers};function ha(e){return e!==Object(e)}function ja(e,t){if(e===t)return!0;if(ha(e)&&ha(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(Object.hasOwnProperty.call(e,o)){if(!(o in t))return!1;if(!ja(e[o],t[o]))return!1}return!0}const fa={messages:[]};function Oa(e,t){const o=e.messages.findIndex(e=>e.type===t.type);return o>-1?{...e,messages:[...e.messages.slice(0,o),t,...e.messages.slice(o+1)]}:{...e,messages:[...e.messages,t]}}var Sa={name:"notifications",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"NOTIFICATION_SET":return Oa(e,o);case"NOTIFICATION_DISMISSED":return{...e,messages:e.messages.filter(e=>!ja({type:e.type,...o.props&&{props:e.props}},{type:o.type,...o.props&&{props:o.props}}))}}return e},doDismissNotification:(e,t)=>({type:"NOTIFICATION_DISMISSED",payload:{type:e,props:t}}),doSetNotification:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"NOTIFICATION_SET",payload:{type:e,timestamp:Date.now(),props:t},meta:o}},selectNotifications:e=>e.notifications.messages,selectNotificationsRaw:e=>e.notifications,reactCloudRecordingStartedNotification:Object(V.e)("selectNotificationsRaw","selectCloudRecordingIsStarted",(e,t)=>{const o=e.messages.find(e=>"cloudRecordingStarted"===e.type);return t&&!o?{actionCreator:"doSetNotification",args:["cloudRecordingStarted"]}:!t&&o?{actionCreator:"doDismissNotification",args:["cloudRecordingStarted"]}:void 0}),reactLiveCaptionsStartedNotification:Object(V.e)("selectNotificationsRaw","selectIsLiveCaptionsEnabled","selectLiveCaptionsIsStarting","selectTranscriptionIsStarting",(e,t,o,i)=>{if(!t)return;const a=o||i,n=e.messages.find(e=>"liveCaptionsStarted"===e.type);return a&&!n?{actionCreator:"doSetNotification",args:["liveCaptionsStarted"]}:!a&&n?{actionCreator:"doDismissNotification",args:["liveCaptionsStarted"]}:void 0}),reactHeldKnockersNotification:Object(V.e)("selectNotificationsRaw","selectHeldKnockers",(e,t)=>{const o=e.messages.find(e=>"heldKnockers"===e.type);return!o&&t.length>0?{actionCreator:"doSetNotification",args:["heldKnockers"]}:o&&0===t.length?{actionCreator:"doDismissNotification",args:["heldKnockers"]}:void 0}),reactOrgKnockersNotification:Object(V.e)("selectNotificationsRaw","selectRoomName","selectUnacknowledgedOrgKnockers",(e,t,o)=>{const i=e.messages.find(e=>"orgKnockers"===e.type),a=o.length;return a>0&&!i?{actionCreator:"doSetNotification",args:["orgKnockers",{}]}:0===a&&i?{actionCreator:"doDismissNotification",args:["orgKnockers"]}:void 0}),reactNonOrgKnockersNotification:Object(V.e)("selectNotificationsRaw","selectRoomName","selectUnacknowledgedNonOrgKnockers",(e,t,o)=>{const i=e.messages.find(e=>"nonOrgKnockers"===e.type),a=o.length;return a>0&&!i?{actionCreator:"doSetNotification",args:["nonOrgKnockers",{}]}:0===a&&i?{actionCreator:"doDismissNotification",args:["nonOrgKnockers"]}:void 0}),reactSignalTroubleNotification:Object(V.e)("selectNotificationsRaw","selectHasSignalTrouble",(e,t)=>{const o=e.messages.find(e=>"signalTrouble"===e.type);return t&&!o?{actionCreator:"doSetNotification",args:["signalTrouble"]}:!t&&o?{actionCreator:"doDismissNotification",args:["signalTrouble"]}:void 0}),reactRaisedHandNotification:Object(V.e)("selectNotificationsRaw","selectCanRequestAudioVideoEnable","selectRemoteClientsWithRaisedHand",(e,t,o)=>{const i=e.messages.find(e=>"raisedHand"===e.type);return o.length>0&&!i&&t?{actionCreator:"doSetNotification",args:["raisedHand"]}:0===o.length&&i?{actionCreator:"doDismissNotification",args:["raisedHand"]}:void 0}),reactRoomFullNotification:Object(V.e)("selectNotificationsRaw","selectShouldShowRoomFullWarning",(e,t)=>{const o=e.messages.find(e=>"roomFull"===e.type);return t&&!o?{actionCreator:"doSetNotification",args:["roomFull"]}:!t&&o?{actionCreator:"doDismissNotification",args:["roomFull"]}:void 0}),reactTemporaryRecordingsWarning:Object(V.e)("selectNumRecordings","selectNotifications",(e,t)=>{if(0===e&&t.map(e=>e.type).includes("temporaryRecordingsWarning"))return{actionCreator:"doDismissNotification",args:["temporaryRecordingsWarning"]}}),reactBreakoutMediaBroadcastNotification:Object(V.e)("selectBreakoutBroadcastClients","selectNotifications",(e,t)=>{const o=e.length>0,i=t.map(e=>e.type).includes("breakoutMediaBroadcast");return!o&&i?{actionCreator:"doDismissNotification",args:["breakoutMediaBroadcast"]}:o&&!i?{actionCreator:"doSetNotification",args:["breakoutMediaBroadcast"]}:void 0}),reactScreenshareFeedbackRequestNotification:Object(V.e)("selectNotificationsRaw","selectShouldShowScreenshareFeedback",(e,t)=>{const o=e.messages.find(e=>"screenshareFeedbackRequest"===e.type);return t&&!o?{actionCreator:"doSetNotification",args:["screenshareFeedbackRequest"]}:!t&&o?{actionCreator:"doDismissNotification",args:["screenshareFeedbackRequest"]}:void 0})},Ra=o(214);const Ca={id:"",name:"",error:null,fetchedAt:null,isFetching:!1,isOnTrial:null,onTrialUntil:null,trialStatus:null};var va={name:"organization",reducer:function(){var e,t,o;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,{type:a,payload:n,error:s}=arguments.length>1?arguments[1]:void 0;switch(a){case"ORGANIZATION_FETCH_STARTED":return{...i,isFetching:!0};case"ORGANIZATION_FETCH_FINISHED":return{...i,id:n.organizationId,isOnTrial:null==(e=n.account)?void 0:e.isOnTrial,trialStatus:null==(t=n.account)?void 0:t.trialStatus,name:n.organizationName,permissions:n.permissions,logoUrl:n.logoImageUrl,onTrialUntil:null==(o=n.account)?void 0:o.onTrialUntil,organizationName:n.organizationName,preferences:n.preferences,error:null,fetchedAt:Date.now(),isFetching:!1,subdomain:n.subdomain};case"ORGANIZATION_FETCH_FAILED":return{...i,error:n||s,isFetching:!1}}return i},doFetchCurrentOrganization:()=>async e=>{let{dispatch:t,organizationServiceCache:o}=e;t({type:"ORGANIZATION_FETCH_STARTED"});try{t({type:"ORGANIZATION_FETCH_FINISHED",payload:await o.fetchOrganization()})}catch(i){t({type:"ORGANIZATION_FETCH_FAILED",payload:i,error:!0})}},selectOrganizationRaw:e=>e.organization,selectOrganizationFetchedAt:e=>e.organization.fetchedAt,selectOrganizationId:e=>e.organization.id,selectOrganizationLogoUrl:e=>e.organization.logoUrl,selectOrganizationName:e=>e.organization.organizationName,selectOrganizationPermissions:e=>e.organization.permissions,selectOrganizationPrefs:e=>e.organization.preferences,selectHasOrganizationFetched:e=>!!e.organization.id,selectHasOrganizationError:e=>!!e.organization.error,selectIsPublicOrganization:e=>""===e.organization.subdomain,selectIsFetchingOrganization:e=>e.organization.isFetching,selectCanCustomizeOrganizationRoom:Object(V.e)("selectOrganizationPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.customize)||!t.isAllowed)}),selectIsListOrganizationSubscriptionsSupported:Object(V.e)("selectOrganizationPermissions",e=>{var t;return!(null==e||null==(t=e.subscriptions)||null==(t=t.list)||!t.isSupported)}),selectIsOmitOrganizationPrivacyPolicySupported:Object(V.e)("selectOrganizationPermissions",e=>{var t;return!(null==e||null==(t=e.privacyPolicy)||!t.omit.isSupported)}),selectOrganizationTrialDaysLeft:Object(V.e)("selectAppTime","selectOrganizationRaw","selectShouldShowOrganizationTrialBanner",(e,t,o)=>o&&t.onTrialUntil?Math.floor((new Date(t.onTrialUntil).getTime()-e)/864e5):null),selectShouldShowOrganizationTrialBanner:Object(V.e)("selectOrganizationRaw","selectUserIsAdmin",(e,t)=>!(!t||!e.isOnTrial)),selectOrganizationHasValidTrial:e=>e.organization.trialStatus&&"TRIAL_VALID"===e.organization.trialStatus,reactFetchCurrentOrganization:Object(V.e)("selectIsFetchingOrganization","selectLoginStatusChangedAt","selectOrganizationFetchedAt",(e,t,o)=>{if(!e&&t>o)return{actionCreator:"doFetchCurrentOrganization"}})},ya={name:"pendingPrefs",getReducer:()=>{const e={};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case"PENDING_PREF_RESET":return{};case"PENDING_PREF_PREV_SET":return{...t,[i.key]:i.prevValue};case"PENDING_PREF_PREV_DELETE":if(i.key in t){const e={...t};return delete e[i.key],e}return t}return t}},doPendingPrefReset:()=>e=>{let{dispatch:t,store:o}=e;const i={...o.selectPendingPrefsRaw()},a={};for(const n in i)Object.hasOwnProperty.call(i,n)&&(a[n]=i[n]);t({type:"PENDING_PREF_RESET",meta:{prefs:a}})},doPendingPref:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{updateQuery:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{let{dispatch:a,store:n}=i;const s=n.selectPrefs()[e];if(t===s)return;const r=n.selectPendingPrefsRaw()[e],c={prefs:{[e]:{value:t,updateQuery:o}}};void 0===r?a({type:"PENDING_PREF_PREV_SET",payload:{key:e,prevValue:s},meta:c}):r===t&&a({type:"PENDING_PREF_PREV_DELETE",payload:{key:e},meta:c})}},selectPendingPrefsRaw:e=>e.pendingPrefs,selectNeedReload:e=>!!Object.keys(e.pendingPrefs).length};const Ia={data:null,fetchedAt:null,isFetching:!1,error:null};var Ea={name:"permissions",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"PERMISSIONS_FETCH_STARTED":return{...e,isFetching:!0};case"PERMISSIONS_FETCH_FINISHED":return{...e,data:o,error:null,fetchedAt:Date.now(),isFetching:!1};case"PERMISSIONS_FETCH_FAILED":return{...e,error:o||!0,isFetching:!1}}return e},doFetchPermissions:()=>async e=>{let{store:t,dispatch:o,roomService:i}=e;o({type:"PERMISSIONS_FETCH_STARTED"});try{o({type:"PERMISSIONS_FETCH_FINISHED",payload:await i.getRoomPermissions(t.selectRoomName(),{roomKey:t.selectRoomKey()})})}catch(a){o({type:"PERMISSIONS_FETCH_FAILED",payload:a,error:!0})}},selectPermissionsRaw:e=>e.permissions,selectPermissionsFetchedAt:e=>e.permissions.fetchedAt,selectCanAccessCamera:Object(V.e)("selectPrefs",e=>!!e.cameraAccess),selectCanEndMeeting:Object(V.e)("selectPermissions",e=>!!(e&&e.actionsOnRole&&e.actionsOnRole.owner.kick.isAllowed)),selectCanListRoomMembers:Object(V.e)("selectPermissions",e=>!!(e&&e.roomRoles&&e.roomRoles.remove.isAllowed)),selectIsSetLockSupported:Object(V.e)("selectPermissions","selectPrefs",(e,t)=>{var o;return!(null==e||null==(o=e.rooms)||null==(o=o.lock)||!o.isSupported)&&t.locking}),selectCanSetLock:Object(V.e)("selectPermissions","selectPrefs",(e,t)=>{var o;return!(null==e||null==(o=e.rooms)||null==(o=o.lock)||!o.isAllowed)&&t.locking}),selectCanJoinLocked:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.joinLocked)||!t.isAllowed)}),selectCanAcceptKnock:Object(V.e)("selectPermissions",e=>!!(e&&e.knock&&e.knock.accept.isAllowed)),selectCanSetKnockPageBackground:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.setKnockPageBackground)||!t.isAllowed)}),selectCanSetLogo:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.setLogo)||!t.isAllowed)}),selectCanSetRoomBackground:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.setBackground)||!t.isAllowed)}),selectCanSetRoomMode:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.changeMode)||!t.isAllowed)}),selectCanManageBreakout:Object(V.e)("selectCanSetRoomMode","selectMaxRoomSizeByRoomMode","selectPermissions","selectPrefs","selectRoomMode",(e,t,o,i,a)=>{var n;return!!i.breakout&&t[H.t.GROUP]>=H.w&&!(null==o||null==(n=o.rooms)||null==(n=n.manageBreakout)||!n.isAllowed)&&(e||a===H.t.GROUP)}),selectCanStartBreakout:Object(V.e)("selectCanManageBreakout","selectCoLocationActive","selectRoomMode",(e,t,o)=>e&&!t&&o===H.t.GROUP),selectCanManageCoLocation:Object(V.e)("selectCanSetRoomMode","selectMaxRoomSizeByRoomMode","selectPermissions","selectPrefs","selectRoomMode",(e,t,o,i,a)=>{var n;return!!i.coLocation&&t[H.t.GROUP]>=H.w&&!(null==o||null==(n=o.rooms)||null==(n=n.manageCoLocation)||!n.isAllowed)&&(e||a===H.t.GROUP)}),selectCanStartCoLocation:Object(V.e)("selectCoLocationAvailable","selectCanManageCoLocation","selectBreakoutActive","selectRoomMode",(e,t,o,i)=>e&&t&&!o&&i===H.t.GROUP),selectCanStartCloudRecording:Object(V.e)("selectPermissions","selectPrefs",(e,t)=>{var o;return!(null==e||null==(o=e.rooms)||null==(o=o.startCloudRecording)||!o.isAllowed)&&"cloud"===t.recording}),selectCanStartRecording:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.startRecording)||!t.isAllowed)}),selectCanStartStreaming:Object(V.e)("selectFeatureStreamingConfigUIOn","selectPermissions","selectPrefStreaming","selectStreamingRtmpUri","selectStreamingStartTrigger",(e,t,o,i,a)=>{var n;return!!o&&(!(null==t||null==(n=t.rooms)||null==(n=n.startStreaming)||!n.isAllowed)&&(!(!e&&!i)&&"automatic"!==a))}),selectCanChangeRoomIntegrations:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.changeEnabledRoomIntegrations)||!t.isAllowed)}),selectCanRequestAudioVideoEnable:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.requestAudioVideoEnable)||!t.isAllowed)}),selectCanRequestScreenshareEnable:Object(V.e)("selectPermissions","selectPrefs",(e,t)=>{var o;return!(null==e||null==(o=e.rooms)||null==(o=o.requestScreenshareEnable)||!o.isAllowed)&&t.screenshare}),selectCanSpotlight:Object(V.e)("selectPermissions",e=>{var t;return!!(e&&e.rooms&&null!=(t=e.rooms.spotlight)&&t.isAllowed)}),selectLimits:Object(V.e)("selectPermissionsRaw",e=>e.data&&e.data.limits),selectMaxRoomSizeByRoomMode:Object(V.e)("selectFeatureIsExemptFromRoomFullConstraint","selectLimits",(e,t)=>({...(null==t?void 0:t.maxRoomSizeByRoomMode)||{},...e?{group:200}:null})),selectPresenterLimit:Object(V.e)("selectLimits",e=>null==e?void 0:e.presenterLimit),selectPermissions:Object(V.e)("selectPermissionsRaw",e=>e.data&&e.data.permissions),selectCanUpdateRoomPreference:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.preferenceUpdate)||!t.isAllowed)}),selectCanSkipPrecallCeremony:Object(V.e)("selectFeaturePrecallTestOnlyOn","selectPrefs","selectCanJoinLocked","selectShouldShowPrecallCeremony",(e,t,o,i)=>!e&&(!(!i||null==t||!t.precallCeremonyCanSkip)||!!o&&!!i)),selectCanReportAbuse:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.reportAbuse)||!t.isAllowed)}),reactFetchPermissions:Object(V.e)("selectPermissionsRaw","selectHasRoomFetched","selectLoginStatusChangedAt","selectPermissionsFetchedAt",(e,t,o,i)=>{if(t&&!e.isFetching&&!e.error&&(!e.data||o>i))return{actionCreator:"doFetchPermissions"}})},xa={name:"persist",persistActions:["PERSIST"],reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;return"PERSIST"===t?{...e,...o}:e},getMiddleware:()=>e=>t=>o=>{const i=t(o);return o.meta&&o.meta.persist&&e.doPersist(o.meta.persist),i},doPersist:e=>({type:"PERSIST",payload:e}),selectPersisted:e=>e.persist};const Ta={error:null,hasFetched:!1,isFetching:!1,subscription:[]};var La={name:"personalSubscription",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"PERSONAL_SUBSCRIPTION_FETCH_STARTED":return{...e,isFetching:!0};case"PERSONAL_SUBSCRIPTION_FETCH_FINISHED":return{...e,isFetching:!1,hasFetched:!0,subscription:o};case"PERSONAL_SUBSCRIPTION_FETCH_FAILED":return{...e,error:o||i,isFetching:!1}}return e},selectPersonalSubscriptionRaw:e=>e.personalSubscription,selectHasPersonalSubscriptionFetchError:e=>!!e.personalSubscription.error,selectPersonalSubscriptionIsFree:Object(V.e)("selectPersonalSubscriptionRaw",e=>{const t=e.subscription;return Array.isArray(t)&&!t.length}),selectPersonalSubscriptionIsPro:Object(V.e)("selectPersonalSubscriptionRaw",e=>{const t=e.subscription;return Array.isArray(t)&&t.length>0&&"active"===t[0].state}),doFetchPersonalSubscription:()=>async e=>{let{store:t,dispatch:o,personalSubscriptionService:i}=e;const a=t.selectPersonalSubscriptionRaw();if(!a.hasFetched&&!a.error){o({type:"PERSONAL_SUBSCRIPTION_FETCH_STARTED"});try{const e=t.selectUser();o({type:"PERSONAL_SUBSCRIPTION_FETCH_FINISHED",payload:await i.getSubscriptionsForUser(e.userId)})}catch(n){o({type:"PERSONAL_SUBSCRIPTION_FETCH_FAILED",payload:n,error:!0})}}}},ka=o(4),_a=o(25);function Na(e){let{aspectRatio:t,avatarSize:o,cellPaddings:i,client:a=null,isDraggable:n=!0,isPlaceholder:s=!1,isSubgrid:r=!1}=e;return{aspectRatio:t||16/9,avatarSize:o,cellPaddings:i,client:a,clientId:a.id,isDraggable:n,isPlaceholder:s,isSubgrid:r,type:"video"}}function wa(e){let{integration:t,isSubgrid:o=!1,isDraggable:i=!1}=e;return t?{type:"integration",integration:t,aspectRatio:"video"===t.type?t.aspectRatio:void 0,isSubgrid:o,isDraggable:i,clientId:o?"room-integration-placeholder":"room-integration"}:null}function Aa(e){let{groupedClients:t}=e;return t?{type:"groups",aspectRatio:void 0,clientId:"breakout-groups",groupedClients:t,isDraggable:!1}:null}function Da(e){let{type:t}=e;return t?{type:t,aspectRatio:4/3,isDraggable:!1,clientId:"empty-invitation-cell"}:null}const{hasMountedDialogs:Pa}=ka.G,Ma={activeVideosPhoneLimit:H.a,activeVideosSubgridTrigger:H.b,fullscreenClientId:null,isBottomToolbarHidden:!1,isBottomToolbarPinned:!0,isFloatingBottomToolbarActive:!1,isFloatingTopToolbarActive:!1,isTopToolbarHidden:!1,maximizedClientId:null,sortedClientIds:[]};function Fa(e){let{sortedClientIds:t=[],clients:o=[]}=e;if(!t.length)return o;const i=o.filter(e=>!t.includes(e.id)).map(e=>e.id);t=[...t,...i];return[...o].sort((e,o)=>t.indexOf(e.id)-t.indexOf(o.id))}var Ba={name:"roomLayout",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"ROOM_LAYOUT_MAXIMIZE":return{...e,maximizedClientId:o.id,fullscreenClientId:null};case"ROOM_LAYOUT_SET_SORTED_CLIENT_IDS":return{...e,sortedClientIds:o};case"ROOM_LAYOUT_FULLSCREEN":return{...e,fullscreenClientId:o.clientId,maximizedClientId:null};case"ROOM_INTEGRATION_MAXIMIZE":return{...e,maximizedClientId:o.maximized?null:e.maximizedClientId,fullscreenClientId:null};case"ROOM_LAYOUT_TOGGLE_TOOLBARS":return{...e,isTopToolbarHidden:o.isTopToolbarHidden,isBottomToolbarHidden:o.isBottomToolbarHidden,isBottomToolbarPinned:o.isBottomToolbarPinned};case"ROOM_LAYOUT_PIN_BOTTOM_TOOLBAR":return{...e,isBottomToolbarPinned:o};case"ROOM_LAYOUT_SET_ACTIVE_TOP_TOOLBAR":return{...e,isFloatingTopToolbarActive:o};case"ROOM_LAYOUT_SET_ACTIVE_BOTTOM_TOOLBAR":return{...e,isFloatingBottomToolbarActive:o};case"ROOM_LEFT":case Y.a.CLIENT_KICKED:return{...e,fullscreenClientId:null}}return e},doToggleToolbars:function(){let{pin:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{dispatch:o,store:i}=t;const a=i.selectIsTopToolbarHidden()&&i.selectIsBottomToolbarHidden();o({type:"ROOM_LAYOUT_TOGGLE_TOOLBARS",payload:{isTopToolbarHidden:!a,isBottomToolbarHidden:!a,isBottomToolbarPinned:!!a&&e}})}},doPinBottomToolbar:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ROOM_LAYOUT_PIN_BOTTOM_TOOLBAR",payload:e}},doSetFloatingTopToolbarActive:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ROOM_LAYOUT_SET_ACTIVE_TOP_TOOLBAR",payload:e}},doSetFloatingBottomToolbarActive:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ROOM_LAYOUT_SET_ACTIVE_BOTTOM_TOOLBAR",payload:e}},doReorderClients:e=>{let{id:t,withId:o}=e;return e=>{let{dispatch:i,store:a}=e;const{maximizedClientId:n}=a.selectRoomLayoutRaw(),s=a.selectClientViewsOnStage().map(e=>e.id),r=s.indexOf(t),c=s.indexOf(o),l=a.selectLocalClientId();r<0||c<0||([s[c],s[r]]=[s[r],s[c]],t===n?a.doSetMaximizedClient({id:o,source:"reorder",type:l===t?"local":"remote"}):o===n&&a.doSetMaximizedClient({id:t,source:"reorder",type:l===t?"local":"remote"}),i({type:"ROOM_LAYOUT_SET_SORTED_CLIENT_IDS",payload:s}))}},doSetMaximizedClient:e=>{let{id:t}=e;return e=>{let{dispatch:o}=e;o({type:"ROOM_LAYOUT_MAXIMIZE",payload:{id:t}})}},doUnsetMaximizedClient:function(){let{source:e,type:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{store:i}=o;i.doSetMaximizedClient({id:null,source:e,type:t})}},doExitMaximizeMode:()=>e=>{let{store:t}=e;const o=t.selectMaximizedClientView();if(o){const e=t.selectLocalClientId(),i=o.id===e?"local":"remote";t.doUnsetMaximizedClient({source:"room-header",type:o.isPresentation?"screenshare":i})}else{const[e]=t.selectRunningRoomIntegrations().slice(-1);e&&t.doRoomIntegrationMaximize({maximized:!1,roomIntegrationSessionId:e.state.roomIntegrationSessionId})}},doEnterFullscreenMode:e=>t=>{let{dispatch:o,store:i}=t;o({type:"ROOM_LAYOUT_FULLSCREEN",payload:{clientId:e}}),e?Object(Co.a)({onError:e=>{i.doSetNotification("fullscreenError",{description:e.message}),setTimeout(()=>i.doEnterFullscreenMode(null))}}):Object(Co.c)()&&Object(Co.b)()},doExitFullscreenMode:()=>e=>{let{store:t}=e;t.doEnterFullscreenMode(null)},doHandleLayoutClick:e=>t=>{let{store:o}=t;if(!o.selectIsTouchDevice())return;const i=["a","button","button *"].filter(Boolean).join(",");e.target.matches(i)||_a.a.count()>0||Pa()||o.doToggleToolbars()},selectRoomLayoutActiveVideosPhoneLimit:e=>e.roomLayout.activeVideosPhoneLimit,selectRoomLayoutActiveVideosSubgridTrigger:e=>e.roomLayout.activeVideosSubgridTrigger,selectRoomLayoutRaw:e=>e.roomLayout,selectIsTopToolbarHidden:e=>!!e.roomLayout.isTopToolbarHidden,selectSortedClientIds:e=>e.roomLayout.sortedClientIds,selectIsFullscreenMode:e=>!!e.roomLayout.fullscreenClientId,selectIsBottomToolbarHidden:e=>!!e.roomLayout.isBottomToolbarHidden,selectIsFloatingBottomToolbarActive:e=>!!e.roomLayout.isFloatingBottomToolbarActive,selectIsFloatingTopToolbarActive:e=>!!e.roomLayout.isFloatingTopToolbarActive,selectIsBottomToolbarPinned:e=>!!e.roomLayout.isBottomToolbarPinned,selectIsTransientWithNoToolbar:Object(V.e)("selectRoomType","selectPrefs","selectPrefLogo",(e,t,o)=>"transient"===e&&!o&&!t.settingsButton&&!t.pipButton&&!t.participantCount&&!t.locking&&!t.moreButton&&!t.callQualityMonitoring),selectHasTopToolbar:Object(V.e)("selectBreakoutCurrentId","selectIsFullscreenMode","selectIsMaximizeMode","selectPrefs","selectIsTransientWithNoToolbar",(e,t,o,i,a)=>!!e||!(!1===i.topToolbar&&!t&&!o)&&!a),selectHasBottomToolbar:Object(V.e)("selectLocalClientIsRecorder","selectPrefs",(e,t)=>!(e||!t.bottomToolbar)),selectBottomToolbarItems:Object(V.e)("selectLocalClientIsViewer","selectCanAccessCamera","selectCanScreenshare","selectIsRoomIntegrationsAvailable","selectCanRecord","selectCanStartStreaming","selectPrefs","selectBreakoutCurrentId","selectShouldShowProRecordingUpsell","selectShouldShowBusinessRecordingUpsell","selectShouldShowCaptionsButton","selectShouldShowLiveTranscriptionButton",(e,t,o,i,a,n,s,r,c,l,d,u)=>{const m=(c||l)&&!a&&!n,p=[];return e||(t&&p.push("cam"),p.push("mic")),e||!o&&!i||p.push("share"),e||!a&&!n||p.push("recording"),d&&p.push("captions"),u&&p.push("live-transcription"),!e&&m&&p.push("recording-promo"),!0===s.reactionsButton&&!1!==s.reactions&&p.push("reactions"),!1!==s.chat&&p.push("chat"),!1!==s.people&&p.push("participants"),(!1!==s.leaveButton||r)&&p.push("leave"),p}),selectBottomToolbarButtonItems:Object(V.e)("selectBottomToolbarItems","selectLayoutStageFrame",(e,t)=>{const{width:o}=t.bounds,i=Math.floor(o/60);if(e.length<=i)return e;const a=e.includes("leave"),n=a?i-1:i;return[...e.slice(0,n-1),"more",...a?["leave"]:[]]}),selectBottomToolbarOverflowItems:Object(V.e)("selectBottomToolbarItems","selectBottomToolbarButtonItems",(e,t)=>e.filter(e=>!t.includes(e))),selectIsTopToolbarFloating:Object(V.e)("selectIsTopToolbarHidden","selectLayoutCanFitToolbars",(e,t)=>e||!t),selectIsBottomToolbarFloating:Object(V.e)("selectIsBottomToolbarHidden","selectIsFullscreenMode","selectIsMaximizeMode","selectLayoutCanFitToolbars","selectLayoutHasOverflow",(e,t,o,i,a)=>t||o||!i||e||a),selectRoomLayoutHasImplicitStage:Object(V.e)("selectAllClientViewsInCurrentGroup","selectBreakoutActive","selectLayoutIsSmallMeetingSize","selectShouldShowSubgrid",(e,t,o,i)=>{if(!t&&!o&&i){return e.filter(e=>e.isVideoEnabled).length/e.length<=.2}return!1}),selectCanFloat:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectIsFullscreenMode","selectLocalClient","selectRoomLayoutHasImplicitStage","selectSpotlightedClientViewsInCurrentGroup",(e,t,o,i,a,n)=>!(!i.isVideoEnabled||o||e&&!t||n.find(e=>e.id===i.id)||a)),selectFloatingClientView:Object(V.e)("selectCanFloat","selectLocalClient","selectPrefs",(e,t,o)=>o.floatSelf&&e?t:null),selectMaximizedClientView:Object(V.e)("selectRoomLayoutRaw","selectClientViewsNotFloating",(e,t)=>e.maximizedClientId?t.find(t=>t.id===e.maximizedClientId):null),selectIsMaximizeMode:Object(V.e)("selectRoomLayoutRaw","selectRunningRoomIntegrations",(e,t)=>{const[o]=t.slice(-1);return!!e.maximizedClientId||!(null==o||!o.state.isMaximized)}),selectFullscreenClientView:Object(V.e)("selectLocalClient","selectRemoteClientViews","selectRoomLayoutRaw",(e,t,o)=>o.fullscreenClientId?[e,...t].find(e=>e.id===o.fullscreenClientId):null),selectAllClientViews:Object(V.e)("selectLocalClient","selectLocalClientIsRecorder","selectLocalClientIsViewer","selectRemoteClientViews","selectSortedClientIds",(e,t,o,i,a)=>Fa({sortedClientIds:a,clients:[t||o?void 0:e,...i].filter(Boolean)})),selectAllClientViewsInCurrentGroup:Object(V.e)("selectAllClientViews","selectBreakoutActive","selectBreakoutCurrentId",(e,t,o)=>t||o?e.filter(e=>e.isLocalClient||e.breakoutGroup===(o||"")||e.breakoutGroupAssigned&&e.breakoutGroupAssigned===o):e),selectClientViewsNotFloating:Object(V.e)("selectAllClientViewsInCurrentGroup","selectFloatingClientView",(e,t)=>t?e.filter(e=>e.id!==t.id):e),selectClientViewsOnStage:Object(V.e)("selectClientViewsInHiddenGrid","selectClientViewsInSubgrid","selectClientViewsNotFloating","selectShouldShowSubgrid",(e,t,o,i)=>{let a=o;return e.length&&(a=a.filter(t=>!e.includes(t))),i&&(a=a.filter(e=>!t.includes(e))),a}),selectClientViewsInPresentationGrid:Object(V.e)("selectClientViewsOnStage","selectFullscreenClientView","selectIntegrationsInPresentationGrid","selectSpotlightedClientViewsInCurrentGroup","selectMaximizedClientView",(e,t,o,i,a)=>t?[t]:a?[a]:o.length?[]:i.filter(t=>e.includes(t))),selectIntegrationsInPresentationGrid:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectIsFullscreenMode","selectIsMaximizeMode","selectMaximizedClientView","selectRunningRoomIntegrations",(e,t,o,i,a,n)=>!n.length||o||i&&a||e&&!t&&(!i||a)?[]:[n[0]]),selectClientViewsInGrid:Object(V.e)("selectClientViewsInPresentationGrid","selectClientViewsOnStage",(e,t)=>t.filter(t=>!e.includes(t))),selectClientViewsInSubgrid:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectClientViewsNotFloating","selectFeatureConstrainedOverflowBehaviorOn","selectIsPhoneResolution","selectIsRoomIntegrationRunning","selectMaximizedClientView","selectRoomLayoutActiveVideosPhoneLimit","selectRoomLayoutActiveVideosSubgridTrigger","selectRoomLayoutHasImplicitStage","selectShouldShowSubgrid","selectSpotlightedClientViewsInCurrentGroup",(e,t,o,i,a,n,s,r,c,l,d,u)=>{if(!d)return[];const m=u.length>0,p=m||n||!!s||l,b=!!((a||i)&&p||e&&!t&&!s),g=o,h=s?g.filter(e=>e.id!==s.id):g,j=h.filter(e=>!u.includes(e)),f=j.filter(e=>e.isVideoEnabled).length>c,O=j.filter(e=>!e.isVideoEnabled||e.breakoutGroup!==t);if(b){let e=[];return e=s?h.filter(e=>!O.includes(e)):m&&!n?j.filter(e=>!O.includes(e)):h.filter(e=>!O.includes(e)),[...e,...O]}const S=j.filter(e=>!O.includes(e)&&e.isAudioEnabled),R=j.filter(e=>!O.includes(e)&&!e.isAudioEnabled);if(O.length&&p)return[...R,...O];if(a&&j.length>r){const e=[...S,...R],t=e.slice(0,r);return t.length<=r?[...e.filter(e=>!t.includes(e)),...O]:[...R,...O]}if(f&&R.length){const e=[...S,...R].slice(0,c);return e.length<=c?[...R.filter(t=>!e.includes(t)),...O]:[...R,...O]}return O}),selectIntegrationsInSubgrid:Object(V.e)("selectIntegrationsInPresentationGrid","selectRunningRoomIntegrations","selectShouldShowSubgrid",(e,t,o)=>o?t.filter(t=>!e.find(e=>e.id===t.id)):[]),selectClientViewsInHiddenGrid:Object(V.e)("selectAllClientViewsInCurrentGroup","selectBroadcastClientViews","selectFullscreenClientView",(e,t,o)=>o?[...e,...t].filter(e=>e.id!==o.id):t),selectEmptyRoomInvitationType:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentGroup","selectIsFullscreenMode","selectIsMaximizeMode","selectIsOnboardingOpen","selectIsRoomEmpty","selectIsRoomIntegrationRunning","selectIsScreensharing","selectIsSignupOpen","selectLocalClientIsRecorder","selectPrefs","selectRoomProduct","selectSidebarLayersRaw","selectSidebarWasInitiallyFloating","selectUserId",(e,t,o,i,a,n,s,r,c,l,d,u,m,p,b)=>{const g=!e&&!t&&!1!==d.emptyRoomInvitation&&n&&!r&&!i&&!o&&!s&&!a&&!c&&!l,h=m.find(e=>{let{id:t}=e;return t===ve.e});return g&&(u||"").startsWith("personal_")&&!b&&null===(null==h?void 0:h.isOpen)&&p?"signup_cta":g?"copy_link":null}),selectShouldShowSubgrid:Object(V.e)("selectBreakoutCurrentGroup","selectIsFullscreenMode","selectNumClients","selectPrefs","selectRoomLayoutRaw",(e,t,o,i,a)=>(!e||e&&a.maximizedClientId)&&!t&&(!!i.subgrid||o>H.w)),selectCellViewsFloating:Object(V.e)("selectFloatingClientView","selectLayoutClientAspectRatios",(e,t)=>e?[Na({client:e,aspectRatio:t[e.id]})]:[]),selectCellViewsHiddenGrid:Object(V.e)("selectClientViewsInHiddenGrid","selectLayoutClientAspectRatios",(e,t)=>e.map(e=>Na({client:e,aspectRatio:t[e.id]}))),selectCellViewsSubgrid:Object(V.e)("selectBreakoutCurrentId","selectClientViewsInSubgrid","selectIntegrationsInSubgrid","selectLayoutClientAspectRatios",(e,t,o,i)=>[...t.map(t=>Na({client:t,aspectRatio:i[t.id],isSubgrid:!0,isPlaceholder:t.breakoutGroup!==e})),...o.map(e=>wa({integration:e,isSubgrid:!0}))].filter(Boolean)),selectCellViewsPresentationGrid:Object(V.e)("selectCanSpotlight","selectClientViewsInPresentationGrid","selectIntegrationsInPresentationGrid","selectIsMaximizeMode","selectLayoutClientAspectRatios",(e,t,o,i,a)=>[...o.map(e=>wa({integration:e,isDraggable:i})),...t.map(t=>Na({client:t,aspectRatio:a[t.id],isDraggable:e||i}))].filter(Boolean)),selectCellViewsPipPresentationGrid:Object(V.e)("selectCanSpotlight","selectClientViewsInPresentationGrid","selectIsMaximizeMode","selectLayoutClientAspectRatios",(e,t,o,i)=>t.filter(e=>"local-screenshare"!==(null==e?void 0:e.id)).map(t=>Na({client:t,aspectRatio:i[t.id],isDraggable:e||o})).filter(Boolean)),selectCellViewsHiddenPresentationGrid:Object(V.e)("selectIsFullscreenMode","selectIsMaximizeMode","selectIsRoomIntegrationRunning","selectMaximizedClientView","selectRunningRoomIntegrations",(e,t,o,i,a)=>o&&(e||t&&i)?[wa({integration:a[0]})]:[]),selectCellViewsGroups:Object(V.e)("selectBreakoutGroupedClients",e=>e.length?[Aa({groupedClients:e})]:[]),selectCellViewsVideoGrid:Object(V.e)("selectBreakoutCurrentId","selectCellViewsGroups","selectClientViewsInGrid","selectEmptyRoomInvitationType","selectLayoutClientAspectRatios",(e,t,o,i,a)=>[...t,...o.map(t=>Na({client:t,aspectRatio:a[t.id],isPlaceholder:t.breakoutGroup!==e})),Da({type:i})].filter(Boolean)),reactSyncFullscreenId:Object(V.e)("selectRoomLayoutRaw","selectFullscreenClientView",(e,t)=>{if(e.fullscreenClientId&&!t)return{actionCreator:"doExitFullscreenMode"}}),reactSyncMaximizedId:Object(V.e)("selectRoomLayoutRaw","selectMaximizedClientView",(e,t)=>{if(e.maximizedClientId&&!t)return{actionCreator:"doUnsetMaximizedClient"}})};class qa{constructor(){this.container=null}static isSupported(){return"documentPictureInPicture"in window}async start(e){let{onLeavePictureInPicture:t=(()=>{}),store:o}=e;if(documentPictureInPicture.window)return void documentPictureInPicture.window.close();const i=await documentPictureInPicture.requestWindow({initialAspectRatio:640/360,copyStyleSheets:!0});this.container=documentPictureInPicture.window.document.createElement("div"),i.document.body.appendChild(this.container),this._copyStyleSheets(i);const a=function(){o.doUpdateDocumentPipFrame()};i.addEventListener("resize",a),i.addEventListener("unload",()=>{i.removeEventListener("resize",a),t()})}_copyStyleSheets(e){const t=e=>"STYLE"===e.nodeName.toUpperCase()||"LINK"===e.nodeName.toUpperCase()&&"STYLESHEET"===e.rel.toUpperCase();for(const o of document.head.children)t(o)&&e.document.head.appendChild(o.cloneNode(!0))}stop(){documentPictureInPicture.window&&documentPictureInPicture.window.close(),this.container=null}updateClients(){}updateReactions(){}teardown(){this.stop()}}const za=function(){let e=!1,t=null;self.addEventListener("message",(function(o){switch(o.data.type){case"start":var i;if(!e)return e=!0,t=setInterval(()=>self.postMessage("schedule"),(null==(i=o.data.payload)?void 0:i.fps)||1e3/12);break;case"stop":return clearInterval(t),e=!1}}),!1)};class Ga{constructor(e){let{callback:t,disableRafCallbacks:o,fps:i}=e;this.callback=t,this.disableRafCallbacks=o,this.fps=i,this.isRunning=!1,this.isVisible=void 0,this.interval=void 0,this.worker=function(e){const t=new Blob(["(",e.toString(),").call(this);"],{type:"text/javascript"});return new Worker(URL.createObjectURL(t))}(za),this.worker.addEventListener("message",this.callback)}start(){this.isRunning=!0,this.isVisible=this._isDocumentVisible(),document.addEventListener("visibilitychange",this),this.isVisible?this.interval=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,o=Date.now(),i=null;function a(){i=requestAnimationFrame(a),Date.now()-o>=1e3/t&&(e(),o=Date.now())}return i=requestAnimationFrame(a),{fps:t,clear:()=>i&&cancelAnimationFrame(i)}}(this.callback,this.fps):this.worker.postMessage({type:"start",payload:{fps:this.fps}})}stop(){this.isRunning=!1,document.removeEventListener("visibilitychange",this),this.interval&&this.interval.clear(),this.worker.postMessage({type:"stop"})}terminate(){this.isRunning&&this.stop(),this.worker.removeEventListener("message",this.callback),this.worker.terminate(),this.worker=null,this.callback=null}handleEvent(e){"visibilitychange"===e.type&&this._onVisibilityChange()}_isDocumentVisible(){return!this.disableRafCallbacks&&"visible"===document.visibilityState}_onVisibilityChange(){this.isRunning&&this.isVisible!==this._isDocumentVisible()&&(this.stop(),this.start())}}function Ua(e){let{width:t,cellAspectRatio:o,cellCount:i}=e;const a=Math.round(t/o),n=Math.round(t);return i<=1?{width:n,height:a,cellRects:[{origin:{x:0,y:0},bounds:{width:n,height:a}}],cellCount:i}:function(e){let{width:t,height:o,cellCount:i}=e;const a=Math.min(i,12);let n=0,s=0;a<=2?(n=2,s=1):a<=4?(n=2,s=2):a<=6?(n=3,s=2):a<=9?(n=3,s=3):(n=4,s=3);const r={width:Math.round(t/n),height:Math.round(o/s)},c=[...Array(a)].map((e,t)=>({origin:{x:Math.floor(t%n)*r.width,y:Math.floor(t/n)*r.height},bounds:r}));return{width:r.width*n,height:r.height*s,cellRects:c,cellCount:a}}({width:n,height:a,cellCount:i})}var Ha=o(82);let Va=0;class Wa{constructor(e){let{message:t,width:o,height:i}=e;this.message=t,this.startTime=Date.now(),this.expired=!1,this.replaced=!1,this.bounds={width:o,height:i},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.index=Va++,this._landingPathPoints=null,this.opacityA=new Ha.a(1,400,70),this.scaleA=new Ha.a(1,400,16),this.progressA=new Ha.a(1,400,100),this._cacheDraw(),this.snapTo({x:0,y:0,opacity:.9,scale:.7,progress:0}),this.setEnd({opacity:1,scale:1}),this.timeout=setTimeout(()=>this.expire(),2600)}snapTo(e){let{opacity:t,scale:o,progress:i}=e;void 0!==t&&this.opacityA.snap(t),void 0!==o&&this.scaleA.snap(o),void 0!==i&&this.progressA.snap(i)}setEnd(e){let{opacity:t,scale:o,progress:i}=e;void 0!==t&&this.opacityA.setEnd(t),void 0!==o&&this.scaleA.setEnd(o),void 0!==i&&this.progressA.setEnd(i)}xy(){if(this.replaced){const{startPt:e,controlPt:t,endPt:o}=this._landingPathPoints;return function(e,t,o,i){return{x:Math.pow(1-i,2)*e.x+2*(1-i)*i*t.x+Math.pow(i,2)*o.x,y:Math.pow(1-i,2)*e.y+2*(1-i)*i*t.y+Math.pow(i,2)*o.y}}(e,t,o,this._progress())}return{x:0,y:0}}opacity(){return Math.max(this.opacityA.x(),0)}scale(){return Math.max(this.scaleA.x(),0)}expire(){this.expired||this.replaced||(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.expired=!0,this.snapTo({x:0,y:0,opacity:0,scale:0})},1e3),this.setEnd({opacity:0,progress:1}))}markReplaced(e){let{burstCount:t}=e;if(!this.replaced&&!this.expired){const e=this.index%2?1:-1,n=Math.min((o=this.bounds.width/10,i=this.bounds.width/2,o*(1-(a=t/10))+i*a),this.bounds.width/2)*e;this._landingPathPoints=this._buildLandingPathPoints({direction:e,x:n}),this.replaced=!0,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.expired=!0,this.snapTo({x:0,y:0,opacity:0,scale:0})},1e3),this.opacityA.reconfigure(1,400,140),this.setEnd({opacity:.2,scale:.8,progress:1})}var o,i,a}draw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.save(),e.translate(this.bounds.width/2,this.bounds.height/2);const o=this.xy(),i=this.scale();t&&this._drawDebug(e),e.scale(i,i);const a=this.canvas.width/2+(this.bounds.width-this.canvas.width)/2,n=this.canvas.height/2+(this.bounds.height-this.canvas.height)/2;e.globalAlpha=this.opacity(),e.drawImage(this.canvas,o.x-a,o.y-n),e.restore()}_cacheDraw(){const e=Math.min(this.bounds.height,this.bounds.width);this.canvas.width=e,this.canvas.height=e,this.ctx.translate(this.bounds.width/2,this.bounds.height/2),this.ctx.font=.3*this.bounds.width+"px system-ui, -apple-system, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(this.message.text,0,0)}_drawDebug(e){const t=this._landingPathPoints;t&&(e.beginPath(),e.strokeStyle="green",e.lineWidth=5,e.moveTo(t.startPt.x,t.startPt.y),e.quadraticCurveTo(t.controlPt.x,t.controlPt.y,t.endPt.x,t.endPt.y),e.stroke())}_progress(){return Math.max(this.progressA.x(),0)}_buildLandingPathPoints(e){let{direction:t,x:o}=e;return{startPt:{x:0,y:0},controlPt:{x:.2*this.bounds.width*t,y:-.5*this.bounds.height},endPt:{x:o,y:this.bounds.height}}}}class Ka{constructor(e){let{text:t,dpr:o=1}=e;this.text=t,this.dpr=o,this.count=1,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.opacityA=new Ha.a(1,170,26),this.increment(0)}init(){this.opacity()||this.opacityA.setEnd(1)}increment(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.count+=e,this._cacheDraw()}opacity(){return Math.max(this.opacityA.x(),0)}draw(e,t,o){e.save(),e.globalAlpha=this.opacity(),e.drawImage(this.canvas,t,o),e.restore()}expire(){this.opacityA.setEnd(0)}_cacheDraw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this._calculateBounds();var o,i,a,n,s,r;this.canvas.width=t.canvas.width,this.canvas.height=t.canvas.height,this.ctx.save(),o=this.ctx,i=0,a=0,n=this.canvas.width,s=this.canvas.height,r=4*this.dpr,n<2*r&&(r=n/2),s<2*r&&(r=s/2),o.beginPath(),o.moveTo(i+r,a),o.arcTo(i+n,a,i+n,a+s,r),o.arcTo(i+n,a+s,i,a+s,r),o.arcTo(i,a+s,i,a,r),o.arcTo(i,a,i+n,a,r),o.closePath(),this.ctx.fillStyle="#000",this.ctx.globalAlpha=.6,this.ctx.fill(),this.ctx.restore(),e&&(this.ctx.beginPath(),this.ctx.rect(8*this.dpr,4*this.dpr,t.emoji.width,t.emoji.height),this.ctx.rect(8*this.dpr+t.emoji.width+4*this.dpr,4*this.dpr,t.count.width,t.count.height),this.ctx.fillStyle="red",this.ctx.fill()),this.ctx.fillStyle="#fff",this._setEmojiFont(),this.ctx.fillText(this.text,Math.round(8*this.dpr+t.emoji.width/2),Math.round(4*this.dpr+t.emoji.height/2)),this._setCountFont(),this.ctx.fillText(this.count,Math.round(8*this.dpr+t.emoji.width+t.count.width/2+4*this.dpr),Math.round(4*this.dpr+t.count.height/2))}_setEmojiFont(){this.ctx.font=18*this.dpr+"px system-ui, -apple-system, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="middle"}_setCountFont(){this.ctx.font=14*this.dpr+'px "Inter var", "Inter", system-ui, -apple-system, sans-serif',this.ctx.textAlign="center",this.ctx.textBaseline="middle"}_calculateBounds(){this._setEmojiFont();const e=this.ctx.measureText(this.text);this._setCountFont();const t=this.ctx.measureText("0".repeat(this.count.toString().length)),o={width:Math.round(e.width),height:Math.round(e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},i={width:Math.round(t.width),height:Math.round(t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},a=Math.max(o.height,i.height);return{emoji:{width:o.width,height:a},count:{width:i.width,height:a},canvas:{width:Math.round(8*this.dpr*2+o.width+4*this.dpr+i.width),height:Math.round(4*this.dpr*2+Math.max(o.height,i.height))}}}}class $a{constructor(e){let{dpr:t}=e;this.dpr=t,this.hOffsetA=new Ha.a(1,120,26),this.badges={},this.timeout=setTimeout(()=>this._expire(),2500),this.isExpiring=!1}getBurstCount(){return Object.keys(this.badges).reduce((e,t)=>e+this.badges[t].count,0)}increment(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this._expire(),2500),this.isExpiring&&this._reset();const t=this.badges[e];t?t.increment():this.badges[e]=new Ka({text:e,dpr:this.dpr});const o=Object.keys(this.badges);(o.length>1||t&&t.count>1)&&o.forEach(e=>this.badges[e].init())}draw(e){const t=Object.keys(this.badges);if(!t.length)return;const o=4*this.dpr,i=4*this.dpr;let a=o;const n=t.reduce((e,t)=>e+this.badges[t].canvas.width,0)+4*(t.length-1)*this.dpr+2*o,s=e.canvas.width-n;s<0&&this.hOffsetA.setEnd(s),e.save(),e.translate(this.hOffsetA.x(),e.canvas.height);for(let r=0;r<t.length;r++){const o=this.badges[t[r]];o.draw(e,a,-1*(i+o.canvas.height)),a+=o.canvas.width+4*this.dpr}e.restore()}_expire(){this.isExpiring=!0,Object.keys(this.badges).forEach(e=>this.badges[e].expire()),this.timeout=setTimeout(()=>{this._reset()},1e3)}_reset(){this.isExpiring=!1,this.hOffsetA.snap(0),this.badges={}}}const Qa=location.search.includes("pipDebug"),Ya=["red","green","blue","orange","yellow"],Ja=()=>{};class Za{static isSupported(){const e=!!document.createElement("canvas").captureStream,t="pictureInPictureEnabled"in document&&document.pictureInPictureEnabled;return e&&t}constructor(){let{disableRafCallbacks:e=!1,fps:t=18}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fps=t,this.dpr=window.devicePixelRatio||1,this.prefsMirror=!0,this.onLeavePictureInPicture=Ja,this.clients=[],this.reactions=[],this.reactionsCounter=new $a({dpr:this.dpr}),this.scheduler=new Ga({callback:this._draw.bind(this),disableRafCallbacks:e,fps:this.fps}),this.layout=null,this.ready=void 0,this.started=void 0,this._reset()}start(e){var t;let{prefsMirror:o=!0,onLeavePictureInPicture:i=Ja}=e;return this.ready?(document.pictureInPictureElement&&document.exitPictureInPicture(),this.onLeavePictureInPicture=i,this.prefsMirror=o,null==(t=this._play())||t.catch(e=>{throw console.error("Pip video play error: "+e),e}),this.video.requestPictureInPicture()):Promise.reject({name:"notready",userMessage:"Please try again."})}stop(){document.exitPictureInPicture().then(null,()=>{this._onleavepictureinpicture()})}updateClients(e){let{clients:t}=e;this.clients=t||[],this._updateLayout()}updateReactions(e){let{messages:t=[]}=e;if(!this.started)return;const o=Date.now(),i=this.reactions.map(e=>e.message.id),a=t.filter(e=>!i.includes(e.id)&&o-e.received<2600);if(!a.length)return;a.forEach(e=>this.reactionsCounter.increment(e.text));const n=this.reactionsCounter.getBurstCount(),s=a.map(e=>new Wa({message:e,width:Math.round(this.layout.width),height:Math.round(this.layout.height)})),r=s.pop(),c=[...this.reactions.filter(e=>!e.expired),...s];c.forEach(e=>e.markReplaced({burstCount:n})),this.reactions=[...c,...r?[r]:[]]}teardown(){this.started&&this.stop(),this.scheduler.terminate(),this.scheduler=null,this.clients=[],this.ready=!1,this.started=!1,this._teardownDOM()}handleEvent(e){var t;null==(t=this["_on"+e.type])||t.call(this)}_onloadedmetadata(){this.ready||(this.ready=!0,this.scheduler.stop())}_onenterpictureinpicture(){this.started=!0}_onleavepictureinpicture(){this.started=!1,this._pause(),this.onLeavePictureInPicture(),this._reset()}_reset(){this.ready=!1,this.started=!1,this._teardownDOM(),this._initDOM(),this.scheduler.start(),this.reactions=[]}_setCanvasSize(){this.ready?(this.canvas.width=Math.round(this.layout.width),this.canvas.height=Math.round(this.layout.height)):(this.canvas.width=50,this.canvas.height=Math.round(this.canvas.width/1.5))}_initDOM(){this.canvas=document.createElement("canvas"),window.mycanvas=this.canvas,this._setCanvasSize(),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.video=document.createElement("video"),this.video.muted=!0,this.video.autoplay=!0,this.video.playsinline=!0,Qa&&(this.canvas.setAttribute("style","position: fixed; top: 0; left: 0; pointer-events: none;"),document.body.appendChild(this.canvas)),document.body.appendChild(this.video),this.video.setAttribute("style",`position: fixed; right: 0; bottom: 0; pointer-events: none; opacity: ${Qa?1:0};`),this.video.addEventListener("loadedmetadata",this),this.video.addEventListener("enterpictureinpicture",this),this.video.addEventListener("leavepictureinpicture",this),this.video.srcObject=this.canvas.captureStream(this.fps)}_teardownDOM(){this.video&&(this.video.removeEventListener("loadedmetadata",this),this.video.removeEventListener("enterpictureinpicture",this),this.video.removeEventListener("leavepictureinpicture",this),this.video.remove(),Qa&&this.canvas.remove(),this.video=null,this.canvas=null,this.ctx=null)}_play(){return this._setCanvasSize(),this.scheduler.start(),this.video.play()}_pause(){this.scheduler.stop(),this.video.load()}_updateLayout(){this.layout=Ua({width:300*this.dpr,cellAspectRatio:1.5,cellCount:this.clients.length})}_draw(){this.ctx.fillStyle=Qa?Ya[Math.floor(Math.random()*Ya.length)]:"#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.started&&(this.clients.length?this.clients.forEach((e,t)=>{const o=document.querySelectorAll(`[data-clientid="${e.id}"] video`)[0];if(!o)return void console.warn("PipRenderer: missing video for clientId",e.id);const i=this.layout.cellRects[t];if(!i)return;o.paused&&o.play();let a=i.origin.x;const n=e.isLocalClient&&this.prefsMirror;n&&(this.ctx.save(),this.ctx.translate(this.canvas.width,0),this.ctx.scale(-1,1),a=Math.round(this.canvas.width-i.bounds.width+i.origin.x)),function(e){let{ctx:t,video:o,x:i=0,y:a=0,width:n,height:s,objectFit:r="none",offsetX:c=.5,offsetY:l=.5}=e;const d=o.videoWidth,u=o.videoHeight,m=Math["cover"===r?"max":"min"](n/d,s/u),p=d/(d*m/n),b=u/(u*m/s),g=(d-p)*c,h=(u-b)*l;t.drawImage(o,g,h,p,b,i,a,n,s)}({ctx:this.ctx,video:o,x:a,y:i.origin.y,width:i.bounds.width,height:i.bounds.height,objectFit:"cover"}),n&&this.ctx.restore()}):(this.ctx.font=16*this.dpr+"px system-ui, -apple-system, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="#fff",this.ctx.fillText("No camera on",this.canvas.width/2,this.canvas.height/2)),this.reactions.length&&this.reactions.filter(e=>!e.expired).forEach(e=>e.draw(this.ctx,Qa)),this.reactionsCounter.draw(this.ctx,Qa))}}function Xa(){return!!(navigator.mediaSession&&navigator.mediaSession.setActionHandler&&navigator.mediaSession.setCameraActive&&navigator.mediaSession.setMicrophoneActive)}const en={isInfoDialogOpen:!1,isOpen:!1,renderer:null,isMediaSessionInitialized:!1,documentPipFrame:null};var tn={name:"pip",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"PIP_RENDERER_INIT":return{...e,renderer:o.renderer};case"PIP_RENDERER_TEARDOWN":return{...e,renderer:null};case"PIP_OPEN":return{...e,isOpen:!0};case"PIP_CLOSE":return{...e,isOpen:!1};case"PIP_INFO_DIALOG_OPEN":return{...e,isInfoDialogOpen:!0};case"PIP_INFO_DIALOG_CLOSE":return{...e,isInfoDialogOpen:!1};case"PIP_MEDIASESSION_INITIALIZED":return{...e,isMediaSessionInitialized:!0};case"PIP_DOCUMENT_PIP_UPDATE_FRAME":return{...e,documentPipFrame:o.documentPipFrame}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectIsAudioEnabled(),a=e.selectIsVideoEnabled(),n=e.selectIsPipOpen(),s=t(o);if(!e.selectFeaturePipControlsOff()&&Xa()){const{isMediaSessionInitialized:t}=e.selectPipRaw();if(t||n||!e.selectIsPipOpen()||e.doPipInitMediaSession_(),t){const t=e.selectIsVideoEnabled();if(a!==t)try{var r;null==(r=navigator.mediaSession)||r.setCameraActive(t)}catch(l){console.error(l)}const o=e.selectIsAudioEnabled();if(i!==o)try{var c;null==(c=navigator.mediaSession)||c.setMicrophoneActive(o)}catch(l){console.error(l)}}}return s},doOpenPip:()=>e=>{let{dispatch:t,store:o}=e;const{renderer:i}=o.selectPipRaw();if(i){const e=o.selectPrefs();t({type:"PIP_OPEN",meta:{persist:{pipOpened:(new Date).toISOString()}}}),i.start({prefsMirror:!1!==e.mirror,onLeavePictureInPicture:()=>{t({type:"PIP_CLOSE"}),o.selectIsDocumentPipSupported()&&t({type:"PIP_DOCUMENT_PIP_UPDATE_FRAME",payload:{documentPipFrame:null}})},store:o}).then(null,e=>{i.stop(),o.doSetNotification("genericError",{title:"Could not start Picture in Picture",description:e.userMessage||e.message})})}},doClosePip:()=>e=>{let{dispatch:t,store:o}=e;const{renderer:i}=o.selectPipRaw();i.stop(),t({type:"PIP_CLOSE"})},doClosePipInfoDialog:()=>({type:"PIP_INFO_DIALOG_CLOSE"}),doOpenPipInfoDialog:()=>({type:"PIP_INFO_DIALOG_OPEN"}),doTogglePip:e=>t=>{let{store:o}=t;return o.selectIsPipOpen()?o.doClosePip(e):o.doOpenPip(e)},doInitPipRenderer:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectCanDocumentPip())t({type:"PIP_RENDERER_INIT",payload:{renderer:new qa}});else if(o.selectCanPip()){const e=o.selectFeaturePipRafCallbacksOff();t({type:"PIP_RENDERER_INIT",payload:{renderer:new Za({disableRafCallbacks:!!e})}})}},doTeardownPipRenderer:()=>e=>{let{dispatch:t,store:o}=e;const{renderer:i}=o.selectPipRaw();i&&(i.teardown(),t({type:"PIP_RENDERER_TEARDOWN"}))},doPipInitMediaSession_:()=>e=>{let{dispatch:t,store:o}=e;if(Xa()){t({type:"PIP_MEDIASESSION_INITIALIZED"});try{navigator.mediaSession.setActionHandler("togglecamera",()=>{o.doToggleVideoEnabled(!o.selectIsVideoEnabled(),{context:"pip"})}),navigator.mediaSession.setCameraActive(o.selectIsVideoEnabled())}catch(i){console.error(i)}try{navigator.mediaSession.setActionHandler("togglemicrophone",()=>{o.doToggleAudioEnabled(!o.selectIsAudioEnabled(),{context:"pip"})}),navigator.mediaSession.setMicrophoneActive(o.selectIsAudioEnabled())}catch(i){console.error(i)}try{navigator.mediaSession.setActionHandler("hangup",()=>{o.doLeaveRoom({context:"pip"})})}catch(i){console.error(i)}}},doUpdateDocumentPipFrame:()=>e=>{var t,o;let{dispatch:i}=e;Number.isInteger(null==(t=documentPictureInPicture)||null==(t=t.window)?void 0:t.innerWidth)&&Number.isInteger(null==(o=documentPictureInPicture)||null==(o=o.window)?void 0:o.innerHeight)?i({type:"PIP_DOCUMENT_PIP_UPDATE_FRAME",payload:{documentPipFrame:Object(vi.j)({width:documentPictureInPicture.window.innerWidth,height:documentPictureInPicture.window.innerHeight})}}):i({type:"PIP_DOCUMENT_PIP_UPDATE_FRAME",payload:{documentPipFrame:null}})},selectPipRaw:e=>e.pip,selectIsPipOpen:e=>!!e.pip.isOpen,selectIsDocumentPipOpen:Object(V.e)("selectIsPipOpen","selectCanDocumentPip","selectDocumentPipFrame",(e,t,o)=>!!e&&!!t&&!!o),selectShouldShowPipInfoDialog:e=>e.pip.isInfoDialogOpen,selectIsPipSupported:()=>Za.isSupported(),selectIsDocumentPipSupported:Object(V.e)("selectFeatureDocumentPipOn",e=>e&&qa.isSupported()),selectCanPip:Object(V.e)("selectIsPipSupported","selectBrowserIsIos","selectBrowserIsSafari17",(e,t,o)=>e&&!t&&!o),selectCanDocumentPip:Object(V.e)("selectCanPip","selectIsDocumentPipSupported",(e,t)=>e&&t),selectDocumentPipFrame:e=>e.pip.documentPipFrame,selectDocumentPipContainer:e=>{var t;return null==(t=e.pip.renderer)?void 0:t.container},selectHasOpenedPip:Object(V.e)("selectPersisted",e=>!!e.pipOpened),selectPipClients:Object(V.e)("selectAllClientViewsInCurrentGroup","selectIsPipOpen","selectLocalClient","selectSortedClientIds",(e,t,o,i)=>{if(!t)return[];const a=e.filter(e=>!e.isPresentation&&e.isVideoEnabled&&!e.isLocalClient);return a.length?Fa({sortedClientIds:i,clients:a}):o.isVideoEnabled?[o]:[]}),reactUpdateStreams:Object(V.e)("selectPipRaw","selectPipClients",(e,t)=>{let{renderer:o}=e;o&&o.updateClients({clients:t})}),reactUpdateReactions:Object(V.e)("selectPipRaw","selectLatestReactionByClientId",(e,t)=>{let{renderer:o}=e;o&&o.updateReactions({messages:Object.values(t)})})};const on={reviewed:!1,namepromptCompleted:!1,wantPrecallReview:null,policyAccepted:!1,cancelledRoomJoin:!1,kickFromOtherRooms:!1};var an={name:"precall",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"PRECALL_REVIEW_DONE":return{...e,reviewed:!0,cancelledRoomJoin:!1};case"CANCEL_ROOM_JOIN":case"PRECALL_REVIEW_REQUIRED":return{...e,reviewed:!1,cancelledRoomJoin:!0};case"PRECALL_REVIEW_WANTED":return{...e,wantPrecallReview:o};case"PRECALL_NAMEPROMPT_COMPLETED":return{...e,namepromptCompleted:!0};case"PRECALL_PRIVACY_POLICY_ACCEPTED":return{...e,policyAccepted:!0};case"PRECALL_KICK_FROM_OTHER_ROOMS":return{...e,kickFromOtherRooms:o}}return e},doSetPrecallReviewDone:()=>({type:"PRECALL_REVIEW_DONE"}),doSetPrecallReviewRequired:()=>({type:"PRECALL_REVIEW_REQUIRED"}),doSetPrecallReviewWanted:e=>({type:"PRECALL_REVIEW_WANTED",payload:e,meta:{analytics:ye.b.precallSkipReviewSet(!e),persist:{skipPrecallReview:!e}}}),doSetPrecallNamePrompt:e=>t=>{let{store:o}=t;o.doSetLocalDisplayName(e),o.doPrecallAcceptPolicy(),o.doPrecallNamePromptDone()},doPrecallNamePromptDone:()=>({type:"PRECALL_NAMEPROMPT_COMPLETED"}),doPrecallAcceptPolicy:()=>({type:"PRECALL_PRIVACY_POLICY_ACCEPTED",meta:{persist:{policyAccepted:!0}}}),doSetPrecallKickFromOtherRooms:e=>({type:"PRECALL_KICK_FROM_OTHER_ROOMS",payload:e}),selectPrecallNamePromptCompleted:e=>e.precall.namepromptCompleted,selectPrecallKickFromOtherRooms:e=>e.precall.kickFromOtherRooms,selectPrecallRaw:e=>e.precall,selectHasReachedPrecallReview:Object(V.e)("selectPersisted",e=>!!e.precallReachedReview),selectShouldShowNamePrompt:Object(V.e)("selectApplicationState","selectDisplayName","selectLocalClientIsRecorder","selectPrecallNamePromptCompleted","selectPrefs","selectWasRecentlyInRoom",(e,t,o,i,a,n)=>{const s=!!a.displayName&&!Object(ea.b)(a.displayName),r=!!t&&!Object(ea.b)(t),c=!t&&!n;return!o&&"started"===e&&!1!==a.namePrompt&&!i&&(s||r||c)}),selectIsPrecallReviewWanted:Object(V.e)("selectPrecallRaw","selectPersisted",(e,t)=>null!==e.wantPrecallReview?e.wantPrecallReview:!0!==t.skipPrecallReview),selectShouldShowReviewPage:Object(V.e)("selectPrecallRaw","selectApplicationState","selectIsPrecallReviewWanted","selectKnockStatus","selectLocalStreamIsDummy","selectPrefs","selectShouldShowKnockPage","selectWasRecentlyInRoom","selectRoomConnectionStatus",(e,t,o,i,a,n,s,r,c)=>s?!e.reviewed||["","standby"].includes(i):!a&&!1!==n.precallReview&&(!(!r||!e.cancelledRoomJoin)||!(null===e.wantPrecallReview&&!o)&&(!e.reviewed&&"started"===t&&!["queued","reconnect","joining"].includes(c)&&!r))),selectPrecallPrivacyPolicyAccepted:Object(V.e)("selectPrecallRaw","selectPersisted",(e,t)=>e.policyAccepted||!!t.policyAccepted),selectPrecallShouldShowPrivacyPolicyPage:Object(V.e)("selectPrecallPrivacyPolicyAccepted","selectApplicationState","selectIsOmitOrganizationPrivacyPolicySupported","selectLocalClientIsRecorder","selectPrefs","selectIsDisplayNameForced",(e,t,o,i,a,n)=>!e&&!i&&o&&"started"===t&&n&&!!a.precallPrivacyPolicy),selectPrecallPermissionHelpLink:Object(V.e)("selectPrefs",e=>!1!==(null==e?void 0:e.precallReview)&&e.precallPermissionHelpLink?e.precallPermissionHelpLink:H.q),selectShouldShowPrecallCeremony:Object(V.e)("selectFeaturePrecallTestOnlyOn","selectPrefs","selectLocalClientIsViewer",(e,t,o)=>e||!1!==(null==t?void 0:t.precallReview)&&!!t.precallCeremony&&!o),reactUpdateKickFromOtherRooms:Object(V.e)("selectRoomConnectionStatus","selectKnockStatus","selectPrecallKickFromOtherRooms",(e,t,o)=>{if(o&&("joining"===e||"waiting"===t))return{actionCreator:"doSetPrecallKickFromOtherRooms",args:[!1]}})},nn=o(215);const sn=e=>({off:!1,on:!0,"":!0}[e]),rn=e=>e?decodeURIComponent(e.replace(/[+]/g," ")):void 0,cn=e=>void 0===e?void 0:rn(e).split(",").filter(Boolean),ln=e=>e,dn=()=>{},un=()=>!0,mn=e=>!e.minimal&&!e.embed,pn=e=>!Object(Lo.a)()&&mn(e),bn={aec:{default:un},agc:{default:un},ageWarning:{default:un},analytics:{default:un},animations:{default:un},audio:{},audioDenoiser:{},autoHideSelfView:{},autoSpotlight:{},avatarUrl:{query:rn,scrub:!0},background:{},bankId:{query:dn},bottomToolbar:{default:un},breakout:{default:mn},cameraAccess:{default:un},cameraEffect:{query:rn},coLocation:{default:un},virtualBackgroundUrl:{query:rn,scrub:!0},callQualityMonitoring:{default:mn},chat:{default:mn},connectionMonitor:{default:un},debug:{},displayName:{query:rn,scrub:!0},effects:{default:un},embed:{},emojiSkinTone:{query:ln,scrub:!0},emptyRoomInvitation:{default:pn},experiments:{query:rn},experimentsVariant:{query:rn},fileSharing:{default:un},floatSelf:{},forceSfuProtocol:{query:rn},gestureDetection:{},groups:{query:e=>void 0===e?void 0:{...cn(e)}},hd:{},help:{},iosStep:{default:pn},keyboardShortcuts:{default:un},lang:{query:rn},langOverride:{},leaveButton:{default:mn},localization:{default:un},locking:{default:mn},logo:{default:mn},lowData:{},minimal:{default:e=>e.embed},mirror:{},moreButton:{default:mn},namePrompt:{default:un},needAncestor:{query:dn},onboardingSteps:{query:cn},participantCount:{default:mn},people:{default:un},personality:{default:un},pipAutoLaunch:{},pipAutoLaunchForScreenshare:{default:un},pipButton:{default:mn},precallCeremony:{},precallCeremonyCanSkip:{},precallPrivacyPolicy:{query:dn,default:un},precallPermissionHelpLink:{query:rn,scrub:!0},precallReview:{default:mn},preview:{},profilerStats:{},reactionsButton:{},reactions:{default:un},recorder:{},recording:{default:pn,query:e=>e&&(/on|off/.test(e)?sn(e):e)},recordingStartTrigger:{query:dn},recordingUrl:{},resolution:{query:ln},roomIntegrations:{default:pn},screenshare:{default:mn},screenshareFps:{query:e=>e?Math.max(1,Math.min(60,+e)):void 0},screenshareQuality:{query:e=>["detail","motion","text"].includes(e)?e:void 0},settingsButton:{default:mn},sfu:{query:ln},skipLargeMode:{},skipMediaPermissionPrompt:{},spokenLang:{query:rn},stats:{},streaming:{default:un},streamStartTrigger:{query:dn},streamUrl:{query:dn},subgrid:{default:un},subgridLabels:{default:pn},theme:{query:rn},themeFontHeadlineUrl:{query:rn},timer:{},toolbarDarkText:{},topToolbar:{default:un},turn:{query:ln},userAuth:{default:e=>pn(e)&&!e.bankId},video:{},videoGridGap:{default:un},widescreen:{}},gn=Object.keys(bn);var hn={name:"prefs",getMiddleware:()=>e=>t=>o=>{const i=t(o);return o.meta&&o.meta.prefs&&Object.entries(o.meta.prefs).forEach(t=>{let[o,i]=t;"object"===typeof i&&null!==i?e.doPref(o,i.value,{updateQuery:i.updateQuery}):e.doPref(o,i)}),i},doPref:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{updateQuery:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{let{dispatch:a,store:n}=i,s={...n.selectPersisted().prefs}||{},r={...n.selectQueryObject()}||{};const c=o||void 0===o&&e in r;null===t?(s=Object(Ie.a)(s,e),r=Object(Ie.a)(r,e)):(s[e]=t,r[e]={true:"on",false:"off"}[t]||t),c&&n.doUpdateQuery(r),a({type:"PREFS_UPDATED",meta:{persist:{prefs:s}}})}},selectPrefs:Object(V.e)("selectOrganizationPrefs","selectPersisted","selectQueryObject","selectRoomPrefs",(e,t,o,i)=>{const a={...e,...i};for(const c of gn){var n,s,r;a[c]=null!=(n=null!=(s=(bn[c].query||sn)(o[c]))?s:null==(r=t.prefs)?void 0:r[c])?n:a[c]}for(const c of gn)void 0===a[c]&&bn[c].default&&(a[c]=bn[c].default(a));return a}),selectQueryObjectPrefs:Object(V.e)("selectQueryObject",e=>{const t={};for(const i of gn){var o;t[i]=null!=(o=(bn[i].query||sn)(e[i]))?o:t[i]}return t}),selectPrefsReady:Object(V.e)("selectOrganizationFetchedAt","selectHasRoomFetched",(e,t)=>!(!e||!t)),selectQueryPrefs:Object(V.e)("selectQueryObject",e=>Object.keys(e).reduce((t,o)=>{if(gn.includes(o)){const i=e[o];"undefined"!==typeof i&&(t[o]=bn[o].scrub?"<redacted>":i)}return t},{})),selectPrefLowData:Object(V.e)("selectIsPhoneResolution","selectPrefs",(e,t)=>{var o;return null!=(o=t.lowData)?o:e}),selectPrefHd:Object(V.e)("selectFeatureHdDefaultOff","selectPrefs",(e,t)=>{var o;return null!=(o=t.hd)?o:!e}),selectPrefWidescreen:Object(V.e)("selectPrefs","selectRoomIsFree",(e,t)=>{var o;return null!=(o=e.widescreen)?o:!t}),selectPrefBankId:Object(V.e)("selectOrganizationPrefs","selectRoomPrefs",(e,t)=>e&&t?e.roomBankId&&t.bankId||e.bankId:null),selectPrefScreenshareQuality:Object(V.e)("selectFeatureScreenshareQualityOn","selectPrefs",(e,t)=>e&&t.screenshareQuality||"detail"),selectPrefStreaming:Object(V.e)("selectPrefs",e=>!!e.streaming),selectPrefLogo:Object(V.e)("selectRoomType","selectPrefs",(e,t)=>"transient"!==e||t.logo),selectPrefHelp:Object(V.e)("selectRoomType","selectPrefs",(e,t)=>{var o;return null!=(o=t.help)?o:"transient"!==e&&mn(t)})};const jn=Date.now();let fn=!1;function On(e){return{isClaimed:e.isClaimed,isLocked:e.isLocked,mode:e.mode,product:e.product,type:e.type,roomName:e.roomName,theme:e.theme,preferences:e.preferences,publicProfile:e.publicProfile,timeLimitEnabledAt:e.timeLimitEnabledAt}}var Sn={name:"room",getReducer:()=>{let e={};try{e=JSON.parse(sessionStorage.roomSessions)}catch(o){}const t={error:null,hasFetched:!1,isFetching:!1,isConcurrent:!1,isEmbedded:Object(Lo.a)(),isFull:!1,isFullWarningDismissed:!1,isMaxViewerLimitReached:!1,isRoomSessionEnding:!1,session:null,shouldKeepRoomPublicProfileEducation:!1,roomSessionExisted:!1,modeError:null,refreshing:!1,remoteRecording:!1,room:On({}),roomLockError:null,roomSessions:e};return function(){var e;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,{type:i,payload:a,error:n}=arguments.length>1?arguments[1]:void 0;switch(i){case Y.a.ROOM_THEME_CHANGED:case Y.a.KNOCK_PAGE_BACKGROUND_CHANGED:case Y.a.BACKGROUND_IMAGE_CHANGED:case Y.a.ROOM_LOGO_CHANGED:return{...o,room:{...o.room,theme:{...o.room.theme,...a.resolvedTheme}}};case Y.a.CLIENT_UNABLE_TO_JOIN_ERROR:return{...o,isFull:"room_full"===a.error||o.room.isFull,isMaxViewerLimitReached:"max_viewer_limit_reached"===a.error||o.room.isMaxViewerLimitReached,isConcurrent:"room_concurrency_control_error"===a.error||o.room.isConcurrent};case Y.a.CLIENT_LEFT:return{...o,isFull:!1,isFullWarningDismissed:!1};case Y.a.NEW_CLIENT:case Y.a.ROOM_JOINED:return{...o,session:a.room.session,isRoomSessionEnding:!1,room:{...o.room,timeLimitEnabledAt:a.room.timeLimitEnabledAt||o.room.timeLimitEnabledAt,mode:a.room.mode||o.room.mode,theme:{...o.room.theme,...a.room.theme}}};case Y.a.ROOM_SESSION_ENDED:return(null==(e=o.session)?void 0:e.id)!==a.roomSessionId?o:{...o,session:null,isRoomSessionEnding:!1};case Y.a.ROOM_MODE_CHANGED:case Y.a.ROOM_TYPE_CHANGED:return{...o,refreshing:!0};case Y.a.ROOM_LOCKED_ERROR:return{...o,roomLockError:n};case Y.a.ROOM_LOCKED:return{...o,room:{...o.room,isLocked:a.isLocked}};case Y.a.ROOM_PREFS_CHANGED:return{...o,room:{...o.room,preferences:{...o.room.preferences,...a.preferences}}};case"ROOM_IS_FULL_WARNING_DISMISSED":return{...o,isFullWarningDismissed:!0};case"ROOM_FETCH_STARTED":return{...o,isFetching:!0};case"ROOM_FETCH_FINISHED":return{...o,room:On(a),hasFetched:!0,isFetching:!1};case"ROOM_FETCH_FAILED":return{...o,error:a||n,hasFetched:!0,isFetching:!1};case"ROOM_FEATURES_FETCH_FINISHED":return{...o,features:a};case"ROOM_SET_MODE_FAILED":return{...o,modeError:a};case"ROOM_SESSION_ENDING":return{...o,isRoomSessionEnding:!0,roomSessionExisted:!0};case"ROOM_SESSION_UPDATED":return{...o,roomSessions:{...o.roomSessions,...a}};case"ROOM_SET_PUBLIC_PROFILE_ENABLED":return{...o,shouldKeepRoomPublicProfileEducation:!0,room:{...o.room,preferences:{...o.room.preferences,publicProfile:a}}}}return o}},getMiddleware:()=>e=>t=>o=>{const i=e.selectShouldShowReviewPage();t(o);const a=e.selectShouldShowReviewPage();e.selectIsRoomOwner()||!i||a||e.doFetchRoom(e.selectRoomName())},doFetchRoom:e=>async t=>{let{dispatch:o,roomService:i,userMetricsService:a}=t;o({type:"ROOM_FETCH_STARTED"});try{const t=Date.now(),n=await i.getRoom({roomName:e}),s=Date.now()-t;if(a.roomLoad({time:s}),!n.isClaimed)return void o({type:"ROOM_FETCH_FAILED",payload:new h.e("Room not found"),error:!0});o({type:"ROOM_FETCH_FINISHED",payload:n})}catch(n){let e=new h.c(n);"Not allowed to perform action"===n.message&&(e=new h.d(n)),o({type:"ROOM_FETCH_FAILED",payload:e,error:!0})}},doFetchRoomFeatures:e=>async t=>{let{dispatch:o,roomService:i}=t;o({type:"ROOM_FEATURES_FETCH_STARTED"});try{o({type:"ROOM_FEATURES_FETCH_FINISHED",payload:await i.getRoomFeatures({roomName:e})})}catch(a){o({type:"ROOM_FEATURES_FETCH_FAILED",payload:a,error:!0})}},doSetRoomLock:e=>({type:"ROOM_LOCK_CHANGE_INITIATED",payload:e,meta:{signal:{type:"set_lock",payload:{locked:e}}}}),doSetRoomMode:e=>async t=>{let{dispatch:o,store:i,roomService:a}=t;o({type:"ROOM_SET_MODE_STARTED",payload:e});try{const t=i.selectNumClients(),n=i.selectRoomName(),s=i.selectRoomProduct();await a.changeMode({roomName:n,mode:e}),o({type:"ROOM_SET_MODE_FINISHED",meta:{analytics:ye.b.roomModeChanged({noOfParticipants:t,roomMode:e,roomName:n,roomProduct:s})}})}catch(n){o({type:"ROOM_SET_MODE_FAILED",payload:n,error:!0})}},doRoomPrefsUpdate:e=>async t=>{let{dispatch:o,store:i,roomService:a}=t;o({type:"ROOM_PREFS_UPDATE_STARTED",payload:e});try{const t=i.selectRoomName();await a.updatePreferences({roomName:t,preferences:e}),o({type:"ROOM_PREFS_UPDATE_FINISHED",payload:e})}catch(n){o({type:"ROOM_PREFS_UPDATE_FAILED",payload:n,error:!0})}},doDismissRoomFullWarning:()=>({type:"ROOM_IS_FULL_WARNING_DISMISSED"}),doSetRoomSessionEnding:()=>async e=>{let{dispatch:t}=e;t({type:"ROOM_SESSION_ENDING"})},doRoomPublicProfileEnable:e=>async t=>{let{dispatch:o,store:i}=t;await i.doRoomPrefsUpdate({publicProfile:e}),o({type:"ROOM_SET_PUBLIC_PROFILE_ENABLED",payload:e,meta:{analytics:ye.b.roomPublicProfileEnabled({enabled:e})}})},doDismissRoomPublicProfileEducation:()=>({type:"ROOM_PUBLIC_PROFILE_EDUCATION_DISMISSEDED",meta:{analytics:ye.b.precallPublicProfileDismissed(),persist:{roomPublicProfileEducationDismissed:new Date}}}),selectRoomRaw:e=>e.room,selectRoom:e=>e.room.room,selectRoomError:e=>e.room.error,selectRoomFeatures:e=>e.room.features,selectRoomIsEmbedded:e=>e.room.isEmbedded,selectRoomIsLocked:e=>e.room.room.isLocked,selectRoomLockError:e=>e.room.roomLockError,selectRoomProduct:e=>{var t;return null==(t=e.room.room.product)?void 0:t.categoryName},selectRoomProductName:e=>{var t;return null==(t=e.room.room.product)?void 0:t.name},selectRoomRefreshing:e=>e.room.refreshing,selectRoomType:e=>e.room.room.type,selectRoomServerSessionRaw:e=>e.room.session,selectRoomSessionId:e=>{var t;return null==(t=e.room.session)?void 0:t.id},selectRoomTimeLimitEnabledAt:e=>e.room.room.timeLimitEnabledAt,selectRoomPrefs:e=>e.room.room.preferences,selectHasRoomFetched:e=>!e.room.error&&e.room.hasFetched,selectRoomPublicProfileEnabled:e=>{var t;return null==(t=e.room.room.preferences)?void 0:t.publicProfile},selectIsRoomFetching:e=>e.room.isFetching,selectIsRoomSessionEnding:e=>e.room.isRoomSessionEnding,selectShouldShowRoomPublicProfileEducation:Object(V.e)("selectIsPrecallReviewWanted","selectIsPublicOrganization","selectIsRoomOwner","selectPersisted","selectRoomPublicProfileEnabled","selectRoomRaw",(e,t,o,i,a,n)=>o&&e&&(void 0===a||n.shouldKeepRoomPublicProfileEducation)&&!t&&"personal"===n.room.type&&!i.roomPublicProfileEducationDismissed),selectRoomMode:Object(V.e)("selectRoomRaw",e=>{var t;return null==(t=e.room)?void 0:t.mode}),selectRoomParticipantLimit:Object(V.e)("selectRoomMode","selectMaxRoomSizeByRoomMode",(e,t)=>t[e]||4),selectRoomIsFree:Object(V.e)("selectRoomProduct",e=>"personal_free"===e),selectRoomModeError:Object(V.e)("selectRoomRaw",e=>e.modeError?e.modeError.data&&e.modeError.data.error?e.modeError.data.error:"Unknown error":""),selectRoomPublicProfile:Object(V.e)("selectRoomRaw",e=>e.room.publicProfile?Object(Ie.a)(e.room.publicProfile,"logoUrl"):{}),selectIsRoomUnclaimed:Object(V.e)("selectRoomRaw",e=>e.hasFetched&&!1===e.room.isClaimed),selectCanSetLargerRoomMode:Object(V.e)("selectCanSetRoomMode","selectRoomMode",(e,t)=>e&&"normal"===t),selectCanUpgradeRoom:Object(V.e)("selectIsRoomOwner","selectRoomIsFree",(e,t)=>t&&e),selectRoomSessionExisted:Object(V.e)("selectRoomRaw","selectRoomSessionId",(e,t)=>!!t||e.roomSessionExisted),selectRoomSessionStartTime:Object(V.e)("selectRoomServerSessionRaw",e=>e&&e.createdAt&&new Date(e.createdAt).getTime()),selectRoomSessionElapsedTime:Object(V.e)("selectRoomSessionStartTime","selectAppTime",(e,t)=>e&&Math.abs(t-e)||0),selectMeetingStartTime:Object(V.e)("selectRoomSessionStartTime","selectAppTime",(e,t)=>Math.abs(t-e)>0&&e||0),selectRoomSessionRelativeJoinTime:Object(V.e)("selectRoomSessionStartTime","selectRoomSession",(e,t)=>e&&t&&Math.max(t.joined-e,0)||0),selectRoomTimeLimitEnabledAtTime:Object(V.e)("selectRoom",e=>e.timeLimitEnabledAt&&new Date(e.timeLimitEnabledAt).getTime()||0),selectShouldShowRoomFullWarning:Object(V.e)("selectRoomRaw","selectIsRoomOwner","selectLocalClientRole",(e,t,o)=>!(!(t||"owner"===o)||!e.isFull||e.isFullWarningDismissed)),selectShouldShowName:Object(V.e)("selectRoomType",e=>"transient"!==e),selectRoomSession:Object(V.e)("selectRoomRaw","selectRoomName",(e,t)=>e.roomSessions&&e.roomSessions[t]),selectRoomSessionPageLoads:Object(V.e)("selectRoomSession",e=>(null==e?void 0:e.pageLoadKey)===jn?(null==e?void 0:e.numPageLoads)||1:0),selectWasRecentlyInRoom:Object(V.e)("selectAppTime","selectRoomSession",(e,t)=>t&&t.lastSeen>e-6e4),selectShouldBlockKeyboardShortcuts:Object(V.e)("selectCoLocationActive","selectCoLocationStartedByLocalClient","selectLocalClient","selectNotifications",(e,t,o,i)=>!(!e||o.coLocationGroupAssigned||t)&&!!i.find(e=>"coLocationStartStop"===e.type)),reactUpdateRoomSession:Object(V.e)("selectAppTime","selectRoomSession","selectRoomName","selectRoomConnectionStatus","selectRoomSessionId","selectLocalClient","selectRemoteClients",(e,t,o,i,a,n,s)=>{if("joined"===i&&(!t||t.lastSeen<e-3e4||t.pageLoadKey!==jn))try{const i=JSON.parse(sessionStorage.roomSessions||"{}");let r=void 0;t&&t.pageLoadKey!==jn&&(fn||(fn=!0,t.lastSeen>e-6e4?(t.numPageLoads=(t.numPageLoads||1)+1,r={inMeeting:!!a&&a===t.roomSessionId,duplicateDeviceId:s.some(e=>e.deviceId===n.deviceId)}):t.numPageLoads=1));const c={...t,lastSeen:e,...!t&&{joined:e},pageLoadKey:jn,roomSessionId:a,reloadDetails:r};return sessionStorage.roomSessions=JSON.stringify({...i,[o]:c}),{type:"ROOM_SESSION_UPDATED",payload:{[o]:c}}}catch(r){}}),reactSetRoomSessionEndTime:Object(V.e)("selectIsRoomEmpty","selectRoomSessionId","selectIsRoomSessionEnding",(e,t,o)=>{if(e&&t&&!o)return{actionCreator:"doSetRoomSessionEnding",args:[t]}})};const Rn={status:"",error:null,iceServers:[],sfuServer:null,localClientId:"",localClientClaim:null,attempt:0};var Cn={name:"roomConnection",reducer:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,{type:o,payload:i,error:a}=arguments.length>1?arguments[1]:void 0;switch(o){case Y.a.ROOM_JOINED:return{...t,status:"joined",error:null,iceServers:(null==(e=i.room.iceServers)?void 0:e.iceServers)||[],localClientId:i.selfId,localClientClaim:i.clientClaim,sfuServer:t.sfuServer||i.room.sfuServer,sfuProtocol:i.room.sfuProtocol};case Y.a.ROOM_JOIN_ALLOWED:return"joined"===t.status?t:{...t,status:"reconnect"};case Y.a.ROOM_JOIN_CANCELLED:return{...t,status:""};case Y.a.ROOM_JOINED_ERROR:return"host_presence_controls_error"===a?{...t,status:"queued"}:{...t,error:a,status:"error"};case Y.a.CLIENT_KICKED:return{...t,status:"kicked"};case Y.a.ROOM_LEFT:return{...t,status:"left"};case Y.a.RECONNECT:return{...t,status:"reconnect"};case"LOGIN_VERIFY_FINISHED":return"queued"===t.status?{...t,status:"reconnect"}:t;case"CONNECT_ROOM_INITIATED":return{...t,attempt:t.attempt+i,status:"joining"};case"DISCONNECT_ROOM_INITIATED":return{...t,status:"leaving"};case"ROOM_CONNECTION_RESET":return{...t,status:"",error:null}}return t},selectRoomConnectionRaw:e=>e.roomConnection,selectRoomConnectionStatus:e=>e.roomConnection.status,selectRoomConnectionAttempt:e=>e.roomConnection.attempt,selectRoomConnectionError:e=>e.roomConnection.error,selectIceServers:e=>e.roomConnection.iceServers,selectLocalClientId:e=>e.roomConnection.localClientId,selectLocalClientClaim:e=>e.roomConnection.localClientClaim,selectRoomConnectionQueued:e=>"queued"===e.roomConnection.status,selectSfuProtocol:Object(V.e)("selectRoomConnectionRaw","selectPrefs",(e,t)=>t.forceSfuProtocol||e.sfuProtocol),selectSfuServer:Object(V.e)("selectRoomConnectionRaw","selectPrefs",(e,t)=>t.sfu?{url:t.sfu}:e.sfuServer),doCancelRoomJoin:()=>({type:"CANCEL_ROOM_JOIN",meta:{signal:{type:"cancel_room_join"}}}),doRoomConnectionReset:()=>({type:"ROOM_CONNECTION_RESET"}),doConnectRoom:()=>e=>{var t,o;let{dispatch:i,store:a}=e;const n=a.selectDeviceRaw(),s=a.selectAudioId(),r=a.selectVideoId(),c=a.selectLocalClientClaim();i({type:"CONNECT_ROOM_INITIATED",payload:"reconnect"===a.selectRoomConnectionStatus()?1:0,meta:{signal:{type:"join_room",payload:{avatarUrl:a.selectLocalClientAvatarUrl(),organizationId:a.selectOrganizationId(),roomName:a.selectRoomName(),roomKey:a.selectRoomKey(),displayName:a.selectDisplayName(),isCoLocated:a.selectCoLocationIsCoLocated(),isDevicePermissionDenied:null===s&&null===r,deviceCapabilities:{canScreenshare:n.hasGetDisplayMedia},kickFromOtherRooms:a.selectPrecallKickFromOtherRooms(),config:{isAudioEnabled:a.selectIsAudioEnabled(),isVideoEnabled:a.selectIsVideoEnabled()},externalMetadata:null==(t=a.selectQueryObject())?void 0:t.metadata,externalId:null==(o=a.selectQueryObject())?void 0:o.externalId,...c&&{clientClaim:c}}}}})},doDisconnectRoom:()=>e=>{let{store:t,dispatch:o}=e;t.selectRecordingIsRecording()&&t.doStopRecording(),o({type:"DISCONNECT_ROOM_INITIATED",meta:{signal:{type:W.c.LEAVE_ROOM}}})},reactUpdateRoomConnection:Object(V.e)("selectApplicationState","selectCanJoinLocked","selectFeatureIsExemptFromRoomUnclaimedConstraint","selectHasRoomFetched","selectIsRoomUnclaimed","selectKnockStatus","selectLocalClientIsViewer","selectLocalStream","selectRoomConnectionError","selectRoomConnectionStatus","selectRtcManagerDispatcherCreated","selectShouldShowPrecall","selectSignalStatus","selectPrecallKickFromOtherRooms",(e,t,o,i,a,n,s,r,c,l,d,u,m,p)=>"connected"===m&&d&&i&&(!a||o)&&!u&&(r||s)&&(!t&&"accepted"===n&&"room_locked"===c||["","reconnect"].includes(l)||"room_concurrency_control_error"===c&&p)?{actionCreator:"doConnectRoom"}:"left"===e&&"joined"===l?{actionCreator:"doDisconnectRoom"}:void 0)};function vn(e){let{entrypoint:t,description:o,icons:i,link:a,name:n,productCategories:s=[],roomIntegrationId:r,title:c,type:l,matcher:d,webview:u,isEmbeddable:m}=e;St.a.ok(t,"entrypoint is required"),St.a.ok(o,"description is required"),St.a.ok(i,"icons is required"),St.a.ok(i.small,"icons.small is required"),St.a.ok(i.large,"icons.small is required"),St.a.ok(a,"link is required"),St.a.ok(n,"name is required"),St.a.ok(r,"roomIntegrationId is required"),St.a.ok(c,"title is required"),St.a.ok(l,"type is required"),St.a.ok(d,"matcher is required"),St.a.ok(u,"webview is required");const p=d.match(/\/(.*?)\/([a-z]*)?$/i);return{entrypoint:t,description:o,icons:{small:i.small,large:i.large},link:a,name:n,productCategories:s,roomIntegrationId:String(r),title:c,type:l,webview:u,matcher:new RegExp(p[1]||"^$",p[2]||""),isEmbeddable:m}}function yn(e){return"string"===typeof e&&e.toLowerCase()===e&&e.includes("-")}function In(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e&&Object.keys(e).every(t=>{return(o=e[t])!==Object(o);var o})}function En(e){if("string"!==typeof e)return!1;try{return"https:"===new URL(e).protocol}catch(t){return!1}}function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakoutGroupId:t,roomIntegrationId:o,roomIntegrationSessionId:i,tagName:a,shareUrl:n,props:s,userId:r,clientId:c,isReady:l,isMaximized:d=!1}=e;return St.a.ok(yn(a),"malformed integration field: tagName: "+a),St.a.ok(In(s),"malformed integration field: props: "+s),St.a.ok(En(n),"malformed integration field: shareUrl: "+n),St.a.ok(null===t||"string"===typeof t,"malformed integration field: breakoutGroupId: "+t),St.a.ok("string"===typeof i,"malformed integration field: roomIntegrationSessionId: "+i),St.a.ok(!r||"string"===typeof r,"malformed integration field: userId: "+r),St.a.ok("string"===typeof c,"malformed integration field: clientId: "+c),{breakoutGroupId:t||"",roomIntegrationId:o,roomIntegrationSessionId:i,tagName:a,shareUrl:n,props:s,userId:r,clientId:c,isReady:l,isMaximized:d}}function Tn(e,t){const o=e.name.toUpperCase(),i=t.name.toUpperCase();return o<i?-1:o>i?1:0}function Ln(e,t){return e.roomIntegrationSessionId===t.roomIntegrationSessionId}function kn(e,t,o){return Ln(e,t)?o:e}const _n={available:[],bootstrap:{},disableError:null,enableError:null,enabled:[],error:null,hasFetched:!1,isFetching:!1,running:[],startError:null,stopError:null,unavailable:[]};var Nn={name:"roomIntegration",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.ROOM_INTEGRATION_STARTED:return{...e,running:[...e.running,xn({roomIntegrationId:o.roomIntegrationId,breakoutGroupId:o.breakoutGroupId||"",roomIntegrationSessionId:o.roomIntegrationSessionId,...o.state})]};case Y.a.ROOM_INTEGRATION_STARTED_ERROR:return{...e,startError:i};case Y.a.ROOM_INTEGRATION_STOPPED:return{...e,running:e.running.filter(e=>!Ln(e,o))};case Y.a.ROOM_INTEGRATION_STOPPED_ERROR:return{...e,stopError:i};case Y.a.ROOM_INTEGRATION_PROPS_UPDATED:return{...e,running:e.running.map(e=>kn(e,o,{...e,props:{...e.props,...o.props}}))};case Y.a.ROOM_INTEGRATION_PROPS_UPDATED_ERROR:return{...e,propsUpdateError:i};case Y.a.ROOM_INTEGRATION_ENABLED:return{...e,enabled:[...e.enabled,String(o.roomIntegrationId)]};case Y.a.ROOM_INTEGRATION_DISABLED:return{...e,enabled:e.enabled.filter(e=>e!==String(o.roomIntegrationId))};case Y.a.ROOM_JOINED:return{...e,running:o.roomIntegrationSession.map(xn)};case"ROOM_INTEGRATION_FETCH_STARTED":return{...e,isFetching:!0};case"ROOM_INTEGRATION_FETCH_FINISHED":return{...e,available:[...o.enabledRoomIntegrations,...o.disabledRoomIntegrations].map(vn),enabled:o.enabledRoomIntegrations.map(e=>{let{roomIntegrationId:t}=e;return String(t)}),unavailable:o.unavailableRoomIntegrations.map(vn),hasFetched:!0,isFetching:!1};case"ROOM_INTEGRATION_FETCH_FAILED":return{...e,error:o||i,hasFetched:!0,isFetching:!1};case"ROOM_INTEGRATION_BOOTSTRAP_STARTED":return{...e,bootstrap:{...e.bootstrap,[String(o.roomIntegrationId)]:{config:o.config,featureSource:o.featureSource}}};case"ROOM_INTEGRATION_BOOTSTRAP_FINISHED":return{...e,bootstrap:{...e.bootstrap,[o]:null}};case"ROOM_INTEGRATION_BOOTSTRAP_FAILED":return{...e,error:o};case"ROOM_INTEGRATION_ENABLE_FAILED":return{...e,enableError:o};case"ROOM_INTEGRATION_DISABLE_FAILED":return{...e,disableError:o};case"ROOM_INTEGRATION_MARK_READY":return{...e,running:e.running.map(e=>kn(e,o,{...e,isReady:o.ready}))};case"ROOM_INTEGRATION_MAXIMIZE":return{...e,running:e.running.map(e=>kn(e,o,{...e,isMaximized:o.maximized}))}}return e},getMiddleware:()=>e=>t=>o=>{const[i]=e.selectRunningRoomIntegrations().slice(-1),a=e.selectMaximizedClientView();t(o);const[n]=e.selectRunningRoomIntegrations().slice(-1);if(n&&!i&&n.state.shareUrl){var s;const t=n;e.doAddChatLog({data:{clientId:null==(s=t.state)?void 0:s.clientId,eventType:"integration_started",subject:n}})}else if(!n&&i){var r;if(i.state.shareUrl)e.doAddChatLog({data:{clientId:null==(r=o.payload)?void 0:r.clientId,eventType:"end"===o.payload.intent?"integration_ended":"integration_stopped",subject:i}});e.doOverrideAudio(null)}const c=e.selectMaximizedClientView();null!=n&&n.state.isMaximized&&!a&&c&&e.doRoomIntegrationMaximize({roomIntegrationSessionId:n.state.roomIntegrationSessionId,maximized:!1})},doEnableRoomIntegration:e=>async t=>{let{dispatch:o,store:i,roomIntegrationService:a}=t;o({type:"ROOM_INTEGRATION_ENABLE_STARTED"});try{await a.toggleRoomIntegration({roomName:i.selectRoomName(),roomIntegrationId:Number(e),enable:!0}),o({type:"ROOM_INTEGRATION_ENABLE_FINISHED",meta:{analytics:ye.b.roomIntegrationEnabled({integrationName:name})}})}catch(n){o({type:"ROOM_INTEGRATION_ENABLE_FAILED",payload:n,error:!0})}},doDisableRoomIntegration:e=>async t=>{let{dispatch:o,store:i,roomIntegrationService:a}=t;o({type:"ROOM_INTEGRATION_DISABLE_STARTED"});try{await a.toggleRoomIntegration({roomName:i.selectRoomName(),roomIntegrationId:Number(e),enable:!1}),o({type:"ROOM_INTEGRATION_DISABLE_FINISHED",meta:{analytics:ye.b.roomIntegrationDisabled({integrationName:name})}})}catch(n){o({type:"ROOM_INTEGRATION_DISABLE_FAILED",payload:n,error:!0})}},doFetchRoomIntegrations:()=>async e=>{let{dispatch:t,store:o,roomIntegrationService:i}=e;t({type:"ROOM_INTEGRATION_FETCH_STARTED"});try{const{enabledRoomIntegrations:e,disabledRoomIntegrations:a,unavailableRoomIntegrations:n}=await i.findRoomIntegrations(o.selectRoomName());t({type:"ROOM_INTEGRATION_FETCH_FINISHED",payload:{enabledRoomIntegrations:e,disabledRoomIntegrations:a,unavailableRoomIntegrations:n}})}catch(a){t({type:"ROOM_INTEGRATION_FETCH_FAILED",payload:a,error:!0})}},doUpdateRoomIntegrationProps:e=>{let{props:t,roomIntegrationSessionId:o}=e;return{type:"ROOM_INTEGRATION_UPDATE_PROPS",meta:{signal:{type:"update_room_integration_props",payload:{props:t,roomIntegrationSessionId:o}}}}},doMarkRoomIntegrationAsReady:e=>{let{roomIntegrationSessionId:t,ready:o=!0}=e;return{type:"ROOM_INTEGRATION_MARK_READY",payload:{roomIntegrationSessionId:t,ready:o}}},doRoomIntegrationMaximize:e=>{let{roomIntegrationSessionId:t,maximized:o=!0}=e;return{type:"ROOM_INTEGRATION_MAXIMIZE",payload:{roomIntegrationSessionId:t,maximized:o}}},doStartRoomIntegration:e=>{let{roomIntegrationId:t,tagName:o,props:i,shareUrl:a,featureSource:n}=e;return e=>{let{dispatch:s,store:r}=e;const{name:c}=r.selectEnabledRoomIntegrations().find(e=>{let{roomIntegrationId:o}=e;return o===t});s({type:"ROOM_INTEGRATION_START_INITIATED",meta:{signal:{type:"start_room_integration",payload:{breakoutGroupId:r.selectBreakoutCurrentId()||null,roomIntegrationId:Number(t),state:{props:i,shareUrl:a,tagName:o,userId:r.selectUserId(),clientId:r.selectLocalClientId()}}},analytics:ye.b.roomIntegrationStarted({integrationName:c,numClients:r.selectNumClients(),featureSource:n})}})}},doBootstrapRoomIntegration:e=>{let{roomIntegrationId:t,config:o,featureSource:i}=e;return async e=>{let{dispatch:a,store:n}=e;const{entrypoint:s,webview:r,tagName:c,type:l,title:d,name:u,isEnabled:m}=n.selectAvailableRoomIntegrations().find(e=>e.roomIntegrationId===t);m||n.doEnableRoomIntegration(t);const[p]=n.selectRunningRoomIntegrations().slice(-1);p&&o&&n.doStopRoomIntegration({force:!0,roomIntegrationId:p.roomIntegrationId}),a({type:"ROOM_INTEGRATION_BOOTSTRAP_STARTED",payload:{roomIntegrationId:t,config:o,featureSource:i}});try{if("document-popup"===l&&!o&&!n.selectRunningRoomIntegrations().find(e=>e.roomIntegrationId===t))try{await async function(e){let{name:t,url:o,width:i=450,height:a=650}=e;const n=window.screenLeft+(window.outerWidth/2-i/2),s=window.screenTop+(window.outerHeight/2-a/2),r=window.open(o,t,`width=${i},height=${a},top=${s},left=${n},menubar=0,toolbar=0,location=0,personalbar=0,status=0`),c=Date.now(),l=new Promise((e,t)=>{const o=setInterval(()=>{try{if("about:blank"!==r.location.href)return clearInterval(o),void e()}catch(i){return clearInterval(o),void e()}Date.now()-c>5e3&&(clearInterval(o),r.close(),t(new Error("timeout")))},250)});await l}({name:u,url:r+"?type=popup"})}catch(b){return void n.doSetNotification("integrationError",{error:b,title:d})}const e=await import(s),i=()=>a({type:"ROOM_INTEGRATION_BOOTSTRAP_FINISHED",payload:t}),m={closeRoomIntegration:()=>n.doStopRoomIntegration({force:!0,intent:"end",roomIntegrationId:t}),enableAudioInput:e=>{let{enabled:t}=e;return n.doOverrideAudio(null===t?t:!t)},features:{},formClose:i,formSubmit:e=>{let{props:o,shareUrl:a,tagName:s,featureSource:r}=e;n.selectShareDrawerIsOpen()?n.doShareDrawerStage({roomIntegrationId:t,props:o,shareUrl:a,tagName:s,featureSource:r}):(n.doStartRoomIntegration({roomIntegrationId:t,props:o,shareUrl:a,tagName:s,featureSource:r}),["chat",null].includes(r)||n.doSendChatMessage(a)),i()},updateProps:e=>{let{props:t,roomIntegrationSessionId:o}=e;return n.doUpdateRoomIntegrationProps({props:t,roomIntegrationSessionId:o})},onReady:e=>{let{roomIntegrationSessionId:t}=e;return n.doMarkRoomIntegrationAsReady({roomIntegrationSessionId:t})}};e.default.prototype.integrationApi=m,customElements.get(c)||customElements.define(c,e.default),null===o&&i()}catch(b){a({type:"ROOM_INTEGRATION_BOOTSTRAP_FAILED",payload:b,error:!0})}}},doStopRoomIntegration:e=>{let{force:t=!1,intent:o="stop",roomIntegrationId:i}=e;return e=>{let{dispatch:a,store:n}=e;const{name:s,title:r}=n.selectEnabledRoomIntegrations().find(e=>e.roomIntegrationId===i),c=n.selectRunningRoomIntegrations().find(e=>e.roomIntegrationId===i),l=null==c?void 0:c.state.userId,d=null==c?void 0:c.state.clientId,u=!!n.selectNotifications().find(e=>"stopIntegration"===e.type);t||u||!(l&&n.selectUserId()!==l||d&&n.selectLocalClientId()!==d)?(n.doDismissNotification("stopIntegration",{roomIntegrationId:i,title:r}),c&&a({type:"ROOM_INTEGRATION_STOP_INITIATED",meta:{signal:{type:"stop_room_integration",payload:{intent:o,roomIntegrationSessionId:c.state.roomIntegrationSessionId}},analytics:ye.b.roomIntegrationStopped({integrationName:s})}})):n.doSetNotification("stopIntegration",{roomIntegrationId:i,title:r})}},selectRoomIntegrationRaw:e=>e.roomIntegration,selectHasRoomIntegrationFetched:e=>e.roomIntegration.hasFetched,selectIsRoomIntegrationFetching:e=>e.roomIntegration.isFetching,selectAllRoomIntegrationsAsMap:Object(V.e)("selectAvailableRoomIntegrations","selectUnavailableRoomIntegrations",(e,t)=>[...e,...t].reduce((e,t)=>(e[t.roomIntegrationId]=t,e),{})),selectRoomIntegrationError:Object(V.e)("selectRoomIntegrationRaw",e=>e.error||e.startError||e.stopError||e.enableError||e.disableError||e.propsUpdateError),selectAvailableRoomIntegrations:Object(V.e)("selectRoomIntegrationRaw",e=>e.available.sort(Tn).map(t=>{const{roomIntegrationId:o,name:i}=t;return{...t,bootstrap:e.bootstrap[o],isEnabled:e.enabled.includes(o),isRunning:e.running.some(e=>e.roomIntegrationId===o),tagName:i+"-integration"}})),selectEnabledRoomIntegrations:Object(V.e)("selectAvailableRoomIntegrations",e=>e.filter(e=>{let{isEnabled:t}=e;return t}).sort(Tn)),selectUnavailableRoomIntegrations:Object(V.e)("selectRoomIntegrationRaw",e=>e.unavailable.sort(Tn).map(e=>({...e,isEnabled:!1}))),selectRunningRoomIntegrations:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectLocalClientId","selectRemoteClients","selectRoomIntegrationRaw","selectUserId",(e,t,o,i,a,n)=>a.running.filter(e=>a.enabled.includes(e.roomIntegrationId.toString())).filter(o=>o.breakoutGroupId===(e?t:"")).map(e=>{var t;const{icons:s,title:r,name:c,type:l}=a.available.find(t=>t.roomIntegrationId===e.roomIntegrationId.toString()),d=function(e){let{userId:t,localClientId:o,integration:i}=e;return i&&(t&&t===i.userId||o&&o===i.clientId)}({userId:n,localClientId:o,integration:e}),u=d?null:(null==(t=i.find(t=>t.id===e.clientId||t.userId===e.userId))?void 0:t.displayName)||null;return{breakoutGroupId:e.breakoutGroupId,roomIntegrationId:e.roomIntegrationId.toString(),smallIcon:null==s?void 0:s.small,name:c,title:r,type:l,state:{...Object(Ie.a)(e,"roomIntegrationId"),props:{...e.props,isPresenter:d,...d?{}:{presenterDisplayName:u}}},..."video"===l&&{aspectRatio:e.props.aspectratio||16/9}}})),selectIsRoomIntegrationsAvailable:Object(V.e)("selectCanChangeRoomIntegrations","selectEnabledRoomIntegrations","selectHasRoomFetched","selectPrefs",(e,t,o,i)=>o&&!1!==i.roomIntegrations&&(e||t.length>0)),selectIsRoomIntegrationRunning:Object(V.e)("selectRunningRoomIntegrations",e=>e.length>0),reactRoomIntegrationStarted:Object(V.e)("selectRoomIntegrationRaw","selectRunningRoomIntegrations",(e,t)=>{if(t.length>0&&"undefined"===typeof e.bootstrap[t[0].roomIntegrationId]){const{roomIntegrationId:e}=t[0];return{actionCreator:"doBootstrapRoomIntegration",args:[{roomIntegrationId:e,config:null,featureSource:null}]}}}),reactFeatureRoomIntegrations:Object(V.e)("selectHasOrganizationFetched","selectHasRoomFetched","selectHasRoomIntegrationFetched","selectHasUserFetched","selectIsRoomIntegrationFetching","selectPrefs",(e,t,o,i,a,n)=>{if(!1!==n.roomIntegration&&t&&i&&e&&!o&&!a)return{actionCreator:"doFetchRoomIntegrations"}})};const wn={isDismissed:!1,requestedByClientIds:[]};var An={name:"screenshareFeedback",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.SCREENSHARE_FEEDBACK_REQUESTED:return{...e,isDismissed:!1,requestedByClientIds:[...e.requestedByClientIds,o.clientId]};case Y.a.SCREENSHARE_STOPPED:return{...e,requestedByClientIds:e.requestedByClientIds.filter(e=>e!==o.clientId)};case"SCREENSHARE_FEEDBACK_DISMISSED":return{...e,isDismissed:!0,requestedByClientIds:[]};case"SCREENSHARE_FEEDBACK_SUBMITTED":return{...e,requestedByClientIds:e.requestedByClientIds.filter(e=>!o.clientIds.includes(e))}}return e},doDismissScreenshareFeedback:()=>e=>{let{dispatch:t}=e;t({type:"SCREENSHARE_FEEDBACK_DISMISSED"})},doScreenshareFeedbackSubmit:e=>t=>{let{dispatch:o,store:i}=t;i.doSendChatMessage(e?"\ud83d\udc4d":"\ud83d\udc4e"),o({type:"SCREENSHARE_FEEDBACK_SUBMITTED",payload:{clientIds:i.selectScreenshareFeedbackRaw().requestedByClientIds}})},selectScreenshareFeedbackRaw:e=>e.screenshareFeedback,selectShouldShowScreenshareFeedback:Object(V.e)("selectScreenshareFeedbackRaw","selectPrefs","selectBreakoutIsActive",(e,t,o)=>t.chat&&!!e.requestedByClientIds.length&&!e.isDismissed&&!o),selectScreenshareFeedbackRequesterClients:Object(V.e)("selectScreenshareFeedbackRaw","selectRemoteClients",(e,t)=>e.requestedByClientIds.map(e=>t.find(t=>t.id===e)))};const Dn={isOpen:!1,staged:[]};function Pn(e){return{id:Object(yt.a)(),config:e}}const Mn=(e,t)=>t.id===e;function Fn(e){let{staged:t,id:o,withId:i}=e;const a=t.findIndex(Mn.bind(null,o)),n=t.findIndex(Mn.bind(null,i));if(a<0||n<0)return t;const s=[...t];return[s[n],s[a]]=[s[a],s[n]],s}var Bn={name:"shareDrawer",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"SHARE_DRAWER_TOGGLED":return{...e,isOpen:!e.isOpen};case"SHARE_DRAWER_STAGED":return{...e,staged:[...e.staged,Pn(o)]};case"SHARE_DRAWER_SWAPPED":return{...e,staged:Fn({staged:e.staged,id:o.id,withId:o.withId})};case"SHARE_DRAWER_UNSTAGED":return{...e,staged:e.staged.filter(e=>e.id!==o)}}return e},doShareDrawerStage:e=>({type:"SHARE_DRAWER_STAGED",payload:e}),doShareDrawerSwap:e=>{let{id:t,withId:o}=e;return{type:"SHARE_DRAWER_SWAPPED",payload:{id:t,withId:o}}},doShareDrawerToggle:()=>({type:"SHARE_DRAWER_TOGGLED"}),doShareDrawerUnstage:e=>t=>{var o;let{dispatch:i,store:a}=t;null==(o=a.selectShareDrawerStaged().find(t=>t.id===e).config.stream)||o.getVideoTracks().forEach(e=>e.stop()),i({type:"SHARE_DRAWER_UNSTAGED",payload:e})},selectShareDrawerRaw:e=>e.shareDrawer,selectShareDrawerIsOpen:e=>e.shareDrawer.isOpen,selectShareDrawerStaged:e=>e.shareDrawer.staged},qn=o(119);function zn(e){let{clientId:t,streamId:o}=e;return St()(t,"clientId is required"),St()(o,"streamId is required"),{clientId:t,streamId:o}}function Gn(e,t){return e.find(e=>e.clientId===t.clientId&&e.streamId===t.streamId)?e:e.concat(t)}const Un=(e,t)=>t.clientId===e.clientId&&t.streamId===e.streamId;function Hn(e,t,o){const i=e.findIndex(Un.bind(null,t)),a=e.findIndex(Un.bind(null,o));if(i<0||a<0)return e;const n=[...e];return[n[a],n[i]]=[n[i],n[a]],n}var Vn={name:"spotlights",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sorted:[]},{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.ROOM_JOINED:return{...e,sorted:(o.room.spotlights||[]).map(zn)};case Y.a.SPOTLIGHT_ADDED:case"SPOTLIGHT_AUTO_ADDED":return{...e,sorted:Gn(e.sorted,zn({clientId:o.clientId,streamId:o.streamId}))};case Y.a.SPOTLIGHT_REMOVED:return{...e,sorted:e.sorted.filter(e=>!(e.clientId===o.clientId&&e.streamId===o.streamId))};case Y.a.CLIENT_KICKED:case Y.a.CLIENT_LEFT:return{...e,sorted:e.sorted.filter(e=>e.clientId!==o.clientId)};case Y.a.SPOTLIGHT_ORDER_SWAPPED:return{sorted:Hn(e.sorted,o.source,o.target)}}return e},getMiddleware:Object(mt.a)([function(e,t,o){const i=e.selectApplicationState(),a=t(o),n=e.selectApplicationState(),s=e.selectPrefs();return"joined"!==i&&"joined"===n&&s.autoSpotlight&&e.selectCanSpotlight()&&e.doSpotlightClient({}),a},function(e,t,o){const i=t(o);if("LOCAL_SCREENSHARE_REQUEST_FINISHED"===o.type){const t=e.selectLocalClientId(),{id:o,outboundId:i}=e.selectLocalScreenshareStream();e.dispatch({type:"SPOTLIGHT_AUTO_ADDED",payload:{clientId:t,streamId:i||o}})}return i}]),doSpotlightClient:e=>{let{id:t}=e;return e=>{let{store:o,dispatch:i}=e;t||(t=o.selectLocalClientId());const a=o.selectAllClientViews().find(e=>e.id===t);if(!a)return;const n=Z(a);i({type:"SIGNAL_ADD_SPOTLIGHT",meta:{signal:{type:"add_spotlight",payload:{clientId:a.clientId,streamId:n}}}})}},doRemoveClientSpotlight:e=>{let{id:t}=e;return e=>{let{store:o,dispatch:i}=e;t||(t=o.selectLocalClientId());const a=o.selectAllClientViews().find(e=>e.id===t);if(!a)return;const n=Z(a);i({type:"SIGNAL_REMOVE_SPOTLIGHT",meta:{signal:{type:"remove_spotlight",payload:{clientId:a.clientId,streamId:n}}}})}},doSwapSpotlightOrder:e=>{let{id:t,withId:o}=e;return e=>{let{store:i,dispatch:a}=e;const n=i.selectAllClientViews().find(e=>e.id===t),s=i.selectAllClientViews().find(e=>e.id===o);if(!n||!s)return;a({type:"SIGNAL_SWAP_SPOTLIGHT",meta:{signal:{type:"swap_spotlight_order",payload:{source:{clientId:n.clientId,streamId:Z(n)},target:{clientId:s.clientId,streamId:Z(s)}}}}})}},selectSpotlights:e=>e.spotlights.sorted,selectIsLocalClientSpotlighted:Object(V.e)("selectLocalClientId","selectSpotlights",(e,t)=>{const o={clientId:e,streamId:"0"};return!!t.find(e=>Un(e,o))}),selectSpotlightedClientViews:Object(V.e)("selectAllClientViews","selectSpotlights",(e,t)=>function(e,t){return e.reduce((e,o)=>{const i=t.find(e=>o.clientId===e.clientId&&o.streamId===Z(e));return i&&!e.includes(i)&&e.push(i),e},[])}(t,e)),selectSpotlightedClientViewsInCurrentGroup:Object(V.e)("selectBreakoutActive","selectBreakoutCurrentId","selectSpotlightedClientViews",(e,t,o)=>e&&!t?o.filter(e=>!e.isPresentation&&!e.breakoutGroup):o.filter(e=>e.breakoutGroup===t))};const Wn={stop:null,screenStats:{}};var Kn={name:"stats",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"STATS_STARTED":return{...e,...o};case"STATS_STOPPED":return{...e,stop:null};case"STATS_RTCSTATS_REPORTED":return{...e,screenStats:{...e.screenStats,...o}}}return e},doStartStats:e=>t=>{let{dispatch:o,store:i}=t;if(i.selectStatsIsRunning())return;const a=!e&&setInterval(()=>{o({type:"STATS_INTERVAL"})},2e3);o({type:"STATS_STARTED",payload:{stop:()=>{a&&clearInterval(a)}}})},doStopStats:()=>e=>{var t;let{dispatch:o,store:i}=e;null==(t=i.selectStatsRaw())||null==t.stop||t.stop(),o({type:"STATS_STOPPED"})},doToggleStats:()=>e=>{let{store:t}=e;t.selectStatsIsRunning()?t.doStopStats():t.doStartStats()},selectStatsRaw:e=>e.stats,selectStats:e=>{if(!e.stats.stop)return;const t={...Object(W.k)()},o=Object(W.o)();return Object.keys(o).forEach(e=>{t[e]&&Object.assign(t[e],o[e])}),t},selectStatsIsRunning:e=>!!e.stats.stop,reactStartStatsOnRoomConnected:Object(V.e)("selectPrefs","selectRoomConnectionStatus","selectStatsIsRunning",(e,t,o)=>{if(e.stats&&!o&&"joined"===t)return{actionCreator:"doStartStats"}})};const $n={consent:!1,error:null,notified:!1,rtmpUri:"",startedAt:null,status:"",stoppedAt:null};var Qn={name:"streaming",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"STREAMING_REQUESTED":return{...e,status:"requested",error:null,rtmpUri:o,stoppedAt:null};case"STREAMING_DIALOG_DISMISS":return{...e,status:""};case"STREAMING_CONSENT_ANSWER":return{...e,consent:o};case"STREAMING_STARTING":return{...e,status:"starting"};case"STREAMING_STOPPING":return{...e,status:"stopping"};case"STREAMING_NOTIFIED":return{...e,notified:!0};case Y.a.NEW_CLIENT:var a;return o.client&&"streamer"===(null==(a=o.client.role)?void 0:a.roleName)?{...e,status:"streaming",startedAt:Date.now()}:e;case Y.a.ROOM_JOINED:{var n;const t=null==o||null==(n=o.room)?void 0:n.clients;if(t){if(t.find(e=>{var t;return"streamer"===(null==(t=e.role)?void 0:t.roleName)}))return{...e,status:"streaming",startedAt:Date.now()}}return e}case Y.a.STREAMING_NOT_AVAILABLE:case Y.a.STREAMING_STARTED_ERROR:case"STREAMING_ERROR":return{...e,error:i,status:""};case Y.a.STREAMING_STOPPED:return{...e,status:"",error:null,startedAt:null,stoppedAt:Date.now()};default:return e}},getMiddleware:()=>e=>t=>o=>{const i=e.selectStreamingError(),a=e.selectStreamingRaw().status,n=e.selectRemoteClients(),s=t(o),r=e.selectStreamingError();r&&i!==r&&e.doSetNotification("streamingError",{message:r});const c=e.selectStreamingRaw().status;!a&&c&&e.doDismissNotification("streamingReady");if(ct({action:o,remoteClients:n,nonPersonRoleToWatch:"streamer"})){const t=new Error("streaming_stopped_unexpectedly");e.dispatch({type:"STREAMING_ERROR",error:t.message}),e.doCaptureException(t,{tags:{from:"streaming"}})}return s},selectStreamingRaw:e=>e.streaming,selectStreamingStart:e=>e.streaming.startedAt,selectStreamingError:e=>e.streaming.error,selectStreamingStatus:e=>e.streaming.status,selectIsStreamingStopped:e=>""===e.streaming.status&&null!==e.streaming.stoppedAt,selectStreamingIsPending:e=>["starting","stopping"].includes(e.streaming.status),selectStreamingIsStreaming:e=>["streaming","stopping"].includes(e.streaming.status),selectStreamingRtmpUri:Object(V.e)("selectStreamingRaw","selectOrganizationPrefs","selectRoomPrefs",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.rtmpUri||o.streamUrl||t.streamUrl})),selectStreamingShouldShowConsentDialog:Object(V.e)("selectStreamingRaw",e=>{const{status:t,consent:o,rtmpUri:i}=e;return!(!i||"requested"!==t||o)}),selectStreamingStartTrigger:Object(V.e)("selectOrganizationPrefs","selectRoomPrefs",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.streamStartTrigger||e.streamStartTrigger||"none"})),doStreamingConsent:()=>({type:"STREAMING_CONSENT_ANSWER",payload:!0}),doStreamingDialogDismiss:()=>({type:"STREAMING_DIALOG_DISMISS"}),doStreamingRequest:e=>t=>{let{dispatch:o,store:i}=t;var a;e?((null==(a=i.selectRoomPrefs())?void 0:a.streamUrl)!==e&&i.doRoomPrefsUpdate({streamUrl:e}),o({type:"STREAMING_REQUESTED",payload:e})):i.doSetActiveSettingsDialogPane("streaming")},doStreamingGoLive:()=>e=>{let{store:t,dispatch:o}=e;o({type:"STREAMING_REQUESTED",payload:t.selectStreamingRtmpUri(),meta:{analytics:ye.b.streamSelectedGoLive()}})},doStreamingStop:()=>({type:"STREAMING_STOPPING",meta:{signal:{type:"stop_streaming"}}}),doStreamingReady_:()=>e=>{let{store:t,dispatch:o}=e;o({type:"STREAMING_NOTIFIED",meta:{analytics:ye.b.streamDisplayedReady()}}),t.doSetNotification("streamingReady")},doStreamingStart_:()=>e=>{let{store:t,dispatch:o}=e;o({type:"STREAMING_STARTING",meta:{signal:{type:"start_streaming",payload:{roomUrl:`${s.a.organization}${t.selectRoomName()}`,streamUrl:t.selectStreamingRtmpUri()}}}})},reactStreamingReady:Object(V.e)("selectStreamingRaw","selectCanStartStreaming","selectRoomConnectionStatus","selectStreamingRtmpUri","selectStreamingStartTrigger",(e,t,o,i,a)=>{if(!e.notified&&!e.status&&i&&t&&"prompt"===a&&"joined"===o)return{actionCreator:"doStreamingReady_"}}),reactStreamingStart:Object(V.e)("selectStreamingRaw","selectStreamingRtmpUri",(e,t)=>{if("requested"===e.status&&e.consent&&t)return{actionCreator:"doStreamingStart_"}}),reactStreamingStartingNotification:Object(V.e)("selectNotificationsRaw","selectStreamingIsPending","selectStreamingIsStreaming",(e,t,o)=>{const i=e.messages.find(e=>"streamingStarting"===e.type),a=t&&!o;return a&&!i?{actionCreator:"doSetNotification",args:["streamingStarting"]}:!a&&i?{actionCreator:"doDismissNotification",args:["streamingStarting"]}:void 0})},Yn=o(64),Jn=o(38);const{base64header:Zn,IncorrectFileType:Xn}=It.a,es={themeName:ka.E,themeClass:null,themeFontHeadlineUrl:null,themeFontHeadlineUrlError:null,templates:{available:{},error:null,hasFetched:null,imageErrors:{},imageWarnings:{},isUpdating:null,current:{backgroundImage:null,palette:null,isKnockPageSameAsRoom:null,knockPageBackgroundImage:null,knockPagePalette:null},default:{},preview:null,resolved:{}}};var ts={name:"theme",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.KNOCK_PAGE_BACKGROUND_CHANGED:case Y.a.BACKGROUND_IMAGE_CHANGED:case Y.a.ROOM_THEME_CHANGED:case Y.a.ROOM_LOGO_CHANGED:return{...e,templates:{...e.templates,current:{...e.templates.current,...o.roomTheme},preview:null}};case"THEME_CHANGED":return{...e,themeName:o.theme,themeClass:o.className};case"THEME_FONT_HEADLINE_URL_CHANGED":return{...e,themeFontHeadlineUrl:o.url,themeFontHeadlineUrlError:o.error};case"THEME_TEMPLATE_PREVIEW":return{...e,templates:{...e.templates,preview:o.preview,imageErrors:{},imageWarnings:o.warnings||{},error:null}};case"THEME_TEMPLATE_PREVIEW_FAILED":return{...e,templates:{...e.templates,error:o}};case"THEME_TEMPLATE_FETCH_STARTED":return{...e,templates:{...e.templates,error:null,hasFetched:!1}};case"THEME_TEMPLATE_FETCH_FINISHED":return{...e,templates:{...e.templates,available:o.roomTheme.available,current:o.roomTheme.current,default:o.defaultTheme,error:null,hasFetched:!0,resolved:o.roomTheme.resolved}};case"THEME_TEMPLATE_FETCH_FAILED":return{...e,templates:{...e.templates,error:o}};case"THEME_RESET_STARTED":case"THEME_TEMPLATE_UPDATE_STARTED":return{...e,templates:{...e.templates,error:null,isUpdating:!0,imageWarnings:{}}};case"THEME_RESET_FINISHED":case"THEME_TEMPLATE_UPDATE_FINISHED":return{...e,templates:{...e.templates,error:null,isUpdating:!1}};case"THEME_RESET_FAILED":case"THEME_TEMPLATE_UPDATE_FAILED":return{...e,templates:{...e.templates,error:o,isUpdating:!1}};case"THEME_IMAGE_UPLOAD_ERROR":return{...e,templates:{...e.templates,imageErrors:{[o.imageType]:o.error}}}}return e},doSetThemeName:e=>t=>{let{dispatch:o}=t;ka.ec.set(e),o({type:"THEME_CHANGED",payload:{theme:e,className:ka.ec.getClassName()}})},doSetThemeFontHeadlineUrl:e=>t=>{let{dispatch:o}=t,i=null;try{Object(Jn.b)(document,"--font-family-headline",e)}catch(a){i=a}o({type:"THEME_FONT_HEADLINE_URL_CHANGED",payload:{url:e,error:i}})},doPreviewThemeTemplate:e=>async t=>{let{dispatch:o,store:i}=t;if(null!=e&&e.customBackgroundImage&&!Zn.test(e.customBackgroundImage))return void o({type:"THEME_TEMPLATE_PREVIEW_FAILED",payload:new Xn("Incorrect file type")});const{backgroundImage:a,knockPageBackgroundImage:n,customLogo:s}=i.selectThemeTemplateImageWarnings(),r={backgroundImage:await Object(Yn.a)({image:null==e?void 0:e.customBackgroundImage,cachedWarning:a,targetImageConfig:Yn.b.background}),knockPageBackgroundImage:await Object(Yn.a)({image:null==e?void 0:e.customKnockPageBackgroundImage,cachedWarning:n,targetImageConfig:Yn.b.background}),logo:await Object(Yn.a)({image:null==e?void 0:e.customLogo,cachedWarning:s,targetImageConfig:Yn.b.logo})};i.selectThemeTemplateHasFetched()&&!i.selectThemeTemplateIsUpdating()&&o({type:"THEME_TEMPLATE_PREVIEW",payload:{preview:e,warnings:Object.keys(r).filter(e=>!!r[e]).reduce((e,t)=>({...e,[t]:r[t]}),{})}})},doFetchThemeTemplates:()=>async e=>{let{dispatch:t,store:o,organizationRoomThemeService:i,roomThemeService:a}=e;if(o.selectThemeTemplateHasFetched())return;const n=o.selectRoomName(),s=o.selectIsPublicOrganization(),r=o.selectOrganizationId();t({type:"THEME_TEMPLATE_FETCH_STARTED"});try{const e=await a.getRoomTheme({roomName:n});let o=null,c={palette:e.available.palette[0].theme,backgroundImage:e.available.backgroundImage[0].theme,isKnockPageSameAsRoom:!0,knockPagePalette:e.available.palette[0].theme,knockPageBackgroundImage:e.available.backgroundImage[0].theme};if(!s){const e=await i.getRoomTheme({organizationId:r});c=e.current,o=e.resolved.logoUrl}t({type:"THEME_TEMPLATE_FETCH_FINISHED",payload:{roomTheme:{...e,resolved:{...e.resolved,organizationLogoUrl:o}},defaultTheme:c}})}catch(c){t({type:"THEME_TEMPLATE_FETCH_FAILED",payload:c})}},doThemeImageUploadError:e=>{let{error:t,imageType:o}=e;return{type:"THEME_IMAGE_UPLOAD_ERROR",payload:{error:"unrecognized file type"===(null==t?void 0:t.message)?new Xn("Incorrect file type"):t,imageType:o}}},doThemeReset:()=>async e=>{let{dispatch:t,store:o,roomThemeService:i}=e;t({type:"THEME_RESET_STARTED"});const a=o.selectRoomName();try{await i.removeRoomTheme({roomName:a}),t({type:"THEME_RESET_FINISHED"})}catch(n){t({type:"THEME_RESET_FAILED",payload:n})}},doThemeUpdate:e=>{let{backgroundImage:t,customBackgroundImage:o,customKnockPageBackgroundImage:i,customLogo:a,isKnockPageSameAsRoom:n,knockPageBackgroundImage:s,knockPagePalette:r,palette:c}=e;return async e=>{let{dispatch:l,roomThemeService:d,store:u}=e;const m=u.selectRoomName(),p=u.selectRoom(),b=u.selectThemeRaw(),g=u.selectThemeTemplateAvailable().backgroundImage;l({type:"THEME_TEMPLATE_UPDATE_STARTED"});try{const e=[],u=Object(Jn.g)({theme:t,backgroundImageThemes:g,customBackgroundImage:o});(Object(Jn.k)({customBackgroundImage:o})||Object(Jn.h)({theme:t,customBackgroundImage:o,storedBgImageUrl:p.theme.backgroundImageUrl,backgroundImageThemes:g})||c!==b.templates.current.palette||u!==b.templates.current.backgroundImage)&&e.push(Object(Yn.c)({base64image:o,theme:u,palette:c,roomName:m,roomThemeService:d}));const h=Object(Jn.g)({theme:s,backgroundImageThemes:g,customBackgroundImage:i});(Object(Jn.l)({isKnockPageSameAsRoom:n,customKnockPageBackgroundImage:i})||Object(Jn.i)({theme:s,isKnockPageSameAsRoom:n,customKnockPageBackgroundImage:i,storedKnockBgImageUrl:p.theme.knockPageBackgroundImageUrl,backgroundImageThemes:g})||r!==b.templates.current.knockPagePalette||h!==b.templates.current.knockPageBackgroundImage||n!==b.templates.current.isKnockPageSameAsRoom)&&e.push(Object(Yn.d)({base64image:i,theme:h,isKnockPageSameAsRoom:n,palette:r,roomName:m,roomThemeService:d})),(Object(Jn.m)({customLogo:a})||Object(Jn.j)({customLogo:a}))&&e.push(Object(Yn.e)({...Object(Jn.m)({customLogo:a})&&{base64image:a},theme:Object(Jn.m)({customLogo:a})?"custom":"default",roomName:m,roomThemeService:d})),await Promise.all(e),l({type:"THEME_TEMPLATE_UPDATE_FINISHED"})}catch(h){l({type:"THEME_TEMPLATE_UPDATE_FAILED",payload:h})}}},selectThemeRaw:e=>e.theme,selectThemeClassName:e=>e.theme.themeClass,selectThemeFontHeadlineUrl:e=>e.theme.themeFontHeadlineUrl,selectThemeFontHeadlineUrlError:e=>e.theme.themeFontHeadlineUrlError,selectThemeTemplate:e=>e.theme.templates.preview||e.theme.templates.current,selectThemeTemplateAvailable:e=>e.theme.templates.available,selectThemeTemplateError:e=>e.theme.templates.error,selectThemeTemplateHasFetched:e=>!!e.theme.templates.hasFetched,selectThemeTemplateImageErrors:e=>e.theme.templates.imageErrors,selectThemeTemplateImageWarnings:e=>e.theme.templates.imageWarnings,selectThemeTemplateIsUpdating:e=>e.theme.templates.isUpdating,selectThemeTemplatePreview:e=>e.theme.templates.preview,selectThemeTemplateResolved:e=>e.theme.templates.resolved,selectThemeTemplateIsDefault:Object(V.e)("selectThemeRaw","selectRoom",(e,t)=>e.templates.current.palette===e.templates.default.palette&&e.templates.current.backgroundImage===e.templates.default.backgroundImage&&e.templates.current.knockPagePalette===e.templates.default.knockPagePalette&&e.templates.current.knockPageBackgroundImage===e.templates.default.knockPageBackgroundImage&&t.theme.logoUrl===e.templates.resolved.organizationLogoUrl),selectThemeTemplateType:Object(V.e)("selectThemeTemplate","selectThemeTemplateAvailable","selectThemeTemplateHasFetched",(e,t,o)=>Object(Jn.e)({theme:e.backgroundImage,backgroundImageThemes:null==t?void 0:t.backgroundImage,hasFetched:o})),selectThemeKnockPageTemplateType:Object(V.e)("selectThemeTemplate","selectThemeTemplateAvailable","selectThemeTemplateHasFetched",(e,t,o)=>Object(Jn.e)({theme:e.knockPageBackgroundImage,backgroundImageThemes:null==t?void 0:t.backgroundImage,hasFetched:o})),selectThemeTemplateIsSaved:Object(V.e)("selectThemeRaw","selectRoom","selectThemeBackgroundUrl","selectThemeKnockPageBackgroundUrl","selectThemeLogoUrl",(e,t,o,i,a)=>{const{preview:n,current:s}=e.templates;return!n||(t.theme.logoUrl===a||null===t.theme.logoUrl&&""===a)&&n.palette===s.palette&&n.isKnockPageSameAsRoom===s.isKnockPageSameAsRoom&&n.knockPagePalette===s.knockPagePalette&&Object(Jn.f)({customBgImage:n.customBackgroundImage,previewBgImage:n.backgroundImage,currentBgImage:s.backgroundImage,resolvedBgImage:o,storedBgImageUrl:t.theme.backgroundImageUrl})&&(n.isKnockPageSameAsRoom||Object(Jn.f)({customBgImage:n.customKnockPageBackgroundImage,previewBgImage:n.knockPageBackgroundImage,currentBgImage:s.knockPageBackgroundImage,resolvedBgImage:i,storedBgImageUrl:t.theme.knockPageBackgroundImageUrl}))}),selectThemeBackgroundColor:Object(V.e)("selectRoom","selectThemeTemplateAvailable","selectThemeTemplatePreview",(e,t,o)=>Object(Jn.c)({paletteThemes:null==t?void 0:t.palette,theme:null==o?void 0:o.palette,storedBgColor:t=>{var o;return(null==(o=e.theme)?void 0:o.backgroundColor)||t}})),selectThemeKnockPageBackgroundColor:Object(V.e)("selectRoom","selectThemeBackgroundColor","selectThemeTemplateAvailable","selectThemeTemplatePreview",(e,t,o,i)=>Object(Jn.c)({paletteThemes:null==o?void 0:o.palette,theme:null==i?void 0:i.knockPagePalette,storedBgColor:o=>{var i,a;return(null==(i=e.theme)?void 0:i.knockPageBackgroundColor)!==t?(null==(a=e.theme)?void 0:a.knockPageBackgroundColor)||t||o:t||o}})),selectThemeBackgroundUrl:Object(V.e)("selectApplicationState","selectRoom","selectThemeTemplateAvailable","selectThemeTemplatePreview",(e,t,o,i)=>{var a;return"joined"!==e?null:Object(Jn.d)({theme:null==i?void 0:i.backgroundImage,backgroundImageThemes:null==o?void 0:o.backgroundImage,customBackgroundImage:null==i?void 0:i.customBackgroundImage,storedBackgroundImageUrl:(null==(a=t.theme)?void 0:a.backgroundImageUrl)||""})}),selectThemeKnockPageBackgroundUrl:Object(V.e)("selectHasRoomFetched","selectRoom","selectThemeTemplateAvailable","selectThemeTemplatePreview",(e,t,o,i)=>{var a,n,s;return e?Object(Jn.d)({theme:null==i?void 0:i.knockPageBackgroundImage,backgroundImageThemes:null==o?void 0:o.backgroundImage,customBackgroundImage:null==i?void 0:i.customKnockPageBackgroundImage,storedBackgroundImageUrl:null!=(a=null==(n=t.theme)?void 0:n.knockPageBackgroundImageUrl)?a:(null==(s=t.theme)?void 0:s.backgroundImageUrl)||""}):null}),selectThemeLogoUrl:Object(V.e)("selectPersisted","selectRoom","selectRoomName","selectThemeTemplatePreview",(e,t,o,i)=>{var a,n;return null!=i&&i.customLogo||[null,""].includes(null==i?void 0:i.customLogo)?i.customLogo:void 0===(null==(a=t.theme)?void 0:a.logoUrl)?(e.themeLogo||{})[o]:null==(n=t.theme)?void 0:n.logoUrl}),selectThemeTokens:Object(V.e)("selectRoom",e=>{var t;return null==(t=e.theme)?void 0:t.tokens}),reactThemeBackgroundColorUpdated:Object(V.e)("selectHasRoomFetched","selectPrefs","selectRoomName","selectThemeBackgroundColor","selectThemeTemplatePreview",(e,t,o,i,a)=>{if(e&&!1!==t.background&&!a)try{sessionStorage.roomTheme=JSON.stringify({...JSON.parse(sessionStorage.roomTheme||"{}"),[o]:{backgroundColor:i}})}catch(n){console.warn("Could not store backgroundColor",n)}}),reactUpdateThemeLogo:Object(V.e)("selectHasRoomFetched","selectPersisted","selectRoomName","selectThemeLogoUrl","selectThemeTemplatePreview",(e,t,o,i,a)=>{if(e&&!a){if(i!==(t.themeLogo||{})[o])return{actionCreator:"doPersist",args:[{themeLogo:{[o]:i}}]}}}),reactSetThemeName:Object(V.e)("selectPrefs","selectThemeRaw",(e,t)=>{if(e.theme&&e.theme!==t.themeName)return{actionCreator:"doSetThemeName",args:[e.theme]}}),reactSetThemeFontHeadlineUrl:Object(V.e)("selectPrefs","selectThemeRaw",(e,t)=>{if(e.themeFontHeadlineUrl&&e.themeFontHeadlineUrl!==t.themeFontHeadlineUrl)return{actionCreator:"doSetThemeFontHeadlineUrl",args:[e.themeFontHeadlineUrl]}})},os=o(136);const is={hasRestoredMuteState:!1,isPresenterLimitModalOpen:!1};var as={name:"townhall",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"TOWNHALL_MUTE_STATE_RESTORED":return{...e,hasRestoredMuteState:!0};case"TOWNHALL_LIMITMODAL_CHANGED":return{...e,isPresenterLimitModalOpen:o}}return e},doSetPresenterLimitModalOpen:e=>({type:"TOWNHALL_LIMITMODAL_CHANGED",payload:e,meta:{analytics:ye.b.presentationLimitDialogToggled({isOpen:e})}}),selectTownhallRaw:e=>e.townhall,selectIsPresenterLimitModalOpen:e=>e.townhall.isPresenterLimitModalOpen,selectIsTownhallMode:Object(V.e)("selectRoomParticipantLimit",e=>e>12),selectTownhallHasRestoredMuteState:e=>e.townhall.hasRestoredMuteState,selectTownhallPresenterLimit:Object(V.e)("selectPresenterLimit","selectFeaturePresenterLimit48",(e,t)=>(t?48:e)||H.w),selectIsTownhallPresenterLimitReached:Object(V.e)("selectBreakoutCurrentId","selectRemoteClients","selectTownhallPresenterLimit",(e,t,o)=>t.filter(t=>e===t.breakoutGroup&&t.isVideoEnabled).length>=o),reactUpdateTownhallMuteState:Object(V.e)("selectIsTownhallMode","selectRoomConnectionStatus","selectTownhallHasRestoredMuteState","selectIsTownhallPresenterLimitReached",(e,t,o,i)=>{if(e&&!o&&"joined"===t){const e={type:"TOWNHALL_MUTE_STATE_RESTORED"};return i?{type:"BATCH_ACTIONS",actions:[{type:"AUDIO_ENABLED",payload:{isEnabled:!1,isTemporary:!1}},{type:"VIDEO_ENABLED",payload:{isEnabled:!1,isTemporary:!1}},e]}:e}})};const ns={isLoading:!1,loadProgress:null,hasLoaded:!1,isStarting:!1,hasStarted:!1,error:null,transcriber:null},ss=e=>{if(!e)return e;const t=e.split(" ");return t.length>15?t.slice(10).join(" "):e};var rs={name:"transcription",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"TRANSCRIPTION_LOADING":return{...e,isLoading:!0,hasLoaded:!1,transcriber:null};case"TRANSCRIPTION_LOADED":return{...e,hasLoaded:!0,isLoading:!1,transcriber:o};case"TRANSCRIPTION_LOAD_PROGRESS":return{...e,loadProgress:o};case"TRANSCRIPTION_STARTING":return{...e,isStarting:!0};case"TRANSCRIPTION_STARTED":return{...e,hasStarted:!0,isStarting:!1};case"TRANSCRIPTION_STOPPED":return{...e,hasStarted:!1};case"TRANSCRIPTION_ERROR":return{...e,hasStarted:!1,error:o,isStarting:!1};case"TRANSCRIPTION_ERROR_CLEAR":return{...e,error:null}}return e},getMiddleware:()=>e=>t=>o=>{const i=e.selectTranscriptionError(),a=t(o),n=e.selectTranscriptionError();return n&&n!==i&&e.doSetNotification("liveCaptionsError",{onDismiss:()=>{e.doClearTranscriptionError()}}),a},doClearTranscriptionError:()=>({type:"TRANSCRIPTION_ERROR_CLEAR"}),doTranscriptionLoad:()=>async e=>{let{store:t,transcriptionService:o}=e;t.dispatch({type:"TRANSCRIPTION_LOADING"});const i=await o.loadTranscriber("en",{onProgress:e=>t.dispatch({type:"TRANSCRIPTION_LOAD_PROGRESS",payload:e})}),a=Object(So.a)(e=>{if(e.detail){const o=e.detail,i=o.filter(e=>e.isFinal),a=i[i.length-1],n=o.find(e=>!e.isFinal&&(!a||!a.transcript.startsWith(e.transcript))),s=ss(null==n?void 0:n.transcript),r=a?[ss(a.transcript),s].join("\n"):s;(null==r?void 0:r.length)>0&&t.dispatch({type:"LIVE_CAPTION_TRANSCRIBED",payload:{text:r,senderId:t.selectLocalClientId()},meta:{signal:{type:"live_caption",payload:{text:r}}}})}},{delay:250,edges:!0});i.addEventListener(r.a.RESULT,a),t.dispatch({type:"TRANSCRIPTION_LOADED",payload:i})},doTranscriptionStart:()=>e=>{var t;let{store:o}=e;o.dispatch({type:"TRANSCRIPTION_STARTING"});const i=Object(Wt.a)().audioContext,a=null==(t=o.selectLocalStream())?void 0:t.getAudioTracks()[0],n=o.selectTranscriptionTranscriber();a&&n&&(n.addEventListener(r.a.ERROR,e=>{o.dispatch({type:"TRANSCRIPTION_ERROR",payload:e.detail})}),n.start({audioContext:i,audioTrack:a}),o.dispatch({type:"TRANSCRIPTION_STARTED"}))},doTranscriptionStop:()=>e=>{let{store:t}=e;const o=t.selectTranscriptionTranscriber();o&&(o.stop(),t.dispatch({type:"TRANSCRIPTION_STOPPED"}))},selectTranscriptionRaw:e=>e.transcription,selectShouldStartTranscription:Object(V.e)("selectIsAudioEnabled","selectCaptionEnabledPeers","selectIsLiveCaptionsEnabled","selectFeatureClientSideTranscriptionOn",(e,t,o,i)=>!(!e||!i)&&(o||t.length>0)),selectTranscriptionHasStarted:e=>e.transcription.hasStarted,selectTranscriptionIsStarting:e=>e.transcription.isStarting,selectTranscriptionHasLoaded:e=>e.transcription.hasLoaded,selectTranscriptionIsLoading:e=>e.transcription.isLoading,selectTranscriptionError:e=>e.transcription.error,selectTranscriptionTranscriber:e=>e.transcription.transcriber,reactTranscriptionLoad:Object(V.e)("selectTranscriptionHasLoaded","selectTranscriptionIsLoading","selectFeatureClientSideTranscriptionOn",(e,t,o)=>{if(o&&!e&&!t)return{actionCreator:"doTranscriptionLoad"}}),reactStartTranscriber:Object(V.e)("selectTranscriptionIsLoading","selectTranscriptionHasLoaded","selectTranscriptionHasStarted","selectTranscriptionIsStarting","selectShouldStartTranscription","selectTranscriptionError",(e,t,o,i,a,n)=>{if(!n&&!e&&!i&&!o)return t&&a?{actionCreator:"doTranscriptionStart"}:void 0}),reactStopTranscriber:Object(V.e)("selectTranscriptionHasStarted","selectShouldStartTranscription",(e,t)=>{if(e&&!t)return{actionCreator:"doTranscriptionStop"}})};function cs(){const e=function(){const e=document.createElement("canvas");return e.width=5,e.height=5,e}().getContext("2d");return e.imageSmoothingEnabled=!1,function(t){e.clearRect(0,0,5,5),e.drawImage(t,0,0,5,5);const o=e.getImageData(0,0,5,5).data;return new Uint32Array(o.buffer)}}function ls(e){let{getUserDefinedListOfVideos:t,getKey:o,getActiveElement:i,getIsPresentation:a,getPixels:n,onReport:s}=e;n=n||cs();const r={};let c=null,l=2e3,d=0,u=0,m=0,p=!1,b=0,g=0;const h=()=>{try{const e=performance.now();(()=>{const e={};b=0,g=0;t().map(t=>{const a=o(t);e[a]=!0,b++;const n=i(t,a);return n&&g++,[t,a,n]}).forEach(t=>{let[o,i,c]=t;if(e[i]=!0,!c)return;let m="",p="",h=0;if(c.srcObject)if(c.srcObject.getVideoTracks()[0]){const e=n(c),t=e[0];let o=!1;for(const i of e)i!==t&&(o=!0),h=h+i&4294967295;o||(m="black",p="pixel")}else m="black",p="novideo";else m="black",p="nosrc";const j=r[i];if(j)if(m||j.pixelSum!==h||a(o)||(m="freeze",p="pixel"),j.pixelSum=h,m&&!j.detectedIssue)j.detectedIssue=m,j.detectedIssueSubtype=p,j.start=performance.now(),j.isReported=!1,j.numVideos=b,j.numActiveVideos=g;else if(!m&&j.detectedIssue){if(j.isReported){const e=performance.now()-j.start;s("issue-resolved",{...j,duration:e,currentInterval:l,avgSamplingDuration:d,numVideos:b,numActiveVideos:g,resolveType:"resolved"}),u--}j.isInitial=!1,j.detectedIssue=m,j.detectedIssueSubtype=p,j.start=performance.now(),j.isReported=!1}else m&&j.detectedIssue&&!j.isReported&&(j.detectedIssue=m,j.detectedIssueSubtype=p);else{const e={detectedIssue:m,detectedIssueSubtype:p,start:performance.now(),isInitial:!!m,isReported:!1,numVideos:b,numActiveVideos:g,data:o};r[i]=e}});const c=performance.now();Object.keys(r).filter(t=>!e[t]).forEach(e=>{const t=r[e];if(t.detectedIssue&&t.isReported){const e=c-t.start;s("issue-resolved",{...t,duration:e,currentInterval:l,avgSamplingDuration:d,numVideos:b,numActiveVideos:g,resolveType:"videoleft"}),u--}delete r[e]}),Object.values(r).filter(e=>e.detectedIssue&&!e.isReported&&c-e.start>=3e3).forEach(e=>{s("issue-detected",{...e,currentInterval:l,avgSamplingDuration:d,numVideos:b,numActiveVideos:g,duration:c-e.start}),u++,e.isReported=!0})})(),m=0;const c=performance.now()-e;if(d=d?.8*d+.2*c:c,d>100)return void s("aborted",{abortType:"duration",numUnresolvedIssues:u,avgSamplingDuration:d,numVideos:b,numActiveVideos:g,didRun:p});l=d<30?2e3:d<60?4e3:6e3,p=!0}catch{if(l=2e3,m++,m>2)return void s("aborted",{abortType:"exception",numUnresolvedIssues:u,avgSamplingDuration:d,numVideos:b,numActiveVideos:g,didRun:p})}c=window.setTimeout(h,l)};return s("started"),h(),()=>{clearTimeout(c)}}const ds={initial:!1,isRunning:!1};var us={name:"videoMonitor",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ds,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"VIDEOMONITOR_STARTED":return{...e,...o,initial:!0,isRunning:!0};case"VIDEOMONITOR_ABORTED":return{...e,isRunning:!1}}return e},selectVideoMonitorRaw:e=>e.videoMonitor,selectVideoMonitorIsRunning:e=>!!e.videoMonitor.isRunning,doVideoMonitorStart:()=>e=>{let{dispatch:t,store:o}=e;if(o.selectVideoMonitorIsRunning())return;const i=performance.now(),a=()=>{var e;const t=!!o.selectSfuServer();return{roomName:o.selectRoomName(),roomProduct:o.selectRoomProduct(),roomType:o.selectRoomType(),roomSessionId:o.selectRoomSessionId(),usingSfu:t,signalTransport:null==(e=o.selectSignalSocket_())?void 0:e.getTransport()}},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{roomSessionElapsedTime:o.selectRoomSessionElapsedTime()-e}},s=e=>({avgSamplingDuration:e.avgSamplingDuration,numVideos:e.numVideos,numActiveVideos:e.numActiveVideos}),r=e=>({issue:e.detectedIssue,issueSubtype:e.detectedIssueSubtype,isInitial:e.isInitial,clientId:e.data.clientId,videoType:e.data.isPresentation?"presentation":"cam",isSelfieCam:!!e.data.isSelfieCam,duration:e.duration,start:performance.now()-(i+e.duration),resolveType:e.resolveType,currentInterval:e.currentInterval,documentHidden:document.hidden,hasFocus:null==document.hasFocus?void 0:document.hasFocus()});ls({getUserDefinedListOfVideos:()=>o.selectAllClientViewsInCurrentGroup(),getKey:e=>`${e.isPresentation?"pres-":""}${e.clientId}`,getActiveElement:(e,t)=>{if(!e.isVideoEnabled&&!e.isPresentation)return;const o=document.querySelector(`[data-clientid='${t}'] video`);return o&&o.offsetParent?o:void 0},getIsPresentation:e=>e.isPresentation,onReport:(e,o)=>{switch(e){case"started":return t({type:"VIDEOMONITOR_STARTED",meta:{analytics:ye.b.videoMonitorStarted(a())}});case"aborted":return t({type:"VIDEOMONITOR_ABORTED",payload:o.abortType,meta:{analytics:ye.b.videoMonitorAborted({abortType:o.abortType,numUnresolvedIssues:o.numUnresolvedIssues,...s(o),...a()})}});case"issue-detected":return t({type:"VIDEOMONITOR_ISSUE_DETECTED",payload:o,meta:{analytics:ye.b.videoMonitorIssueDetected({...r(o),...s(o),...a(),...n(o.duration)})}});case"issue-resolved":return t({type:"VIDEOMONITOR_ISSUE_RESOLVED",payload:o,meta:{analytics:ye.b.videoMonitorIssueResolved({...r(o),...s(o),...a(),...n()})}})}}})},reactVideoMonitorStartOnRoomConnected:Object(V.e)("selectFeatureVideoMonitorOn","selectRoomConnectionStatus","selectVideoMonitorRaw",(e,t,o)=>{if(e&&!o.initial&&"joined"===t)return{actionCreator:"doVideoMonitorStart"}})},ms=o(57);const ps={user:new ms.a,hasFetched:!1,isFetching:!1,error:null,fetchedAt:null,userRoles:[],isUserRolesFetching:!1,userRoleError:null,hasUserRolesFetched:!1};var bs={name:"user",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,{type:t,payload:o,error:i}=arguments.length>1?arguments[1]:void 0;switch(t){case"USER_FETCH_STARTED":return{...e,isFetching:!0};case"USER_FETCH_FINISHED":return{...e,user:o?new ms.a(o):new ms.a,error:null,fetchedAt:Date.now(),hasFetched:!0,isFetching:!1};case"USER_FETCH_FAILED":return{...e,error:o||i,isFetching:!1};case"USER_ROLES_FETCH_STARTED":return{...e,isUserRolesFetching:!0};case"USER_ROLES_FETCH_FINISHED":return{...e,userRoles:o,hasUserRolesFetched:!0,isUserRolesFetching:!1};case"USER_ROLES_FETCH_FAILED":return{...e,userRolesError:o||i,isUserRolesFetching:!1};case"SIGNUP_VERIFY_FINISHED":return{...e,user:new ms.a(o)}}return e},doFetchUser:()=>async e=>{let{dispatch:t,userService:o}=e;t({type:"USER_FETCH_STARTED"});try{t({type:"USER_FETCH_FINISHED",payload:await o.getUser()})}catch(i){t({type:"USER_FETCH_FAILED",payload:i,error:!0})}},doFetchUserRoles:()=>async e=>{let{dispatch:t,organizationRoleService:o}=e;t({type:"USER_ROLES_FETCH_STARTED"});try{t({type:"USER_ROLES_FETCH_FINISHED",payload:await o.getRoles()})}catch(i){t({type:"USER_ROLES_FETCH_FAILED",payload:i,error:!0})}},selectUserRaw:e=>e.user,selectUser:e=>e.user.user,selectUserEmail:e=>e.user.user.email,selectUserRoles:e=>e.user.userRoles,selectUserFetchedAt:e=>e.user.fetchedAt,selectHasUserFetchError:e=>!!e.user.error,selectHasUserFetched:e=>e.user.hasFetched||!!e.user.error,selectHasUserRolesFetchError:e=>!!e.user.userRolesError,selectHasUserRolesFetched:e=>e.user.hasUserRolesFetched||!!e.user.userRolesError,selectIsFetchingUser:e=>e.user.isFetching,selectCanCancelSubscription:Object(V.e)("selectUser",e=>{var t;return!(null==e||null==(t=e.permissions)||null==(t=t.subscriptions)||null==(t=t.cancel)||!t.isAllowed)}),selectUserId:Object(V.e)("selectUser",e=>e&&e.userId),selectIsRoomOwner:Object(V.e)("selectUser","selectRoomName",(e,t)=>(e.ownedRooms||[]).some(e=>e.roomName===t)),selectUserIsAdmin:Object(V.e)("selectUserId","selectUserRoles",(e,t)=>!!t.find(t=>{let{userId:o,roleName:i}=t;return o===e&&"organization_admin"===i})),selectIsUserLoggedIn:Object(V.e)("selectUserId",e=>!!e),reactFetchUser:Object(V.e)("selectIsFetchingUser","selectLoginStatusChangedAt","selectUserFetchedAt",(e,t,o)=>{if(!e&&t>o)return{actionCreator:"doFetchUser"}}),reactFetchUserRoles:Object(V.e)("selectHasOrganizationFetched","selectIsPublicOrganization","selectIsUserLoggedIn","selectUserRaw",(e,t,o,i)=>{if(o&&e&&!t&&!i.isUserRolesFetching&&!i.hasUserRolesFetched&&!i.userRolesError)return{actionCreator:"doFetchUserRoles"}})};function gs(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(t);return Uint8Array.from([...o].map(e=>e.charCodeAt(0)))}const hs=navigator.serviceWorker?navigator.serviceWorker.ready.then(e=>e.pushManager?e.pushManager.getSubscription().then(t=>({sw:e,isSupported:!0,hasSubscribed:!!t})):{isSupported:!1}):Promise.resolve({isSupported:!1});const js={isBlocked:!1,isEnabled:!1,isSupported:!1,isToggling:!1};var fs={name:"webNotifications",init:e=>{hs.then(t=>{let{isSupported:o,hasSubscribed:i}=t;e.dispatch({type:"WEB_NOTIFICATIONS_LIB_INITIALIZED",payload:{isSupported:o,isEnabled:i}})})},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"WEB_NOTIFICATIONS_LIB_INITIALIZED":return{...e,...o};case"WEB_NOTIFICATIONS_ENABLED":return{...e,isEnabled:!0,isBlocked:!1,isToggling:!1};case"WEB_NOTIFICATIONS_BLOCKED":return{...e,isBlocked:!0,isToggling:!1};case"WEB_NOTIFICATIONS_DISABLED":return{...e,isEnabled:!1,isToggling:!1};case"WEB_NOTIFICATIONS_TOGGLING":return{...e,isToggling:!0}}return e},doSetWebNotificationsEnabled:()=>async e=>{let{store:t,dispatch:o,deviceContactPointService:i}=e;if(!t.selectIsWebNotificationsToggling()){o({type:"WEB_NOTIFICATIONS_TOGGLING"});try{const e=await hs.then(e=>{let{sw:t}=e;return t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gs(H.e)})}),{p256dh:t,auth:a}=e.toJSON().keys;await i.setContactPoint({type:"web-push",token:e.endpoint,publicKey:t,authKey:a}),o({type:"WEB_NOTIFICATIONS_ENABLED"})}catch(a){o({type:"WEB_NOTIFICATIONS_BLOCKED",payload:a})}}},doSetWebNotificationsDisabled:()=>async e=>{let{store:t,dispatch:o,deviceContactPointService:i}=e;if(!t.selectIsWebNotificationsToggling()){o({type:"WEB_NOTIFICATIONS_TOGGLING"});try{await hs.then(e=>{let{sw:t}=e;return!!t&&t.pushManager.getSubscription().then(e=>!!e&&e.unsubscribe())}),await i.removeContactPoint(),o({type:"WEB_NOTIFICATIONS_DISABLED"})}catch(a){console.error(a)}}},doToggleWebNotifications:()=>e=>{let{store:t}=e;return t.selectIsWebNotificationsEnabled()?t.doSetWebNotificationsDisabled():t.doSetWebNotificationsEnabled()},selectIsWebNotificationsBlocked:e=>e.webNotifications.isBlocked,selectIsWebNotificationsEnabled:e=>e.webNotifications.isEnabled,selectIsWebNotificationsSupported:e=>e.webNotifications.isSupported,selectIsWebNotificationsToggling:e=>e.webNotifications.isToggling,selectCanToggleWebNotifications:Object(V.e)("selectIsWebNotificationsSupported","selectIsUserLoggedIn",(e,t)=>e&&t),reactDisableWebNotificationsIfLoggedOut:Object(V.e)("selectIsWebNotificationsEnabled","selectIsUserLoggedIn","selectHasUserFetched","selectIsWebNotificationsToggling",(e,t,o,i)=>{if(!i&&e&&!t&&o)return{actionCreator:"doSetWebNotificationsDisabled"}})},Os=o(185);class Ss{constructor(){this.isStopped=!0,this.lastVideoTime=-1}async init(){this.vision=await Os.a.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/wasm"),await this._buildMediapipe()}async _buildMediapipe(){this.mediapipe=await Os.b.createFromOptions(this.vision,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/gesture_recognizer/gesture_recognizer/float16/1/gesture_recognizer.task",delegate:"GPU"},numHands:2,runningMode:"VIDEO"})}start(){this.isStopped=!1}stop(){this.isStopped=!0}trackHands(e,t){this.localVideo=e;const o=()=>{var e,i,a;if(!this.isStopped&&null!=(e=this.localVideo)&&e.currentTime&&(null==(i=this.localVideo)||!i.paused)){if((null==(a=this.localVideo)?void 0:a.currentTime)!==this.lastVideoTime){const e=1e3*(this.localVideo.currentTime-this.lastVideoTime);if(e>0&&e<300)return;if(this.localVideo.currentTime<this.lastVideoTime)this._buildMediapipe().then(()=>{var e;this.lastVideoTime=null==(e=this.localVideo)?void 0:e.currentTime,requestAnimationFrame(o)}).catch(()=>this.stop());else{var n;this.lastVideoTime=null==(n=this.localVideo)?void 0:n.currentTime,this.lastRun=performance.now();const e=this.mediapipe.recognizeForVideo(this.localVideo,this.lastVideoTime),o=this.processResults(e);o.length&&t(o)}}setTimeout(()=>requestAnimationFrame(o),350)}};requestAnimationFrame(o)}processResults(e){let{gestures:t}=e;return t.reduce((e,t)=>{var o;const i=null==(o=t[0])?void 0:o.categoryName;return i&&"None"!==i?e.concat(i):e},[])}}var Rs=o(121),Cs=o(69);const vs={isLoading:!1,hasLoaded:!1,isActive:!0,loadingFailed:!1,gestureRecognizer:null,isGestureCooldownOn:!1,lastGesture:null};var ys={name:"gestureRecognizer",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vs,{type:t,payload:o}=arguments.length>1?arguments[1]:void 0;switch(t){case"GESTURERECOGNIZER_LOADING":return{...e,isLoading:!0};case"GESTURERECOGNIZER_LOADED":return{...e,hasLoaded:!0,isLoading:!1,gestureRecognizer:o.gestureRecognizer};case"GESTURERECOGNIZER_LOAD_FAILED":return{...e,hasLoaded:!1,isLoading:!1,loadingFailed:!0};case"GESTURERECOGNIZER_TOGGLE":return{...e,isActive:o};case"GESTURERECOGNIZER_SET_LAST_GESTURE":return{...e,lastGesture:o};case"GESTURERECOGNIZER_GESTURE_EXECUTED":return{...e,isGestureCooldownOn:!0,lastGesture:null};case"GESTURERECOGNIZER_TOGGLE_GESTURE_COOLDOWN":return{...e,isGestureCooldownOn:o}}return e},doGestureRecognizerLoad:()=>async e=>{let{dispatch:t}=e;t({type:"GESTURERECOGNIZER_LOADING"});try{const e=new Ss;await e.init(),e.start(),t({type:"GESTURERECOGNIZER_LOADED",payload:{gestureRecognizer:e}})}catch(o){t({type:"GESTURERECOGNIZER_LOAD_FAILED"})}},doGestureRecognizerToggle:e=>t=>{let{dispatch:o,store:i}=t;e?i.selectGestureRecognizer().start():i.selectGestureRecognizer().stop(),o({type:"GESTURERECOGNIZER_TOGGLE",payload:e})},doTrackHands:e=>t=>{let{store:o}=t;o.selectGestureRecognizer().trackHands(e,o.doHandleGestures)},doHandleGestures:e=>t=>{let{dispatch:o,store:i}=t;if(i.selectIsGestureCooldownOn()||0===e.length)return;const a=e[0],n=i.selectLastGesture();if(!n||void 0!==n&&a!==n)return o({type:"GESTURERECOGNIZER_SET_LAST_GESTURE",payload:a}),void setTimeout(()=>o({type:"GESTURERECOGNIZER_SET_LAST_GESTURE",payload:null}),1e3);o({type:"GESTURERECOGNIZER_GESTURE_EXECUTED"}),setTimeout(()=>o({type:"GESTURERECOGNIZER_TOGGLE_GESTURE_COOLDOWN",payload:!1}),1e3);const s=i.selectSkinToneAwareEmojis();switch(a){case"Open_Palm":{const e=s.hand,{reaction:t}=i.selectLocalClientStickyReaction()||{};t||i.doLocalClientSetStickyReaction(e);break}case"Thumb_Up":i.doSendChatMessage(s.thumbsup);break;case"Thumb_Down":i.doSendChatMessage(s.thumbsdown);break;case"ILoveYou":i.doSendChatMessage(s.the_horns);break;case"Victory":i.doSendChatMessage(s.v);break;case"Heart_Hands":i.doSendChatMessage(s.heart_hands);break;case"Pointing_Up":i.doToggleAudioEnabled(!i.selectIsAudioEnabled());break;case"Closed_Fist":if(i.selectShouldShowKnockPage())Promise.resolve().then(i.doKnock()).then(i.doSetPrecallReviewDone());else{const e=s.hand,{reaction:t}=i.selectLocalClientStickyReaction()||{};t===e&&i.doLocalClientSetStickyReaction(null)}break;default:return}},selectLastGesture:e=>e.gestureRecognizer.lastGesture,selectIsGestureCooldownOn:e=>e.gestureRecognizer.isGestureCooldownOn,selectGestureRecognizerActive:e=>e.gestureRecognizer.isActive,selectGestureRecognizerRaw:e=>e.gestureRecognizer,selectGestureRecognizer:e=>e.gestureRecognizer.gestureRecognizer,selectGestureRecognizerLoading:e=>e.gestureRecognizer.isLoading,selectGestureRecognizerLoaded:e=>e.gestureRecognizer.hasLoaded,selectSkinToneAwareEmojis:Object(V.e)("selectPrefs",e=>Object(Rs.a)(Cs.a[e.emojiSkinTone])),reactGestureRecognizerActivate:Object(V.e)("selectGestureRecognizerLoaded","selectGestureRecognizerActive","selectFeatureGesturesOn","selectPrefs",(e,t,o,i)=>{if(o&&e)return i.gestureDetection!==t?{actionCreator:"doGestureRecognizerToggle",args:[i.gestureDetection]}:void 0}),reactGestureRecognizerLoad:Object(V.e)("selectGestureRecognizerLoaded","selectGestureRecognizerLoading","selectFeatureGesturesOn","selectLocalStreamTracks","selectPrefs",(e,t,o,i,a)=>{if(null!=i&&i.video&&o&&a.gestureDetection)return e||t?void 0:{actionCreator:"doGestureRecognizerLoad"}})};const Is=e=>e.find(e=>{var t;return"captioner"===(null==(t=e.role)?void 0:t.roleName)}),Es={error:null,status:"",notified:!1};var xs={name:"liveTranscription",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es,{type:t,error:o}=arguments.length>1?arguments[1]:void 0;switch(t){case Y.a.LIVE_TRANSCRIPTION_STARTED:case"LIVE_TRANSCRIPTION_STARTED":return"transcribing"===e.status?e:{...e,error:null,status:"started"};case Y.a.LIVE_TRANSCRIPTION_STARTED_ERROR:return{...e,error:o,status:""};case Y.a.LIVE_TRANSCRIPTION_STOPPED:case"LIVE_TRANSCRIPTION_STOPPED":return{...e,error:null,status:""};case"LIVE_TRANSCRIPTION_TRANSCRIBING":return{...e,error:null,status:"transcribing"};case"LIVE_TRANSCRIPTION_NOTIFIED":return{...e,notified:!0};case"LIVE_TRANSCRIPTION_ERROR_CLEAR":return{...e,error:null}}return e},getMiddleware:Object(mt.a)([function(e,t,o){const i=e.selectLiveTranscriptionError(),a=t(o),n=e.selectLiveTranscriptionError();return n&&n!==i&&e.doSetNotification("liveTranscriptionsError",{onDismiss:()=>e.doClearLiveTranscriptionError(),message:n}),a},function(e,t,o){var i;const{type:a,payload:n}=o;return a===Y.a.NEW_CLIENT&&"captioner"===(null==n||null==(i=n.client)||null==(i=i.role)?void 0:i.roleName)&&e.selectIsLiveTranscriptionStarted()&&e.dispatch({type:"LIVE_TRANSCRIPTION_TRANSCRIBING"}),t(o)},function(e,t,o){var i,a,n,s;const{type:r,payload:c}=o;return r!==Y.a.ROOM_JOINED||Is(null==c||null==(i=c.room)?void 0:i.clients)||null==c||null==(a=c.room)||!a.liveTranscriptionId||e.selectIsLiveTranscriptionStarted()||e.dispatch({type:"LIVE_TRANSCRIPTION_STARTED"}),r===Y.a.ROOM_JOINED&&Is(null==c||null==(n=c.room)?void 0:n.clients)&&null!=c&&null!=(s=c.room)&&s.liveTranscriptionId&&!e.selectIsLiveTranscriptionTranscribing()&&e.dispatch({type:"LIVE_TRANSCRIPTION_TRANSCRIBING"}),t(o)},function(e,t,o){return"LIVE_TRANSCRIPTION_TRANSCRIBING"!==o.type&&Is(e.selectRemoteClients())&&e.selectIsLiveTranscriptionStarted()&&e.dispatch({type:"LIVE_TRANSCRIPTION_TRANSCRIBING"}),t(o)}]),selectIsLiveTranscriptionTranscribing:e=>"transcribing"===e.liveTranscription.status,selectIsLiveTranscriptionStarted:e=>"started"===e.liveTranscription.status,selectLiveTranscriptionRaw:e=>e.liveTranscription,selectLiveTranscriptionStatus:e=>e.liveTranscription.status,selectLiveTranscriptionError:e=>e.liveTranscription.error,selectLiveTranscriptionIsNotified:e=>e.liveTranscription.notified,selectCanStartLiveTranscription:Object(V.e)("selectPermissions",e=>{var t;return!(null==e||null==(t=e.rooms)||null==(t=t.startLiveTranscription)||!t.isAllowed)}),selectLiveTranscriptionStartTrigger:Object(V.e)("selectOrganizationPrefs","selectRoomPrefs",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.liveTranscriptionStartTrigger||e.liveTranscriptionStartTrigger||"none"})),selectShouldShowLiveTranscriptionButton:Object(V.e)("selectLiveTranscriptionStartTrigger","selectFeatureLiveTranscriptionsOn","selectCanStartLiveTranscription",(e,t,o)=>"manual"===e&&t&&o),reactLiveTranscriptionStartingNotification:Object(V.e)("selectNotificationsRaw","selectLiveTranscriptionStatus",(e,t)=>{let{messages:o}=e;const i=o.find(e=>"liveTranscriptionStarting"===e.type);return"started"!==t||i?"started"!==t&&i?{actionCreator:"doDismissNotification",args:["liveTranscriptionStarting"]}:void 0:{actionCreator:"doSetNotification",args:["liveTranscriptionStarting"]}}),doClearLiveTranscriptionError:()=>({type:"LIVE_TRANSCRIPTION_ERROR_CLEAR"}),doLiveTranscriptionStartsOn2ndParticipant:()=>e=>{let{store:t,dispatch:o}=e;o({type:"LIVE_TRANSCRIPTION_NOTIFIED"}),t.doSetNotification("liveTranscriptionStartsOn2ndParticipant")},doLiveTranscriptionStart:()=>e=>{let{store:t,dispatch:o}=e;o({type:t.selectRemoteClients().find(e=>{var t;return"captioner"===(null==(t=e.role)?void 0:t.roleName)})?"LIVE_TRANSCRIPTION_TRANSCRIBING":"LIVE_TRANSCRIPTION_STARTED",payload:{},meta:{signal:{type:"start_live_transcription"}}})},doLiveTranscriptionStop:()=>e=>{let{dispatch:t}=e;t({type:"LIVE_TRANSCRIPTION_STOPPED",payload:{},meta:{signal:{type:"stop_live_transcription"}}})},reactLiveTranscriptionStartsOnSecondParticipantNotification:Object(V.e)("selectLiveTranscriptionIsNotified","selectLiveTranscriptionStatus","selectCanStartLiveTranscription","selectRoomConnectionStatus","selectLiveTranscriptionStartTrigger",(e,t,o,i,a)=>{if(!e&&!t&&o&&"joined"===i&&"automatic-2nd-participant"===a)return{actionCreator:"doLiveTranscriptionStartsOn2ndParticipant"}}),reactLiveTranscriptionStartsOnSecondParticipantNotificationDismiss:Object(V.e)("selectNotificationsRaw","selectLiveTranscriptionStatus",(e,t)=>{let{messages:o}=e;if(o.find(e=>"liveTranscriptionStartsOn2ndParticipant"===e.type)&&("transcribing"===t||"started"===t))return{actionCreator:"doDismissNotification",args:["liveTranscriptionStartsOn2ndParticipant"]}})};function Ts(){return[_e,Ae,Pe,qe,Je,nt,Lt,st.b,rt.a,dt,ut.a,ft,vt,Yt(),Qn,mo(),Object(Y.b)(),Oo,Eo,To,Bn,oi,Pt(),ai,wt,si,ci,ui,pi,gi,Si,Yi,Xi,ia,ra,ua,ma.a,pa.a,ga,Sa,Ra.d,va,ya,Q,Ea,xa,tn,an,nn.a,hn,ys,Ce,Sn,Cn,Nn,Ba,eo(),An,ve.i,qn.e,Vn,Kn,ts,os.b,as,rs,us,La,bs,fs,xs,Object(J.c)()]}let Ls;o(371);var ks=o(0);const _s=Object(s.b)({host:window.location.hostname});let Ns,ws,As=b.getAll;console.log("%cWarning!","color: red; font-size: 50px; font-weight: bold; -webkit-text-stroke: 1px black;"),console.log("%cUsing this console may give potential attackers access to your microphone and camera using an attack called Self-XSS. Do not paste any code shared in the chat or elsewhere, in this console.","font-size: 20px"),As().then(e=>{ws=ws||function(){const e=n.d.create({baseUrl:H.c}),t=new n.b({fetchDeviceCredentials:e.getCredentials.bind(e),baseUrl:H.c}),o=n.a.create({apiClient:t}),i=new n.c({apiClient:t}),a=new n.m({apiClient:t}),s=new n.o({apiClient:t}),c=new n.n({organizationService:a,subdomain:_s.subdomain,skipEmbeddedFreeTierStatus:!0}),l=new n.j({apiClient:t,fetchOrganization:c.fetchOrganization.bind(c)}),d=new n.k({organizationApiClient:l}),u=new n.h({apiClient:t}),m=new n.i({apiClient:t,organizationApiClient:l}),p=new n.f({apiClient:t,extraSupportedFeatures:{accessibilityOn:{server:!0},addGoogleStunServersOn:{server:!0},addCloudflareStunServersOn:{server:!0},adjustBitratesFromResolutionOn:{server:!0},analyticsOff:{server:!0},audioDenoiserOff:{server:!0},audioDenoiserMobileOff:{server:!0},av1On:{server:!0},brandAvatarsOn:{server:!0},cameraEffectsOff:{server:!0},chromeWebGLCameraEffectsOn:{server:!0},ci:{},cleanSdpOn:{server:!0},coLocationOn:{server:!0},constrainedOverflowBehaviorOn:{server:!0},deprioritizeH264OnSafariOn:{server:!0},enforceTurnTls:{server:!0},embeddedFeedbackOn:{server:!0},embedWatermarkForceOn:{server:!0},feedbackAlwaysOn:{server:!0},freeRoomEmbedOff:{server:!0},gesturesOn:{server:!0},greekLangOn:{server:!0},hdDefaultOff:{server:!0},handleCamTrackEndedOn:{server:!0},higherP2PBitratesOn:{server:!0},increaseIncomingMediaBufferOn:{server:!0},insightsToRtcstatsOn:{server:!0},iosVersionCheckOff:{server:!0},isExemptFromRoomFullConstraint:{server:!0},jsGridMobileLayoutOff:{server:!0},knockGroupsOn:{server:!0},legacyOsWarningOn:{server:!0},legacyRoomMembersOn:{server:!0},limitScreenshareOff:{server:!0},lockRoomTooltipOn:{server:!0},onboarding:{server:!0},performanceMonitorOn:{server:!0},pipAutoLaunchOn:{server:!0},pipControlsOff:{server:!0},pipRafCallbacksOff:{server:!0},poorQualityReportOn:{server:!0},precallTestOnlyOn:{server:!0},presenterLimit48:{server:!0},redOn:{server:!0},roundedCornersOff:{server:!0},rtcAnalyticsOn:{server:!0},rtpAbsCaptureTimeOn:{server:!0},safariCameraEffectsOn:{server:!0},safariMobileCameraEffectsOn:{server:!0},screenshareAudioOn:{server:!0},screenshareQualityOn:{server:!0},sfuServer:{},shareDrawerOn:{server:!0},streamingConfigUIOn:{server:!0},nodeAgentTranscriptionOn:{server:!0},clientSideTranscriptionOn:{server:!0},turnServer:{},uncappedSingleRemoteVideoOn:{server:!0},unlimitedBandwidthWhenUsingRelayP2POn:{server:!0},videoMonitorOn:{server:!0},volumeMuteOn:{server:!0},vp9On:{server:!0},h264On:{server:!0},simulcastScreenshareOn:{server:!0},documentPipOn:{server:!0},preferCurrentTabRecordingOn:{server:!0},glitchFreeOn:{server:!0},reCaptchaGenerationOff:{server:!0},liveTranscriptionsOn:{server:!0},sfuReconnectV2On:{server:!0},lowBandwidthOn:{server:!0},refreshSelfviewOff:{server:!0},...At()}}),b=new n.p({organizationApiClient:l}),g=new n.r({organizationApiClient:l}),h=new n.s({organizationApiClient:l}),j=new n.l({organizationApiClient:l}),f=new n.w({apiClient:t,organizationApiClient:l}),O=new n.u({apiClient:t}),S=new n.q({apiClient:t,organizationApiClient:l}),R=new n.x({apiClient:t});return{abExperimentsService:o,consentGrantService:i,credentialsService:e,deviceContactPointService:new n.e({apiClient:t}),featureService:p,fluentService:new G,idTokenService:u,linkService:m,organizationRoleService:d,organizationRoomThemeService:j,organizationService:a,organizationServiceCache:c,personalSubscriptionService:s,roleService:b,roomIntegrationService:S,roomService:g,roomThemeService:h,ssoService:new n.t({apiClient:t,baseUrl:H.c,allowedApiOrigins:"https://api.whereby.dev https://api.appearin.net".split(" ")}),transcriptionService:new r.b,userConsentService:O,userService:f,userMetricsService:new n.v({apiClient:t}),utilsService:R,heroContentService:new n.g({apiClient:t})}}(),Ns=Ns||function(){let{initialState:e={},injectServices:t={},reactor:o=!0,cacheFn:i=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=[V.a,Object(V.f)({handleScrollRestoration:!1}),...Ts(),Object(V.c)({cacheFn:i}),{name:"services",getExtraArgs:()=>t}];return o&&a.push(Object(V.d)({idleAction:"@IDLE"})),Ls=Object(V.b)(...a)(e),Ls}({initialState:e,injectServices:ws,cacheFn:b.set}),((e,t)=>{Object(i.render)(Object(ks.jsx)(a.a,{store:t,children:e}),document.getElementById("app"))})(Object(ks.jsx)(U.a,{}),Ns)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"RECORDING_CLEANUP"})})}],[[289,6,7]]]);
//# sourceMappingURL=main.a22ac1cd.chunk.js.map