"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5726],{33014:function(e,t,r){var n=r(92809),a=r(5152),o=r(67294),s=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,a.default)((function(){return Promise.all([r.e(1790),r.e(6743)]).then(r.bind(r,6743))}),{loadableGenerated:{webpack:function(){return[6743]},modules:["../components/auth/ratelimit-error-modal.dynamic.tsx -> @components/auth/ratelimit-error-modal"]}}),u=function(e){return(0,s.jsx)(s.Fragment,{children:e.isOpen&&(0,s.jsx)(c,l({},e))})};t.Z=o.memo(u)},28464:function(e,t,r){var n=r(23634),a=r(67555),o=r.n(a),s=r(28854),i=r(67294),l=r(17820),c=r(35629),u=r(73973),d=r(85893),p=function(e){var t=e.value,r=e.onChange,a=e.label,p=e.id,f=e.name,h=e.required,b=e.autoFocus,g=e.placeholder,m=e.helpText,x=e.errorText,v=e.errorList,y=e.handleEnterKeyPress,O=e.disabled,j=e.countryCode,w=e.isRightToLeftPage,E=(0,s.Z)({isLowerCase:!0}).countryCode,P=function(e){return e?void 0:j||E},S=(0,i.useState)(P(t)),C=S[0],T=S[1];return(0,i.useEffect)((function(){T(P(t))}),[E]),(0,d.jsxs)("div",{className:"flex flex-col space-y-1",children:[a&&(0,d.jsxs)("div",{className:"text-grey text-md font-600 flex items-center",children:[(0,d.jsx)(l.Z,{msg:a}),(0,d.jsx)(c.Z,{className:"ml-2",content:n.ag._("If you do not have a WhatsApp enabled phone number, then you can register with any other personal phone number."),showOnHover:!0,children:(0,d.jsx)(u.Z,{className:"cursor-pointer text-grey-700",size:16})})]}),(0,d.jsx)(o(),{containerClass:"font-sans text-base",inputClass:"border border-grey-500 w-full rounded py-3 text-grey leading-tight focus:outline-none ".concat(w?"rtl-phone-input pl-4 pr-12":"pl-16 pr-4"),searchStyle:{marginBottom:"2px"},buttonClass:w&&"rtl-input",enableSearch:!0,country:C,value:t,countryCodeEditable:!1,onChange:r,onEnterKeyPress:y,masks:{in:"..... ....."},placeholder:g,inputProps:{id:p,name:f,required:h,autoFocus:b},disabled:O}),m&&(0,d.jsx)("div",{className:"text-sm text-grey font-400",children:m}),x&&(0,d.jsx)("div",{className:"text-sm text-red-200 font-400",children:x}),v&&v.map((function(e,t){return(0,d.jsx)("div",{className:"text-sm text-red-200 font-400",children:e},t)}))]})};p.defaultProps={label:"",helpText:"",errorText:"",errorList:[],placeholder:"",required:!1,disabled:!1},t.Z=i.memo(p)},32550:function(e,t,r){r.r(t),r.d(t,{GRADES:function(){return u}});var n=r(80318),a=r(94184),o=r.n(a),s=r(67294),i=r(27434),l=r(39834),c=r(85893),u=[{value:"Kindergarten",label:"Kindergarten"},{value:"Grade 1",label:"Grade 1"},{value:"Grade 2",label:"Grade 2"},{label:"Grade 3",value:"Grade 3"},{value:"Grade 4",label:"Grade 4"},{value:"Grade 5",label:"Grade 5"},{value:"Grade 6",label:"Grade 6"},{value:"Grade 7",label:"Grade 7"},{value:"Grade 8",label:"Grade 8"},{value:"Grade 9",label:"Grade 9"},{value:"Grade 10",label:"Grade 10"},{value:"Grade 11",label:"Grade 11"},{value:"Grade 12",label:"Grade 12"},{value:"Undergraduate",label:"12th Pass"}];t.default=function(e){var t=e.disabled,r=void 0!==t&&t,a=e.errorText,d=e.handleGradeSelect,p=s.useState(!1),f=(0,n.Z)(p,2),h=f[0],b=f[1],g=s.useState({value:"",label:""}),m=(0,n.Z)(g,2),x=m[0],v=m[1];return(0,c.jsx)(l.default,{onOutsideClick:function(){return b(!1)},children:(0,c.jsxs)("div",{className:"relative w-full select-none",children:[(0,c.jsxs)("div",{className:o()("flex items-center justify-between text-grey","rounded px-4 py-2",{"bg-white cursor-pointer border border-grey-500 hover:border hover:border-orange-500":!r,"bg-grey-300 text-grey-700 border border-grey-500":r}),onClick:function(){return!r&&b(!h)},children:[x.label||"Select grade/class",(0,c.jsx)(i.Z,{size:15})]}),h&&(0,c.jsx)("div",{className:o()("absolute top-0 left-0 w-full mt-12","bg-white rounded border border-grey-500 h-80 overflow-y-scroll"),children:u.map((function(e,t){return(0,c.jsx)("div",{className:o()("cursor-pointer ",{"bg-orange-500 text-white":x.value===e.value,"hover:bg-orange-200":x.value!==e.value}),onClick:function(){return function(e){v(e),b(!1),d(e)}(e)},children:(0,c.jsx)("p",{className:"px-4 py-2",children:e.label})},t)}))}),a&&(0,c.jsx)("div",{className:"py-2 text-sm text-red-200 font-400",children:a})]})})}},48140:function(e,t,r){r.d(t,{J:function(){return c}});var n=r(92809),a=r(10219),o=r(98938),s=r(85893),i=["name"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){var t=e.name,r=(0,a.Z)(e,i),c=o[t];return(0,s.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))}},86239:function(e,t,r){var n=r(92809),a=r(67294),o=r(5152),s=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,o.default)((function(){return Promise.all([r.e(7678),r.e(8767)]).then(r.bind(r,38767))}),{loadableGenerated:{webpack:function(){return[38767]},modules:["../components/common/lazy-recaptcha/index.tsx -> @components/common/lazy-recaptcha/recaptcha-with-ref-forward"]}}),u=a.forwardRef((function(e,t){return(0,s.jsx)(c,l(l({},e),{},{forwardedRef:t}))})),d=function(e){var t=e.shouldRecaptchaLoad,r=e.onChange,n=e.setRecaptchaAPI;return!t||window.isReflectTest?null:(0,s.jsx)(u,{size:"invisible",sitekey:"6LeauxAcAAAAAMVwTvZ_71JVxHeVLjLlM7BoiZbG",onChange:r,ref:function(e){return n(e)}})};t.Z=a.memo(d)},35629:function(e,t,r){var n=r(92809),a=r(80318),o=r(67294),s=r(62372),i=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.children,r=e.content,n=e.showOnHover,l=e.placement,u=void 0===l?"right-center":l,d=e.disabled,p=void 0!==d&&d,f=e.className,h=e.delayEnter,b=void 0===h?50:h,g=e.delayLeave,m=void 0===g?50:g,x=e.enableCopy,v=(0,o.useState)(!1),y=v[0],O=v[1],j=(0,s.XI)({delayEnter:b,delayLeave:m}),w=(0,a.Z)(j,2),E=w[0],P=w[1],S=!p&&(n?E:y),C=(0,s.sJ)({isOpen:S,placement:u,auto:!0,triggerOffset:15,onOutsideClick:function(){return O(!1)}}),T=C.triggerProps,k=C.layerProps,N=C.arrowProps,G=C.renderLayer,L=(0,o.useState)(!1),R=L[0],D=L[1],_=function(e){x&&navigator.clipboard.writeText(e).then((function(){D(!0),setTimeout((function(){return D(!1)}),2e3)})).catch((function(e){console.error("Failed to copy: ",e)}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",c(c(c({},T),P),{},{onClick:function(){return _(r.toString())},className:f,children:t})),S&&G((0,i.jsxs)("div",c(c(c({className:"relative z-50 px-3 py-2 text-sm bg-white border rounded-md shadow-lg select-none tooltip text-grey border-grey-500 max-w-4/5"},k),P),{},{onClick:function(){return _(r.toString())},children:[R?(0,i.jsx)("span",{children:"Copied!"}):r,(0,i.jsx)(s.Eh,c(c({},N),{},{roundness:1,borderWidth:1,borderColor:"#D8DDE6"}))]})))]})}},37961:function(e,t,r){r.d(t,{Z:function(){return J}});var n=r(30266),a=r(92809),o=r(809),s=r.n(o),i=r(23634),l=r(91838),c=r(33014),u=r(38198),d=r(17820),p=r(85893),f=function(e){var t=e.onChange,r=e.error,n=e.hasLaptopFieldLabels;return(0,p.jsxs)("div",{className:"lg:hidden",children:[(0,p.jsx)("p",{className:"mb-2 text-base text-grey",children:(0,p.jsx)(d.Z,{msg:null===n||void 0===n?void 0:n.label})}),(0,p.jsxs)("div",{className:"flex space-x-5 text-grey",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,p.jsx)("input",{type:"radio",name:"hasLaptop",id:"yes",className:"cursor-pointer",value:"yes",onChange:t}),(0,p.jsx)("label",{htmlFor:"yes",children:(0,p.jsx)(d.Z,{msg:null===n||void 0===n?void 0:n.option1})})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,p.jsx)("input",{type:"radio",name:"hasLaptop",id:"no",className:"cursor-pointer",value:"no",onChange:t}),(0,p.jsx)("label",{htmlFor:"no",children:(0,p.jsx)(d.Z,{msg:null===n||void 0===n?void 0:n.option2})})]})]}),r&&(0,p.jsx)("div",{className:"text-sm leading-4 text-red-200 font-400",children:r})]})},h=r(28464),b=r(94184),g=r.n(b),m=r(67294),x=function(){return(0,p.jsx)("p",{className:"text-sm text-grey-800",children:(0,p.jsx)(u.cC,{id:"trialClass.register.termsAndConditions",components:{0:(0,p.jsx)("a",{href:"/terms/",className:"hover:text-orange",target:"_blank",rel:"noreferrer"}),1:(0,p.jsx)("a",{href:"/privacy-policy/",className:"hover:text-orange",target:"_blank",rel:"noreferrer"})}})})},v=r(12571),y=r(48140),O=r(91171),j=r.n(O),w=r(11163),E=r(5152),P=r(61399),S=(0,E.default)((function(){return Promise.all([r.e(3238),r.e(4979)]).then(r.bind(r,16375))}),{loadableGenerated:{webpack:function(){return[16375]},modules:["../components/book-trial-class/form.tsx -> @components/common/forms/select"]}}),C=(0,E.default)((function(){return Promise.resolve().then(r.bind(r,32550))}),{loadableGenerated:{webpack:function(){return[32550]},modules:["../components/book-trial-class/form.tsx -> @components/common/forms/grade-select"]}}),T={boxShadow:"0px 0.9px 3.2px rgba(0, 0, 0, 0.028), 0px 2.5px 8.8px rgba(0, 0, 0, 0.04), 0px 6px 21.1px rgba(0, 0, 0, 0.052), 0px 20px 70px rgba(0, 0, 0, 0.08)"},k=function(e){var t=e.phone,n=e.email,a=e.childGrade,o=e.loading,s=e.errors,l=e.LOGGEDIN_PROMO_PAGE,c=e.handleInputChange,b=e.handlePhoneInputChange,O=e.handleSelectChange,E=e.handleTrialBookingFormSubmit,k=e.ctaText,N=void 0===k?i.ag._("Try a free lesson"):k,G=e.termsAndConditions,L=e.countryCode,R=e.shouldHaveFormShadow,D=void 0!==R&&R,_=e.formHeading,A=void 0===_?"":_,I=e.phoneFieldLabel,F=e.hasLaptopFieldLabels,Z=e.isRightToLeftPage,U=e.handleGradeSelect,B=e.isAutoRegister,H=e.isMathTrial,M=(0,w.useRouter)(),q=m.createRef(),z=(0,m.useState)(!1),K=z[0],V=z[1],W=(0,m.useState)(1e4),Y=W[0],J=W[1];(0,m.useEffect)((function(){return document.getElementById("phone").focus()}),[]);var Q=(0,m.useMemo)((function(){var e=null===s||void 0===s?void 0:s.phone,t=null===s||void 0===s?void 0:s.childGrade,r=null===s||void 0===s?void 0:s.hasLaptop;return V(!1),{phone:e,childGrade:t,hasLaptop:r}}),[s]);(0,m.useEffect)((function(){if(B&&q.current){V(!0);var e=setTimeout((function(){var e;null===(e=document.getElementById("submitBtn"))||void 0===e||e.click()}),1e3);return function(){return clearTimeout(e)}}}),[B,q.current]),(0,m.useEffect)((function(){Promise.resolve().then(r.bind(r,81292)).then((function(e){var t=e.flattenErrorsDictValues,r=e.showErrorAlert,n=s;delete n.phone,delete n.childGrade,delete n.hasLaptop;var a=t(n);a.length>0&&r({text:a.join("\n")})}))}),[s]),(0,m.useEffect)((function(){setTimeout((function(){Y>0&&J(Y-100)}),100)}),[Y]),(0,m.useEffect)((function(){0!==Y||o||V(!1)}),[Y,o]);var $=function(){var e=null===M||void 0===M?void 0:M.asPath;return["/lp/**","/book-trial-class","/book-trial-class/**"].some((function(t){return j()(e,t)}))};return(0,p.jsxs)(p.Fragment,{children:[K&&(0,p.jsxs)("div",{className:"flex flex-col max-w-sm px-8 lg:max-w-lg text-center lg:text-left",children:[(0,p.jsx)(P.OM,{src:"/images/trial-class/track-booking/penguin.svg",alt:"Penguin",className:"h-40 lg:h-96 w-auto",width:100,height:218}),(0,p.jsx)("p",{className:"text-orange text-lg md:text-3xl font-600",children:(0,p.jsx)(u.cC,{id:"Registration in progress"})}),(0,p.jsx)("p",{className:"text-grey",children:(0,p.jsx)(u.cC,{id:"We will take you to the dashboard in few seconds"})}),(0,p.jsx)("div",{className:"mt-1",children:(0,p.jsx)("div",{className:"bg-grey-400 h-5 w-full rounded-2xl",children:(0,p.jsx)("div",{className:"h-full bg-orange rounded-2xl transform transition-all duration-100 ease-in",style:{minWidth:"5%",width:"".concat((1e4-Y)/1e3*10,"%")}})})})]}),(0,p.jsxs)("form",{ref:q,className:"z-10 ".concat(K?"hidden":"flex"," flex-col w-full px-3 py-8 space-y-4 bg-white rounded-lg lg:px-5 lg:w-108"),style:D?T:{},onSubmit:E,children:[!A&&(0,p.jsx)("p",{className:"text-center text-grey",children:i.ag._("Hurry Up! The slots are filling fast")}),A&&(0,p.jsx)("p",{className:"text-4xl leading-tight text-grey lg:text-5xl font-600",children:A}),(0,p.jsx)("div",{className:"absolute w-0 h-0 pointer-events-none",style:{visibility:"hidden",zIndex:-1,top:"-9999px",left:"-9999px"},children:(0,p.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"you@mail.com",value:n,onChange:c,disabled:!0})}),(0,p.jsx)(h.Z,{value:t,onChange:b,label:I,id:"phone",name:"phone",required:!0,autoFocus:!1,placeholder:i.ag._({id:"register.phone.label",message:"Enter your mobile number"}),errorText:null===Q||void 0===Q?void 0:Q.phone,disabled:l,countryCode:L,isRightToLeftPage:Z}),!$()&&(0,p.jsx)("div",{className:"flex flex-col gap-y-4 lg:gap-y-1 lg:flex-row lg:gap-x-4",children:(0,p.jsx)("div",{className:"w-full",children:(0,p.jsx)(S,{id:"childGrade",value:a,handleSelectChange:O,options:v.L,errorText:null===Q||void 0===Q?void 0:Q.childGrade,disabled:l,isSearchable:!1,required:!0})})}),$()&&(0,p.jsx)("div",{className:"flex flex-col gap-y-4 lg:gap-y-1 lg:flex-row lg:gap-x-4",children:(0,p.jsx)("div",{className:"w-full",children:(0,p.jsx)(C,{handleGradeSelect:U,errorText:null===Q||void 0===Q?void 0:Q.childGrade})})}),!l&&(0,p.jsx)(f,{onChange:c,error:null===Q||void 0===Q?void 0:Q.hasLaptop,hasLaptopFieldLabels:F}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"my-4",children:(0,p.jsx)("button",{id:"submitBtn",className:g()("btn btn-orange w-full py-3 text-lg",{"opacity-50 cursor-not-allowed":o}),children:(0,p.jsx)(d.Z,{msg:N})})}),(0,p.jsxs)("div",{className:"flex items-start justify-center my-3 text-grey",children:[(0,p.jsx)(y.J,{name:"Edit3",size:16,className:"text-orange mr-2 mt-1"}),H&&(0,p.jsx)("p",{className:"text-sm",children:i.ag._("Register now, grab your free slot for math class!")}),!H&&(0,p.jsxs)(p.Fragment,{children:[" ",!A&&(0,p.jsx)("p",{className:"text-sm",children:i.ag._("1000+ slots booked in last 24 hours")}),A&&(0,p.jsx)("p",{className:"text-md",children:i.ag._("Register now, grab your free slot for coding class!")})]})]}),G?(0,p.jsx)("p",{className:"text-sm text-grey-800",dangerouslySetInnerHTML:{__html:G}}):(0,p.jsx)(x,{})]})]})]})},N=m.memo(k),G=r(96997),L=r(31960),R=r(71455),D=r(32044),_=r(15347),A=r(59603),I=r(41749),F=r(99914),Z=r(92829),U=r(86239),B=r(72262),H=r(67683),M=r(32550);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=F.oo.heroFold.form,V=K.gradeFieldPlaceholder,W=K.phoneFieldLabel,Y=K.hasLaptopField,J=function(e){var t=e.next,o=e.handleOtpVerified,u=e.openOtpVerificationModal,d=void 0!==u&&u,f=e.countryCode,h=e.shouldHaveFormShadow,b=e.formHeading,g=void 0===b?"":b,x=e.phoneFieldLabel,v=void 0===x?W:x,y=e.gradeFieldPlaceholder,O=void 0===y?V:y,j=e.cta,E=e.termsAndConditions,P=e.isRightToLeftPage,S=e.hasLaptopFieldLabels,C=void 0===S?Y:S,T=e.trialCourseUrl,k=e.isMathTrial,F=(0,w.useRouter)(),q=(0,L.T)(),K=q.loggedIn,J=q.name,Q=q.email,$=q.gender,X=q.phone,ee=q.student,te=(0,R.ZP)(),re=(0,m.useState)(!1),ne=re[0],ae=re[1],oe=!(!K||!t),se=(0,m.useState)({phone:oe?X:"",name:oe?J:"Student",email:oe?Q:"",role:D.K$.STUDENT,childName:"",childGrade:{value:oe?null===ee||void 0===ee?void 0:ee.grade:"select",label:oe?null===ee||void 0===ee?void 0:ee.grade:(0,B.ZN)(O)},childGender:{value:oe?$:null,label:oe?$:"Unspecified"},hasLaptop:"desktop"===(0,H.mn)().device||null,termsAndConditions:!0,whatsappEnabled:!0,signupSource:(0,I.fp)(l.vY)||F.asPath.split("?")[0],response:{},errors:{},loading:!1}),ie=se[0],le=se[1],ce=(0,m.useState)(!1),ue=ce[0],de=ce[1],pe=(0,m.useState)(!1),fe=pe[0],he=pe[1],be=(0,m.useState)("signup"),ge=be[0],me=be[1],xe=(0,Z.Z)(),ve=xe.recaptchaAPI,ye=xe.setShouldRecaptchaLoad,Oe=xe.shouldRecaptchaLoad,je=xe.setRecaptchaAPI,we="/register"===F.pathname?l.kE:l.w,Ee=T&&T,Pe=function(e){le((function(t){return z(z({},t),e)})),ye(!0)},Se=function(e){Pe({phone:e,email:"".concat(e,"@codingal-student.com")})},Ce=function(){var e=(0,n.Z)(s().mark((function e(n){var a,o,l,c,u,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.e(1270).then(r.bind(r,91270));case 4:return a=e.sent,o=a.prepareRegistrationFormBody(ie),ve.reset(),o.recaptchaResponse=n,e.next=10,a.requestLoginOtp(o);case 10:if(l=e.sent,c=F.query,Ee&&delete c.course,u=z(z({},c),{},{phone:ie.phone,source:we},Ee?{course:Ee}:{}),200!==l.status){e.next=18;break}d?he(!0):(t&&(u.next=t),F.push({pathname:"/login/verify-otp/",query:u})),e.next=33;break;case 18:if(204!==l.status){e.next=25;break}return Pe({loading:!1}),me((function(){return"signup"})),e.next=23,ve.execute();case 23:e.next=33;break;case 25:if(406!==l.status){e.next=29;break}Pe({errors:{token:[i.ag._("Error verifying reCAPTCHA, please try again")]},loading:!1}),e.next=33;break;case 29:return e.next=31,l.json();case 31:p=e.sent,Pe({errors:p,loading:!1});case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.Z)(s().mark((function e(n){var a,o,l,c,u,p,f,h,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ie.loading&&ve){e.next=3;break}return e.abrupt("return");case 3:if(a=F.query,!oe){e.next=8;break}return delete a.next,F.push({pathname:t,query:a}),e.abrupt("return");case 8:return e.next=10,r.e(3332).then(r.bind(r,63332));case 10:return o=e.sent,e.next=13,r.e(1270).then(r.bind(r,91270));case 13:if(l=e.sent,Pe({loading:!0}),c=o.validateTrialBookingFormData(ie),!Object.keys(c).length){e.next=19;break}return Pe({errors:c,loading:!1}),e.abrupt("return");case 19:return u=l.prepareRegistrationFormBody(ie),e.prev=20,e.next=23,l.requestLoginOtp(u);case 23:if(200!==(p=e.sent).status){e.next=28;break}d?he(!0):(Ee&&delete a.course,f=z(z({},a),{},{phone:ie.phone,source:we},Ee?{course:Ee}:{}),t&&(f.next=t),F.push({pathname:"/login/verify-otp/",query:f})),e.next=57;break;case 28:if(204!==p.status){e.next=35;break}return Pe({loading:!1}),me((function(){return"signup"})),e.next=33,ve.execute();case 33:e.next=57;break;case 35:if(429!==p.status){e.next=42;break}return Pe({loading:!1}),me((function(){return"login"})),e.next=40,ve.execute();case 40:e.next=57;break;case 42:if(400!==p.status){e.next=49;break}return e.next=45,p.json();case 45:h=e.sent,Pe({errors:h,loading:!1}),e.next=57;break;case 49:return e.next=51,Promise.resolve().then(r.bind(r,43532));case 51:return b=e.sent,e.t0=Error,e.next=55,b.getAPIErrorString(p,p.url,u);case 55:throw e.t1=e.sent,new e.t0(e.t1);case 57:e.next=69;break;case 59:return e.prev=59,e.t2=e.catch(20),e.next=63,Promise.resolve().then(r.bind(r,81292));case 63:return e.sent.showErrorAlert({text:i.ag._("There was an internal error. Please try again later or contact support if the error persists.")}),e.next=67,Promise.all([r.e(8620),r.e(3646)]).then(r.bind(r,33646));case 67:e.sent.captureException(e.t2);case 69:case"end":return e.stop()}}),e,null,[[20,59]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,n.Z)(s().mark((function e(n){var a,l,c,u,d,p,f,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.e(1270).then(r.bind(r,91270));case 4:return a=e.sent,l=z(z({},a.prepareRegistrationFormBody(ie)),{},{recaptchaResponse:n}),ve.reset(),e.next=9,a.registerUser(l);case 9:if(201!==(c=e.sent).status){e.next=33;break}if(!window.fbq){e.next=17;break}return e.next=14,c.json();case 14:d=e.sent,window.fbq("trackCustom",_.Yv.SIGNUP_COMPLETED,{},{eventID:null===d||void 0===d||null===(u=d.id)||void 0===u?void 0:u.toString()}),te(R.R2.CONVERSION_SIGNUP_COMPLETED,(0,R.at)(d));case 17:if(e.t0=o,!e.t0){e.next=21;break}return e.next=21,o();case 21:if(p=F.query,Ee&&delete p.course,f=z(z({},p),{},{phone:ie.phone,source:we},Ee?{course:Ee}:{}),!t){e.next=28;break}return delete f.next,F.push({pathname:t,query:f}),e.abrupt("return");case 28:null===f||void 0===f||delete f.phone,F.push({pathname:"/dashboard/",query:f}),Pe({loading:!1}),e.next=50;break;case 33:if(429!==c.status){e.next=38;break}de(!0),Pe({loading:!1}),e.next=50;break;case 38:if(403!==c.status){e.next=46;break}return e.next=41,Promise.resolve().then(r.bind(r,81292));case 41:e.sent.showErrorAlert({text:i.ag._("You have been blocked. Please contact support if you think it is a mistake.")}),Pe({loading:!1}),e.next=50;break;case 46:return e.next=48,c.json();case 48:h=e.sent,Pe({errors:h,loading:!1});case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe({loading:!0}),"signup"!==ge){e.next=6;break}return e.next=4,ke(t);case 4:e.next=8;break;case 6:return e.next=8,Ce(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){var e,t,r,n,a=null===F||void 0===F||null===(e=F.query)||void 0===e?void 0:e.phone,o=null===F||void 0===F||null===(t=F.query)||void 0===t?void 0:t.grade,s=null===F||void 0===F||null===(r=F.query)||void 0===r?void 0:r.hasLaptop;s&&Pe({hasLaptop:s}),ae(!(null===F||void 0===F||null===(n=F.query)||void 0===n||!n.autoRegister));if(a){var i=function(e){try{return decodeURIComponent(atob(e))}catch(t){return console.error("Failed to decode phone number:",t),null}}(a);i&&Se(i)}o&&M.GRADES.some((function(e){return e.value===o}))?Pe({childGrade:{value:o,label:o}}):ae(!1)}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(U.Z,{onChange:Ne,setRecaptchaAPI:je,shouldRecaptchaLoad:Oe}),(0,p.jsx)(N,z(z({},ie),{},{handleInputChange:function(e){var t=e.currentTarget.value;"hasLaptop"===e.currentTarget.name&&((t="yes"===e.currentTarget.value)||(0,A.m)()),Pe((0,a.Z)({},e.currentTarget.name,t))},handlePhoneInputChange:Se,handleSelectChange:function(e,t){Pe((0,a.Z)({},e,t))},handleTrialBookingFormSubmit:Te,LOGGEDIN_PROMO_PAGE:oe,ctaText:j,termsAndConditions:E,countryCode:f,shouldHaveFormShadow:h,formHeading:g,phoneFieldLabel:v,hasLaptopFieldLabels:C,isRightToLeftPage:P,handleGradeSelect:function(e){Pe({childGrade:e})},isAutoRegister:ne,isMathTrial:k})),(0,p.jsx)(c.Z,{isOpen:ue,setIsOpen:de}),(0,p.jsx)(G.Z,{phone:ie.phone,isOpen:fe,setIsOpen:he,handleOtpVerified:o,redirectionUrl:t})]})}},96997:function(e,t,r){var n=r(92809),a=r(5152),o=r(85893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,a.default)((function(){return Promise.all([r.e(1795),r.e(2372),r.e(7555),r.e(3238),r.e(7678),r.e(5465),r.e(1325),r.e(4034)]).then(r.bind(r,82230))}),{loadableGenerated:{webpack:function(){return[82230]},modules:["../containers/competitions/auth-modal.dynamic.tsx -> @containers/competitions/auth-modal"]}});t.Z=function(e){return(0,o.jsx)(o.Fragment,{children:e.isOpen&&(0,o.jsx)(l,i({},e))})}},92829:function(e,t,r){var n=r(67294);t.Z=function(){var e=(0,n.useState)(null),t=e[0],r=e[1],a=(0,n.useState)(!1);return{recaptchaAPI:t,setRecaptchaAPI:r,shouldRecaptchaLoad:a[0],setShouldRecaptchaLoad:a[1]}}},32044:function(e,t,r){r.d(t,{yc:function(){return n},z5:function(){return a},K$:function(){return o},uJ:function(){return s},tS:function(){return i}});var n={PENDING:"Pending",SUBMITTED:"Submitted",REVIEWED:"Reviewed"},a={PENDING:"Pending",SUBMITTED:"Submitted"},o={TEACHER:"teacher",STUDENT:"student"},s={CANCEL_REQUEST_BY_STUDENT:"Student requested to cancel",CANCEL_REQUEST_BY_TEACHER:"Teacher requested to cancel",STUDENT_ABSENT:"Student didn't show up for the class",TEACHER_ABSENT:"Teacher didn't show up for the class",STUDENT_UNINTERESTED:"Student didn't show any interest",STUDENT_DISCONNECTED:"Student got disconnected",TEACHER_DISCONNECTED:"Teacher got disconnected",CANCEL_REASON_OTHER:"Other reasons"},i={INITIAL:0,UPLOADING:1,RETRY:2,FAILED:3,SUCCESSFUL:4}},12571:function(e,t,r){r.d(t,{L:function(){return n}});var n=[{value:"Kindergarten",label:{id:"Kindergarten"}},{value:"Grade 1",label:{id:"Grade 1"}},{value:"Grade 2",label:{id:"Grade 2"}},{value:"Grade 3",label:{id:"Grade 3"}},{value:"Grade 4",label:{id:"Grade 4"}},{value:"Grade 5",label:{id:"Grade 5"}},{value:"Grade 6",label:{id:"Grade 6"}},{value:"Grade 7",label:{id:"Grade 7"}},{value:"Grade 8",label:{id:"Grade 8"}},{value:"Grade 9",label:{id:"Grade 9"}},{value:"Grade 10",label:{id:"Grade 10"}},{value:"Grade 11",label:{id:"Grade 11"}},{value:"Grade 12",label:{id:"Grade 12"}},{value:"Undergraduate",label:{id:"12th Pass"}}]},15347:function(e,t,r){r.d(t,{T0:function(){return n},Yv:function(){return a},wu:function(){return o}});var n={FIRST_CLASS_BOOKED:"First class booked",FIRST_CLASS_COMPLETED:"First class completed",FREE_CLASS_COMPLETED:"Free class completed",COURSE_PURCHASED:"Course purchased"},a={SIGNUP_COMPLETED:"SignupCompleted",FIRST_CLASS_BOOKED:"FirstClassBooked",FIRST_CLASS_COMPLETED:"FirstClassCompleted",FREE_CLASS_COMPLETED:"FreeClassCompleted",COURSE_PURCHASED:"CoursePurchased",NCO_HACKATHON_REGISTRATION_COMPLETED:"NCOHackathonRegistrationCompleted",HPE_CODEBATTLE_REGISTRATION_COMPLETED:"HpeCodeBattleRegistrationCompleted"},o={GAMIFICATION:"Gamification onboarding modal state",DASHBOARD_INTRODUCTION:"Onboarding intro of dashboard state"}},59603:function(e,t,r){r.d(t,{m:function(){return n}});var n=function(){return Promise.resolve().then(r.t.bind(r,46737,23)).then((function(e){e.default({icon:"warning",title:"You cannot attend the class without a laptop/PC and a good internet connection."})}))}},96819:function(e,t,r){var n=r(67294),a=r(45697),o=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,o=e.size,l=void 0===o?24:o,c=i(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),n.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));l.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},l.displayName="Globe",t.Z=l},4868:function(e,t,r){var n=r(67294),a=r(45697),o=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,o=e.size,l=void 0===o?24:o,c=i(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.createElement("polyline",{points:"16 17 21 12 16 7"}),n.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));l.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},l.displayName="LogOut",t.Z=l},73752:function(e,t,r){var n=r(67294),a=r(45697),o=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,o=e.size,l=void 0===o?24:o,c=i(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));l.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},l.displayName="User",t.Z=l}}]);
//# sourceMappingURL=5726-6079bca1309d185c4af6.js.map