(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3058],{95469:function(e,t,n){"use strict";var r=n(91838),s=n(4666),a=n(1926),i=n(31960),o=n(38759),c=n(1745),l=n(9008),u=n(67294),p=n(85893);t.Z=function(e){var t,n,d=e.pathname,m=e.children,f=(0,u.useContext)(i.B),h=f.name,v=f.email,x=f.student,j=f.gender,g=f.phone,b=f.timezone,y=(0,c.SS)(o.c.DASHBOARD_LEADERBOARD)?r.FM:r.FM.filter((function(e){return"/leaderboard"!==e.url}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.default,{children:[(0,p.jsx)("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:'\n            !function(e,t,r,n){if(!e[n]){for(var a=e[n]=[],i=["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],s=0;s<i.length;s++){var c=i[s];a[c]=a[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);a.push([e,t])}}(c)}a.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+r+"/"+n+".js";var p=t.getElementsByTagName("script")[0];p.parentNode.insertBefore(o,p)}}(window,document,"kbz02LL3XTNpIBVI","delighted");\n\n            delighted.survey({\n              email: "'.concat(v,'",\n              name: "').concat(h,'",\n              properties: {                       // extra context (optional)\n                rmName: "').concat(null===x||void 0===x||null===(t=x.relationshipManager)||void 0===t?void 0:t.name,'",\n                grade: "').concat(null===x||void 0===x?void 0:x.grade,'",\n                gender:"').concat(j,'",\n                phone:"').concat(g,'",\n                timezone:"').concat(b,'"\n              }\n            });')}}),(null===x||void 0===x?void 0:x.hasCompletedCourseClass)&&(0,p.jsx)("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:'\n          !function(e,t,r,n){if(!e[n]){for(var a=e[n]=[],i=["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],s=0;s<i.length;s++){var c=i[s];a[c]=a[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);a.push([e,t])}}(c)}a.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+r+"/"+n+".js";var p=t.getElementsByTagName("script")[0];p.parentNode.insertBefore(o,p)}}(window,document,"vGrXP6Y7K6BRWOE0","delighted");\n\n          delighted.survey({\n            email: "'.concat(v,'",\n            name: "').concat(h,'",\n            properties: {\n              rmName: "').concat(null===x||void 0===x||null===(n=x.relationshipManager)||void 0===n?void 0:n.name,'",\n              grade: "').concat(null===x||void 0===x?void 0:x.grade,'",\n              gender:"').concat(j,'",\n              phone:"').concat(g,'",\n              timezone:"').concat(b,'"\n            }\n          });\n        ')}})]}),(0,p.jsxs)("div",{className:"flex flex-col text-grey",children:[(0,p.jsx)(s.Z,{isSticky:!0}),(0,p.jsxs)("div",{className:"flex",children:[(0,p.jsx)(a.Z,{links:y,pathname:d,rootUrl:r.wG,isStudent:!0,eligibleCompetitionsCount:null===x||void 0===x?void 0:x.eligibleCompetitionsCount,name:h}),(0,p.jsx)("div",{id:"calendarContainer",className:"flex flex-col w-full lg:w-5/6 p-5 lg:p-10 lg:py-5 overflow-auto",children:(0,p.jsx)(p.Fragment,{children:m})})]})]})]})}},52814:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(92809),s=n(30266),a=n(809),i=n.n(a),o=n(81292),c=n(36580),l=n(92340),u=n(92242),p=n(61485),d=n(98604),m=n(7728),f=n(69045),h=n(22449),v=n(95469),x=n(20640),j=n(71455),g=n(67294),b=n(46737),y=n.n(b),w=n(85893),E=function(e){var t=e.projectId,n=e.setProjectDetails,r=e.resubmitting,a=e.setResubmitting,l=e.setIsProjectSubmissionSuccessModalOpen,u=(0,g.useState)(""),p=u[0],d=u[1],m=(0,g.useState)(!1),f=m[0],h=m[1],v=(0,j.ZP)(),b=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v(j.R2.PROJECT_DETAILS_CLICK_SUBMIT),n=r?"Are you sure you want to update your submission? This will overwrite your previous submission and will immediately be available for the teacher to review.":"Are you sure you want to submit this project? The teacher will be able to review the project as soon as you submit it.",y()({text:n,icon:"info",buttons:{cancel:{text:"Cancel",visible:!0},confirm:{text:"OK"}}}).then((function(e){e&&E()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)(i().mark((function e(){var s,c,u,m,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(j.R2.PROJECT_DETAILS_CLICK_CONFIRM),s=JSON.stringify({submissionUrl:p}),e.prev=2,h(!0),e.next=6,(0,o.CClient)("/api/v1/student-assignments/".concat(t,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:s});case 6:if(!(c=e.sent).ok){e.next=18;break}return e.next=10,c.json();case 10:u=e.sent,l(!0),h(!1),d(""),n(u),r&&a(!1),e.next=24;break;case 18:return e.next=20,c.json();case 20:m=e.sent,f=(0,o.flattenErrorsDictValues)(m),h(!1),(0,o.showErrorAlert)({text:f.join("\n")});case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(2),h(!1),(0,o.showErrorAlert)({text:"There was an error submitting your project. Please try again!"});case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)("form",{onSubmit:b,className:"flex flex-col p-10 bg-white rounded-lg",children:[(0,w.jsx)("p",{className:"mb-3 text-lg font-600 text-grey",children:"Submit your project"}),(0,w.jsx)(x.Z,{id:"project-url",name:"project-url",placeholder:"Enter the project url",value:p,autoComplete:"off",required:!0,onChange:function(e){return d(e.currentTarget.value)}}),(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)("button",{disabled:f,className:"flex justify-center w-56 btn btn-orange font-600",children:f?(0,w.jsx)(c.Z,{classes:"h-5 w-5 text-white"}):(0,w.jsx)(w.Fragment,{children:"Submit project"})})})]})},N=n(20236),S=n(32044),O=n(15731),C=n(43532),T=n(92876),I=n(38138),P=n(11163),k=n(92528);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=N.z.PROJECT_SUBMIT_AFTER_CLASS,Z=function(){var e,t=(0,P.useRouter)(),n=t.pathname,r=t.query.projectId,a=(0,g.useState)(null),x=a[0],j=a[1],b=(0,g.useState)(!1),y=b[0],N=b[1],D=(0,g.useState)(!1),Z=D[0],A=D[1],M=(0,g.useState)(!1),B=M[0],U=M[1],L=function(){var e=(0,s.Z)(i().mark((function e(){var n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,(0,o.CClient)("/api/v1/student-assignments/".concat(r,"/"));case 4:if(!(n=e.sent).ok){e.next=13;break}return e.next=8,n.json();case 8:s=e.sent,j(s),N(!1),e.next=21;break;case 13:if(404!==n.status){e.next=16;break}return t.replace("/404"),e.abrupt("return");case 16:return e.t0=Error,e.next=19,(0,C.flattenErrorsDictFromResponse)(n);case 19:throw e.t1=e.sent,new e.t0(e.t1);case 21:e.next=28;break;case 23:e.prev=23,e.t2=e.catch(1),T.Tb(e.t2),N(!1),(0,o.showErrorAlert)({text:"There was an issue fetching your details. Please refresh the page and try again or contact support for help with this issue."});case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){L()}),[]),(0,w.jsxs)(w.Fragment,{children:[B&&(0,w.jsx)(l.Z,{setIsModalOpen:U,projectTitle:null===x||void 0===x||null===(e=x.assignment)||void 0===e?void 0:e.title,modalName:R,campaignSlug:"invite"}),(0,w.jsxs)("div",{className:"select-none",children:[(0,w.jsx)(I.Z,_({},O.NU)),(0,w.jsxs)(v.Z,{pathname:n,children:[y&&(0,w.jsx)("div",{className:"flex justify-center items-center w-full h-screen",children:(0,w.jsx)(c.Z,{classes:"text-orange h-10 w-10"})}),!y&&x&&(0,w.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,w.jsxs)("a",{onClick:function(){return t.back()},className:"flex items-center text-lg cursor-pointer text-orange hover:underline",children:[(0,w.jsx)(k.Z,{className:"stroke-1"}),"Back to projects"]}),(0,w.jsx)(p.Z,{project:x,hideCta:!0}),x.state===S.yc.REVIEWED&&(0,w.jsx)(m.Z,{reviewComment:x.reviewComment,reviewRating:x.reviewRating}),(0,w.jsxs)("div",{className:"flex space-x-8",children:[(0,w.jsx)("div",{className:"w-2/3",children:(0,w.jsx)(d.Z,{project:x.assignment})}),(0,w.jsxs)("div",{className:"flex flex-col space-y-8 w-1/3",children:[(x.state===S.yc.SUBMITTED||x.state===S.yc.REVIEWED)&&!Z&&(0,w.jsx)("div",{className:"flex flex-col",children:(0,w.jsx)(h.Z,{submissionUrl:x.submissionUrl,submittedOn:x.submissionDate,dueDate:x.submissionDueDate,setResubmitting:x.state===S.yc.REVIEWED?null:A})}),Z&&(0,w.jsx)(E,{projectId:r,setProjectDetails:j,resubmitting:Z,setResubmitting:A,setIsProjectSubmissionSuccessModalOpen:U}),(0,w.jsx)(f.Z,{projectUrl:x.assignment.projectUrl,submittedOn:x.submissionDate}),x.state===S.yc.PENDING&&(0,w.jsx)(E,{projectId:r,setProjectDetails:j,resubmitting:Z,setResubmitting:A,setIsProjectSubmissionSuccessModalOpen:U}),(0,w.jsx)(u.Z,{classDetails:x.classroom,viewer:S.K$.STUDENT})]})]})]})]})]})]})}},31495:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/student/dashboard/projects/[projectId]",function(){return n(52814)}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[296,1795,7294,5386,7718,185,8938,2372,9238,9562,9260,3546,7133,9501,7820,1455,6290,482,2022,9189,9774,2888,179],(function(){return t(78846),t(31495)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[projectId]-f51ed0ea7915e617b759.js.map