(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{58490:function(e,t,r){"use strict";r.d(t,{bc:function(){return n},sS:function(){return a},gU:function(){return o}});var n=["coding-project-trial-iit-guwahati-alcheringa-2023","coding-project-trial-iit-guwahati-alcheringa-dsalgo-2023","coding-project-trial-iit-bombay-mood-indigo-2023"],a=["math-trial-class"],o={"ioi-algorithms-preparation-guide":"coding","hpe-codewars-2024-code-battle":"hpe-code-battle-mentorship","hpe-codewars-2024-hackathon":"hpe-hackathon-mentorship","codewars-all-practice-problems-2024":"hpe-codewars-2024-practice","hackyoung-olympiad-2024":"hackyoung-olympiad-2024","codegenius-hackathon":"codegenius-hackathon"}},15347:function(e,t,r){"use strict";r.d(t,{T0:function(){return n},Yv:function(){return a},wu:function(){return o}});var n={FIRST_CLASS_BOOKED:"First class booked",FIRST_CLASS_COMPLETED:"First class completed",FREE_CLASS_COMPLETED:"Free class completed",COURSE_PURCHASED:"Course purchased"},a={SIGNUP_COMPLETED:"SignupCompleted",FIRST_CLASS_BOOKED:"FirstClassBooked",FIRST_CLASS_COMPLETED:"FirstClassCompleted",FREE_CLASS_COMPLETED:"FreeClassCompleted",COURSE_PURCHASED:"CoursePurchased",NCO_HACKATHON_REGISTRATION_COMPLETED:"NCOHackathonRegistrationCompleted",HPE_CODEBATTLE_REGISTRATION_COMPLETED:"HpeCodeBattleRegistrationCompleted"},o={GAMIFICATION:"Gamification onboarding modal state",DASHBOARD_INTRODUCTION:"Onboarding intro of dashboard state"}},59028:function(e,t,r){"use strict";r.d(t,{VK:function(){return _},v_:function(){return T},w2:function(){return O},A0:function(){return w},S2:function(){return P},pZ:function(){return A},VY:function(){return D},Nq:function(){return M}});var n,a,o,i=r(92876),s=r(27484),c=r.n(s),u=r(10285),l=r.n(u),p=r(1646),d=r.n(p),f=r(66607),h=r.n(f),b=r(79212),m=r.n(b),C=r(37412),v=r.n(C),g=r(29387),k=r.n(g),S=r(70178),x=r.n(S);c().extend(h()),c().extend(d()),c().extend(l()),c().extend(m()),c().extend(v()),c().extend(x()),c().extend(k());var E=c(),_=E().format("YYYY"),T="hh:mm A [Z], MMM DD, YYYY",O="hh:mm A [Z]",w="ddd, MMM DD",P=null===(n=Intl)||void 0===n||null===(a=n.DateTimeFormat())||void 0===a||null===(o=a.resolvedOptions())||void 0===o?void 0:o.timeZone,A=function(e,t,r){var n=function(e){var t={"Pacific/Fiji":"FJT"};if(t[e])return t[e];var r=(new Date).toLocaleDateString("en-US",{timeZoneName:"long",timeZone:e});try{return r.split(",")[1].trim().match(/\b(\w)/g).join("")}catch(n){return(0,i.Tb)(n),console.error(n),"Local Time"}}(t),a=r.replace("Z",n);return E(e).tz(t).format(a)};function D(e){var t=e%864e5,r=e%36e5,n=e%6e4;return{day:Math.floor(e/864e5),hour:Math.floor(t/36e5),min:Math.floor(r/6e4),sec:Math.floor(n/1e3)}}function M(e){var t=e%864e5,r=e%36e5,n=e%6e4;return{day:Math.floor(e/864e5),hour:Math.floor(t/36e5),min:Math.floor(r/6e4),sec:Math.floor(n/1e3),oneTenthMs:Math.floor(e%1e3)}}t.ZP=E},83653:function(e,t,r){"use strict";r.d(t,{P:function(){return c},y:function(){return u}});var n=r(30266),a=r(809),o=r.n(a),i=r(92876),s=r(81292),c=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.CClient)("/api/v1/track-page-visit/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:t})});case 3:return r=e.sent,e.abrupt("return",r.ok);case 7:return e.prev=7,e.t0=e.catch(0),i.Tb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=7;break}return e.next=4,(0,s.CClient)("/api/v1/track-page-visit/count/?page=".concat(t),{headers:{Authorization:"Token ".concat(r)}});case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,(0,s.CClient)("/api/v1/track-page-visit/count/?page=".concat(t));case 9:n=e.sent;case 10:if(!n.ok){e.next=17;break}return e.next=13,n.json();case 13:return a=e.sent,e.abrupt("return",a.visitCount>0);case 17:throw new Error(n.statusText);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),i.Tb(e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}()},59124:function(e,t,r){"use strict";r.r(t);var n=r(30266),a=r(809),o=r.n(a),i=r(91838),s=r(81292),c=r(36580),u=r(31960),l=r(58490),p=r(95832),d=r(15347),f=r(59028),h=r(41749),b=r(83653),m=r(92876),C=r(12918),v=r(11163),g=r(67294),k=r(85893);t.default=function(){var e=(0,u.T)(),t=e.student,r=e.teacher,a=e.isCompetitionUser,S=e.isPaidUser,x=e.id,E=e.hasPassword,_=(0,g.useState)(null),T=_[0],O=_[1],w=(0,v.useRouter)(),P=w.query,A=P.source,D=P.course,M=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,i,s,c,u,l,p,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=11;break}if(r=t[0],n=r.start,i=r.batch,s=i.id,c=i.isTrial,u=r.endedOn,l=r.studentsAttended,p=(0,f.ZP)().isSameOrAfter(n),h=null===u||(0,f.ZP)().isBefore(u),!(p&&h&&c)){e.next=7;break}return e.abrupt("return","/batches/".concat(s,"/classroom"));case 7:if(u){e.next=9;break}return e.abrupt("return","/trial-class/join/");case 9:if(null!==l&&void 0!==l&&l.find((function(e){return e.userId===x}))){e.next=11;break}return e.abrupt("return","/trial-class/incomplete/");case 11:if(0!==t.length||a){e.next=15;break}if("true"!==localStorage.getItem("hasComputer")){e.next=14;break}return e.abrupt("return","/trial-class/booking/");case 14:return e.abrupt("return","/trial-class/spoken-languages/");case 15:if(0!==t.length||!a){e.next=17;break}return e.abrupt("return","/competitions/");case 17:return e.next=19,(0,b.y)(d.T0.FREE_CLASS_COMPLETED);case 19:if(!e.sent){e.next=23;break}e.t0="/trial-class/complete/",e.next=24;break;case 23:e.t0="/trial-class/track-free-class/";case 24:return e.abrupt("return",e.t0);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,n.Z)(o().mark((function e(){var t,r,n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=9;break}if(!l.sS.includes("".concat(D))){e.next=5;break}return t=(0,s.getUrlWithQueryString)("/trial-class/booking",w.asPath.split("?")[1]),w.replace(t),e.abrupt("return");case 5:return e.next=7,(0,b.y)(d.T0.COURSE_PURCHASED);case 7:return r=e.sent,e.abrupt("return",r?w.replace("/student/dashboard/"):w.replace("/student/dashboard/track-course-purchase/"));case 9:return e.prev=9,e.next=12,(0,s.CClient)("/api/v1/classrooms/?is_trial=true&is_cancelled=false&order_by=End&limit=1");case 12:if(!(n=e.sent).ok){e.next=25;break}return e.next=16,n.json();case 16:return a=e.sent,e.next=19,M(a);case 19:i=e.sent,c=(0,s.getUrlWithQueryString)(i,w.asPath.split("?")[1]),u=(0,s.removePhoneParam)(c),w.replace(u),e.next=26;break;case 25:O(n.status);case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(9),O(500);case 31:case"end":return e.stop()}}),e,null,[[9,28]])})));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){E&&(0,h.pj)(p.e.HAS_PASSWORD,"true",(function(){(0,m.uT)('Failed to set "'.concat(p.e.HAS_PASSWORD,'" to true in local storage'))})),r&&(A===i.kE?window.location.href=i.Y1:w.push("/teacher/dashboard")),t&&R()}),[]),(0,k.jsx)(k.Fragment,{children:T?(0,k.jsx)(C.default,{statusCode:T}):(0,k.jsx)("div",{className:"flex items-center justify-center h-screen w-full",children:(0,k.jsx)(c.Z,{classes:"h-10 w-10 text-orange"})})})}},5058:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(59124)}])},12918:function(e,t,r){e.exports=r(3359)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[7294,9774,2888,179],(function(){return t(78846),t(5058)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=dashboard-5e83d5b660cbb339cc51.js.map